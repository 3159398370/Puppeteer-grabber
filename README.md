# Puppeteer-grabber

**智能数据标注自动化工具** - 专为数据标注平台设计的自动化解决方案

解决数据标注中重复性工作：批量下载图片、上传图片、复制文字等操作的自动化网页操作工具。集成AI API，支持智能图片处理和背景替换功能。

## 核心功能

### 自动化操作
- **智能登录**: 二维码扫描自动登录数据标注平台
- **任务搜索**: 自动输入任务编号并执行搜索
- **页面导航**: 自动点击"我的任务"等页面元素
- **批量处理**: 支持批量下载、上传图片操作
- **文本提取**: 自动复制和处理页面文本内容

### 浮动控制面板
- **键盘快捷键控制**:
  - `左方向键`: 点击选中按钮（双击生效）
  - `右方向键`: 点击跳过按钮（双击生效）
  - `上方向键`: 上传功能（双击生效）
  - `下方向键`: 提取功能（双击生效）
  - `空格键`: 提交功能（双击生效）
- **GUI控制界面**: 可视化操作按钮
- **实时状态显示**: 操作结果即时反馈

### AI图片处理
- **腾讯元器API**: 基于HTTP API的智能图片处理
- **腾讯元宝自动化**: 基于Selenium的浏览器自动化操作
- **双模式支持**: API调用和浏览器自动化两种处理方式
- **批量图片处理**: 自动化图片优化和转换
- **多格式支持**: PNG、JPG、WebP等格式
- **智能背景生成**: 可自定义背景提示词

### 技术特性
- **模块化架构**: 清晰的代码结构，易于维护和扩展
- **本地Chrome驱动**: 无需网络下载，启动更快
- **智能等待机制**: 自适应页面加载时间
- **错误恢复**: 自动重试和异常处理
- **日志记录**: 详细的操作日志和调试信息
- **配置管理**: 灵活的环境变量配置


## 项目结构

```
Puppeteer-grabber/
├── src/                      # 源代码目录
│   ├── api/                 # API客户端模块
│   │   └── yuanqi_client.py # 腾讯元器HTTP API客户端
│   ├── automation/          # 自动化模块
│   │   └── yuanbao_client.py # 腾讯元宝Selenium自动化
│   ├── core/                # 核心功能模块
│   │   ├── main.py         # 主要自动化工具类
│   │   ├── task_executor.py # 任务执行器
│   │   └── config.py       # 配置管理
│   └── utils/              # 工具模块
│       └── cli.py          # 命令行界面
├── scripts/                 # 功能脚本
│   ├── qr_scan_waiter.py   # 二维码登录
│   ├── click_my_tasks.py   # 点击我的任务
│   ├── task_search.py      # 任务搜索
│   ├── floating_control_panel.py # 浮动控制面板
│   └── ...                 # 其他脚本
├── config/                  # 配置文件
├── data/                    # 数据文件
├── tests/                   # 测试文件
└── chromedriver.exe         # Chrome驱动程序
```


## 依赖要求

- **Python**: 3.8+
- **Chrome浏览器**: 最新版本
- **主要依赖**:
  - selenium==4.15.2
  - requests==2.31.0
  - Pillow==10.1.0
  - python-dotenv==1.0.0
  - keyboard==0.13.5

## 快速开始

1. **安装依赖**
   ```bash
   pip install -r requirements.txt
   ```

2. **配置设置**
   - 编辑 `config/config.json` 文件
   - 设置浏览器路径和其他参数
   - 配置腾讯元器API密钥（可选）

3. **启动浮动控制面板**
   ```bash
   python scripts/floating_control_panel.py
   ```

4. **使用功能**
   - **数据标注**: 使用浮动控制面板进行任务搜索和导航
   - **AI图片处理**: 通过控制面板调用腾讯元宝自动化功能
   - **快捷键操作**: 支持键盘快捷键进行快速操作
   - **双浏览器模式**: 同时操作数据标注平台和AI处理工具

## 详细文档

- [安装指南](INSTALL.md) - 详细的安装和配置说明
- [腾讯元宝Selenium自动化](YUANBAO_SELENIUM_README.md) - 腾讯元宝浏览器自动化详细说明
- [API文档](config/README.md) - 配置文件说明
- [数据说明](data/README.md) - 数据文件结构

## 版本信息

**当前版本**: v1.0.0 (稳定版)

### 已实现功能
- 数据标注平台自动登录
- 任务搜索和导航
- 浮动控制面板
- 键盘快捷键操作
- **腾讯元器API集成**: HTTP API方式的图片处理
- **腾讯元宝Selenium自动化**: 完全基于浏览器的自动化操作
- **双浏览器支持**: 同时操作数据标注平台和腾讯元宝
- **智能图片下载**: 自动保存处理结果
- 模块化项目结构
- 本地Chrome驱动支持

### 开发中功能
- 批量任务处理优化
- 更多AI图片处理功能
- Web界面支持
- 任务调度系统

## 贡献

欢迎提交Issue和Pull Request来改进项目！

## 许可证

本项目采用 [MIT许可证](LICENSE)
