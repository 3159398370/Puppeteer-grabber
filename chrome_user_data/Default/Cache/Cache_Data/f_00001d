(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["main-group"],{"021a":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("TableFilter",{on:{search:function(t){return e.fetchDatasets(e.page.index=1)},reset:function(t){return e.handleReset(e.page.index=1)}}},[a("Form",{ref:"form",attrs:{model:e.form,"label-width":90,"label-colon":!0}},[a("Row",[a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"数据集ID"}},[a("Input",{attrs:{clearable:"",placeholder:"请输入数据集ID"},on:{"on-clear":function(t){e.form.dataset_code=""}},model:{value:e.form.dataset_code,callback:function(t){e.$set(e.form,"dataset_code",t)},expression:"form.dataset_code"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"名称"}},[a("Input",{attrs:{clearable:"",placeholder:"请输入数据集名称"},on:{"on-clear":function(t){e.form.dataset_name=""}},model:{value:e.form.dataset_name,callback:function(t){e.$set(e.form,"dataset_name",t)},expression:"form.dataset_name"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"标签"}},[a("Cascader",{attrs:{data:e.DatasetLabels,"render-format":e.handleFormatLabels,placeholder:"请选择数据集标签"},model:{value:e.form.dataset_label_list,callback:function(t){e.$set(e.form,"dataset_label_list",t)},expression:"form.dataset_label_list"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"创建人"}},[a("Input",{attrs:{clearable:"",placeholder:"请输入创建人"},on:{"on-clear":function(t){e.form.creator=""}},model:{value:e.form.creator,callback:function(t){e.$set(e.form,"creator",t)},expression:"form.creator"}})],1)],1)],1)],1)],1),a("Button",{staticClass:"mbb",attrs:{type:"primary",icon:"md-add"},on:{click:function(t){return e.handleCreateDataset()}}},[e._v("创建数据集")]),a("div",{staticStyle:{position:"relative"}},[e.fetchDatasets.isPending?a("Spin",{attrs:{fix:""}}):e._e(),e.datasets&&e.datasets.length>0?[a("Row",{attrs:{gutter:20}},e._l(e.datasets,(function(t){return a("Col",{key:t.dataset_code,attrs:{md:12,lg:8,xl:6,xxl:4}},[a("Card",{staticClass:"dataset-card"},[a("div",{staticClass:"content"},[a("div",{staticClass:"pointer",attrs:{title:t.dataset_name},on:{click:function(a){return e.$router.push({path:"/projects/datasets/index/"+t.dataset_code})}}},[a("h2",{staticClass:"ellipsis mbm"},[e._v(e._s(t.dataset_name))]),a("p",[e._v(e._s(t.dataset_code))]),a("p",{staticClass:"mbs"},[e._v(e._s(t.import_task_cnt||0)+" 个文件")]),t.label?e._l(t.label.split(","),(function(t,r){return a("tag",{key:t,staticClass:"default",attrs:{color:e.colors[r%e.colors.length]}},[e._v(e._s(t))])})):e._e()],2),a("Row",{attrs:{type:"flex",justify:"space-between",align:"top"}},[a("div",{staticClass:"txt-muted"},[a("h5",[e._v(e._s(t.nick_name||"-"))]),a("h5",[e._v(e._s(t.create_time||"-"))])]),a("Dropdown",{attrs:{trigger:"click"}},[a("Button",{attrs:{type:"text",shape:"circle",icon:"md-more",size:"large"}}),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("DropdownItem",{nativeOn:{click:function(a){return e.handleEditDataset(t,!0)}}},[e._v("编辑")]),a("auth-view",{attrs:{perm:{domain:"role-user",action:"view",extra:{objectType:"dataset",objectId:t.id.toString()}}}},[a("DropdownItem",{nativeOn:{click:function(a){return e.$router.push({path:"/projects/datasets/index/"+t.dataset_code+"?tab=permission"})}}},[e._v("权限")])],1),a("auth-view",{attrs:{perm:{domain:"dataset",action:"delete",extra:{dataset:t.id}}}},[a("DropdownItem",{nativeOn:{click:function(a){return e.handleDeleteDataset(t)}}},[e._v("删除")])],1)],1)],1)],1)],1)])],1)})),1),a("Page",{staticClass:"right mtm",attrs:{current:e.page.index,total:e.page.total,"page-size":e.page.size,"show-total":"","show-elevator":""},on:{"on-change":e.ChangePage}})]:a("Row",{staticStyle:{margin:"20px 0"}},[a("Col",{attrs:{span:"24"}},[a("Card",{staticClass:"txt-muted",staticStyle:{"text-align":"center"},attrs:{"dis-hover":""}},[e._v("暂无数据")])],1)],1)],2)],1)},i=[],n=a("9ec3"),s=a("2289"),o=a("1cdb"),l=a("03c6"),c=a("af27"),d=a("261f"),u=a("2c88"),h=a("c54b"),p=a("c605"),f={components:{TableFilter:p["a"]},data(){return{DatasetLabels:s["a"],datasets:[],page:{index:1,size:12,total:0},form:{dataset_code:"",dataset_name:"",dataset_label_list:[],creator:""},colors:["blue","red","green","orange","purple","cyan"]}},computed:{companyinfo(){return this.$store.state.companyinfo}},mounted(){this.fetchDatasets(),this.$EventBus.$on("update-datasets",()=>{this.fetchDatasets()})},methods:{handleReset(){Object(n["forIn"])(this.form,(e,t)=>{this.form[t]="","dataset_label_list"===t&&(this.form[t]=[])}),this.fetchDatasets()},handleFormatLabels(e){const t=e.length-1;return e[t]},ChangePage(e){this.page.index=e,this.fetchDatasets()},handleCreateDataset(){const e=this;e.$FastModal.show(o["a"],{showAlert:!0,accept:".tar"},{StartUploadFile(t,a){a&&e.handleUploadingDatasetFile(t,a),e.fetchDatasets(),e.handleEditDataset(t,!1)}})},handleEditDataset(e,t=!0){const a=this;a.$FastModal.show(l["a"],{dataset:e,isEdit:t},{refresh(){a.fetchDatasets()},GoDetail(e){a.$router.push({path:"/projects/datasets/index/"+e})}})},handleShareDataset(e){this.$FastModal.show(d["a"],{objectId:e.id,objectType:"dataset",companyinfo:this.companyinfo},{})},handleDeleteDataset(e){this.$FastModal.show(c["a"],{dataserObj:e,type:"dataset"},{refresh:()=>{setTimeout(()=>{this.fetchDatasets()},300)}})},handleUploadingDatasetFile(e,t){const a=this;this.fetchDatasetLastestTask(e.dataset_code).then(e=>{let r={};Object(n["map"])(e,e=>{"上传中"===e.status&&Object(n["find"])(t,{name:e.src_file_name,size:e.file_size})&&(r={id:e.dataset_import_id,type:"datasets",Bucket:e.bucket,Region:e.region,Key:`${e.prefix}/${e.dataset_import_id}/${e.src_file_name}`,file:Object(n["find"])(t,{name:e.src_file_name,size:e.file_size}),handleTaskReady(){a.$emit("handleTaskReady")}},Object(h["c"])(r))})})}},asyncMethods:{fetchDatasets(){const e={page:{start:(this.page.index-1)*this.page.size,size:this.page.size,return_total:1}};return Object(n["forIn"])(this.form,(t,a)=>{"dataset_label_list"===a?this.form[a].length>0&&(e[a]=this.form[a].slice(-1)):""!==this.form[a]&&(e[a]=this.form[a])}),Object(u["j"])(e).then(e=>(this.page.total=e.total,e.data)).catch(e=>{console.log(e),this.$Message.error("获取数据失败："+e.message)})},fetchDatasetLastestTask(e){const t={dataset_code:e};return Object(u["n"])(t).then(e=>e.data)}},destroy(){this.$EventBus.$off("update-datasets")}},m=f,g=(a("b48a"),a("2be6")),_=Object(g["a"])(m,r,i,!1,null,"435e0e79",null);t["default"]=_.exports},"03b5":function(e,t,a){"use strict";a("59d0")},"03c6":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{width:600,"mask-closable":!1,"footer-hide":""},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("div",{staticClass:"margin flex-middle"},[a("div",{staticClass:"icon flex-middle",class:e.isEdit?"blue":"green"},[a("Icon",{attrs:{type:e.isEdit?"md-create":"md-checkmark",color:"white",size:30}})],1),a("h3",{staticClass:"mtm"},[e._v(e._s(e.isEdit?"编辑数据集":"数据集创建成功"))]),a("Divider"),a("Form",{ref:"form",staticStyle:{width:"320px"},attrs:{"label-width":90,"label-position":"left","label-colon":""}},[a("FormItem",{attrs:{label:"数据集名称",prop:"dataset_name"}},[a("Input",{staticClass:"width",attrs:{placeholder:"请输入数据集名称"},model:{value:e.form.dataset_name,callback:function(t){e.$set(e.form,"dataset_name",t)},expression:"form.dataset_name"}})],1),a("FormItem",{attrs:{label:"数据集描述",prop:"dataset_desc"}},[a("Input",{staticClass:"width",attrs:{placeholder:"请输入数据集描述"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1),a("FormItem",{attrs:{label:"数据集标签"}},[e.form.label.length>0?a("div",{staticClass:"mbs"},e._l(e.form.label,(function(t){return a("Tag",{key:t,attrs:{name:t,size:"medium",closable:""},on:{"on-close":e.handleDeleteLabel}},[e._v(e._s(t))])})),1):e._e(),a("Cascader",{ref:"cascader",attrs:{data:e.DatasetLabels,"render-format":e.handleFormatLabels,placeholder:"请选择数据集标签"}})],1)],1),a("br"),a("Row",{attrs:{type:"flex",justify:"space-between"}},[a("div"),e.isEdit?a("div",{staticClass:"right"},[a("Button",{attrs:{type:"primary",loading:e.fetchEditDataset.isPending},on:{click:e.fetchEditDataset}},[e._v("保存")])],1):a("div",{staticClass:"right"},[a("Button",{attrs:{type:"primary"},on:{click:e.handleGoDetail}},[e._v("去查看")]),a("Button",{staticClass:"mlm",attrs:{type:"success",loading:e.fetchEditDataset.isPending},on:{click:e.fetchEditDataset}},[e._v("完成")])],1)])],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("span")])])},i=[],n=(a("8d0d"),a("9ec3")),s=a.n(n),o=a("2289"),l=a("2c88"),c={props:{dataset:Object,isEdit:Boolean},data(){return{visible:!0,form:{dataset_name:"",desc:"",label:[]},DatasetLabels:o["a"],LabelLengthLimit:3}},mounted(){this.dataset&&this.dataset.dataset_code&&(this.form.dataset_name=this.dataset.dataset_name||"",this.form.desc=this.dataset.desc||"",this.form.label=this.dataset.label?this.dataset.label.split(","):[])},methods:{handleFormatLabels(e){const t=e[e.length-1];t&&(s.a.includes(this.form.label,t)?this.$Message.warning("标签已存在"):this.form.label.length>=this.LabelLengthLimit?this.$Message.warning(`最多存在${this.LabelLengthLimit}个标签`):this.form.label.push(t),this.$refs.cascader.clearSelect())},handleDeleteLabel(e,t){this.form.label.splice(this.form.label.indexOf(t),1)},handleGoDetail(){this.visible=!1,setTimeout(()=>{this.$emit("GoDetail",this.dataset.dataset_code)},500)}},asyncMethods:{fetchEditDataset(){const e={dataset_code:this.dataset.dataset_code,dataset_name:this.form.dataset_name,dataset_desc:this.form.desc,dataset_label:this.form.label.join(",")};return Object(l["q"])(e).then(()=>{this.visible=!1,setTimeout(()=>{this.$Message.success("更新信息成功！"),this.$emit("refresh"),!this.isEdit&&this.$emit("uploading",this.dataset)},300)}).catch(e=>{console.log(e),this.$Message.error("更新信息失败："+e.message)})}}},d=c,u=(a("23ef"),a("2be6")),h=Object(u["a"])(d,r,i,!1,null,"63232635",null);t["a"]=h.exports},"03fe":function(e,t,a){"use strict";a("08df")},"08df":function(e,t,a){},"0906":function(e,t,a){(function(t){/*! cpexcel.js (C) 2013-present SheetJS -- http://sheetjs.com */
var a={version:"1.15.0"};a[437]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ ",t=[],a={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(a[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:a,dec:t}}(),a[620]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ÇüéâäàąçêëèïîćÄĄĘęłôöĆûùŚÖÜ¢Ł¥śƒŹŻóÓńŃźż¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ ",t=[],a={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(a[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:a,dec:t}}(),a[737]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩαβγδεζηθικλμνξοπρσςτυφχψ░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀ωάέήϊίόύϋώΆΈΉΊΌΎΏ±≥≤ΪΫ÷≈°∙·√ⁿ²■ ",t=[],a={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(a[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:a,dec:t}}(),a[850]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜø£Ø×ƒáíóúñÑªº¿®¬½¼¡«»░▒▓│┤ÁÂÀ©╣║╗╝¢¥┐└┴┬├─┼ãÃ╚╔╩╦╠═╬¤ðÐÊËÈıÍÎÏ┘┌█▄¦Ì▀ÓßÔÒõÕµþÞÚÛÙýÝ¯´­±‗¾¶§÷¸°¨·¹³²■ ",t=[],a={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(a[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:a,dec:t}}(),a[852]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ÇüéâäůćçłëŐőîŹÄĆÉĹĺôöĽľŚśÖÜŤťŁ×čáíóúĄąŽžĘę¬źČş«»░▒▓│┤ÁÂĚŞ╣║╗╝Żż┐└┴┬├─┼Ăă╚╔╩╦╠═╬¤đĐĎËďŇÍÎě┘┌█▄ŢŮ▀ÓßÔŃńňŠšŔÚŕŰýÝţ´­˝˛ˇ˘§÷¸°¨˙űŘř■ ",t=[],a={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(a[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:a,dec:t}}(),a[857]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ÇüéâäàåçêëèïîıÄÅÉæÆôöòûùİÖÜø£ØŞşáíóúñÑĞğ¿®¬½¼¡«»░▒▓│┤ÁÂÀ©╣║╗╝¢¥┐└┴┬├─┼ãÃ╚╔╩╦╠═╬¤ºªÊËÈ�ÍÎÏ┘┌█▄¦Ì▀ÓßÔÒõÕµ�×ÚÛÙìÿ¯´­±�¾¶§÷¸°¨·¹³²■ ",t=[],a={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(a[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:a,dec:t}}(),a[861]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ÇüéâäàåçêëèÐðÞÄÅÉæÆôöþûÝýÖÜø£Ø₧ƒáíóúÁÍÓÚ¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ ",t=[],a={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(a[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:a,dec:t}}(),a[865]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜø£Ø₧ƒáíóúñÑªº¿⌐¬½¼¡«¤░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ ",t=[],a={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(a[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:a,dec:t}}(),a[866]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмноп░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀рстуфхцчшщъыьэюяЁёЄєЇїЎў°∙·√№¤■ ",t=[],a={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(a[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:a,dec:t}}(),a[874]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~€����…�����������‘’“”•–—�������� กขฃคฅฆงจฉชซฌญฎฏฐฑฒณดตถทธนบปผฝพฟภมยรฤลฦวศษสหฬอฮฯะัาำิีึืฺุู����฿เแโใไๅๆ็่้๊๋์ํ๎๏๐๑๒๓๔๕๖๗๘๙๚๛����",t=[],a={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(a[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:a,dec:t}}(),a[895]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ČüéďäĎŤčěĚĹÍľǪÄÁÉžŽôöÓůÚýÖÜŠĽÝŘťáíóúňŇŮÔšřŕŔ¼§«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ ",t=[],a={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(a[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:a,dec:t}}(),a[932]=function(){var e,t=[],a={},r=[];for(r[0]="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~���������������������������������｡｢｣､･ｦｧｨｩｪｫｬｭｮｯｰｱｲｳｴｵｶｷｸｹｺｻｼｽｾｿﾀﾁﾂﾃﾄﾅﾆﾇﾈﾉﾊﾋﾌﾍﾎﾏﾐﾑﾒﾓﾔﾕﾖﾗﾘﾙﾚﾛﾜﾝﾞﾟ��������������������������������".split(""),e=0;e!=r[0].length;++e)65533!==r[0][e].charCodeAt(0)&&(a[r[0][e]]=0+e,t[0+e]=r[0][e]);for(r[129]="����������������������������������������������������������������　、。，．・：；？！゛゜´｀¨＾￣＿ヽヾゝゞ〃仝々〆〇ー―‐／＼～∥｜…‥‘’“”（）〔〕［］｛｝〈〉《》「」『』【】＋－±×�÷＝≠＜＞≦≧∞∴♂♀°′″℃￥＄￠￡％＃＆＊＠§☆★○●◎◇◆□■△▲▽▼※〒→←↑↓〓�����������∈∋⊆⊇⊂⊃∪∩��������∧∨￢⇒⇔∀∃�����������∠⊥⌒∂∇≡≒≪≫√∽∝∵∫∬�������Å‰♯♭♪†‡¶����◯���".split(""),e=0;e!=r[129].length;++e)65533!==r[129][e].charCodeAt(0)&&(a[r[129][e]]=33024+e,t[33024+e]=r[129][e]);for(r[130]="�������������������������������������������������������������������������������０１２３４５６７８９�������ＡＢＣＤＥＦＧＨＩＪＫＬＭＮＯＰＱＲＳＴＵＶＷＸＹＺ�������ａｂｃｄｅｆｇｈｉｊｋｌｍｎｏｐｑｒｓｔｕｖｗｘｙｚ����ぁあぃいぅうぇえぉおかがきぎくぐけげこごさざしじすずせぜそぞただちぢっつづてでとどなにぬねのはばぱひびぴふぶぷへべぺほぼぽまみむめもゃやゅゆょよらりるれろゎわゐゑをん��������������".split(""),e=0;e!=r[130].length;++e)65533!==r[130][e].charCodeAt(0)&&(a[r[130][e]]=33280+e,t[33280+e]=r[130][e]);for(r[131]="����������������������������������������������������������������ァアィイゥウェエォオカガキギクグケゲコゴサザシジスズセゼソゾタダチヂッツヅテデトドナニヌネノハバパヒビピフブプヘベペホボポマミ�ムメモャヤュユョヨラリルレロヮワヰヱヲンヴヵヶ��������ΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩ��������αβγδεζηθικλμνξοπρστυφχψω�����������������������������������������".split(""),e=0;e!=r[131].length;++e)65533!==r[131][e].charCodeAt(0)&&(a[r[131][e]]=33536+e,t[33536+e]=r[131][e]);for(r[132]="����������������������������������������������������������������АБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ���������������абвгдеёжзийклмн�опрстуфхцчшщъыьэюя�������������─│┌┐┘└├┬┤┴┼━┃┏┓┛┗┣┳┫┻╋┠┯┨┷┿┝┰┥┸╂�����������������������������������������������������������������".split(""),e=0;e!=r[132].length;++e)65533!==r[132][e].charCodeAt(0)&&(a[r[132][e]]=33792+e,t[33792+e]=r[132][e]);for(r[135]="����������������������������������������������������������������①②③④⑤⑥⑦⑧⑨⑩⑪⑫⑬⑭⑮⑯⑰⑱⑲⑳ⅠⅡⅢⅣⅤⅥⅦⅧⅨⅩ�㍉㌔㌢㍍㌘㌧㌃㌶㍑㍗㌍㌦㌣㌫㍊㌻㎜㎝㎞㎎㎏㏄㎡��������㍻�〝〟№㏍℡㊤㊥㊦㊧㊨㈱㈲㈹㍾㍽㍼≒≡∫∮∑√⊥∠∟⊿∵∩∪���������������������������������������������������������������������������������������������������".split(""),e=0;e!=r[135].length;++e)65533!==r[135][e].charCodeAt(0)&&(a[r[135][e]]=34560+e,t[34560+e]=r[135][e]);for(r[136]="���������������������������������������������������������������������������������������������������������������������������������������������������������������亜唖娃阿哀愛挨姶逢葵茜穐悪握渥旭葦芦鯵梓圧斡扱宛姐虻飴絢綾鮎或粟袷安庵按暗案闇鞍杏以伊位依偉囲夷委威尉惟意慰易椅為畏異移維緯胃萎衣謂違遺医井亥域育郁磯一壱溢逸稲茨芋鰯允印咽員因姻引飲淫胤蔭���".split(""),e=0;e!=r[136].length;++e)65533!==r[136][e].charCodeAt(0)&&(a[r[136][e]]=34816+e,t[34816+e]=r[136][e]);for(r[137]="����������������������������������������������������������������院陰隠韻吋右宇烏羽迂雨卯鵜窺丑碓臼渦嘘唄欝蔚鰻姥厩浦瓜閏噂云運雲荏餌叡営嬰影映曳栄永泳洩瑛盈穎頴英衛詠鋭液疫益駅悦謁越閲榎厭円�園堰奄宴延怨掩援沿演炎焔煙燕猿縁艶苑薗遠鉛鴛塩於汚甥凹央奥往応押旺横欧殴王翁襖鴬鴎黄岡沖荻億屋憶臆桶牡乙俺卸恩温穏音下化仮何伽価佳加可嘉夏嫁家寡科暇果架歌河火珂禍禾稼箇花苛茄荷華菓蝦課嘩貨迦過霞蚊俄峨我牙画臥芽蛾賀雅餓駕介会解回塊壊廻快怪悔恢懐戒拐改���".split(""),e=0;e!=r[137].length;++e)65533!==r[137][e].charCodeAt(0)&&(a[r[137][e]]=35072+e,t[35072+e]=r[137][e]);for(r[138]="����������������������������������������������������������������魁晦械海灰界皆絵芥蟹開階貝凱劾外咳害崖慨概涯碍蓋街該鎧骸浬馨蛙垣柿蛎鈎劃嚇各廓拡撹格核殻獲確穫覚角赫較郭閣隔革学岳楽額顎掛笠樫�橿梶鰍潟割喝恰括活渇滑葛褐轄且鰹叶椛樺鞄株兜竃蒲釜鎌噛鴨栢茅萱粥刈苅瓦乾侃冠寒刊勘勧巻喚堪姦完官寛干幹患感慣憾換敢柑桓棺款歓汗漢澗潅環甘監看竿管簡緩缶翰肝艦莞観諌貫還鑑間閑関陥韓館舘丸含岸巌玩癌眼岩翫贋雁頑顔願企伎危喜器基奇嬉寄岐希幾忌揮机旗既期棋棄���".split(""),e=0;e!=r[138].length;++e)65533!==r[138][e].charCodeAt(0)&&(a[r[138][e]]=35328+e,t[35328+e]=r[138][e]);for(r[139]="����������������������������������������������������������������機帰毅気汽畿祈季稀紀徽規記貴起軌輝飢騎鬼亀偽儀妓宜戯技擬欺犠疑祇義蟻誼議掬菊鞠吉吃喫桔橘詰砧杵黍却客脚虐逆丘久仇休及吸宮弓急救�朽求汲泣灸球究窮笈級糾給旧牛去居巨拒拠挙渠虚許距鋸漁禦魚亨享京供侠僑兇競共凶協匡卿叫喬境峡強彊怯恐恭挟教橋況狂狭矯胸脅興蕎郷鏡響饗驚仰凝尭暁業局曲極玉桐粁僅勤均巾錦斤欣欽琴禁禽筋緊芹菌衿襟謹近金吟銀九倶句区狗玖矩苦躯駆駈駒具愚虞喰空偶寓遇隅串櫛釧屑屈���".split(""),e=0;e!=r[139].length;++e)65533!==r[139][e].charCodeAt(0)&&(a[r[139][e]]=35584+e,t[35584+e]=r[139][e]);for(r[140]="����������������������������������������������������������������掘窟沓靴轡窪熊隈粂栗繰桑鍬勲君薫訓群軍郡卦袈祁係傾刑兄啓圭珪型契形径恵慶慧憩掲携敬景桂渓畦稽系経継繋罫茎荊蛍計詣警軽頚鶏芸迎鯨�劇戟撃激隙桁傑欠決潔穴結血訣月件倹倦健兼券剣喧圏堅嫌建憲懸拳捲検権牽犬献研硯絹県肩見謙賢軒遣鍵険顕験鹸元原厳幻弦減源玄現絃舷言諺限乎個古呼固姑孤己庫弧戸故枯湖狐糊袴股胡菰虎誇跨鈷雇顧鼓五互伍午呉吾娯後御悟梧檎瑚碁語誤護醐乞鯉交佼侯候倖光公功効勾厚口向���".split(""),e=0;e!=r[140].length;++e)65533!==r[140][e].charCodeAt(0)&&(a[r[140][e]]=35840+e,t[35840+e]=r[140][e]);for(r[141]="����������������������������������������������������������������后喉坑垢好孔孝宏工巧巷幸広庚康弘恒慌抗拘控攻昂晃更杭校梗構江洪浩港溝甲皇硬稿糠紅紘絞綱耕考肯肱腔膏航荒行衡講貢購郊酵鉱砿鋼閤降�項香高鴻剛劫号合壕拷濠豪轟麹克刻告国穀酷鵠黒獄漉腰甑忽惚骨狛込此頃今困坤墾婚恨懇昏昆根梱混痕紺艮魂些佐叉唆嵯左差査沙瑳砂詐鎖裟坐座挫債催再最哉塞妻宰彩才採栽歳済災采犀砕砦祭斎細菜裁載際剤在材罪財冴坂阪堺榊肴咲崎埼碕鷺作削咋搾昨朔柵窄策索錯桜鮭笹匙冊刷���".split(""),e=0;e!=r[141].length;++e)65533!==r[141][e].charCodeAt(0)&&(a[r[141][e]]=36096+e,t[36096+e]=r[141][e]);for(r[142]="����������������������������������������������������������������察拶撮擦札殺薩雑皐鯖捌錆鮫皿晒三傘参山惨撒散桟燦珊産算纂蚕讃賛酸餐斬暫残仕仔伺使刺司史嗣四士始姉姿子屍市師志思指支孜斯施旨枝止�死氏獅祉私糸紙紫肢脂至視詞詩試誌諮資賜雌飼歯事似侍児字寺慈持時次滋治爾璽痔磁示而耳自蒔辞汐鹿式識鴫竺軸宍雫七叱執失嫉室悉湿漆疾質実蔀篠偲柴芝屡蕊縞舎写射捨赦斜煮社紗者謝車遮蛇邪借勺尺杓灼爵酌釈錫若寂弱惹主取守手朱殊狩珠種腫趣酒首儒受呪寿授樹綬需囚収周���".split(""),e=0;e!=r[142].length;++e)65533!==r[142][e].charCodeAt(0)&&(a[r[142][e]]=36352+e,t[36352+e]=r[142][e]);for(r[143]="����������������������������������������������������������������宗就州修愁拾洲秀秋終繍習臭舟蒐衆襲讐蹴輯週酋酬集醜什住充十従戎柔汁渋獣縦重銃叔夙宿淑祝縮粛塾熟出術述俊峻春瞬竣舜駿准循旬楯殉淳�準潤盾純巡遵醇順処初所暑曙渚庶緒署書薯藷諸助叙女序徐恕鋤除傷償勝匠升召哨商唱嘗奨妾娼宵将小少尚庄床廠彰承抄招掌捷昇昌昭晶松梢樟樵沼消渉湘焼焦照症省硝礁祥称章笑粧紹肖菖蒋蕉衝裳訟証詔詳象賞醤鉦鍾鐘障鞘上丈丞乗冗剰城場壌嬢常情擾条杖浄状畳穣蒸譲醸錠嘱埴飾���".split(""),e=0;e!=r[143].length;++e)65533!==r[143][e].charCodeAt(0)&&(a[r[143][e]]=36608+e,t[36608+e]=r[143][e]);for(r[144]="����������������������������������������������������������������拭植殖燭織職色触食蝕辱尻伸信侵唇娠寝審心慎振新晋森榛浸深申疹真神秦紳臣芯薪親診身辛進針震人仁刃塵壬尋甚尽腎訊迅陣靭笥諏須酢図厨�逗吹垂帥推水炊睡粋翠衰遂酔錐錘随瑞髄崇嵩数枢趨雛据杉椙菅頗雀裾澄摺寸世瀬畝是凄制勢姓征性成政整星晴棲栖正清牲生盛精聖声製西誠誓請逝醒青静斉税脆隻席惜戚斥昔析石積籍績脊責赤跡蹟碩切拙接摂折設窃節説雪絶舌蝉仙先千占宣専尖川戦扇撰栓栴泉浅洗染潜煎煽旋穿箭線���".split(""),e=0;e!=r[144].length;++e)65533!==r[144][e].charCodeAt(0)&&(a[r[144][e]]=36864+e,t[36864+e]=r[144][e]);for(r[145]="����������������������������������������������������������������繊羨腺舛船薦詮賎践選遷銭銑閃鮮前善漸然全禅繕膳糎噌塑岨措曾曽楚狙疏疎礎祖租粗素組蘇訴阻遡鼠僧創双叢倉喪壮奏爽宋層匝惣想捜掃挿掻�操早曹巣槍槽漕燥争痩相窓糟総綜聡草荘葬蒼藻装走送遭鎗霜騒像増憎臓蔵贈造促側則即息捉束測足速俗属賊族続卒袖其揃存孫尊損村遜他多太汰詑唾堕妥惰打柁舵楕陀駄騨体堆対耐岱帯待怠態戴替泰滞胎腿苔袋貸退逮隊黛鯛代台大第醍題鷹滝瀧卓啄宅托択拓沢濯琢託鐸濁諾茸凧蛸只���".split(""),e=0;e!=r[145].length;++e)65533!==r[145][e].charCodeAt(0)&&(a[r[145][e]]=37120+e,t[37120+e]=r[145][e]);for(r[146]="����������������������������������������������������������������叩但達辰奪脱巽竪辿棚谷狸鱈樽誰丹単嘆坦担探旦歎淡湛炭短端箪綻耽胆蛋誕鍛団壇弾断暖檀段男談値知地弛恥智池痴稚置致蜘遅馳築畜竹筑蓄�逐秩窒茶嫡着中仲宙忠抽昼柱注虫衷註酎鋳駐樗瀦猪苧著貯丁兆凋喋寵帖帳庁弔張彫徴懲挑暢朝潮牒町眺聴脹腸蝶調諜超跳銚長頂鳥勅捗直朕沈珍賃鎮陳津墜椎槌追鎚痛通塚栂掴槻佃漬柘辻蔦綴鍔椿潰坪壷嬬紬爪吊釣鶴亭低停偵剃貞呈堤定帝底庭廷弟悌抵挺提梯汀碇禎程締艇訂諦蹄逓���".split(""),e=0;e!=r[146].length;++e)65533!==r[146][e].charCodeAt(0)&&(a[r[146][e]]=37376+e,t[37376+e]=r[146][e]);for(r[147]="����������������������������������������������������������������邸鄭釘鼎泥摘擢敵滴的笛適鏑溺哲徹撤轍迭鉄典填天展店添纏甜貼転顛点伝殿澱田電兎吐堵塗妬屠徒斗杜渡登菟賭途都鍍砥砺努度土奴怒倒党冬�凍刀唐塔塘套宕島嶋悼投搭東桃梼棟盗淘湯涛灯燈当痘祷等答筒糖統到董蕩藤討謄豆踏逃透鐙陶頭騰闘働動同堂導憧撞洞瞳童胴萄道銅峠鴇匿得徳涜特督禿篤毒独読栃橡凸突椴届鳶苫寅酉瀞噸屯惇敦沌豚遁頓呑曇鈍奈那内乍凪薙謎灘捺鍋楢馴縄畷南楠軟難汝二尼弐迩匂賑肉虹廿日乳入���".split(""),e=0;e!=r[147].length;++e)65533!==r[147][e].charCodeAt(0)&&(a[r[147][e]]=37632+e,t[37632+e]=r[147][e]);for(r[148]="����������������������������������������������������������������如尿韮任妊忍認濡禰祢寧葱猫熱年念捻撚燃粘乃廼之埜嚢悩濃納能脳膿農覗蚤巴把播覇杷波派琶破婆罵芭馬俳廃拝排敗杯盃牌背肺輩配倍培媒梅�楳煤狽買売賠陪這蝿秤矧萩伯剥博拍柏泊白箔粕舶薄迫曝漠爆縛莫駁麦函箱硲箸肇筈櫨幡肌畑畠八鉢溌発醗髪伐罰抜筏閥鳩噺塙蛤隼伴判半反叛帆搬斑板氾汎版犯班畔繁般藩販範釆煩頒飯挽晩番盤磐蕃蛮匪卑否妃庇彼悲扉批披斐比泌疲皮碑秘緋罷肥被誹費避非飛樋簸備尾微枇毘琵眉美���".split(""),e=0;e!=r[148].length;++e)65533!==r[148][e].charCodeAt(0)&&(a[r[148][e]]=37888+e,t[37888+e]=r[148][e]);for(r[149]="����������������������������������������������������������������鼻柊稗匹疋髭彦膝菱肘弼必畢筆逼桧姫媛紐百謬俵彪標氷漂瓢票表評豹廟描病秒苗錨鋲蒜蛭鰭品彬斌浜瀕貧賓頻敏瓶不付埠夫婦富冨布府怖扶敷�斧普浮父符腐膚芙譜負賦赴阜附侮撫武舞葡蕪部封楓風葺蕗伏副復幅服福腹複覆淵弗払沸仏物鮒分吻噴墳憤扮焚奮粉糞紛雰文聞丙併兵塀幣平弊柄並蔽閉陛米頁僻壁癖碧別瞥蔑箆偏変片篇編辺返遍便勉娩弁鞭保舗鋪圃捕歩甫補輔穂募墓慕戊暮母簿菩倣俸包呆報奉宝峰峯崩庖抱捧放方朋���".split(""),e=0;e!=r[149].length;++e)65533!==r[149][e].charCodeAt(0)&&(a[r[149][e]]=38144+e,t[38144+e]=r[149][e]);for(r[150]="����������������������������������������������������������������法泡烹砲縫胞芳萌蓬蜂褒訪豊邦鋒飽鳳鵬乏亡傍剖坊妨帽忘忙房暴望某棒冒紡肪膨謀貌貿鉾防吠頬北僕卜墨撲朴牧睦穆釦勃没殆堀幌奔本翻凡盆�摩磨魔麻埋妹昧枚毎哩槙幕膜枕鮪柾鱒桝亦俣又抹末沫迄侭繭麿万慢満漫蔓味未魅巳箕岬密蜜湊蓑稔脈妙粍民眠務夢無牟矛霧鵡椋婿娘冥名命明盟迷銘鳴姪牝滅免棉綿緬面麺摸模茂妄孟毛猛盲網耗蒙儲木黙目杢勿餅尤戻籾貰問悶紋門匁也冶夜爺耶野弥矢厄役約薬訳躍靖柳薮鑓愉愈油癒���".split(""),e=0;e!=r[150].length;++e)65533!==r[150][e].charCodeAt(0)&&(a[r[150][e]]=38400+e,t[38400+e]=r[150][e]);for(r[151]="����������������������������������������������������������������諭輸唯佑優勇友宥幽悠憂揖有柚湧涌猶猷由祐裕誘遊邑郵雄融夕予余与誉輿預傭幼妖容庸揚揺擁曜楊様洋溶熔用窯羊耀葉蓉要謡踊遥陽養慾抑欲�沃浴翌翼淀羅螺裸来莱頼雷洛絡落酪乱卵嵐欄濫藍蘭覧利吏履李梨理璃痢裏裡里離陸律率立葎掠略劉流溜琉留硫粒隆竜龍侶慮旅虜了亮僚両凌寮料梁涼猟療瞭稜糧良諒遼量陵領力緑倫厘林淋燐琳臨輪隣鱗麟瑠塁涙累類令伶例冷励嶺怜玲礼苓鈴隷零霊麗齢暦歴列劣烈裂廉恋憐漣煉簾練聯���".split(""),e=0;e!=r[151].length;++e)65533!==r[151][e].charCodeAt(0)&&(a[r[151][e]]=38656+e,t[38656+e]=r[151][e]);for(r[152]="����������������������������������������������������������������蓮連錬呂魯櫓炉賂路露労婁廊弄朗楼榔浪漏牢狼篭老聾蝋郎六麓禄肋録論倭和話歪賄脇惑枠鷲亙亘鰐詫藁蕨椀湾碗腕��������������������������������������������弌丐丕个丱丶丼丿乂乖乘亂亅豫亊舒弍于亞亟亠亢亰亳亶从仍仄仆仂仗仞仭仟价伉佚估佛佝佗佇佶侈侏侘佻佩佰侑佯來侖儘俔俟俎俘俛俑俚俐俤俥倚倨倔倪倥倅伜俶倡倩倬俾俯們倆偃假會偕偐偈做偖偬偸傀傚傅傴傲���".split(""),e=0;e!=r[152].length;++e)65533!==r[152][e].charCodeAt(0)&&(a[r[152][e]]=38912+e,t[38912+e]=r[152][e]);for(r[153]="����������������������������������������������������������������僉僊傳僂僖僞僥僭僣僮價僵儉儁儂儖儕儔儚儡儺儷儼儻儿兀兒兌兔兢竸兩兪兮冀冂囘册冉冏冑冓冕冖冤冦冢冩冪冫决冱冲冰况冽凅凉凛几處凩凭�凰凵凾刄刋刔刎刧刪刮刳刹剏剄剋剌剞剔剪剴剩剳剿剽劍劔劒剱劈劑辨辧劬劭劼劵勁勍勗勞勣勦飭勠勳勵勸勹匆匈甸匍匐匏匕匚匣匯匱匳匸區卆卅丗卉卍凖卞卩卮夘卻卷厂厖厠厦厥厮厰厶參簒雙叟曼燮叮叨叭叺吁吽呀听吭吼吮吶吩吝呎咏呵咎呟呱呷呰咒呻咀呶咄咐咆哇咢咸咥咬哄哈咨���".split(""),e=0;e!=r[153].length;++e)65533!==r[153][e].charCodeAt(0)&&(a[r[153][e]]=39168+e,t[39168+e]=r[153][e]);for(r[154]="����������������������������������������������������������������咫哂咤咾咼哘哥哦唏唔哽哮哭哺哢唹啀啣啌售啜啅啖啗唸唳啝喙喀咯喊喟啻啾喘喞單啼喃喩喇喨嗚嗅嗟嗄嗜嗤嗔嘔嗷嘖嗾嗽嘛嗹噎噐營嘴嘶嘲嘸�噫噤嘯噬噪嚆嚀嚊嚠嚔嚏嚥嚮嚶嚴囂嚼囁囃囀囈囎囑囓囗囮囹圀囿圄圉圈國圍圓團圖嗇圜圦圷圸坎圻址坏坩埀垈坡坿垉垓垠垳垤垪垰埃埆埔埒埓堊埖埣堋堙堝塲堡塢塋塰毀塒堽塹墅墹墟墫墺壞墻墸墮壅壓壑壗壙壘壥壜壤壟壯壺壹壻壼壽夂夊夐夛梦夥夬夭夲夸夾竒奕奐奎奚奘奢奠奧奬奩���".split(""),e=0;e!=r[154].length;++e)65533!==r[154][e].charCodeAt(0)&&(a[r[154][e]]=39424+e,t[39424+e]=r[154][e]);for(r[155]="����������������������������������������������������������������奸妁妝佞侫妣妲姆姨姜妍姙姚娥娟娑娜娉娚婀婬婉娵娶婢婪媚媼媾嫋嫂媽嫣嫗嫦嫩嫖嫺嫻嬌嬋嬖嬲嫐嬪嬶嬾孃孅孀孑孕孚孛孥孩孰孳孵學斈孺宀�它宦宸寃寇寉寔寐寤實寢寞寥寫寰寶寳尅將專對尓尠尢尨尸尹屁屆屎屓屐屏孱屬屮乢屶屹岌岑岔妛岫岻岶岼岷峅岾峇峙峩峽峺峭嶌峪崋崕崗嵜崟崛崑崔崢崚崙崘嵌嵒嵎嵋嵬嵳嵶嶇嶄嶂嶢嶝嶬嶮嶽嶐嶷嶼巉巍巓巒巖巛巫已巵帋帚帙帑帛帶帷幄幃幀幎幗幔幟幢幤幇幵并幺麼广庠廁廂廈廐廏���".split(""),e=0;e!=r[155].length;++e)65533!==r[155][e].charCodeAt(0)&&(a[r[155][e]]=39680+e,t[39680+e]=r[155][e]);for(r[156]="����������������������������������������������������������������廖廣廝廚廛廢廡廨廩廬廱廳廰廴廸廾弃弉彝彜弋弑弖弩弭弸彁彈彌彎弯彑彖彗彙彡彭彳彷徃徂彿徊很徑徇從徙徘徠徨徭徼忖忻忤忸忱忝悳忿怡恠�怙怐怩怎怱怛怕怫怦怏怺恚恁恪恷恟恊恆恍恣恃恤恂恬恫恙悁悍惧悃悚悄悛悖悗悒悧悋惡悸惠惓悴忰悽惆悵惘慍愕愆惶惷愀惴惺愃愡惻惱愍愎慇愾愨愧慊愿愼愬愴愽慂慄慳慷慘慙慚慫慴慯慥慱慟慝慓慵憙憖憇憬憔憚憊憑憫憮懌懊應懷懈懃懆憺懋罹懍懦懣懶懺懴懿懽懼懾戀戈戉戍戌戔戛���".split(""),e=0;e!=r[156].length;++e)65533!==r[156][e].charCodeAt(0)&&(a[r[156][e]]=39936+e,t[39936+e]=r[156][e]);for(r[157]="����������������������������������������������������������������戞戡截戮戰戲戳扁扎扞扣扛扠扨扼抂抉找抒抓抖拔抃抔拗拑抻拏拿拆擔拈拜拌拊拂拇抛拉挌拮拱挧挂挈拯拵捐挾捍搜捏掖掎掀掫捶掣掏掉掟掵捫�捩掾揩揀揆揣揉插揶揄搖搴搆搓搦搶攝搗搨搏摧摯摶摎攪撕撓撥撩撈撼據擒擅擇撻擘擂擱擧舉擠擡抬擣擯攬擶擴擲擺攀擽攘攜攅攤攣攫攴攵攷收攸畋效敖敕敍敘敞敝敲數斂斃變斛斟斫斷旃旆旁旄旌旒旛旙无旡旱杲昊昃旻杳昵昶昴昜晏晄晉晁晞晝晤晧晨晟晢晰暃暈暎暉暄暘暝曁暹曉暾暼���".split(""),e=0;e!=r[157].length;++e)65533!==r[157][e].charCodeAt(0)&&(a[r[157][e]]=40192+e,t[40192+e]=r[157][e]);for(r[158]="����������������������������������������������������������������曄暸曖曚曠昿曦曩曰曵曷朏朖朞朦朧霸朮朿朶杁朸朷杆杞杠杙杣杤枉杰枩杼杪枌枋枦枡枅枷柯枴柬枳柩枸柤柞柝柢柮枹柎柆柧檜栞框栩桀桍栲桎�梳栫桙档桷桿梟梏梭梔條梛梃檮梹桴梵梠梺椏梍桾椁棊椈棘椢椦棡椌棍棔棧棕椶椒椄棗棣椥棹棠棯椨椪椚椣椡棆楹楷楜楸楫楔楾楮椹楴椽楙椰楡楞楝榁楪榲榮槐榿槁槓榾槎寨槊槝榻槃榧樮榑榠榜榕榴槞槨樂樛槿權槹槲槧樅榱樞槭樔槫樊樒櫁樣樓橄樌橲樶橸橇橢橙橦橈樸樢檐檍檠檄檢檣���".split(""),e=0;e!=r[158].length;++e)65533!==r[158][e].charCodeAt(0)&&(a[r[158][e]]=40448+e,t[40448+e]=r[158][e]);for(r[159]="����������������������������������������������������������������檗蘗檻櫃櫂檸檳檬櫞櫑櫟檪櫚櫪櫻欅蘖櫺欒欖鬱欟欸欷盜欹飮歇歃歉歐歙歔歛歟歡歸歹歿殀殄殃殍殘殕殞殤殪殫殯殲殱殳殷殼毆毋毓毟毬毫毳毯�麾氈氓气氛氤氣汞汕汢汪沂沍沚沁沛汾汨汳沒沐泄泱泓沽泗泅泝沮沱沾沺泛泯泙泪洟衍洶洫洽洸洙洵洳洒洌浣涓浤浚浹浙涎涕濤涅淹渕渊涵淇淦涸淆淬淞淌淨淒淅淺淙淤淕淪淮渭湮渮渙湲湟渾渣湫渫湶湍渟湃渺湎渤滿渝游溂溪溘滉溷滓溽溯滄溲滔滕溏溥滂溟潁漑灌滬滸滾漿滲漱滯漲滌���".split(""),e=0;e!=r[159].length;++e)65533!==r[159][e].charCodeAt(0)&&(a[r[159][e]]=40704+e,t[40704+e]=r[159][e]);for(r[224]="����������������������������������������������������������������漾漓滷澆潺潸澁澀潯潛濳潭澂潼潘澎澑濂潦澳澣澡澤澹濆澪濟濕濬濔濘濱濮濛瀉瀋濺瀑瀁瀏濾瀛瀚潴瀝瀘瀟瀰瀾瀲灑灣炙炒炯烱炬炸炳炮烟烋烝�烙焉烽焜焙煥煕熈煦煢煌煖煬熏燻熄熕熨熬燗熹熾燒燉燔燎燠燬燧燵燼燹燿爍爐爛爨爭爬爰爲爻爼爿牀牆牋牘牴牾犂犁犇犒犖犢犧犹犲狃狆狄狎狒狢狠狡狹狷倏猗猊猜猖猝猴猯猩猥猾獎獏默獗獪獨獰獸獵獻獺珈玳珎玻珀珥珮珞璢琅瑯琥珸琲琺瑕琿瑟瑙瑁瑜瑩瑰瑣瑪瑶瑾璋璞璧瓊瓏瓔珱���".split(""),e=0;e!=r[224].length;++e)65533!==r[224][e].charCodeAt(0)&&(a[r[224][e]]=57344+e,t[57344+e]=r[224][e]);for(r[225]="����������������������������������������������������������������瓠瓣瓧瓩瓮瓲瓰瓱瓸瓷甄甃甅甌甎甍甕甓甞甦甬甼畄畍畊畉畛畆畚畩畤畧畫畭畸當疆疇畴疊疉疂疔疚疝疥疣痂疳痃疵疽疸疼疱痍痊痒痙痣痞痾痿�痼瘁痰痺痲痳瘋瘍瘉瘟瘧瘠瘡瘢瘤瘴瘰瘻癇癈癆癜癘癡癢癨癩癪癧癬癰癲癶癸發皀皃皈皋皎皖皓皙皚皰皴皸皹皺盂盍盖盒盞盡盥盧盪蘯盻眈眇眄眩眤眞眥眦眛眷眸睇睚睨睫睛睥睿睾睹瞎瞋瞑瞠瞞瞰瞶瞹瞿瞼瞽瞻矇矍矗矚矜矣矮矼砌砒礦砠礪硅碎硴碆硼碚碌碣碵碪碯磑磆磋磔碾碼磅磊磬���".split(""),e=0;e!=r[225].length;++e)65533!==r[225][e].charCodeAt(0)&&(a[r[225][e]]=57600+e,t[57600+e]=r[225][e]);for(r[226]="����������������������������������������������������������������磧磚磽磴礇礒礑礙礬礫祀祠祗祟祚祕祓祺祿禊禝禧齋禪禮禳禹禺秉秕秧秬秡秣稈稍稘稙稠稟禀稱稻稾稷穃穗穉穡穢穩龝穰穹穽窈窗窕窘窖窩竈窰�窶竅竄窿邃竇竊竍竏竕竓站竚竝竡竢竦竭竰笂笏笊笆笳笘笙笞笵笨笶筐筺笄筍笋筌筅筵筥筴筧筰筱筬筮箝箘箟箍箜箚箋箒箏筝箙篋篁篌篏箴篆篝篩簑簔篦篥籠簀簇簓篳篷簗簍篶簣簧簪簟簷簫簽籌籃籔籏籀籐籘籟籤籖籥籬籵粃粐粤粭粢粫粡粨粳粲粱粮粹粽糀糅糂糘糒糜糢鬻糯糲糴糶糺紆���".split(""),e=0;e!=r[226].length;++e)65533!==r[226][e].charCodeAt(0)&&(a[r[226][e]]=57856+e,t[57856+e]=r[226][e]);for(r[227]="����������������������������������������������������������������紂紜紕紊絅絋紮紲紿紵絆絳絖絎絲絨絮絏絣經綉絛綏絽綛綺綮綣綵緇綽綫總綢綯緜綸綟綰緘緝緤緞緻緲緡縅縊縣縡縒縱縟縉縋縢繆繦縻縵縹繃縷�縲縺繧繝繖繞繙繚繹繪繩繼繻纃緕繽辮繿纈纉續纒纐纓纔纖纎纛纜缸缺罅罌罍罎罐网罕罔罘罟罠罨罩罧罸羂羆羃羈羇羌羔羞羝羚羣羯羲羹羮羶羸譱翅翆翊翕翔翡翦翩翳翹飜耆耄耋耒耘耙耜耡耨耿耻聊聆聒聘聚聟聢聨聳聲聰聶聹聽聿肄肆肅肛肓肚肭冐肬胛胥胙胝胄胚胖脉胯胱脛脩脣脯腋���".split(""),e=0;e!=r[227].length;++e)65533!==r[227][e].charCodeAt(0)&&(a[r[227][e]]=58112+e,t[58112+e]=r[227][e]);for(r[228]="����������������������������������������������������������������隋腆脾腓腑胼腱腮腥腦腴膃膈膊膀膂膠膕膤膣腟膓膩膰膵膾膸膽臀臂膺臉臍臑臙臘臈臚臟臠臧臺臻臾舁舂舅與舊舍舐舖舩舫舸舳艀艙艘艝艚艟艤�艢艨艪艫舮艱艷艸艾芍芒芫芟芻芬苡苣苟苒苴苳苺莓范苻苹苞茆苜茉苙茵茴茖茲茱荀茹荐荅茯茫茗茘莅莚莪莟莢莖茣莎莇莊荼莵荳荵莠莉莨菴萓菫菎菽萃菘萋菁菷萇菠菲萍萢萠莽萸蔆菻葭萪萼蕚蒄葷葫蒭葮蒂葩葆萬葯葹萵蓊葢蒹蒿蒟蓙蓍蒻蓚蓐蓁蓆蓖蒡蔡蓿蓴蔗蔘蔬蔟蔕蔔蓼蕀蕣蕘蕈���".split(""),e=0;e!=r[228].length;++e)65533!==r[228][e].charCodeAt(0)&&(a[r[228][e]]=58368+e,t[58368+e]=r[228][e]);for(r[229]="����������������������������������������������������������������蕁蘂蕋蕕薀薤薈薑薊薨蕭薔薛藪薇薜蕷蕾薐藉薺藏薹藐藕藝藥藜藹蘊蘓蘋藾藺蘆蘢蘚蘰蘿虍乕虔號虧虱蚓蚣蚩蚪蚋蚌蚶蚯蛄蛆蚰蛉蠣蚫蛔蛞蛩蛬�蛟蛛蛯蜒蜆蜈蜀蜃蛻蜑蜉蜍蛹蜊蜴蜿蜷蜻蜥蜩蜚蝠蝟蝸蝌蝎蝴蝗蝨蝮蝙蝓蝣蝪蠅螢螟螂螯蟋螽蟀蟐雖螫蟄螳蟇蟆螻蟯蟲蟠蠏蠍蟾蟶蟷蠎蟒蠑蠖蠕蠢蠡蠱蠶蠹蠧蠻衄衂衒衙衞衢衫袁衾袞衵衽袵衲袂袗袒袮袙袢袍袤袰袿袱裃裄裔裘裙裝裹褂裼裴裨裲褄褌褊褓襃褞褥褪褫襁襄褻褶褸襌褝襠襞���".split(""),e=0;e!=r[229].length;++e)65533!==r[229][e].charCodeAt(0)&&(a[r[229][e]]=58624+e,t[58624+e]=r[229][e]);for(r[230]="����������������������������������������������������������������襦襤襭襪襯襴襷襾覃覈覊覓覘覡覩覦覬覯覲覺覽覿觀觚觜觝觧觴觸訃訖訐訌訛訝訥訶詁詛詒詆詈詼詭詬詢誅誂誄誨誡誑誥誦誚誣諄諍諂諚諫諳諧�諤諱謔諠諢諷諞諛謌謇謚諡謖謐謗謠謳鞫謦謫謾謨譁譌譏譎證譖譛譚譫譟譬譯譴譽讀讌讎讒讓讖讙讚谺豁谿豈豌豎豐豕豢豬豸豺貂貉貅貊貍貎貔豼貘戝貭貪貽貲貳貮貶賈賁賤賣賚賽賺賻贄贅贊贇贏贍贐齎贓賍贔贖赧赭赱赳趁趙跂趾趺跏跚跖跌跛跋跪跫跟跣跼踈踉跿踝踞踐踟蹂踵踰踴蹊���".split(""),e=0;e!=r[230].length;++e)65533!==r[230][e].charCodeAt(0)&&(a[r[230][e]]=58880+e,t[58880+e]=r[230][e]);for(r[231]="����������������������������������������������������������������蹇蹉蹌蹐蹈蹙蹤蹠踪蹣蹕蹶蹲蹼躁躇躅躄躋躊躓躑躔躙躪躡躬躰軆躱躾軅軈軋軛軣軼軻軫軾輊輅輕輒輙輓輜輟輛輌輦輳輻輹轅轂輾轌轉轆轎轗轜�轢轣轤辜辟辣辭辯辷迚迥迢迪迯邇迴逅迹迺逑逕逡逍逞逖逋逧逶逵逹迸遏遐遑遒逎遉逾遖遘遞遨遯遶隨遲邂遽邁邀邊邉邏邨邯邱邵郢郤扈郛鄂鄒鄙鄲鄰酊酖酘酣酥酩酳酲醋醉醂醢醫醯醪醵醴醺釀釁釉釋釐釖釟釡釛釼釵釶鈞釿鈔鈬鈕鈑鉞鉗鉅鉉鉤鉈銕鈿鉋鉐銜銖銓銛鉚鋏銹銷鋩錏鋺鍄錮���".split(""),e=0;e!=r[231].length;++e)65533!==r[231][e].charCodeAt(0)&&(a[r[231][e]]=59136+e,t[59136+e]=r[231][e]);for(r[232]="����������������������������������������������������������������錙錢錚錣錺錵錻鍜鍠鍼鍮鍖鎰鎬鎭鎔鎹鏖鏗鏨鏥鏘鏃鏝鏐鏈鏤鐚鐔鐓鐃鐇鐐鐶鐫鐵鐡鐺鑁鑒鑄鑛鑠鑢鑞鑪鈩鑰鑵鑷鑽鑚鑼鑾钁鑿閂閇閊閔閖閘閙�閠閨閧閭閼閻閹閾闊濶闃闍闌闕闔闖關闡闥闢阡阨阮阯陂陌陏陋陷陜陞陝陟陦陲陬隍隘隕隗險隧隱隲隰隴隶隸隹雎雋雉雍襍雜霍雕雹霄霆霈霓霎霑霏霖霙霤霪霰霹霽霾靄靆靈靂靉靜靠靤靦靨勒靫靱靹鞅靼鞁靺鞆鞋鞏鞐鞜鞨鞦鞣鞳鞴韃韆韈韋韜韭齏韲竟韶韵頏頌頸頤頡頷頽顆顏顋顫顯顰���".split(""),e=0;e!=r[232].length;++e)65533!==r[232][e].charCodeAt(0)&&(a[r[232][e]]=59392+e,t[59392+e]=r[232][e]);for(r[233]="����������������������������������������������������������������顱顴顳颪颯颱颶飄飃飆飩飫餃餉餒餔餘餡餝餞餤餠餬餮餽餾饂饉饅饐饋饑饒饌饕馗馘馥馭馮馼駟駛駝駘駑駭駮駱駲駻駸騁騏騅駢騙騫騷驅驂驀驃�騾驕驍驛驗驟驢驥驤驩驫驪骭骰骼髀髏髑髓體髞髟髢髣髦髯髫髮髴髱髷髻鬆鬘鬚鬟鬢鬣鬥鬧鬨鬩鬪鬮鬯鬲魄魃魏魍魎魑魘魴鮓鮃鮑鮖鮗鮟鮠鮨鮴鯀鯊鮹鯆鯏鯑鯒鯣鯢鯤鯔鯡鰺鯲鯱鯰鰕鰔鰉鰓鰌鰆鰈鰒鰊鰄鰮鰛鰥鰤鰡鰰鱇鰲鱆鰾鱚鱠鱧鱶鱸鳧鳬鳰鴉鴈鳫鴃鴆鴪鴦鶯鴣鴟鵄鴕鴒鵁鴿鴾鵆鵈���".split(""),e=0;e!=r[233].length;++e)65533!==r[233][e].charCodeAt(0)&&(a[r[233][e]]=59648+e,t[59648+e]=r[233][e]);for(r[234]="����������������������������������������������������������������鵝鵞鵤鵑鵐鵙鵲鶉鶇鶫鵯鵺鶚鶤鶩鶲鷄鷁鶻鶸鶺鷆鷏鷂鷙鷓鷸鷦鷭鷯鷽鸚鸛鸞鹵鹹鹽麁麈麋麌麒麕麑麝麥麩麸麪麭靡黌黎黏黐黔黜點黝黠黥黨黯�黴黶黷黹黻黼黽鼇鼈皷鼕鼡鼬鼾齊齒齔齣齟齠齡齦齧齬齪齷齲齶龕龜龠堯槇遙瑤凜熙�������������������������������������������������������������������������������������������".split(""),e=0;e!=r[234].length;++e)65533!==r[234][e].charCodeAt(0)&&(a[r[234][e]]=59904+e,t[59904+e]=r[234][e]);for(r[237]="����������������������������������������������������������������纊褜鍈銈蓜俉炻昱棈鋹曻彅丨仡仼伀伃伹佖侒侊侚侔俍偀倢俿倞偆偰偂傔僴僘兊兤冝冾凬刕劜劦勀勛匀匇匤卲厓厲叝﨎咜咊咩哿喆坙坥垬埈埇﨏�塚增墲夋奓奛奝奣妤妺孖寀甯寘寬尞岦岺峵崧嵓﨑嵂嵭嶸嶹巐弡弴彧德忞恝悅悊惞惕愠惲愑愷愰憘戓抦揵摠撝擎敎昀昕昻昉昮昞昤晥晗晙晴晳暙暠暲暿曺朎朗杦枻桒柀栁桄棏﨓楨﨔榘槢樰橫橆橳橾櫢櫤毖氿汜沆汯泚洄涇浯涖涬淏淸淲淼渹湜渧渼溿澈澵濵瀅瀇瀨炅炫焏焄煜煆煇凞燁燾犱���".split(""),e=0;e!=r[237].length;++e)65533!==r[237][e].charCodeAt(0)&&(a[r[237][e]]=60672+e,t[60672+e]=r[237][e]);for(r[238]="����������������������������������������������������������������犾猤猪獷玽珉珖珣珒琇珵琦琪琩琮瑢璉璟甁畯皂皜皞皛皦益睆劯砡硎硤硺礰礼神祥禔福禛竑竧靖竫箞精絈絜綷綠緖繒罇羡羽茁荢荿菇菶葈蒴蕓蕙�蕫﨟薰蘒﨡蠇裵訒訷詹誧誾諟諸諶譓譿賰賴贒赶﨣軏﨤逸遧郞都鄕鄧釚釗釞釭釮釤釥鈆鈐鈊鈺鉀鈼鉎鉙鉑鈹鉧銧鉷鉸鋧鋗鋙鋐﨧鋕鋠鋓錥錡鋻﨨錞鋿錝錂鍰鍗鎤鏆鏞鏸鐱鑅鑈閒隆﨩隝隯霳霻靃靍靏靑靕顗顥飯飼餧館馞驎髙髜魵魲鮏鮱鮻鰀鵰鵫鶴鸙黑��ⅰⅱⅲⅳⅴⅵⅶⅷⅸⅹ￢￤＇＂���".split(""),e=0;e!=r[238].length;++e)65533!==r[238][e].charCodeAt(0)&&(a[r[238][e]]=60928+e,t[60928+e]=r[238][e]);for(r[250]="����������������������������������������������������������������ⅰⅱⅲⅳⅴⅵⅶⅷⅸⅹⅠⅡⅢⅣⅤⅥⅦⅧⅨⅩ￢￤＇＂㈱№℡∵纊褜鍈銈蓜俉炻昱棈鋹曻彅丨仡仼伀伃伹佖侒侊侚侔俍偀倢俿倞偆偰偂傔僴僘兊�兤冝冾凬刕劜劦勀勛匀匇匤卲厓厲叝﨎咜咊咩哿喆坙坥垬埈埇﨏塚增墲夋奓奛奝奣妤妺孖寀甯寘寬尞岦岺峵崧嵓﨑嵂嵭嶸嶹巐弡弴彧德忞恝悅悊惞惕愠惲愑愷愰憘戓抦揵摠撝擎敎昀昕昻昉昮昞昤晥晗晙晴晳暙暠暲暿曺朎朗杦枻桒柀栁桄棏﨓楨﨔榘槢樰橫橆橳橾櫢櫤毖氿汜沆汯泚洄涇浯���".split(""),e=0;e!=r[250].length;++e)65533!==r[250][e].charCodeAt(0)&&(a[r[250][e]]=64e3+e,t[64e3+e]=r[250][e]);for(r[251]="����������������������������������������������������������������涖涬淏淸淲淼渹湜渧渼溿澈澵濵瀅瀇瀨炅炫焏焄煜煆煇凞燁燾犱犾猤猪獷玽珉珖珣珒琇珵琦琪琩琮瑢璉璟甁畯皂皜皞皛皦益睆劯砡硎硤硺礰礼神�祥禔福禛竑竧靖竫箞精絈絜綷綠緖繒罇羡羽茁荢荿菇菶葈蒴蕓蕙蕫﨟薰蘒﨡蠇裵訒訷詹誧誾諟諸諶譓譿賰賴贒赶﨣軏﨤逸遧郞都鄕鄧釚釗釞釭釮釤釥鈆鈐鈊鈺鉀鈼鉎鉙鉑鈹鉧銧鉷鉸鋧鋗鋙鋐﨧鋕鋠鋓錥錡鋻﨨錞鋿錝錂鍰鍗鎤鏆鏞鏸鐱鑅鑈閒隆﨩隝隯霳霻靃靍靏靑靕顗顥飯飼餧館馞驎髙���".split(""),e=0;e!=r[251].length;++e)65533!==r[251][e].charCodeAt(0)&&(a[r[251][e]]=64256+e,t[64256+e]=r[251][e]);for(r[252]="����������������������������������������������������������������髜魵魲鮏鮱鮻鰀鵰鵫鶴鸙黑������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������".split(""),e=0;e!=r[252].length;++e)65533!==r[252][e].charCodeAt(0)&&(a[r[252][e]]=64512+e,t[64512+e]=r[252][e]);return{enc:a,dec:t}}(),a[936]=function(){var e,t=[],a={},r=[];for(r[0]="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~€�������������������������������������������������������������������������������������������������������������������������������".split(""),e=0;e!=r[0].length;++e)65533!==r[0][e].charCodeAt(0)&&(a[r[0][e]]=0+e,t[0+e]=r[0][e]);for(r[129]="����������������������������������������������������������������丂丄丅丆丏丒丗丟丠両丣並丩丮丯丱丳丵丷丼乀乁乂乄乆乊乑乕乗乚乛乢乣乤乥乧乨乪乫乬乭乮乯乲乴乵乶乷乸乹乺乻乼乽乿亀亁亂亃亄亅亇亊�亐亖亗亙亜亝亞亣亪亯亰亱亴亶亷亸亹亼亽亾仈仌仏仐仒仚仛仜仠仢仦仧仩仭仮仯仱仴仸仹仺仼仾伀伂伃伄伅伆伇伈伋伌伒伓伔伕伖伜伝伡伣伨伩伬伭伮伱伳伵伷伹伻伾伿佀佁佂佄佅佇佈佉佊佋佌佒佔佖佡佢佦佨佪佫佭佮佱佲併佷佸佹佺佽侀侁侂侅來侇侊侌侎侐侒侓侕侖侘侙侚侜侞侟価侢�".split(""),e=0;e!=r[129].length;++e)65533!==r[129][e].charCodeAt(0)&&(a[r[129][e]]=33024+e,t[33024+e]=r[129][e]);for(r[130]="����������������������������������������������������������������侤侫侭侰侱侲侳侴侶侷侸侹侺侻侼侽侾俀俁係俆俇俈俉俋俌俍俒俓俔俕俖俙俛俠俢俤俥俧俫俬俰俲俴俵俶俷俹俻俼俽俿倀倁倂倃倄倅倆倇倈倉倊�個倎倐們倓倕倖倗倛倝倞倠倢倣値倧倫倯倰倱倲倳倴倵倶倷倸倹倻倽倿偀偁偂偄偅偆偉偊偋偍偐偑偒偓偔偖偗偘偙偛偝偞偟偠偡偢偣偤偦偧偨偩偪偫偭偮偯偰偱偲偳側偵偸偹偺偼偽傁傂傃傄傆傇傉傊傋傌傎傏傐傑傒傓傔傕傖傗傘備傚傛傜傝傞傟傠傡傢傤傦傪傫傭傮傯傰傱傳傴債傶傷傸傹傼�".split(""),e=0;e!=r[130].length;++e)65533!==r[130][e].charCodeAt(0)&&(a[r[130][e]]=33280+e,t[33280+e]=r[130][e]);for(r[131]="����������������������������������������������������������������傽傾傿僀僁僂僃僄僅僆僇僈僉僊僋僌働僎僐僑僒僓僔僕僗僘僙僛僜僝僞僟僠僡僢僣僤僥僨僩僪僫僯僰僱僲僴僶僷僸價僺僼僽僾僿儀儁儂儃億儅儈�儉儊儌儍儎儏儐儑儓儔儕儖儗儘儙儚儛儜儝儞償儠儢儣儤儥儦儧儨儩優儫儬儭儮儯儰儱儲儳儴儵儶儷儸儹儺儻儼儽儾兂兇兊兌兎兏児兒兓兗兘兙兛兝兞兟兠兡兣兤兦內兩兪兯兲兺兾兿冃冄円冇冊冋冎冏冐冑冓冔冘冚冝冞冟冡冣冦冧冨冩冪冭冮冴冸冹冺冾冿凁凂凃凅凈凊凍凎凐凒凓凔凕凖凗�".split(""),e=0;e!=r[131].length;++e)65533!==r[131][e].charCodeAt(0)&&(a[r[131][e]]=33536+e,t[33536+e]=r[131][e]);for(r[132]="����������������������������������������������������������������凘凙凚凜凞凟凢凣凥処凧凨凩凪凬凮凱凲凴凷凾刄刅刉刋刌刏刐刓刔刕刜刞刟刡刢刣別刦刧刪刬刯刱刲刴刵刼刾剄剅剆則剈剉剋剎剏剒剓剕剗剘�剙剚剛剝剟剠剢剣剤剦剨剫剬剭剮剰剱剳剴創剶剷剸剹剺剻剼剾劀劃劄劅劆劇劉劊劋劌劍劎劏劑劒劔劕劖劗劘劙劚劜劤劥劦劧劮劯劰労劵劶劷劸効劺劻劼劽勀勁勂勄勅勆勈勊勌勍勎勏勑勓勔動勗務勚勛勜勝勞勠勡勢勣勥勦勧勨勩勪勫勬勭勮勯勱勲勳勴勵勶勷勸勻勼勽匁匂匃匄匇匉匊匋匌匎�".split(""),e=0;e!=r[132].length;++e)65533!==r[132][e].charCodeAt(0)&&(a[r[132][e]]=33792+e,t[33792+e]=r[132][e]);for(r[133]="����������������������������������������������������������������匑匒匓匔匘匛匜匞匟匢匤匥匧匨匩匫匬匭匯匰匱匲匳匴匵匶匷匸匼匽區卂卄卆卋卌卍卐協単卙卛卝卥卨卪卬卭卲卶卹卻卼卽卾厀厁厃厇厈厊厎厏�厐厑厒厓厔厖厗厙厛厜厞厠厡厤厧厪厫厬厭厯厰厱厲厳厴厵厷厸厹厺厼厽厾叀參叄叅叆叇収叏叐叒叓叕叚叜叝叞叡叢叧叴叺叾叿吀吂吅吇吋吔吘吙吚吜吢吤吥吪吰吳吶吷吺吽吿呁呂呄呅呇呉呌呍呎呏呑呚呝呞呟呠呡呣呥呧呩呪呫呬呭呮呯呰呴呹呺呾呿咁咃咅咇咈咉咊咍咑咓咗咘咜咞咟咠咡�".split(""),e=0;e!=r[133].length;++e)65533!==r[133][e].charCodeAt(0)&&(a[r[133][e]]=34048+e,t[34048+e]=r[133][e]);for(r[134]="����������������������������������������������������������������咢咥咮咰咲咵咶咷咹咺咼咾哃哅哊哋哖哘哛哠員哢哣哤哫哬哯哰哱哴哵哶哷哸哹哻哾唀唂唃唄唅唈唊唋唌唍唎唒唓唕唖唗唘唙唚唜唝唞唟唡唥唦�唨唩唫唭唲唴唵唶唸唹唺唻唽啀啂啅啇啈啋啌啍啎問啑啒啓啔啗啘啙啚啛啝啞啟啠啢啣啨啩啫啯啰啱啲啳啴啹啺啽啿喅喆喌喍喎喐喒喓喕喖喗喚喛喞喠喡喢喣喤喥喦喨喩喪喫喬喭單喯喰喲喴営喸喺喼喿嗀嗁嗂嗃嗆嗇嗈嗊嗋嗎嗏嗐嗕嗗嗘嗙嗚嗛嗞嗠嗢嗧嗩嗭嗮嗰嗱嗴嗶嗸嗹嗺嗻嗼嗿嘂嘃嘄嘅�".split(""),e=0;e!=r[134].length;++e)65533!==r[134][e].charCodeAt(0)&&(a[r[134][e]]=34304+e,t[34304+e]=r[134][e]);for(r[135]="����������������������������������������������������������������嘆嘇嘊嘋嘍嘐嘑嘒嘓嘔嘕嘖嘗嘙嘚嘜嘝嘠嘡嘢嘥嘦嘨嘩嘪嘫嘮嘯嘰嘳嘵嘷嘸嘺嘼嘽嘾噀噁噂噃噄噅噆噇噈噉噊噋噏噐噑噒噓噕噖噚噛噝噞噟噠噡�噣噥噦噧噭噮噯噰噲噳噴噵噷噸噹噺噽噾噿嚀嚁嚂嚃嚄嚇嚈嚉嚊嚋嚌嚍嚐嚑嚒嚔嚕嚖嚗嚘嚙嚚嚛嚜嚝嚞嚟嚠嚡嚢嚤嚥嚦嚧嚨嚩嚪嚫嚬嚭嚮嚰嚱嚲嚳嚴嚵嚶嚸嚹嚺嚻嚽嚾嚿囀囁囂囃囄囅囆囇囈囉囋囌囍囎囏囐囑囒囓囕囖囘囙囜団囥囦囧囨囩囪囬囮囯囲図囶囷囸囻囼圀圁圂圅圇國圌圍圎圏圐圑�".split(""),e=0;e!=r[135].length;++e)65533!==r[135][e].charCodeAt(0)&&(a[r[135][e]]=34560+e,t[34560+e]=r[135][e]);for(r[136]="����������������������������������������������������������������園圓圔圕圖圗團圙圚圛圝圞圠圡圢圤圥圦圧圫圱圲圴圵圶圷圸圼圽圿坁坃坄坅坆坈坉坋坒坓坔坕坖坘坙坢坣坥坧坬坮坰坱坲坴坵坸坹坺坽坾坿垀�垁垇垈垉垊垍垎垏垐垑垔垕垖垗垘垙垚垜垝垞垟垥垨垪垬垯垰垱垳垵垶垷垹垺垻垼垽垾垿埀埁埄埅埆埇埈埉埊埌埍埐埑埓埖埗埛埜埞埡埢埣埥埦埧埨埩埪埫埬埮埰埱埲埳埵埶執埻埼埾埿堁堃堄堅堈堉堊堌堎堏堐堒堓堔堖堗堘堚堛堜堝堟堢堣堥堦堧堨堩堫堬堭堮堯報堲堳場堶堷堸堹堺堻堼堽�".split(""),e=0;e!=r[136].length;++e)65533!==r[136][e].charCodeAt(0)&&(a[r[136][e]]=34816+e,t[34816+e]=r[136][e]);for(r[137]="����������������������������������������������������������������堾堿塀塁塂塃塅塆塇塈塉塊塋塎塏塐塒塓塕塖塗塙塚塛塜塝塟塠塡塢塣塤塦塧塨塩塪塭塮塯塰塱塲塳塴塵塶塷塸塹塺塻塼塽塿墂墄墆墇墈墊墋墌�墍墎墏墐墑墔墕墖増墘墛墜墝墠墡墢墣墤墥墦墧墪墫墬墭墮墯墰墱墲墳墴墵墶墷墸墹墺墻墽墾墿壀壂壃壄壆壇壈壉壊壋壌壍壎壏壐壒壓壔壖壗壘壙壚壛壜壝壞壟壠壡壢壣壥壦壧壨壩壪壭壯壱売壴壵壷壸壺壻壼壽壾壿夀夁夃夅夆夈変夊夋夌夎夐夑夒夓夗夘夛夝夞夠夡夢夣夦夨夬夰夲夳夵夶夻�".split(""),e=0;e!=r[137].length;++e)65533!==r[137][e].charCodeAt(0)&&(a[r[137][e]]=35072+e,t[35072+e]=r[137][e]);for(r[138]="����������������������������������������������������������������夽夾夿奀奃奅奆奊奌奍奐奒奓奙奛奜奝奞奟奡奣奤奦奧奨奩奪奫奬奭奮奯奰奱奲奵奷奺奻奼奾奿妀妅妉妋妌妎妏妐妑妔妕妘妚妛妜妝妟妠妡妢妦�妧妬妭妰妱妳妴妵妶妷妸妺妼妽妿姀姁姂姃姄姅姇姈姉姌姍姎姏姕姖姙姛姞姟姠姡姢姤姦姧姩姪姫姭姮姯姰姱姲姳姴姵姶姷姸姺姼姽姾娀娂娊娋娍娎娏娐娒娔娕娖娗娙娚娛娝娞娡娢娤娦娧娨娪娫娬娭娮娯娰娳娵娷娸娹娺娻娽娾娿婁婂婃婄婅婇婈婋婌婍婎婏婐婑婒婓婔婖婗婘婙婛婜婝婞婟婠�".split(""),e=0;e!=r[138].length;++e)65533!==r[138][e].charCodeAt(0)&&(a[r[138][e]]=35328+e,t[35328+e]=r[138][e]);for(r[139]="����������������������������������������������������������������婡婣婤婥婦婨婩婫婬婭婮婯婰婱婲婳婸婹婻婼婽婾媀媁媂媃媄媅媆媇媈媉媊媋媌媍媎媏媐媑媓媔媕媖媗媘媙媜媝媞媟媠媡媢媣媤媥媦媧媨媩媫媬�媭媮媯媰媱媴媶媷媹媺媻媼媽媿嫀嫃嫄嫅嫆嫇嫈嫊嫋嫍嫎嫏嫐嫑嫓嫕嫗嫙嫚嫛嫝嫞嫟嫢嫤嫥嫧嫨嫪嫬嫭嫮嫯嫰嫲嫳嫴嫵嫶嫷嫸嫹嫺嫻嫼嫽嫾嫿嬀嬁嬂嬃嬄嬅嬆嬇嬈嬊嬋嬌嬍嬎嬏嬐嬑嬒嬓嬔嬕嬘嬙嬚嬛嬜嬝嬞嬟嬠嬡嬢嬣嬤嬥嬦嬧嬨嬩嬪嬫嬬嬭嬮嬯嬰嬱嬳嬵嬶嬸嬹嬺嬻嬼嬽嬾嬿孁孂孃孄孅孆孇�".split(""),e=0;e!=r[139].length;++e)65533!==r[139][e].charCodeAt(0)&&(a[r[139][e]]=35584+e,t[35584+e]=r[139][e]);for(r[140]="����������������������������������������������������������������孈孉孊孋孌孍孎孏孒孖孞孠孡孧孨孫孭孮孯孲孴孶孷學孹孻孼孾孿宂宆宊宍宎宐宑宒宔宖実宧宨宩宬宭宮宯宱宲宷宺宻宼寀寁寃寈寉寊寋寍寎寏�寑寔寕寖寗寘寙寚寛寜寠寢寣實寧審寪寫寬寭寯寱寲寳寴寵寶寷寽対尀専尃尅將專尋尌對導尐尒尓尗尙尛尞尟尠尡尣尦尨尩尪尫尭尮尯尰尲尳尵尶尷屃屄屆屇屌屍屒屓屔屖屗屘屚屛屜屝屟屢層屧屨屩屪屫屬屭屰屲屳屴屵屶屷屸屻屼屽屾岀岃岄岅岆岇岉岊岋岎岏岒岓岕岝岞岟岠岡岤岥岦岧岨�".split(""),e=0;e!=r[140].length;++e)65533!==r[140][e].charCodeAt(0)&&(a[r[140][e]]=35840+e,t[35840+e]=r[140][e]);for(r[141]="����������������������������������������������������������������岪岮岯岰岲岴岶岹岺岻岼岾峀峂峃峅峆峇峈峉峊峌峍峎峏峐峑峓峔峕峖峗峘峚峛峜峝峞峟峠峢峣峧峩峫峬峮峯峱峲峳峴峵島峷峸峹峺峼峽峾峿崀�崁崄崅崈崉崊崋崌崍崏崐崑崒崓崕崗崘崙崚崜崝崟崠崡崢崣崥崨崪崫崬崯崰崱崲崳崵崶崷崸崹崺崻崼崿嵀嵁嵂嵃嵄嵅嵆嵈嵉嵍嵎嵏嵐嵑嵒嵓嵔嵕嵖嵗嵙嵚嵜嵞嵟嵠嵡嵢嵣嵤嵥嵦嵧嵨嵪嵭嵮嵰嵱嵲嵳嵵嵶嵷嵸嵹嵺嵻嵼嵽嵾嵿嶀嶁嶃嶄嶅嶆嶇嶈嶉嶊嶋嶌嶍嶎嶏嶐嶑嶒嶓嶔嶕嶖嶗嶘嶚嶛嶜嶞嶟嶠�".split(""),e=0;e!=r[141].length;++e)65533!==r[141][e].charCodeAt(0)&&(a[r[141][e]]=36096+e,t[36096+e]=r[141][e]);for(r[142]="����������������������������������������������������������������嶡嶢嶣嶤嶥嶦嶧嶨嶩嶪嶫嶬嶭嶮嶯嶰嶱嶲嶳嶴嶵嶶嶸嶹嶺嶻嶼嶽嶾嶿巀巁巂巃巄巆巇巈巉巊巋巌巎巏巐巑巒巓巔巕巖巗巘巙巚巜巟巠巣巤巪巬巭�巰巵巶巸巹巺巻巼巿帀帄帇帉帊帋帍帎帒帓帗帞帟帠帡帢帣帤帥帨帩帪師帬帯帰帲帳帴帵帶帹帺帾帿幀幁幃幆幇幈幉幊幋幍幎幏幐幑幒幓幖幗幘幙幚幜幝幟幠幣幤幥幦幧幨幩幪幫幬幭幮幯幰幱幵幷幹幾庁庂広庅庈庉庌庍庎庒庘庛庝庡庢庣庤庨庩庪庫庬庮庯庰庱庲庴庺庻庼庽庿廀廁廂廃廄廅�".split(""),e=0;e!=r[142].length;++e)65533!==r[142][e].charCodeAt(0)&&(a[r[142][e]]=36352+e,t[36352+e]=r[142][e]);for(r[143]="����������������������������������������������������������������廆廇廈廋廌廍廎廏廐廔廕廗廘廙廚廜廝廞廟廠廡廢廣廤廥廦廧廩廫廬廭廮廯廰廱廲廳廵廸廹廻廼廽弅弆弇弉弌弍弎弐弒弔弖弙弚弜弝弞弡弢弣弤�弨弫弬弮弰弲弳弴張弶強弸弻弽弾弿彁彂彃彄彅彆彇彈彉彊彋彌彍彎彏彑彔彙彚彛彜彞彟彠彣彥彧彨彫彮彯彲彴彵彶彸彺彽彾彿徃徆徍徎徏徑従徔徖徚徛徝從徟徠徢徣徤徥徦徧復徫徬徯徰徱徲徳徴徶徸徹徺徻徾徿忀忁忂忇忈忊忋忎忓忔忕忚忛応忞忟忢忣忥忦忨忩忬忯忰忲忳忴忶忷忹忺忼怇�".split(""),e=0;e!=r[143].length;++e)65533!==r[143][e].charCodeAt(0)&&(a[r[143][e]]=36608+e,t[36608+e]=r[143][e]);for(r[144]="����������������������������������������������������������������怈怉怋怌怐怑怓怗怘怚怞怟怢怣怤怬怭怮怰怱怲怳怴怶怷怸怹怺怽怾恀恄恅恆恇恈恉恊恌恎恏恑恓恔恖恗恘恛恜恞恟恠恡恥恦恮恱恲恴恵恷恾悀�悁悂悅悆悇悈悊悋悎悏悐悑悓悕悗悘悙悜悞悡悢悤悥悧悩悪悮悰悳悵悶悷悹悺悽悾悿惀惁惂惃惄惇惈惉惌惍惎惏惐惒惓惔惖惗惙惛惞惡惢惣惤惥惪惱惲惵惷惸惻惼惽惾惿愂愃愄愅愇愊愋愌愐愑愒愓愔愖愗愘愙愛愜愝愞愡愢愥愨愩愪愬愭愮愯愰愱愲愳愴愵愶愷愸愹愺愻愼愽愾慀慁慂慃慄慅慆�".split(""),e=0;e!=r[144].length;++e)65533!==r[144][e].charCodeAt(0)&&(a[r[144][e]]=36864+e,t[36864+e]=r[144][e]);for(r[145]="����������������������������������������������������������������慇慉態慍慏慐慒慓慔慖慗慘慙慚慛慜慞慟慠慡慣慤慥慦慩慪慫慬慭慮慯慱慲慳慴慶慸慹慺慻慼慽慾慿憀憁憂憃憄憅憆憇憈憉憊憌憍憏憐憑憒憓憕�憖憗憘憙憚憛憜憞憟憠憡憢憣憤憥憦憪憫憭憮憯憰憱憲憳憴憵憶憸憹憺憻憼憽憿懀懁懃懄懅懆懇應懌懍懎懏懐懓懕懖懗懘懙懚懛懜懝懞懟懠懡懢懣懤懥懧懨懩懪懫懬懭懮懯懰懱懲懳懴懶懷懸懹懺懻懼懽懾戀戁戂戃戄戅戇戉戓戔戙戜戝戞戠戣戦戧戨戩戫戭戯戰戱戲戵戶戸戹戺戻戼扂扄扅扆扊�".split(""),e=0;e!=r[145].length;++e)65533!==r[145][e].charCodeAt(0)&&(a[r[145][e]]=37120+e,t[37120+e]=r[145][e]);for(r[146]="����������������������������������������������������������������扏扐払扖扗扙扚扜扝扞扟扠扡扢扤扥扨扱扲扴扵扷扸扺扻扽抁抂抃抅抆抇抈抋抌抍抎抏抐抔抙抜抝択抣抦抧抩抪抭抮抯抰抲抳抴抶抷抸抺抾拀拁�拃拋拏拑拕拝拞拠拡拤拪拫拰拲拵拸拹拺拻挀挃挄挅挆挊挋挌挍挏挐挒挓挔挕挗挘挙挜挦挧挩挬挭挮挰挱挳挴挵挶挷挸挻挼挾挿捀捁捄捇捈捊捑捒捓捔捖捗捘捙捚捛捜捝捠捤捥捦捨捪捫捬捯捰捲捳捴捵捸捹捼捽捾捿掁掃掄掅掆掋掍掑掓掔掕掗掙掚掛掜掝掞掟採掤掦掫掯掱掲掵掶掹掻掽掿揀�".split(""),e=0;e!=r[146].length;++e)65533!==r[146][e].charCodeAt(0)&&(a[r[146][e]]=37376+e,t[37376+e]=r[146][e]);for(r[147]="����������������������������������������������������������������揁揂揃揅揇揈揊揋揌揑揓揔揕揗揘揙揚換揜揝揟揢揤揥揦揧揨揫揬揮揯揰揱揳揵揷揹揺揻揼揾搃搄搆搇搈搉搊損搎搑搒搕搖搗搘搙搚搝搟搢搣搤�搥搧搨搩搫搮搯搰搱搲搳搵搶搷搸搹搻搼搾摀摂摃摉摋摌摍摎摏摐摑摓摕摖摗摙摚摛摜摝摟摠摡摢摣摤摥摦摨摪摫摬摮摯摰摱摲摳摴摵摶摷摻摼摽摾摿撀撁撃撆撈撉撊撋撌撍撎撏撐撓撔撗撘撚撛撜撝撟撠撡撢撣撥撦撧撨撪撫撯撱撲撳撴撶撹撻撽撾撿擁擃擄擆擇擈擉擊擋擌擏擑擓擔擕擖擙據�".split(""),e=0;e!=r[147].length;++e)65533!==r[147][e].charCodeAt(0)&&(a[r[147][e]]=37632+e,t[37632+e]=r[147][e]);for(r[148]="����������������������������������������������������������������擛擜擝擟擠擡擣擥擧擨擩擪擫擬擭擮擯擰擱擲擳擴擵擶擷擸擹擺擻擼擽擾擿攁攂攃攄攅攆攇攈攊攋攌攍攎攏攐攑攓攔攕攖攗攙攚攛攜攝攞攟攠攡�攢攣攤攦攧攨攩攪攬攭攰攱攲攳攷攺攼攽敀敁敂敃敄敆敇敊敋敍敎敐敒敓敔敗敘敚敜敟敠敡敤敥敧敨敩敪敭敮敯敱敳敵敶數敹敺敻敼敽敾敿斀斁斂斃斄斅斆斈斉斊斍斎斏斒斔斕斖斘斚斝斞斠斢斣斦斨斪斬斮斱斲斳斴斵斶斷斸斺斻斾斿旀旂旇旈旉旊旍旐旑旓旔旕旘旙旚旛旜旝旞旟旡旣旤旪旫�".split(""),e=0;e!=r[148].length;++e)65533!==r[148][e].charCodeAt(0)&&(a[r[148][e]]=37888+e,t[37888+e]=r[148][e]);for(r[149]="����������������������������������������������������������������旲旳旴旵旸旹旻旼旽旾旿昁昄昅昇昈昉昋昍昐昑昒昖昗昘昚昛昜昞昡昢昣昤昦昩昪昫昬昮昰昲昳昷昸昹昺昻昽昿晀時晄晅晆晇晈晉晊晍晎晐晑晘�晙晛晜晝晞晠晢晣晥晧晩晪晫晬晭晱晲晳晵晸晹晻晼晽晿暀暁暃暅暆暈暉暊暋暍暎暏暐暒暓暔暕暘暙暚暛暜暞暟暠暡暢暣暤暥暦暩暪暫暬暭暯暰暱暲暳暵暶暷暸暺暻暼暽暿曀曁曂曃曄曅曆曇曈曉曊曋曌曍曎曏曐曑曒曓曔曕曖曗曘曚曞曟曠曡曢曣曤曥曧曨曪曫曬曭曮曯曱曵曶書曺曻曽朁朂會�".split(""),e=0;e!=r[149].length;++e)65533!==r[149][e].charCodeAt(0)&&(a[r[149][e]]=38144+e,t[38144+e]=r[149][e]);for(r[150]="����������������������������������������������������������������朄朅朆朇朌朎朏朑朒朓朖朘朙朚朜朞朠朡朢朣朤朥朧朩朮朰朲朳朶朷朸朹朻朼朾朿杁杄杅杇杊杋杍杒杔杕杗杘杙杚杛杝杢杣杤杦杧杫杬杮東杴杶�杸杹杺杻杽枀枂枃枅枆枈枊枌枍枎枏枑枒枓枔枖枙枛枟枠枡枤枦枩枬枮枱枲枴枹枺枻枼枽枾枿柀柂柅柆柇柈柉柊柋柌柍柎柕柖柗柛柟柡柣柤柦柧柨柪柫柭柮柲柵柶柷柸柹柺査柼柾栁栂栃栄栆栍栐栒栔栕栘栙栚栛栜栞栟栠栢栣栤栥栦栧栨栫栬栭栮栯栰栱栴栵栶栺栻栿桇桋桍桏桒桖桗桘桙桚桛�".split(""),e=0;e!=r[150].length;++e)65533!==r[150][e].charCodeAt(0)&&(a[r[150][e]]=38400+e,t[38400+e]=r[150][e]);for(r[151]="����������������������������������������������������������������桜桝桞桟桪桬桭桮桯桰桱桲桳桵桸桹桺桻桼桽桾桿梀梂梄梇梈梉梊梋梌梍梎梐梑梒梔梕梖梘梙梚梛梜條梞梟梠梡梣梤梥梩梪梫梬梮梱梲梴梶梷梸�梹梺梻梼梽梾梿棁棃棄棅棆棇棈棊棌棎棏棐棑棓棔棖棗棙棛棜棝棞棟棡棢棤棥棦棧棨棩棪棫棬棭棯棲棳棴棶棷棸棻棽棾棿椀椂椃椄椆椇椈椉椊椌椏椑椓椔椕椖椗椘椙椚椛検椝椞椡椢椣椥椦椧椨椩椪椫椬椮椯椱椲椳椵椶椷椸椺椻椼椾楀楁楃楄楅楆楇楈楉楊楋楌楍楎楏楐楑楒楓楕楖楘楙楛楜楟�".split(""),e=0;e!=r[151].length;++e)65533!==r[151][e].charCodeAt(0)&&(a[r[151][e]]=38656+e,t[38656+e]=r[151][e]);for(r[152]="����������������������������������������������������������������楡楢楤楥楧楨楩楪楬業楯楰楲楳楴極楶楺楻楽楾楿榁榃榅榊榋榌榎榏榐榑榒榓榖榗榙榚榝榞榟榠榡榢榣榤榥榦榩榪榬榮榯榰榲榳榵榶榸榹榺榼榽�榾榿槀槂槃槄槅槆槇槈槉構槍槏槑槒槓槕槖槗様槙槚槜槝槞槡槢槣槤槥槦槧槨槩槪槫槬槮槯槰槱槳槴槵槶槷槸槹槺槻槼槾樀樁樂樃樄樅樆樇樈樉樋樌樍樎樏樐樑樒樓樔樕樖標樚樛樜樝樞樠樢樣樤樥樦樧権樫樬樭樮樰樲樳樴樶樷樸樹樺樻樼樿橀橁橂橃橅橆橈橉橊橋橌橍橎橏橑橒橓橔橕橖橗橚�".split(""),e=0;e!=r[152].length;++e)65533!==r[152][e].charCodeAt(0)&&(a[r[152][e]]=38912+e,t[38912+e]=r[152][e]);for(r[153]="����������������������������������������������������������������橜橝橞機橠橢橣橤橦橧橨橩橪橫橬橭橮橯橰橲橳橴橵橶橷橸橺橻橽橾橿檁檂檃檅檆檇檈檉檊檋檌檍檏檒檓檔檕檖檘檙檚檛檜檝檞檟檡檢檣檤檥檦�檧檨檪檭檮檯檰檱檲檳檴檵檶檷檸檹檺檻檼檽檾檿櫀櫁櫂櫃櫄櫅櫆櫇櫈櫉櫊櫋櫌櫍櫎櫏櫐櫑櫒櫓櫔櫕櫖櫗櫘櫙櫚櫛櫜櫝櫞櫟櫠櫡櫢櫣櫤櫥櫦櫧櫨櫩櫪櫫櫬櫭櫮櫯櫰櫱櫲櫳櫴櫵櫶櫷櫸櫹櫺櫻櫼櫽櫾櫿欀欁欂欃欄欅欆欇欈欉權欋欌欍欎欏欐欑欒欓欔欕欖欗欘欙欚欛欜欝欞欟欥欦欨欩欪欫欬欭欮�".split(""),e=0;e!=r[153].length;++e)65533!==r[153][e].charCodeAt(0)&&(a[r[153][e]]=39168+e,t[39168+e]=r[153][e]);for(r[154]="����������������������������������������������������������������欯欰欱欳欴欵欶欸欻欼欽欿歀歁歂歄歅歈歊歋歍歎歏歐歑歒歓歔歕歖歗歘歚歛歜歝歞歟歠歡歨歩歫歬歭歮歯歰歱歲歳歴歵歶歷歸歺歽歾歿殀殅殈�殌殎殏殐殑殔殕殗殘殙殜殝殞殟殠殢殣殤殥殦殧殨殩殫殬殭殮殯殰殱殲殶殸殹殺殻殼殽殾毀毃毄毆毇毈毉毊毌毎毐毑毘毚毜毝毞毟毠毢毣毤毥毦毧毨毩毬毭毮毰毱毲毴毶毷毸毺毻毼毾毿氀氁氂氃氄氈氉氊氋氌氎氒気氜氝氞氠氣氥氫氬氭氱氳氶氷氹氺氻氼氾氿汃汄汅汈汋汌汍汎汏汑汒汓汖汘�".split(""),e=0;e!=r[154].length;++e)65533!==r[154][e].charCodeAt(0)&&(a[r[154][e]]=39424+e,t[39424+e]=r[154][e]);for(r[155]="����������������������������������������������������������������汙汚汢汣汥汦汧汫汬汭汮汯汱汳汵汷汸決汻汼汿沀沄沇沊沋沍沎沑沒沕沖沗沘沚沜沝沞沠沢沨沬沯沰沴沵沶沷沺泀況泂泃泆泇泈泋泍泎泏泑泒泘�泙泚泜泝泟泤泦泧泩泬泭泲泴泹泿洀洂洃洅洆洈洉洊洍洏洐洑洓洔洕洖洘洜洝洟洠洡洢洣洤洦洨洩洬洭洯洰洴洶洷洸洺洿浀浂浄浉浌浐浕浖浗浘浛浝浟浡浢浤浥浧浨浫浬浭浰浱浲浳浵浶浹浺浻浽浾浿涀涁涃涄涆涇涊涋涍涏涐涒涖涗涘涙涚涜涢涥涬涭涰涱涳涴涶涷涹涺涻涼涽涾淁淂淃淈淉淊�".split(""),e=0;e!=r[155].length;++e)65533!==r[155][e].charCodeAt(0)&&(a[r[155][e]]=39680+e,t[39680+e]=r[155][e]);for(r[156]="����������������������������������������������������������������淍淎淏淐淒淓淔淕淗淚淛淜淟淢淣淥淧淨淩淪淭淯淰淲淴淵淶淸淺淽淾淿渀渁渂渃渄渆渇済渉渋渏渒渓渕渘渙減渜渞渟渢渦渧渨渪測渮渰渱渳渵�渶渷渹渻渼渽渾渿湀湁湂湅湆湇湈湉湊湋湌湏湐湑湒湕湗湙湚湜湝湞湠湡湢湣湤湥湦湧湨湩湪湬湭湯湰湱湲湳湴湵湶湷湸湹湺湻湼湽満溁溂溄溇溈溊溋溌溍溎溑溒溓溔溕準溗溙溚溛溝溞溠溡溣溤溦溨溩溫溬溭溮溰溳溵溸溹溼溾溿滀滃滄滅滆滈滉滊滌滍滎滐滒滖滘滙滛滜滝滣滧滪滫滬滭滮滯�".split(""),e=0;e!=r[156].length;++e)65533!==r[156][e].charCodeAt(0)&&(a[r[156][e]]=39936+e,t[39936+e]=r[156][e]);for(r[157]="����������������������������������������������������������������滰滱滲滳滵滶滷滸滺滻滼滽滾滿漀漁漃漄漅漇漈漊漋漌漍漎漐漑漒漖漗漘漙漚漛漜漝漞漟漡漢漣漥漦漧漨漬漮漰漲漴漵漷漸漹漺漻漼漽漿潀潁潂�潃潄潅潈潉潊潌潎潏潐潑潒潓潔潕潖潗潙潚潛潝潟潠潡潣潤潥潧潨潩潪潫潬潯潰潱潳潵潶潷潹潻潽潾潿澀澁澂澃澅澆澇澊澋澏澐澑澒澓澔澕澖澗澘澙澚澛澝澞澟澠澢澣澤澥澦澨澩澪澫澬澭澮澯澰澱澲澴澵澷澸澺澻澼澽澾澿濁濃濄濅濆濇濈濊濋濌濍濎濏濐濓濔濕濖濗濘濙濚濛濜濝濟濢濣濤濥�".split(""),e=0;e!=r[157].length;++e)65533!==r[157][e].charCodeAt(0)&&(a[r[157][e]]=40192+e,t[40192+e]=r[157][e]);for(r[158]="����������������������������������������������������������������濦濧濨濩濪濫濬濭濰濱濲濳濴濵濶濷濸濹濺濻濼濽濾濿瀀瀁瀂瀃瀄瀅瀆瀇瀈瀉瀊瀋瀌瀍瀎瀏瀐瀒瀓瀔瀕瀖瀗瀘瀙瀜瀝瀞瀟瀠瀡瀢瀤瀥瀦瀧瀨瀩瀪�瀫瀬瀭瀮瀯瀰瀱瀲瀳瀴瀶瀷瀸瀺瀻瀼瀽瀾瀿灀灁灂灃灄灅灆灇灈灉灊灋灍灎灐灑灒灓灔灕灖灗灘灙灚灛灜灝灟灠灡灢灣灤灥灦灧灨灩灪灮灱灲灳灴灷灹灺灻災炁炂炃炄炆炇炈炋炌炍炏炐炑炓炗炘炚炛炞炟炠炡炢炣炤炥炦炧炨炩炪炰炲炴炵炶為炾炿烄烅烆烇烉烋烌烍烎烏烐烑烒烓烔烕烖烗烚�".split(""),e=0;e!=r[158].length;++e)65533!==r[158][e].charCodeAt(0)&&(a[r[158][e]]=40448+e,t[40448+e]=r[158][e]);for(r[159]="����������������������������������������������������������������烜烝烞烠烡烢烣烥烪烮烰烱烲烳烴烵烶烸烺烻烼烾烿焀焁焂焃焄焅焆焇焈焋焌焍焎焏焑焒焔焗焛焜焝焞焟焠無焢焣焤焥焧焨焩焪焫焬焭焮焲焳焴�焵焷焸焹焺焻焼焽焾焿煀煁煂煃煄煆煇煈煉煋煍煏煐煑煒煓煔煕煖煗煘煙煚煛煝煟煠煡煢煣煥煩煪煫煬煭煯煰煱煴煵煶煷煹煻煼煾煿熀熁熂熃熅熆熇熈熉熋熌熍熎熐熑熒熓熕熖熗熚熛熜熝熞熡熢熣熤熥熦熧熩熪熫熭熮熯熰熱熲熴熶熷熸熺熻熼熽熾熿燀燁燂燄燅燆燇燈燉燊燋燌燍燏燐燑燒燓�".split(""),e=0;e!=r[159].length;++e)65533!==r[159][e].charCodeAt(0)&&(a[r[159][e]]=40704+e,t[40704+e]=r[159][e]);for(r[160]="����������������������������������������������������������������燖燗燘燙燚燛燜燝燞營燡燢燣燤燦燨燩燪燫燬燭燯燰燱燲燳燴燵燶燷燸燺燻燼燽燾燿爀爁爂爃爄爅爇爈爉爊爋爌爍爎爏爐爑爒爓爔爕爖爗爘爙爚�爛爜爞爟爠爡爢爣爤爥爦爧爩爫爭爮爯爲爳爴爺爼爾牀牁牂牃牄牅牆牉牊牋牎牏牐牑牓牔牕牗牘牚牜牞牠牣牤牥牨牪牫牬牭牰牱牳牴牶牷牸牻牼牽犂犃犅犆犇犈犉犌犎犐犑犓犔犕犖犗犘犙犚犛犜犝犞犠犡犢犣犤犥犦犧犨犩犪犫犮犱犲犳犵犺犻犼犽犾犿狀狅狆狇狉狊狋狌狏狑狓狔狕狖狘狚狛�".split(""),e=0;e!=r[160].length;++e)65533!==r[160][e].charCodeAt(0)&&(a[r[160][e]]=40960+e,t[40960+e]=r[160][e]);for(r[161]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������　、。·ˉˇ¨〃々—～‖…‘’“”〔〕〈〉《》「」『』〖〗【】±×÷∶∧∨∑∏∪∩∈∷√⊥∥∠⌒⊙∫∮≡≌≈∽∝≠≮≯≤≥∞∵∴♂♀°′″℃＄¤￠￡‰§№☆★○●◎◇◆□■△▲※→←↑↓〓�".split(""),e=0;e!=r[161].length;++e)65533!==r[161][e].charCodeAt(0)&&(a[r[161][e]]=41216+e,t[41216+e]=r[161][e]);for(r[162]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������ⅰⅱⅲⅳⅴⅵⅶⅷⅸⅹ������⒈⒉⒊⒋⒌⒍⒎⒏⒐⒑⒒⒓⒔⒕⒖⒗⒘⒙⒚⒛⑴⑵⑶⑷⑸⑹⑺⑻⑼⑽⑾⑿⒀⒁⒂⒃⒄⒅⒆⒇①②③④⑤⑥⑦⑧⑨⑩��㈠㈡㈢㈣㈤㈥㈦㈧㈨㈩��ⅠⅡⅢⅣⅤⅥⅦⅧⅨⅩⅪⅫ���".split(""),e=0;e!=r[162].length;++e)65533!==r[162][e].charCodeAt(0)&&(a[r[162][e]]=41472+e,t[41472+e]=r[162][e]);for(r[163]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������！＂＃￥％＆＇（）＊＋，－．／０１２３４５６７８９：；＜＝＞？＠ＡＢＣＤＥＦＧＨＩＪＫＬＭＮＯＰＱＲＳＴＵＶＷＸＹＺ［＼］＾＿｀ａｂｃｄｅｆｇｈｉｊｋｌｍｎｏｐｑｒｓｔｕｖｗｘｙｚ｛｜｝￣�".split(""),e=0;e!=r[163].length;++e)65533!==r[163][e].charCodeAt(0)&&(a[r[163][e]]=41728+e,t[41728+e]=r[163][e]);for(r[164]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������ぁあぃいぅうぇえぉおかがきぎくぐけげこごさざしじすずせぜそぞただちぢっつづてでとどなにぬねのはばぱひびぴふぶぷへべぺほぼぽまみむめもゃやゅゆょよらりるれろゎわゐゑをん������������".split(""),e=0;e!=r[164].length;++e)65533!==r[164][e].charCodeAt(0)&&(a[r[164][e]]=41984+e,t[41984+e]=r[164][e]);for(r[165]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������ァアィイゥウェエォオカガキギクグケゲコゴサザシジスズセゼソゾタダチヂッツヅテデトドナニヌネノハバパヒビピフブプヘベペホボポマミムメモャヤュユョヨラリルレロヮワヰヱヲンヴヵヶ���������".split(""),e=0;e!=r[165].length;++e)65533!==r[165][e].charCodeAt(0)&&(a[r[165][e]]=42240+e,t[42240+e]=r[165][e]);for(r[166]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������ΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩ��������αβγδεζηθικλμνξοπρστυφχψω�������︵︶︹︺︿﹀︽︾﹁﹂﹃﹄��︻︼︷︸︱�︳︴����������".split(""),e=0;e!=r[166].length;++e)65533!==r[166][e].charCodeAt(0)&&(a[r[166][e]]=42496+e,t[42496+e]=r[166][e]);for(r[167]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������АБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ���������������абвгдеёжзийклмнопрстуфхцчшщъыьэюя��������������".split(""),e=0;e!=r[167].length;++e)65533!==r[167][e].charCodeAt(0)&&(a[r[167][e]]=42752+e,t[42752+e]=r[167][e]);for(r[168]="����������������������������������������������������������������ˊˋ˙–―‥‵℅℉↖↗↘↙∕∟∣≒≦≧⊿═║╒╓╔╕╖╗╘╙╚╛╜╝╞╟╠╡╢╣╤╥╦╧╨╩╪╫╬╭╮╯╰╱╲╳▁▂▃▄▅▆▇�█▉▊▋▌▍▎▏▓▔▕▼▽◢◣◤◥☉⊕〒〝〞�����������āáǎàēéěèīíǐìōóǒòūúǔùǖǘǚǜüêɑ�ńň�ɡ����ㄅㄆㄇㄈㄉㄊㄋㄌㄍㄎㄏㄐㄑㄒㄓㄔㄕㄖㄗㄘㄙㄚㄛㄜㄝㄞㄟㄠㄡㄢㄣㄤㄥㄦㄧㄨㄩ����������������������".split(""),e=0;e!=r[168].length;++e)65533!==r[168][e].charCodeAt(0)&&(a[r[168][e]]=43008+e,t[43008+e]=r[168][e]);for(r[169]="����������������������������������������������������������������〡〢〣〤〥〦〧〨〩㊣㎎㎏㎜㎝㎞㎡㏄㏎㏑㏒㏕︰￢￤�℡㈱�‐���ー゛゜ヽヾ〆ゝゞ﹉﹊﹋﹌﹍﹎﹏﹐﹑﹒﹔﹕﹖﹗﹙﹚﹛﹜﹝﹞﹟﹠﹡�﹢﹣﹤﹥﹦﹨﹩﹪﹫�������������〇�������������─━│┃┄┅┆┇┈┉┊┋┌┍┎┏┐┑┒┓└┕┖┗┘┙┚┛├┝┞┟┠┡┢┣┤┥┦┧┨┩┪┫┬┭┮┯┰┱┲┳┴┵┶┷┸┹┺┻┼┽┾┿╀╁╂╃╄╅╆╇╈╉╊╋����������������".split(""),e=0;e!=r[169].length;++e)65533!==r[169][e].charCodeAt(0)&&(a[r[169][e]]=43264+e,t[43264+e]=r[169][e]);for(r[170]="����������������������������������������������������������������狜狝狟狢狣狤狥狦狧狪狫狵狶狹狽狾狿猀猂猄猅猆猇猈猉猋猌猍猏猐猑猒猔猘猙猚猟猠猣猤猦猧猨猭猯猰猲猳猵猶猺猻猼猽獀獁獂獃獄獅獆獇獈�獉獊獋獌獎獏獑獓獔獕獖獘獙獚獛獜獝獞獟獡獢獣獤獥獦獧獨獩獪獫獮獰獱�����������������������������������������������������������������������������������������������".split(""),e=0;e!=r[170].length;++e)65533!==r[170][e].charCodeAt(0)&&(a[r[170][e]]=43520+e,t[43520+e]=r[170][e]);for(r[171]="����������������������������������������������������������������獲獳獴獵獶獷獸獹獺獻獼獽獿玀玁玂玃玅玆玈玊玌玍玏玐玒玓玔玕玗玘玙玚玜玝玞玠玡玣玤玥玦玧玨玪玬玭玱玴玵玶玸玹玼玽玾玿珁珃珄珅珆珇�珋珌珎珒珓珔珕珖珗珘珚珛珜珝珟珡珢珣珤珦珨珪珫珬珮珯珰珱珳珴珵珶珷�����������������������������������������������������������������������������������������������".split(""),e=0;e!=r[171].length;++e)65533!==r[171][e].charCodeAt(0)&&(a[r[171][e]]=43776+e,t[43776+e]=r[171][e]);for(r[172]="����������������������������������������������������������������珸珹珺珻珼珽現珿琀琁琂琄琇琈琋琌琍琎琑琒琓琔琕琖琗琘琙琜琝琞琟琠琡琣琤琧琩琫琭琯琱琲琷琸琹琺琻琽琾琿瑀瑂瑃瑄瑅瑆瑇瑈瑉瑊瑋瑌瑍�瑎瑏瑐瑑瑒瑓瑔瑖瑘瑝瑠瑡瑢瑣瑤瑥瑦瑧瑨瑩瑪瑫瑬瑮瑯瑱瑲瑳瑴瑵瑸瑹瑺�����������������������������������������������������������������������������������������������".split(""),e=0;e!=r[172].length;++e)65533!==r[172][e].charCodeAt(0)&&(a[r[172][e]]=44032+e,t[44032+e]=r[172][e]);for(r[173]="����������������������������������������������������������������瑻瑼瑽瑿璂璄璅璆璈璉璊璌璍璏璑璒璓璔璕璖璗璘璙璚璛璝璟璠璡璢璣璤璥璦璪璫璬璭璮璯環璱璲璳璴璵璶璷璸璹璻璼璽璾璿瓀瓁瓂瓃瓄瓅瓆瓇�瓈瓉瓊瓋瓌瓍瓎瓏瓐瓑瓓瓔瓕瓖瓗瓘瓙瓚瓛瓝瓟瓡瓥瓧瓨瓩瓪瓫瓬瓭瓰瓱瓲�����������������������������������������������������������������������������������������������".split(""),e=0;e!=r[173].length;++e)65533!==r[173][e].charCodeAt(0)&&(a[r[173][e]]=44288+e,t[44288+e]=r[173][e]);for(r[174]="����������������������������������������������������������������瓳瓵瓸瓹瓺瓻瓼瓽瓾甀甁甂甃甅甆甇甈甉甊甋甌甎甐甒甔甕甖甗甛甝甞甠甡產産甤甦甧甪甮甴甶甹甼甽甿畁畂畃畄畆畇畉畊畍畐畑畒畓畕畖畗畘�畝畞畟畠畡畢畣畤畧畨畩畫畬畭畮畯異畱畳畵當畷畺畻畼畽畾疀疁疂疄疅疇�����������������������������������������������������������������������������������������������".split(""),e=0;e!=r[174].length;++e)65533!==r[174][e].charCodeAt(0)&&(a[r[174][e]]=44544+e,t[44544+e]=r[174][e]);for(r[175]="����������������������������������������������������������������疈疉疊疌疍疎疐疓疕疘疛疜疞疢疦疧疨疩疪疭疶疷疺疻疿痀痁痆痋痌痎痏痐痑痓痗痙痚痜痝痟痠痡痥痩痬痭痮痯痲痳痵痶痷痸痺痻痽痾瘂瘄瘆瘇�瘈瘉瘋瘍瘎瘏瘑瘒瘓瘔瘖瘚瘜瘝瘞瘡瘣瘧瘨瘬瘮瘯瘱瘲瘶瘷瘹瘺瘻瘽癁療癄�����������������������������������������������������������������������������������������������".split(""),e=0;e!=r[175].length;++e)65533!==r[175][e].charCodeAt(0)&&(a[r[175][e]]=44800+e,t[44800+e]=r[175][e]);for(r[176]="����������������������������������������������������������������癅癆癇癈癉癊癋癎癏癐癑癒癓癕癗癘癙癚癛癝癟癠癡癢癤癥癦癧癨癩癪癬癭癮癰癱癲癳癴癵癶癷癹発發癿皀皁皃皅皉皊皌皍皏皐皒皔皕皗皘皚皛�皜皝皞皟皠皡皢皣皥皦皧皨皩皪皫皬皭皯皰皳皵皶皷皸皹皺皻皼皽皾盀盁盃啊阿埃挨哎唉哀皑癌蔼矮艾碍爱隘鞍氨安俺按暗岸胺案肮昂盎凹敖熬翱袄傲奥懊澳芭捌扒叭吧笆八疤巴拔跋靶把耙坝霸罢爸白柏百摆佰败拜稗斑班搬扳般颁板版扮拌伴瓣半办绊邦帮梆榜膀绑棒磅蚌镑傍谤苞胞包褒剥�".split(""),e=0;e!=r[176].length;++e)65533!==r[176][e].charCodeAt(0)&&(a[r[176][e]]=45056+e,t[45056+e]=r[176][e]);for(r[177]="����������������������������������������������������������������盄盇盉盋盌盓盕盙盚盜盝盞盠盡盢監盤盦盧盨盩盪盫盬盭盰盳盵盶盷盺盻盽盿眀眂眃眅眆眊県眎眏眐眑眒眓眔眕眖眗眘眛眜眝眞眡眣眤眥眧眪眫�眬眮眰眱眲眳眴眹眻眽眾眿睂睄睅睆睈睉睊睋睌睍睎睏睒睓睔睕睖睗睘睙睜薄雹保堡饱宝抱报暴豹鲍爆杯碑悲卑北辈背贝钡倍狈备惫焙被奔苯本笨崩绷甭泵蹦迸逼鼻比鄙笔彼碧蓖蔽毕毙毖币庇痹闭敝弊必辟壁臂避陛鞭边编贬扁便变卞辨辩辫遍标彪膘表鳖憋别瘪彬斌濒滨宾摈兵冰柄丙秉饼炳�".split(""),e=0;e!=r[177].length;++e)65533!==r[177][e].charCodeAt(0)&&(a[r[177][e]]=45312+e,t[45312+e]=r[177][e]);for(r[178]="����������������������������������������������������������������睝睞睟睠睤睧睩睪睭睮睯睰睱睲睳睴睵睶睷睸睺睻睼瞁瞂瞃瞆瞇瞈瞉瞊瞋瞏瞐瞓瞔瞕瞖瞗瞘瞙瞚瞛瞜瞝瞞瞡瞣瞤瞦瞨瞫瞭瞮瞯瞱瞲瞴瞶瞷瞸瞹瞺�瞼瞾矀矁矂矃矄矅矆矇矈矉矊矋矌矎矏矐矑矒矓矔矕矖矘矙矚矝矞矟矠矡矤病并玻菠播拨钵波博勃搏铂箔伯帛舶脖膊渤泊驳捕卜哺补埠不布步簿部怖擦猜裁材才财睬踩采彩菜蔡餐参蚕残惭惨灿苍舱仓沧藏操糙槽曹草厕策侧册测层蹭插叉茬茶查碴搽察岔差诧拆柴豺搀掺蝉馋谗缠铲产阐颤昌猖�".split(""),e=0;e!=r[178].length;++e)65533!==r[178][e].charCodeAt(0)&&(a[r[178][e]]=45568+e,t[45568+e]=r[178][e]);for(r[179]="����������������������������������������������������������������矦矨矪矯矰矱矲矴矵矷矹矺矻矼砃砄砅砆砇砈砊砋砎砏砐砓砕砙砛砞砠砡砢砤砨砪砫砮砯砱砲砳砵砶砽砿硁硂硃硄硆硈硉硊硋硍硏硑硓硔硘硙硚�硛硜硞硟硠硡硢硣硤硥硦硧硨硩硯硰硱硲硳硴硵硶硸硹硺硻硽硾硿碀碁碂碃场尝常长偿肠厂敞畅唱倡超抄钞朝嘲潮巢吵炒车扯撤掣彻澈郴臣辰尘晨忱沉陈趁衬撑称城橙成呈乘程惩澄诚承逞骋秤吃痴持匙池迟弛驰耻齿侈尺赤翅斥炽充冲虫崇宠抽酬畴踌稠愁筹仇绸瞅丑臭初出橱厨躇锄雏滁除楚�".split(""),e=0;e!=r[179].length;++e)65533!==r[179][e].charCodeAt(0)&&(a[r[179][e]]=45824+e,t[45824+e]=r[179][e]);for(r[180]="����������������������������������������������������������������碄碅碆碈碊碋碏碐碒碔碕碖碙碝碞碠碢碤碦碨碩碪碫碬碭碮碯碵碶碷碸確碻碼碽碿磀磂磃磄磆磇磈磌磍磎磏磑磒磓磖磗磘磚磛磜磝磞磟磠磡磢磣�磤磥磦磧磩磪磫磭磮磯磰磱磳磵磶磸磹磻磼磽磾磿礀礂礃礄礆礇礈礉礊礋礌础储矗搐触处揣川穿椽传船喘串疮窗幢床闯创吹炊捶锤垂春椿醇唇淳纯蠢戳绰疵茨磁雌辞慈瓷词此刺赐次聪葱囱匆从丛凑粗醋簇促蹿篡窜摧崔催脆瘁粹淬翠村存寸磋撮搓措挫错搭达答瘩打大呆歹傣戴带殆代贷袋待逮�".split(""),e=0;e!=r[180].length;++e)65533!==r[180][e].charCodeAt(0)&&(a[r[180][e]]=46080+e,t[46080+e]=r[180][e]);for(r[181]="����������������������������������������������������������������礍礎礏礐礑礒礔礕礖礗礘礙礚礛礜礝礟礠礡礢礣礥礦礧礨礩礪礫礬礭礮礯礰礱礲礳礵礶礷礸礹礽礿祂祃祄祅祇祊祋祌祍祎祏祐祑祒祔祕祘祙祡祣�祤祦祩祪祫祬祮祰祱祲祳祴祵祶祹祻祼祽祾祿禂禃禆禇禈禉禋禌禍禎禐禑禒怠耽担丹单郸掸胆旦氮但惮淡诞弹蛋当挡党荡档刀捣蹈倒岛祷导到稻悼道盗德得的蹬灯登等瞪凳邓堤低滴迪敌笛狄涤翟嫡抵底地蒂第帝弟递缔颠掂滇碘点典靛垫电佃甸店惦奠淀殿碉叼雕凋刁掉吊钓调跌爹碟蝶迭谍叠�".split(""),e=0;e!=r[181].length;++e)65533!==r[181][e].charCodeAt(0)&&(a[r[181][e]]=46336+e,t[46336+e]=r[181][e]);for(r[182]="����������������������������������������������������������������禓禔禕禖禗禘禙禛禜禝禞禟禠禡禢禣禤禥禦禨禩禪禫禬禭禮禯禰禱禲禴禵禶禷禸禼禿秂秄秅秇秈秊秌秎秏秐秓秔秖秗秙秚秛秜秝秞秠秡秢秥秨秪�秬秮秱秲秳秴秵秶秷秹秺秼秾秿稁稄稅稇稈稉稊稌稏稐稑稒稓稕稖稘稙稛稜丁盯叮钉顶鼎锭定订丢东冬董懂动栋侗恫冻洞兜抖斗陡豆逗痘都督毒犊独读堵睹赌杜镀肚度渡妒端短锻段断缎堆兑队对墩吨蹲敦顿囤钝盾遁掇哆多夺垛躲朵跺舵剁惰堕蛾峨鹅俄额讹娥恶厄扼遏鄂饿恩而儿耳尔饵洱二�".split(""),e=0;e!=r[182].length;++e)65533!==r[182][e].charCodeAt(0)&&(a[r[182][e]]=46592+e,t[46592+e]=r[182][e]);for(r[183]="����������������������������������������������������������������稝稟稡稢稤稥稦稧稨稩稪稫稬稭種稯稰稱稲稴稵稶稸稺稾穀穁穂穃穄穅穇穈穉穊穋穌積穎穏穐穒穓穔穕穖穘穙穚穛穜穝穞穟穠穡穢穣穤穥穦穧穨�穩穪穫穬穭穮穯穱穲穳穵穻穼穽穾窂窅窇窉窊窋窌窎窏窐窓窔窙窚窛窞窡窢贰发罚筏伐乏阀法珐藩帆番翻樊矾钒繁凡烦反返范贩犯饭泛坊芳方肪房防妨仿访纺放菲非啡飞肥匪诽吠肺废沸费芬酚吩氛分纷坟焚汾粉奋份忿愤粪丰封枫蜂峰锋风疯烽逢冯缝讽奉凤佛否夫敷肤孵扶拂辐幅氟符伏俘服�".split(""),e=0;e!=r[183].length;++e)65533!==r[183][e].charCodeAt(0)&&(a[r[183][e]]=46848+e,t[46848+e]=r[183][e]);for(r[184]="����������������������������������������������������������������窣窤窧窩窪窫窮窯窰窱窲窴窵窶窷窸窹窺窻窼窽窾竀竁竂竃竄竅竆竇竈竉竊竌竍竎竏竐竑竒竓竔竕竗竘竚竛竜竝竡竢竤竧竨竩竪竫竬竮竰竱竲竳�竴竵競竷竸竻竼竾笀笁笂笅笇笉笌笍笎笐笒笓笖笗笘笚笜笝笟笡笢笣笧笩笭浮涪福袱弗甫抚辅俯釜斧脯腑府腐赴副覆赋复傅付阜父腹负富讣附妇缚咐噶嘎该改概钙盖溉干甘杆柑竿肝赶感秆敢赣冈刚钢缸肛纲岗港杠篙皋高膏羔糕搞镐稿告哥歌搁戈鸽胳疙割革葛格蛤阁隔铬个各给根跟耕更庚羹�".split(""),e=0;e!=r[184].length;++e)65533!==r[184][e].charCodeAt(0)&&(a[r[184][e]]=47104+e,t[47104+e]=r[184][e]);for(r[185]="����������������������������������������������������������������笯笰笲笴笵笶笷笹笻笽笿筀筁筂筃筄筆筈筊筍筎筓筕筗筙筜筞筟筡筣筤筥筦筧筨筩筪筫筬筭筯筰筳筴筶筸筺筼筽筿箁箂箃箄箆箇箈箉箊箋箌箎箏�箑箒箓箖箘箙箚箛箞箟箠箣箤箥箮箯箰箲箳箵箶箷箹箺箻箼箽箾箿節篂篃範埂耿梗工攻功恭龚供躬公宫弓巩汞拱贡共钩勾沟苟狗垢构购够辜菇咕箍估沽孤姑鼓古蛊骨谷股故顾固雇刮瓜剐寡挂褂乖拐怪棺关官冠观管馆罐惯灌贯光广逛瑰规圭硅归龟闺轨鬼诡癸桂柜跪贵刽辊滚棍锅郭国果裹过哈�".split(""),e=0;e!=r[185].length;++e)65533!==r[185][e].charCodeAt(0)&&(a[r[185][e]]=47360+e,t[47360+e]=r[185][e]);for(r[186]="����������������������������������������������������������������篅篈築篊篋篍篎篏篐篒篔篕篖篗篘篛篜篞篟篠篢篣篤篧篨篩篫篬篭篯篰篲篳篴篵篶篸篹篺篻篽篿簀簁簂簃簄簅簆簈簉簊簍簎簐簑簒簓簔簕簗簘簙�簚簛簜簝簞簠簡簢簣簤簥簨簩簫簬簭簮簯簰簱簲簳簴簵簶簷簹簺簻簼簽簾籂骸孩海氦亥害骇酣憨邯韩含涵寒函喊罕翰撼捍旱憾悍焊汗汉夯杭航壕嚎豪毫郝好耗号浩呵喝荷菏核禾和何合盒貉阂河涸赫褐鹤贺嘿黑痕很狠恨哼亨横衡恒轰哄烘虹鸿洪宏弘红喉侯猴吼厚候后呼乎忽瑚壶葫胡蝴狐糊湖�".split(""),e=0;e!=r[186].length;++e)65533!==r[186][e].charCodeAt(0)&&(a[r[186][e]]=47616+e,t[47616+e]=r[186][e]);for(r[187]="����������������������������������������������������������������籃籄籅籆籇籈籉籊籋籌籎籏籐籑籒籓籔籕籖籗籘籙籚籛籜籝籞籟籠籡籢籣籤籥籦籧籨籩籪籫籬籭籮籯籰籱籲籵籶籷籸籹籺籾籿粀粁粂粃粄粅粆粇�粈粊粋粌粍粎粏粐粓粔粖粙粚粛粠粡粣粦粧粨粩粫粬粭粯粰粴粵粶粷粸粺粻弧虎唬护互沪户花哗华猾滑画划化话槐徊怀淮坏欢环桓还缓换患唤痪豢焕涣宦幻荒慌黄磺蝗簧皇凰惶煌晃幌恍谎灰挥辉徽恢蛔回毁悔慧卉惠晦贿秽会烩汇讳诲绘荤昏婚魂浑混豁活伙火获或惑霍货祸击圾基机畸稽积箕�".split(""),e=0;e!=r[187].length;++e)65533!==r[187][e].charCodeAt(0)&&(a[r[187][e]]=47872+e,t[47872+e]=r[187][e]);for(r[188]="����������������������������������������������������������������粿糀糂糃糄糆糉糋糎糏糐糑糒糓糔糘糚糛糝糞糡糢糣糤糥糦糧糩糪糫糬糭糮糰糱糲糳糴糵糶糷糹糺糼糽糾糿紀紁紂紃約紅紆紇紈紉紋紌納紎紏紐�紑紒紓純紕紖紗紘紙級紛紜紝紞紟紡紣紤紥紦紨紩紪紬紭紮細紱紲紳紴紵紶肌饥迹激讥鸡姬绩缉吉极棘辑籍集及急疾汲即嫉级挤几脊己蓟技冀季伎祭剂悸济寄寂计记既忌际妓继纪嘉枷夹佳家加荚颊贾甲钾假稼价架驾嫁歼监坚尖笺间煎兼肩艰奸缄茧检柬碱硷拣捡简俭剪减荐槛鉴践贱见键箭件�".split(""),e=0;e!=r[188].length;++e)65533!==r[188][e].charCodeAt(0)&&(a[r[188][e]]=48128+e,t[48128+e]=r[188][e]);for(r[189]="����������������������������������������������������������������紷紸紹紺紻紼紽紾紿絀絁終絃組絅絆絇絈絉絊絋経絍絎絏結絑絒絓絔絕絖絗絘絙絚絛絜絝絞絟絠絡絢絣絤絥給絧絨絩絪絫絬絭絯絰統絲絳絴絵絶�絸絹絺絻絼絽絾絿綀綁綂綃綄綅綆綇綈綉綊綋綌綍綎綏綐綑綒經綔綕綖綗綘健舰剑饯渐溅涧建僵姜将浆江疆蒋桨奖讲匠酱降蕉椒礁焦胶交郊浇骄娇嚼搅铰矫侥脚狡角饺缴绞剿教酵轿较叫窖揭接皆秸街阶截劫节桔杰捷睫竭洁结解姐戒藉芥界借介疥诫届巾筋斤金今津襟紧锦仅谨进靳晋禁近烬浸�".split(""),e=0;e!=r[189].length;++e)65533!==r[189][e].charCodeAt(0)&&(a[r[189][e]]=48384+e,t[48384+e]=r[189][e]);for(r[190]="����������������������������������������������������������������継続綛綜綝綞綟綠綡綢綣綤綥綧綨綩綪綫綬維綯綰綱網綳綴綵綶綷綸綹綺綻綼綽綾綿緀緁緂緃緄緅緆緇緈緉緊緋緌緍緎総緐緑緒緓緔緕緖緗緘緙�線緛緜緝緞緟締緡緢緣緤緥緦緧編緩緪緫緬緭緮緯緰緱緲緳練緵緶緷緸緹緺尽劲荆兢茎睛晶鲸京惊精粳经井警景颈静境敬镜径痉靖竟竞净炯窘揪究纠玖韭久灸九酒厩救旧臼舅咎就疚鞠拘狙疽居驹菊局咀矩举沮聚拒据巨具距踞锯俱句惧炬剧捐鹃娟倦眷卷绢撅攫抉掘倔爵觉决诀绝均菌钧军君峻�".split(""),e=0;e!=r[190].length;++e)65533!==r[190][e].charCodeAt(0)&&(a[r[190][e]]=48640+e,t[48640+e]=r[190][e]);for(r[191]="����������������������������������������������������������������緻緼緽緾緿縀縁縂縃縄縅縆縇縈縉縊縋縌縍縎縏縐縑縒縓縔縕縖縗縘縙縚縛縜縝縞縟縠縡縢縣縤縥縦縧縨縩縪縫縬縭縮縯縰縱縲縳縴縵縶縷縸縹�縺縼總績縿繀繂繃繄繅繆繈繉繊繋繌繍繎繏繐繑繒繓織繕繖繗繘繙繚繛繜繝俊竣浚郡骏喀咖卡咯开揩楷凯慨刊堪勘坎砍看康慷糠扛抗亢炕考拷烤靠坷苛柯棵磕颗科壳咳可渴克刻客课肯啃垦恳坑吭空恐孔控抠口扣寇枯哭窟苦酷库裤夸垮挎跨胯块筷侩快宽款匡筐狂框矿眶旷况亏盔岿窥葵奎魁傀�".split(""),e=0;e!=r[191].length;++e)65533!==r[191][e].charCodeAt(0)&&(a[r[191][e]]=48896+e,t[48896+e]=r[191][e]);for(r[192]="����������������������������������������������������������������繞繟繠繡繢繣繤繥繦繧繨繩繪繫繬繭繮繯繰繱繲繳繴繵繶繷繸繹繺繻繼繽繾繿纀纁纃纄纅纆纇纈纉纊纋續纍纎纏纐纑纒纓纔纕纖纗纘纙纚纜纝纞�纮纴纻纼绖绤绬绹缊缐缞缷缹缻缼缽缾缿罀罁罃罆罇罈罉罊罋罌罍罎罏罒罓馈愧溃坤昆捆困括扩廓阔垃拉喇蜡腊辣啦莱来赖蓝婪栏拦篮阑兰澜谰揽览懒缆烂滥琅榔狼廊郎朗浪捞劳牢老佬姥酪烙涝勒乐雷镭蕾磊累儡垒擂肋类泪棱楞冷厘梨犁黎篱狸离漓理李里鲤礼莉荔吏栗丽厉励砾历利傈例俐�".split(""),e=0;e!=r[192].length;++e)65533!==r[192][e].charCodeAt(0)&&(a[r[192][e]]=49152+e,t[49152+e]=r[192][e]);for(r[193]="����������������������������������������������������������������罖罙罛罜罝罞罠罣罤罥罦罧罫罬罭罯罰罳罵罶罷罸罺罻罼罽罿羀羂羃羄羅羆羇羈羉羋羍羏羐羑羒羓羕羖羗羘羙羛羜羠羢羣羥羦羨義羪羫羬羭羮羱�羳羴羵羶羷羺羻羾翀翂翃翄翆翇翈翉翋翍翏翐翑習翓翖翗翙翚翛翜翝翞翢翣痢立粒沥隶力璃哩俩联莲连镰廉怜涟帘敛脸链恋炼练粮凉梁粱良两辆量晾亮谅撩聊僚疗燎寥辽潦了撂镣廖料列裂烈劣猎琳林磷霖临邻鳞淋凛赁吝拎玲菱零龄铃伶羚凌灵陵岭领另令溜琉榴硫馏留刘瘤流柳六龙聋咙笼窿�".split(""),e=0;e!=r[193].length;++e)65533!==r[193][e].charCodeAt(0)&&(a[r[193][e]]=49408+e,t[49408+e]=r[193][e]);for(r[194]="����������������������������������������������������������������翤翧翨翪翫翬翭翯翲翴翵翶翷翸翹翺翽翾翿耂耇耈耉耊耎耏耑耓耚耛耝耞耟耡耣耤耫耬耭耮耯耰耲耴耹耺耼耾聀聁聄聅聇聈聉聎聏聐聑聓聕聖聗�聙聛聜聝聞聟聠聡聢聣聤聥聦聧聨聫聬聭聮聯聰聲聳聴聵聶職聸聹聺聻聼聽隆垄拢陇楼娄搂篓漏陋芦卢颅庐炉掳卤虏鲁麓碌露路赂鹿潞禄录陆戮驴吕铝侣旅履屡缕虑氯律率滤绿峦挛孪滦卵乱掠略抡轮伦仑沦纶论萝螺罗逻锣箩骡裸落洛骆络妈麻玛码蚂马骂嘛吗埋买麦卖迈脉瞒馒蛮满蔓曼慢漫�".split(""),e=0;e!=r[194].length;++e)65533!==r[194][e].charCodeAt(0)&&(a[r[194][e]]=49664+e,t[49664+e]=r[194][e]);for(r[195]="����������������������������������������������������������������聾肁肂肅肈肊肍肎肏肐肑肒肔肕肗肙肞肣肦肧肨肬肰肳肵肶肸肹肻胅胇胈胉胊胋胏胐胑胒胓胔胕胘胟胠胢胣胦胮胵胷胹胻胾胿脀脁脃脄脅脇脈脋�脌脕脗脙脛脜脝脟脠脡脢脣脤脥脦脧脨脩脪脫脭脮脰脳脴脵脷脹脺脻脼脽脿谩芒茫盲氓忙莽猫茅锚毛矛铆卯茂冒帽貌贸么玫枚梅酶霉煤没眉媒镁每美昧寐妹媚门闷们萌蒙檬盟锰猛梦孟眯醚靡糜迷谜弥米秘觅泌蜜密幂棉眠绵冕免勉娩缅面苗描瞄藐秒渺庙妙蔑灭民抿皿敏悯闽明螟鸣铭名命谬摸�".split(""),e=0;e!=r[195].length;++e)65533!==r[195][e].charCodeAt(0)&&(a[r[195][e]]=49920+e,t[49920+e]=r[195][e]);for(r[196]="����������������������������������������������������������������腀腁腂腃腄腅腇腉腍腎腏腒腖腗腘腛腜腝腞腟腡腢腣腤腦腨腪腫腬腯腲腳腵腶腷腸膁膃膄膅膆膇膉膋膌膍膎膐膒膓膔膕膖膗膙膚膞膟膠膡膢膤膥�膧膩膫膬膭膮膯膰膱膲膴膵膶膷膸膹膼膽膾膿臄臅臇臈臉臋臍臎臏臐臑臒臓摹蘑模膜磨摩魔抹末莫墨默沫漠寞陌谋牟某拇牡亩姆母墓暮幕募慕木目睦牧穆拿哪呐钠那娜纳氖乃奶耐奈南男难囊挠脑恼闹淖呢馁内嫩能妮霓倪泥尼拟你匿腻逆溺蔫拈年碾撵捻念娘酿鸟尿捏聂孽啮镊镍涅您柠狞凝宁�".split(""),e=0;e!=r[196].length;++e)65533!==r[196][e].charCodeAt(0)&&(a[r[196][e]]=50176+e,t[50176+e]=r[196][e]);for(r[197]="����������������������������������������������������������������臔臕臖臗臘臙臚臛臜臝臞臟臠臡臢臤臥臦臨臩臫臮臯臰臱臲臵臶臷臸臹臺臽臿舃與興舉舊舋舎舏舑舓舕舖舗舘舙舚舝舠舤舥舦舧舩舮舲舺舼舽舿�艀艁艂艃艅艆艈艊艌艍艎艐艑艒艓艔艕艖艗艙艛艜艝艞艠艡艢艣艤艥艦艧艩拧泞牛扭钮纽脓浓农弄奴努怒女暖虐疟挪懦糯诺哦欧鸥殴藕呕偶沤啪趴爬帕怕琶拍排牌徘湃派攀潘盘磐盼畔判叛乓庞旁耪胖抛咆刨炮袍跑泡呸胚培裴赔陪配佩沛喷盆砰抨烹澎彭蓬棚硼篷膨朋鹏捧碰坯砒霹批披劈琵毗�".split(""),e=0;e!=r[197].length;++e)65533!==r[197][e].charCodeAt(0)&&(a[r[197][e]]=50432+e,t[50432+e]=r[197][e]);for(r[198]="����������������������������������������������������������������艪艫艬艭艱艵艶艷艸艻艼芀芁芃芅芆芇芉芌芐芓芔芕芖芚芛芞芠芢芣芧芲芵芶芺芻芼芿苀苂苃苅苆苉苐苖苙苚苝苢苧苨苩苪苬苭苮苰苲苳苵苶苸�苺苼苽苾苿茀茊茋茍茐茒茓茖茘茙茝茞茟茠茡茢茣茤茥茦茩茪茮茰茲茷茻茽啤脾疲皮匹痞僻屁譬篇偏片骗飘漂瓢票撇瞥拼频贫品聘乒坪苹萍平凭瓶评屏坡泼颇婆破魄迫粕剖扑铺仆莆葡菩蒲埔朴圃普浦谱曝瀑期欺栖戚妻七凄漆柒沏其棋奇歧畦崎脐齐旗祈祁骑起岂乞企启契砌器气迄弃汽泣讫掐�".split(""),e=0;e!=r[198].length;++e)65533!==r[198][e].charCodeAt(0)&&(a[r[198][e]]=50688+e,t[50688+e]=r[198][e]);for(r[199]="����������������������������������������������������������������茾茿荁荂荄荅荈荊荋荌荍荎荓荕荖荗荘荙荝荢荰荱荲荳荴荵荶荹荺荾荿莀莁莂莃莄莇莈莊莋莌莍莏莐莑莔莕莖莗莙莚莝莟莡莢莣莤莥莦莧莬莭莮�莯莵莻莾莿菂菃菄菆菈菉菋菍菎菐菑菒菓菕菗菙菚菛菞菢菣菤菦菧菨菫菬菭恰洽牵扦钎铅千迁签仟谦乾黔钱钳前潜遣浅谴堑嵌欠歉枪呛腔羌墙蔷强抢橇锹敲悄桥瞧乔侨巧鞘撬翘峭俏窍切茄且怯窃钦侵亲秦琴勤芹擒禽寝沁青轻氢倾卿清擎晴氰情顷请庆琼穷秋丘邱球求囚酋泅趋区蛆曲躯屈驱渠�".split(""),e=0;e!=r[199].length;++e)65533!==r[199][e].charCodeAt(0)&&(a[r[199][e]]=50944+e,t[50944+e]=r[199][e]);for(r[200]="����������������������������������������������������������������菮華菳菴菵菶菷菺菻菼菾菿萀萂萅萇萈萉萊萐萒萓萔萕萖萗萙萚萛萞萟萠萡萢萣萩萪萫萬萭萮萯萰萲萳萴萵萶萷萹萺萻萾萿葀葁葂葃葄葅葇葈葉�葊葋葌葍葎葏葐葒葓葔葕葖葘葝葞葟葠葢葤葥葦葧葨葪葮葯葰葲葴葷葹葻葼取娶龋趣去圈颧权醛泉全痊拳犬券劝缺炔瘸却鹊榷确雀裙群然燃冉染瓤壤攘嚷让饶扰绕惹热壬仁人忍韧任认刃妊纫扔仍日戎茸蓉荣融熔溶容绒冗揉柔肉茹蠕儒孺如辱乳汝入褥软阮蕊瑞锐闰润若弱撒洒萨腮鳃塞赛三叁�".split(""),e=0;e!=r[200].length;++e)65533!==r[200][e].charCodeAt(0)&&(a[r[200][e]]=51200+e,t[51200+e]=r[200][e]);for(r[201]="����������������������������������������������������������������葽葾葿蒀蒁蒃蒄蒅蒆蒊蒍蒏蒐蒑蒒蒓蒔蒕蒖蒘蒚蒛蒝蒞蒟蒠蒢蒣蒤蒥蒦蒧蒨蒩蒪蒫蒬蒭蒮蒰蒱蒳蒵蒶蒷蒻蒼蒾蓀蓂蓃蓅蓆蓇蓈蓋蓌蓎蓏蓒蓔蓕蓗�蓘蓙蓚蓛蓜蓞蓡蓢蓤蓧蓨蓩蓪蓫蓭蓮蓯蓱蓲蓳蓴蓵蓶蓷蓸蓹蓺蓻蓽蓾蔀蔁蔂伞散桑嗓丧搔骚扫嫂瑟色涩森僧莎砂杀刹沙纱傻啥煞筛晒珊苫杉山删煽衫闪陕擅赡膳善汕扇缮墒伤商赏晌上尚裳梢捎稍烧芍勺韶少哨邵绍奢赊蛇舌舍赦摄射慑涉社设砷申呻伸身深娠绅神沈审婶甚肾慎渗声生甥牲升绳�".split(""),e=0;e!=r[201].length;++e)65533!==r[201][e].charCodeAt(0)&&(a[r[201][e]]=51456+e,t[51456+e]=r[201][e]);for(r[202]="����������������������������������������������������������������蔃蔄蔅蔆蔇蔈蔉蔊蔋蔍蔎蔏蔐蔒蔔蔕蔖蔘蔙蔛蔜蔝蔞蔠蔢蔣蔤蔥蔦蔧蔨蔩蔪蔭蔮蔯蔰蔱蔲蔳蔴蔵蔶蔾蔿蕀蕁蕂蕄蕅蕆蕇蕋蕌蕍蕎蕏蕐蕑蕒蕓蕔蕕�蕗蕘蕚蕛蕜蕝蕟蕠蕡蕢蕣蕥蕦蕧蕩蕪蕫蕬蕭蕮蕯蕰蕱蕳蕵蕶蕷蕸蕼蕽蕿薀薁省盛剩胜圣师失狮施湿诗尸虱十石拾时什食蚀实识史矢使屎驶始式示士世柿事拭誓逝势是嗜噬适仕侍释饰氏市恃室视试收手首守寿授售受瘦兽蔬枢梳殊抒输叔舒淑疏书赎孰熟薯暑曙署蜀黍鼠属术述树束戍竖墅庶数漱�".split(""),e=0;e!=r[202].length;++e)65533!==r[202][e].charCodeAt(0)&&(a[r[202][e]]=51712+e,t[51712+e]=r[202][e]);for(r[203]="����������������������������������������������������������������薂薃薆薈薉薊薋薌薍薎薐薑薒薓薔薕薖薗薘薙薚薝薞薟薠薡薢薣薥薦薧薩薫薬薭薱薲薳薴薵薶薸薺薻薼薽薾薿藀藂藃藄藅藆藇藈藊藋藌藍藎藑藒�藔藖藗藘藙藚藛藝藞藟藠藡藢藣藥藦藧藨藪藫藬藭藮藯藰藱藲藳藴藵藶藷藸恕刷耍摔衰甩帅栓拴霜双爽谁水睡税吮瞬顺舜说硕朔烁斯撕嘶思私司丝死肆寺嗣四伺似饲巳松耸怂颂送宋讼诵搜艘擞嗽苏酥俗素速粟僳塑溯宿诉肃酸蒜算虽隋随绥髓碎岁穗遂隧祟孙损笋蓑梭唆缩琐索锁所塌他它她塔�".split(""),e=0;e!=r[203].length;++e)65533!==r[203][e].charCodeAt(0)&&(a[r[203][e]]=51968+e,t[51968+e]=r[203][e]);for(r[204]="����������������������������������������������������������������藹藺藼藽藾蘀蘁蘂蘃蘄蘆蘇蘈蘉蘊蘋蘌蘍蘎蘏蘐蘒蘓蘔蘕蘗蘘蘙蘚蘛蘜蘝蘞蘟蘠蘡蘢蘣蘤蘥蘦蘨蘪蘫蘬蘭蘮蘯蘰蘱蘲蘳蘴蘵蘶蘷蘹蘺蘻蘽蘾蘿虀�虁虂虃虄虅虆虇虈虉虊虋虌虒虓處虖虗虘虙虛虜虝號虠虡虣虤虥虦虧虨虩虪獭挞蹋踏胎苔抬台泰酞太态汰坍摊贪瘫滩坛檀痰潭谭谈坦毯袒碳探叹炭汤塘搪堂棠膛唐糖倘躺淌趟烫掏涛滔绦萄桃逃淘陶讨套特藤腾疼誊梯剔踢锑提题蹄啼体替嚏惕涕剃屉天添填田甜恬舔腆挑条迢眺跳贴铁帖厅听烃�".split(""),e=0;e!=r[204].length;++e)65533!==r[204][e].charCodeAt(0)&&(a[r[204][e]]=52224+e,t[52224+e]=r[204][e]);for(r[205]="����������������������������������������������������������������虭虯虰虲虳虴虵虶虷虸蚃蚄蚅蚆蚇蚈蚉蚎蚏蚐蚑蚒蚔蚖蚗蚘蚙蚚蚛蚞蚟蚠蚡蚢蚥蚦蚫蚭蚮蚲蚳蚷蚸蚹蚻蚼蚽蚾蚿蛁蛂蛃蛅蛈蛌蛍蛒蛓蛕蛖蛗蛚蛜�蛝蛠蛡蛢蛣蛥蛦蛧蛨蛪蛫蛬蛯蛵蛶蛷蛺蛻蛼蛽蛿蜁蜄蜅蜆蜋蜌蜎蜏蜐蜑蜔蜖汀廷停亭庭挺艇通桐酮瞳同铜彤童桶捅筒统痛偷投头透凸秃突图徒途涂屠土吐兔湍团推颓腿蜕褪退吞屯臀拖托脱鸵陀驮驼椭妥拓唾挖哇蛙洼娃瓦袜歪外豌弯湾玩顽丸烷完碗挽晚皖惋宛婉万腕汪王亡枉网往旺望忘妄威�".split(""),e=0;e!=r[205].length;++e)65533!==r[205][e].charCodeAt(0)&&(a[r[205][e]]=52480+e,t[52480+e]=r[205][e]);for(r[206]="����������������������������������������������������������������蜙蜛蜝蜟蜠蜤蜦蜧蜨蜪蜫蜬蜭蜯蜰蜲蜳蜵蜶蜸蜹蜺蜼蜽蝀蝁蝂蝃蝄蝅蝆蝊蝋蝍蝏蝐蝑蝒蝔蝕蝖蝘蝚蝛蝜蝝蝞蝟蝡蝢蝦蝧蝨蝩蝪蝫蝬蝭蝯蝱蝲蝳蝵�蝷蝸蝹蝺蝿螀螁螄螆螇螉螊螌螎螏螐螑螒螔螕螖螘螙螚螛螜螝螞螠螡螢螣螤巍微危韦违桅围唯惟为潍维苇萎委伟伪尾纬未蔚味畏胃喂魏位渭谓尉慰卫瘟温蚊文闻纹吻稳紊问嗡翁瓮挝蜗涡窝我斡卧握沃巫呜钨乌污诬屋无芜梧吾吴毋武五捂午舞伍侮坞戊雾晤物勿务悟误昔熙析西硒矽晰嘻吸锡牺�".split(""),e=0;e!=r[206].length;++e)65533!==r[206][e].charCodeAt(0)&&(a[r[206][e]]=52736+e,t[52736+e]=r[206][e]);for(r[207]="����������������������������������������������������������������螥螦螧螩螪螮螰螱螲螴螶螷螸螹螻螼螾螿蟁蟂蟃蟄蟅蟇蟈蟉蟌蟍蟎蟏蟐蟔蟕蟖蟗蟘蟙蟚蟜蟝蟞蟟蟡蟢蟣蟤蟦蟧蟨蟩蟫蟬蟭蟯蟰蟱蟲蟳蟴蟵蟶蟷蟸�蟺蟻蟼蟽蟿蠀蠁蠂蠄蠅蠆蠇蠈蠉蠋蠌蠍蠎蠏蠐蠑蠒蠔蠗蠘蠙蠚蠜蠝蠞蠟蠠蠣稀息希悉膝夕惜熄烯溪汐犀檄袭席习媳喜铣洗系隙戏细瞎虾匣霞辖暇峡侠狭下厦夏吓掀锨先仙鲜纤咸贤衔舷闲涎弦嫌显险现献县腺馅羡宪陷限线相厢镶香箱襄湘乡翔祥详想响享项巷橡像向象萧硝霄削哮嚣销消宵淆晓�".split(""),e=0;e!=r[207].length;++e)65533!==r[207][e].charCodeAt(0)&&(a[r[207][e]]=52992+e,t[52992+e]=r[207][e]);for(r[208]="����������������������������������������������������������������蠤蠥蠦蠧蠨蠩蠪蠫蠬蠭蠮蠯蠰蠱蠳蠴蠵蠶蠷蠸蠺蠻蠽蠾蠿衁衂衃衆衇衈衉衊衋衎衏衐衑衒術衕衖衘衚衛衜衝衞衟衠衦衧衪衭衯衱衳衴衵衶衸衹衺�衻衼袀袃袆袇袉袊袌袎袏袐袑袓袔袕袗袘袙袚袛袝袞袟袠袡袣袥袦袧袨袩袪小孝校肖啸笑效楔些歇蝎鞋协挟携邪斜胁谐写械卸蟹懈泄泻谢屑薪芯锌欣辛新忻心信衅星腥猩惺兴刑型形邢行醒幸杏性姓兄凶胸匈汹雄熊休修羞朽嗅锈秀袖绣墟戌需虚嘘须徐许蓄酗叙旭序畜恤絮婿绪续轩喧宣悬旋玄�".split(""),e=0;e!=r[208].length;++e)65533!==r[208][e].charCodeAt(0)&&(a[r[208][e]]=53248+e,t[53248+e]=r[208][e]);for(r[209]="����������������������������������������������������������������袬袮袯袰袲袳袴袵袶袸袹袺袻袽袾袿裀裃裄裇裈裊裋裌裍裏裐裑裓裖裗裚裛補裝裞裠裡裦裧裩裪裫裬裭裮裯裲裵裶裷裺裻製裿褀褁褃褄褅褆複褈�褉褋褌褍褎褏褑褔褕褖褗褘褜褝褞褟褠褢褣褤褦褧褨褩褬褭褮褯褱褲褳褵褷选癣眩绚靴薛学穴雪血勋熏循旬询寻驯巡殉汛训讯逊迅压押鸦鸭呀丫芽牙蚜崖衙涯雅哑亚讶焉咽阉烟淹盐严研蜒岩延言颜阎炎沿奄掩眼衍演艳堰燕厌砚雁唁彦焰宴谚验殃央鸯秧杨扬佯疡羊洋阳氧仰痒养样漾邀腰妖瑶�".split(""),e=0;e!=r[209].length;++e)65533!==r[209][e].charCodeAt(0)&&(a[r[209][e]]=53504+e,t[53504+e]=r[209][e]);for(r[210]="����������������������������������������������������������������褸褹褺褻褼褽褾褿襀襂襃襅襆襇襈襉襊襋襌襍襎襏襐襑襒襓襔襕襖襗襘襙襚襛襜襝襠襡襢襣襤襥襧襨襩襪襫襬襭襮襯襰襱襲襳襴襵襶襷襸襹襺襼�襽襾覀覂覄覅覇覈覉覊見覌覍覎規覐覑覒覓覔覕視覗覘覙覚覛覜覝覞覟覠覡摇尧遥窑谣姚咬舀药要耀椰噎耶爷野冶也页掖业叶曳腋夜液一壹医揖铱依伊衣颐夷遗移仪胰疑沂宜姨彝椅蚁倚已乙矣以艺抑易邑屹亿役臆逸肄疫亦裔意毅忆义益溢诣议谊译异翼翌绎茵荫因殷音阴姻吟银淫寅饮尹引隐�".split(""),e=0;e!=r[210].length;++e)65533!==r[210][e].charCodeAt(0)&&(a[r[210][e]]=53760+e,t[53760+e]=r[210][e]);for(r[211]="����������������������������������������������������������������覢覣覤覥覦覧覨覩親覫覬覭覮覯覰覱覲観覴覵覶覷覸覹覺覻覼覽覾覿觀觃觍觓觔觕觗觘觙觛觝觟觠觡觢觤觧觨觩觪觬觭觮觰觱觲觴觵觶觷觸觹觺�觻觼觽觾觿訁訂訃訄訅訆計訉訊訋訌訍討訏訐訑訒訓訔訕訖託記訙訚訛訜訝印英樱婴鹰应缨莹萤营荧蝇迎赢盈影颖硬映哟拥佣臃痈庸雍踊蛹咏泳涌永恿勇用幽优悠忧尤由邮铀犹油游酉有友右佑釉诱又幼迂淤于盂榆虞愚舆余俞逾鱼愉渝渔隅予娱雨与屿禹宇语羽玉域芋郁吁遇喻峪御愈欲狱育誉�".split(""),e=0;e!=r[211].length;++e)65533!==r[211][e].charCodeAt(0)&&(a[r[211][e]]=54016+e,t[54016+e]=r[211][e]);for(r[212]="����������������������������������������������������������������訞訟訠訡訢訣訤訥訦訧訨訩訪訫訬設訮訯訰許訲訳訴訵訶訷訸訹診註証訽訿詀詁詂詃詄詅詆詇詉詊詋詌詍詎詏詐詑詒詓詔評詖詗詘詙詚詛詜詝詞�詟詠詡詢詣詤詥試詧詨詩詪詫詬詭詮詯詰話該詳詴詵詶詷詸詺詻詼詽詾詿誀浴寓裕预豫驭鸳渊冤元垣袁原援辕园员圆猿源缘远苑愿怨院曰约越跃钥岳粤月悦阅耘云郧匀陨允运蕴酝晕韵孕匝砸杂栽哉灾宰载再在咱攒暂赞赃脏葬遭糟凿藻枣早澡蚤躁噪造皂灶燥责择则泽贼怎增憎曾赠扎喳渣札轧�".split(""),e=0;e!=r[212].length;++e)65533!==r[212][e].charCodeAt(0)&&(a[r[212][e]]=54272+e,t[54272+e]=r[212][e]);for(r[213]="����������������������������������������������������������������誁誂誃誄誅誆誇誈誋誌認誎誏誐誑誒誔誕誖誗誘誙誚誛誜誝語誟誠誡誢誣誤誥誦誧誨誩說誫説読誮誯誰誱課誳誴誵誶誷誸誹誺誻誼誽誾調諀諁諂�諃諄諅諆談諈諉諊請諌諍諎諏諐諑諒諓諔諕論諗諘諙諚諛諜諝諞諟諠諡諢諣铡闸眨栅榨咋乍炸诈摘斋宅窄债寨瞻毡詹粘沾盏斩辗崭展蘸栈占战站湛绽樟章彰漳张掌涨杖丈帐账仗胀瘴障招昭找沼赵照罩兆肇召遮折哲蛰辙者锗蔗这浙珍斟真甄砧臻贞针侦枕疹诊震振镇阵蒸挣睁征狰争怔整拯正政�".split(""),e=0;e!=r[213].length;++e)65533!==r[213][e].charCodeAt(0)&&(a[r[213][e]]=54528+e,t[54528+e]=r[213][e]);for(r[214]="����������������������������������������������������������������諤諥諦諧諨諩諪諫諬諭諮諯諰諱諲諳諴諵諶諷諸諹諺諻諼諽諾諿謀謁謂謃謄謅謆謈謉謊謋謌謍謎謏謐謑謒謓謔謕謖謗謘謙謚講謜謝謞謟謠謡謢謣�謤謥謧謨謩謪謫謬謭謮謯謰謱謲謳謴謵謶謷謸謹謺謻謼謽謾謿譀譁譂譃譄譅帧症郑证芝枝支吱蜘知肢脂汁之织职直植殖执值侄址指止趾只旨纸志挚掷至致置帜峙制智秩稚质炙痔滞治窒中盅忠钟衷终种肿重仲众舟周州洲诌粥轴肘帚咒皱宙昼骤珠株蛛朱猪诸诛逐竹烛煮拄瞩嘱主著柱助蛀贮铸筑�".split(""),e=0;e!=r[214].length;++e)65533!==r[214][e].charCodeAt(0)&&(a[r[214][e]]=54784+e,t[54784+e]=r[214][e]);for(r[215]="����������������������������������������������������������������譆譇譈證譊譋譌譍譎譏譐譑譒譓譔譕譖譗識譙譚譛譜譝譞譟譠譡譢譣譤譥譧譨譩譪譫譭譮譯議譱譲譳譴譵譶護譸譹譺譻譼譽譾譿讀讁讂讃讄讅讆�讇讈讉變讋讌讍讎讏讐讑讒讓讔讕讖讗讘讙讚讛讜讝讞讟讬讱讻诇诐诪谉谞住注祝驻抓爪拽专砖转撰赚篆桩庄装妆撞壮状椎锥追赘坠缀谆准捉拙卓桌琢茁酌啄着灼浊兹咨资姿滋淄孜紫仔籽滓子自渍字鬃棕踪宗综总纵邹走奏揍租足卒族祖诅阻组钻纂嘴醉最罪尊遵昨左佐柞做作坐座������".split(""),e=0;e!=r[215].length;++e)65533!==r[215][e].charCodeAt(0)&&(a[r[215][e]]=55040+e,t[55040+e]=r[215][e]);for(r[216]="����������������������������������������������������������������谸谹谺谻谼谽谾谿豀豂豃豄豅豈豊豋豍豎豏豐豑豒豓豔豖豗豘豙豛豜豝豞豟豠豣豤豥豦豧豨豩豬豭豮豯豰豱豲豴豵豶豷豻豼豽豾豿貀貁貃貄貆貇�貈貋貍貎貏貐貑貒貓貕貖貗貙貚貛貜貝貞貟負財貢貣貤貥貦貧貨販貪貫責貭亍丌兀丐廿卅丕亘丞鬲孬噩丨禺丿匕乇夭爻卮氐囟胤馗毓睾鼗丶亟鼐乜乩亓芈孛啬嘏仄厍厝厣厥厮靥赝匚叵匦匮匾赜卦卣刂刈刎刭刳刿剀剌剞剡剜蒯剽劂劁劐劓冂罔亻仃仉仂仨仡仫仞伛仳伢佤仵伥伧伉伫佞佧攸佚佝�".split(""),e=0;e!=r[216].length;++e)65533!==r[216][e].charCodeAt(0)&&(a[r[216][e]]=55296+e,t[55296+e]=r[216][e]);for(r[217]="����������������������������������������������������������������貮貯貰貱貲貳貴貵貶買貸貹貺費貼貽貾貿賀賁賂賃賄賅賆資賈賉賊賋賌賍賎賏賐賑賒賓賔賕賖賗賘賙賚賛賜賝賞賟賠賡賢賣賤賥賦賧賨賩質賫賬�賭賮賯賰賱賲賳賴賵賶賷賸賹賺賻購賽賾賿贀贁贂贃贄贅贆贇贈贉贊贋贌贍佟佗伲伽佶佴侑侉侃侏佾佻侪佼侬侔俦俨俪俅俚俣俜俑俟俸倩偌俳倬倏倮倭俾倜倌倥倨偾偃偕偈偎偬偻傥傧傩傺僖儆僭僬僦僮儇儋仝氽佘佥俎龠汆籴兮巽黉馘冁夔勹匍訇匐凫夙兕亠兖亳衮袤亵脔裒禀嬴蠃羸冫冱冽冼�".split(""),e=0;e!=r[217].length;++e)65533!==r[217][e].charCodeAt(0)&&(a[r[217][e]]=55552+e,t[55552+e]=r[217][e]);for(r[218]="����������������������������������������������������������������贎贏贐贑贒贓贔贕贖贗贘贙贚贛贜贠赑赒赗赟赥赨赩赪赬赮赯赱赲赸赹赺赻赼赽赾赿趀趂趃趆趇趈趉趌趍趎趏趐趒趓趕趖趗趘趙趚趛趜趝趞趠趡�趢趤趥趦趧趨趩趪趫趬趭趮趯趰趲趶趷趹趻趽跀跁跂跅跇跈跉跊跍跐跒跓跔凇冖冢冥讠讦讧讪讴讵讷诂诃诋诏诎诒诓诔诖诘诙诜诟诠诤诨诩诮诰诳诶诹诼诿谀谂谄谇谌谏谑谒谔谕谖谙谛谘谝谟谠谡谥谧谪谫谮谯谲谳谵谶卩卺阝阢阡阱阪阽阼陂陉陔陟陧陬陲陴隈隍隗隰邗邛邝邙邬邡邴邳邶邺�".split(""),e=0;e!=r[218].length;++e)65533!==r[218][e].charCodeAt(0)&&(a[r[218][e]]=55808+e,t[55808+e]=r[218][e]);for(r[219]="����������������������������������������������������������������跕跘跙跜跠跡跢跥跦跧跩跭跮跰跱跲跴跶跼跾跿踀踁踂踃踄踆踇踈踋踍踎踐踑踒踓踕踖踗踘踙踚踛踜踠踡踤踥踦踧踨踫踭踰踲踳踴踶踷踸踻踼踾�踿蹃蹅蹆蹌蹍蹎蹏蹐蹓蹔蹕蹖蹗蹘蹚蹛蹜蹝蹞蹟蹠蹡蹢蹣蹤蹥蹧蹨蹪蹫蹮蹱邸邰郏郅邾郐郄郇郓郦郢郜郗郛郫郯郾鄄鄢鄞鄣鄱鄯鄹酃酆刍奂劢劬劭劾哿勐勖勰叟燮矍廴凵凼鬯厶弁畚巯坌垩垡塾墼壅壑圩圬圪圳圹圮圯坜圻坂坩垅坫垆坼坻坨坭坶坳垭垤垌垲埏垧垴垓垠埕埘埚埙埒垸埴埯埸埤埝�".split(""),e=0;e!=r[219].length;++e)65533!==r[219][e].charCodeAt(0)&&(a[r[219][e]]=56064+e,t[56064+e]=r[219][e]);for(r[220]="����������������������������������������������������������������蹳蹵蹷蹸蹹蹺蹻蹽蹾躀躂躃躄躆躈躉躊躋躌躍躎躑躒躓躕躖躗躘躙躚躛躝躟躠躡躢躣躤躥躦躧躨躩躪躭躮躰躱躳躴躵躶躷躸躹躻躼躽躾躿軀軁軂�軃軄軅軆軇軈軉車軋軌軍軏軐軑軒軓軔軕軖軗軘軙軚軛軜軝軞軟軠軡転軣軤堋堍埽埭堀堞堙塄堠塥塬墁墉墚墀馨鼙懿艹艽艿芏芊芨芄芎芑芗芙芫芸芾芰苈苊苣芘芷芮苋苌苁芩芴芡芪芟苄苎芤苡茉苷苤茏茇苜苴苒苘茌苻苓茑茚茆茔茕苠苕茜荑荛荜茈莒茼茴茱莛荞茯荏荇荃荟荀茗荠茭茺茳荦荥�".split(""),e=0;e!=r[220].length;++e)65533!==r[220][e].charCodeAt(0)&&(a[r[220][e]]=56320+e,t[56320+e]=r[220][e]);for(r[221]="����������������������������������������������������������������軥軦軧軨軩軪軫軬軭軮軯軰軱軲軳軴軵軶軷軸軹軺軻軼軽軾軿輀輁輂較輄輅輆輇輈載輊輋輌輍輎輏輐輑輒輓輔輕輖輗輘輙輚輛輜輝輞輟輠輡輢輣�輤輥輦輧輨輩輪輫輬輭輮輯輰輱輲輳輴輵輶輷輸輹輺輻輼輽輾輿轀轁轂轃轄荨茛荩荬荪荭荮莰荸莳莴莠莪莓莜莅荼莶莩荽莸荻莘莞莨莺莼菁萁菥菘堇萘萋菝菽菖萜萸萑萆菔菟萏萃菸菹菪菅菀萦菰菡葜葑葚葙葳蒇蒈葺蒉葸萼葆葩葶蒌蒎萱葭蓁蓍蓐蓦蒽蓓蓊蒿蒺蓠蒡蒹蒴蒗蓥蓣蔌甍蔸蓰蔹蔟蔺�".split(""),e=0;e!=r[221].length;++e)65533!==r[221][e].charCodeAt(0)&&(a[r[221][e]]=56576+e,t[56576+e]=r[221][e]);for(r[222]="����������������������������������������������������������������轅轆轇轈轉轊轋轌轍轎轏轐轑轒轓轔轕轖轗轘轙轚轛轜轝轞轟轠轡轢轣轤轥轪辀辌辒辝辠辡辢辤辥辦辧辪辬辭辮辯農辳辴辵辷辸辺辻込辿迀迃迆�迉迊迋迌迍迏迒迖迗迚迠迡迣迧迬迯迱迲迴迵迶迺迻迼迾迿逇逈逌逎逓逕逘蕖蔻蓿蓼蕙蕈蕨蕤蕞蕺瞢蕃蕲蕻薤薨薇薏蕹薮薜薅薹薷薰藓藁藜藿蘧蘅蘩蘖蘼廾弈夼奁耷奕奚奘匏尢尥尬尴扌扪抟抻拊拚拗拮挢拶挹捋捃掭揶捱捺掎掴捭掬掊捩掮掼揲揸揠揿揄揞揎摒揆掾摅摁搋搛搠搌搦搡摞撄摭撖�".split(""),e=0;e!=r[222].length;++e)65533!==r[222][e].charCodeAt(0)&&(a[r[222][e]]=56832+e,t[56832+e]=r[222][e]);for(r[223]="����������������������������������������������������������������這逜連逤逥逧逨逩逪逫逬逰週進逳逴逷逹逺逽逿遀遃遅遆遈遉遊運遌過達違遖遙遚遜遝遞遟遠遡遤遦遧適遪遫遬遯遰遱遲遳遶遷選遹遺遻遼遾邁�還邅邆邇邉邊邌邍邎邏邐邒邔邖邘邚邜邞邟邠邤邥邧邨邩邫邭邲邷邼邽邿郀摺撷撸撙撺擀擐擗擤擢攉攥攮弋忒甙弑卟叱叽叩叨叻吒吖吆呋呒呓呔呖呃吡呗呙吣吲咂咔呷呱呤咚咛咄呶呦咝哐咭哂咴哒咧咦哓哔呲咣哕咻咿哌哙哚哜咩咪咤哝哏哞唛哧唠哽唔哳唢唣唏唑唧唪啧喏喵啉啭啁啕唿啐唼�".split(""),e=0;e!=r[223].length;++e)65533!==r[223][e].charCodeAt(0)&&(a[r[223][e]]=57088+e,t[57088+e]=r[223][e]);for(r[224]="����������������������������������������������������������������郂郃郆郈郉郋郌郍郒郔郕郖郘郙郚郞郟郠郣郤郥郩郪郬郮郰郱郲郳郵郶郷郹郺郻郼郿鄀鄁鄃鄅鄆鄇鄈鄉鄊鄋鄌鄍鄎鄏鄐鄑鄒鄓鄔鄕鄖鄗鄘鄚鄛鄜�鄝鄟鄠鄡鄤鄥鄦鄧鄨鄩鄪鄫鄬鄭鄮鄰鄲鄳鄴鄵鄶鄷鄸鄺鄻鄼鄽鄾鄿酀酁酂酄唷啖啵啶啷唳唰啜喋嗒喃喱喹喈喁喟啾嗖喑啻嗟喽喾喔喙嗪嗷嗉嘟嗑嗫嗬嗔嗦嗝嗄嗯嗥嗲嗳嗌嗍嗨嗵嗤辔嘞嘈嘌嘁嘤嘣嗾嘀嘧嘭噘嘹噗嘬噍噢噙噜噌噔嚆噤噱噫噻噼嚅嚓嚯囔囗囝囡囵囫囹囿圄圊圉圜帏帙帔帑帱帻帼�".split(""),e=0;e!=r[224].length;++e)65533!==r[224][e].charCodeAt(0)&&(a[r[224][e]]=57344+e,t[57344+e]=r[224][e]);for(r[225]="����������������������������������������������������������������酅酇酈酑酓酔酕酖酘酙酛酜酟酠酦酧酨酫酭酳酺酻酼醀醁醂醃醄醆醈醊醎醏醓醔醕醖醗醘醙醜醝醞醟醠醡醤醥醦醧醨醩醫醬醰醱醲醳醶醷醸醹醻�醼醽醾醿釀釁釂釃釄釅釆釈釋釐釒釓釔釕釖釗釘釙釚釛針釞釟釠釡釢釣釤釥帷幄幔幛幞幡岌屺岍岐岖岈岘岙岑岚岜岵岢岽岬岫岱岣峁岷峄峒峤峋峥崂崃崧崦崮崤崞崆崛嵘崾崴崽嵬嵛嵯嵝嵫嵋嵊嵩嵴嶂嶙嶝豳嶷巅彳彷徂徇徉後徕徙徜徨徭徵徼衢彡犭犰犴犷犸狃狁狎狍狒狨狯狩狲狴狷猁狳猃狺�".split(""),e=0;e!=r[225].length;++e)65533!==r[225][e].charCodeAt(0)&&(a[r[225][e]]=57600+e,t[57600+e]=r[225][e]);for(r[226]="����������������������������������������������������������������釦釧釨釩釪釫釬釭釮釯釰釱釲釳釴釵釶釷釸釹釺釻釼釽釾釿鈀鈁鈂鈃鈄鈅鈆鈇鈈鈉鈊鈋鈌鈍鈎鈏鈐鈑鈒鈓鈔鈕鈖鈗鈘鈙鈚鈛鈜鈝鈞鈟鈠鈡鈢鈣鈤�鈥鈦鈧鈨鈩鈪鈫鈬鈭鈮鈯鈰鈱鈲鈳鈴鈵鈶鈷鈸鈹鈺鈻鈼鈽鈾鈿鉀鉁鉂鉃鉄鉅狻猗猓猡猊猞猝猕猢猹猥猬猸猱獐獍獗獠獬獯獾舛夥飧夤夂饣饧饨饩饪饫饬饴饷饽馀馄馇馊馍馐馑馓馔馕庀庑庋庖庥庠庹庵庾庳赓廒廑廛廨廪膺忄忉忖忏怃忮怄忡忤忾怅怆忪忭忸怙怵怦怛怏怍怩怫怊怿怡恸恹恻恺恂�".split(""),e=0;e!=r[226].length;++e)65533!==r[226][e].charCodeAt(0)&&(a[r[226][e]]=57856+e,t[57856+e]=r[226][e]);for(r[227]="����������������������������������������������������������������鉆鉇鉈鉉鉊鉋鉌鉍鉎鉏鉐鉑鉒鉓鉔鉕鉖鉗鉘鉙鉚鉛鉜鉝鉞鉟鉠鉡鉢鉣鉤鉥鉦鉧鉨鉩鉪鉫鉬鉭鉮鉯鉰鉱鉲鉳鉵鉶鉷鉸鉹鉺鉻鉼鉽鉾鉿銀銁銂銃銄銅�銆銇銈銉銊銋銌銍銏銐銑銒銓銔銕銖銗銘銙銚銛銜銝銞銟銠銡銢銣銤銥銦銧恪恽悖悚悭悝悃悒悌悛惬悻悱惝惘惆惚悴愠愦愕愣惴愀愎愫慊慵憬憔憧憷懔懵忝隳闩闫闱闳闵闶闼闾阃阄阆阈阊阋阌阍阏阒阕阖阗阙阚丬爿戕氵汔汜汊沣沅沐沔沌汨汩汴汶沆沩泐泔沭泷泸泱泗沲泠泖泺泫泮沱泓泯泾�".split(""),e=0;e!=r[227].length;++e)65533!==r[227][e].charCodeAt(0)&&(a[r[227][e]]=58112+e,t[58112+e]=r[227][e]);for(r[228]="����������������������������������������������������������������銨銩銪銫銬銭銯銰銱銲銳銴銵銶銷銸銹銺銻銼銽銾銿鋀鋁鋂鋃鋄鋅鋆鋇鋉鋊鋋鋌鋍鋎鋏鋐鋑鋒鋓鋔鋕鋖鋗鋘鋙鋚鋛鋜鋝鋞鋟鋠鋡鋢鋣鋤鋥鋦鋧鋨�鋩鋪鋫鋬鋭鋮鋯鋰鋱鋲鋳鋴鋵鋶鋷鋸鋹鋺鋻鋼鋽鋾鋿錀錁錂錃錄錅錆錇錈錉洹洧洌浃浈洇洄洙洎洫浍洮洵洚浏浒浔洳涑浯涞涠浞涓涔浜浠浼浣渚淇淅淞渎涿淠渑淦淝淙渖涫渌涮渫湮湎湫溲湟溆湓湔渲渥湄滟溱溘滠漭滢溥溧溽溻溷滗溴滏溏滂溟潢潆潇漤漕滹漯漶潋潴漪漉漩澉澍澌潸潲潼潺濑�".split(""),e=0;e!=r[228].length;++e)65533!==r[228][e].charCodeAt(0)&&(a[r[228][e]]=58368+e,t[58368+e]=r[228][e]);for(r[229]="����������������������������������������������������������������錊錋錌錍錎錏錐錑錒錓錔錕錖錗錘錙錚錛錜錝錞錟錠錡錢錣錤錥錦錧錨錩錪錫錬錭錮錯錰錱録錳錴錵錶錷錸錹錺錻錼錽錿鍀鍁鍂鍃鍄鍅鍆鍇鍈鍉�鍊鍋鍌鍍鍎鍏鍐鍑鍒鍓鍔鍕鍖鍗鍘鍙鍚鍛鍜鍝鍞鍟鍠鍡鍢鍣鍤鍥鍦鍧鍨鍩鍫濉澧澹澶濂濡濮濞濠濯瀚瀣瀛瀹瀵灏灞宀宄宕宓宥宸甯骞搴寤寮褰寰蹇謇辶迓迕迥迮迤迩迦迳迨逅逄逋逦逑逍逖逡逵逶逭逯遄遑遒遐遨遘遢遛暹遴遽邂邈邃邋彐彗彖彘尻咫屐屙孱屣屦羼弪弩弭艴弼鬻屮妁妃妍妩妪妣�".split(""),e=0;e!=r[229].length;++e)65533!==r[229][e].charCodeAt(0)&&(a[r[229][e]]=58624+e,t[58624+e]=r[229][e]);for(r[230]="����������������������������������������������������������������鍬鍭鍮鍯鍰鍱鍲鍳鍴鍵鍶鍷鍸鍹鍺鍻鍼鍽鍾鍿鎀鎁鎂鎃鎄鎅鎆鎇鎈鎉鎊鎋鎌鎍鎎鎐鎑鎒鎓鎔鎕鎖鎗鎘鎙鎚鎛鎜鎝鎞鎟鎠鎡鎢鎣鎤鎥鎦鎧鎨鎩鎪鎫�鎬鎭鎮鎯鎰鎱鎲鎳鎴鎵鎶鎷鎸鎹鎺鎻鎼鎽鎾鎿鏀鏁鏂鏃鏄鏅鏆鏇鏈鏉鏋鏌鏍妗姊妫妞妤姒妲妯姗妾娅娆姝娈姣姘姹娌娉娲娴娑娣娓婀婧婊婕娼婢婵胬媪媛婷婺媾嫫媲嫒嫔媸嫠嫣嫱嫖嫦嫘嫜嬉嬗嬖嬲嬷孀尕尜孚孥孳孑孓孢驵驷驸驺驿驽骀骁骅骈骊骐骒骓骖骘骛骜骝骟骠骢骣骥骧纟纡纣纥纨纩�".split(""),e=0;e!=r[230].length;++e)65533!==r[230][e].charCodeAt(0)&&(a[r[230][e]]=58880+e,t[58880+e]=r[230][e]);for(r[231]="����������������������������������������������������������������鏎鏏鏐鏑鏒鏓鏔鏕鏗鏘鏙鏚鏛鏜鏝鏞鏟鏠鏡鏢鏣鏤鏥鏦鏧鏨鏩鏪鏫鏬鏭鏮鏯鏰鏱鏲鏳鏴鏵鏶鏷鏸鏹鏺鏻鏼鏽鏾鏿鐀鐁鐂鐃鐄鐅鐆鐇鐈鐉鐊鐋鐌鐍�鐎鐏鐐鐑鐒鐓鐔鐕鐖鐗鐘鐙鐚鐛鐜鐝鐞鐟鐠鐡鐢鐣鐤鐥鐦鐧鐨鐩鐪鐫鐬鐭鐮纭纰纾绀绁绂绉绋绌绐绔绗绛绠绡绨绫绮绯绱绲缍绶绺绻绾缁缂缃缇缈缋缌缏缑缒缗缙缜缛缟缡缢缣缤缥缦缧缪缫缬缭缯缰缱缲缳缵幺畿巛甾邕玎玑玮玢玟珏珂珑玷玳珀珉珈珥珙顼琊珩珧珞玺珲琏琪瑛琦琥琨琰琮琬�".split(""),e=0;e!=r[231].length;++e)65533!==r[231][e].charCodeAt(0)&&(a[r[231][e]]=59136+e,t[59136+e]=r[231][e]);for(r[232]="����������������������������������������������������������������鐯鐰鐱鐲鐳鐴鐵鐶鐷鐸鐹鐺鐻鐼鐽鐿鑀鑁鑂鑃鑄鑅鑆鑇鑈鑉鑊鑋鑌鑍鑎鑏鑐鑑鑒鑓鑔鑕鑖鑗鑘鑙鑚鑛鑜鑝鑞鑟鑠鑡鑢鑣鑤鑥鑦鑧鑨鑩鑪鑬鑭鑮鑯�鑰鑱鑲鑳鑴鑵鑶鑷鑸鑹鑺鑻鑼鑽鑾鑿钀钁钂钃钄钑钖钘铇铏铓铔铚铦铻锜锠琛琚瑁瑜瑗瑕瑙瑷瑭瑾璜璎璀璁璇璋璞璨璩璐璧瓒璺韪韫韬杌杓杞杈杩枥枇杪杳枘枧杵枨枞枭枋杷杼柰栉柘栊柩枰栌柙枵柚枳柝栀柃枸柢栎柁柽栲栳桠桡桎桢桄桤梃栝桕桦桁桧桀栾桊桉栩梵梏桴桷梓桫棂楮棼椟椠棹�".split(""),e=0;e!=r[232].length;++e)65533!==r[232][e].charCodeAt(0)&&(a[r[232][e]]=59392+e,t[59392+e]=r[232][e]);for(r[233]="����������������������������������������������������������������锧锳锽镃镈镋镕镚镠镮镴镵長镸镹镺镻镼镽镾門閁閂閃閄閅閆閇閈閉閊開閌閍閎閏閐閑閒間閔閕閖閗閘閙閚閛閜閝閞閟閠閡関閣閤閥閦閧閨閩閪�閫閬閭閮閯閰閱閲閳閴閵閶閷閸閹閺閻閼閽閾閿闀闁闂闃闄闅闆闇闈闉闊闋椤棰椋椁楗棣椐楱椹楠楂楝榄楫榀榘楸椴槌榇榈槎榉楦楣楹榛榧榻榫榭槔榱槁槊槟榕槠榍槿樯槭樗樘橥槲橄樾檠橐橛樵檎橹樽樨橘橼檑檐檩檗檫猷獒殁殂殇殄殒殓殍殚殛殡殪轫轭轱轲轳轵轶轸轷轹轺轼轾辁辂辄辇辋�".split(""),e=0;e!=r[233].length;++e)65533!==r[233][e].charCodeAt(0)&&(a[r[233][e]]=59648+e,t[59648+e]=r[233][e]);for(r[234]="����������������������������������������������������������������闌闍闎闏闐闑闒闓闔闕闖闗闘闙闚闛關闝闞闟闠闡闢闣闤闥闦闧闬闿阇阓阘阛阞阠阣阤阥阦阧阨阩阫阬阭阯阰阷阸阹阺阾陁陃陊陎陏陑陒陓陖陗�陘陙陚陜陝陞陠陣陥陦陫陭陮陯陰陱陳陸陹険陻陼陽陾陿隀隁隂隃隄隇隉隊辍辎辏辘辚軎戋戗戛戟戢戡戥戤戬臧瓯瓴瓿甏甑甓攴旮旯旰昊昙杲昃昕昀炅曷昝昴昱昶昵耆晟晔晁晏晖晡晗晷暄暌暧暝暾曛曜曦曩贲贳贶贻贽赀赅赆赈赉赇赍赕赙觇觊觋觌觎觏觐觑牮犟牝牦牯牾牿犄犋犍犏犒挈挲掰�".split(""),e=0;e!=r[234].length;++e)65533!==r[234][e].charCodeAt(0)&&(a[r[234][e]]=59904+e,t[59904+e]=r[234][e]);for(r[235]="����������������������������������������������������������������隌階隑隒隓隕隖隚際隝隞隟隠隡隢隣隤隥隦隨隩險隫隬隭隮隯隱隲隴隵隷隸隺隻隿雂雃雈雊雋雐雑雓雔雖雗雘雙雚雛雜雝雞雟雡離難雤雥雦雧雫�雬雭雮雰雱雲雴雵雸雺電雼雽雿霂霃霅霊霋霌霐霑霒霔霕霗霘霙霚霛霝霟霠搿擘耄毪毳毽毵毹氅氇氆氍氕氘氙氚氡氩氤氪氲攵敕敫牍牒牖爰虢刖肟肜肓肼朊肽肱肫肭肴肷胧胨胩胪胛胂胄胙胍胗朐胝胫胱胴胭脍脎胲胼朕脒豚脶脞脬脘脲腈腌腓腴腙腚腱腠腩腼腽腭腧塍媵膈膂膑滕膣膪臌朦臊膻�".split(""),e=0;e!=r[235].length;++e)65533!==r[235][e].charCodeAt(0)&&(a[r[235][e]]=60160+e,t[60160+e]=r[235][e]);for(r[236]="����������������������������������������������������������������霡霢霣霤霥霦霧霨霩霫霬霮霯霱霳霴霵霶霷霺霻霼霽霿靀靁靂靃靄靅靆靇靈靉靊靋靌靍靎靏靐靑靔靕靗靘靚靜靝靟靣靤靦靧靨靪靫靬靭靮靯靰靱�靲靵靷靸靹靺靻靽靾靿鞀鞁鞂鞃鞄鞆鞇鞈鞉鞊鞌鞎鞏鞐鞓鞕鞖鞗鞙鞚鞛鞜鞝臁膦欤欷欹歃歆歙飑飒飓飕飙飚殳彀毂觳斐齑斓於旆旄旃旌旎旒旖炀炜炖炝炻烀炷炫炱烨烊焐焓焖焯焱煳煜煨煅煲煊煸煺熘熳熵熨熠燠燔燧燹爝爨灬焘煦熹戾戽扃扈扉礻祀祆祉祛祜祓祚祢祗祠祯祧祺禅禊禚禧禳忑忐�".split(""),e=0;e!=r[236].length;++e)65533!==r[236][e].charCodeAt(0)&&(a[r[236][e]]=60416+e,t[60416+e]=r[236][e]);for(r[237]="����������������������������������������������������������������鞞鞟鞡鞢鞤鞥鞦鞧鞨鞩鞪鞬鞮鞰鞱鞳鞵鞶鞷鞸鞹鞺鞻鞼鞽鞾鞿韀韁韂韃韄韅韆韇韈韉韊韋韌韍韎韏韐韑韒韓韔韕韖韗韘韙韚韛韜韝韞韟韠韡韢韣�韤韥韨韮韯韰韱韲韴韷韸韹韺韻韼韽韾響頀頁頂頃頄項順頇須頉頊頋頌頍頎怼恝恚恧恁恙恣悫愆愍慝憩憝懋懑戆肀聿沓泶淼矶矸砀砉砗砘砑斫砭砜砝砹砺砻砟砼砥砬砣砩硎硭硖硗砦硐硇硌硪碛碓碚碇碜碡碣碲碹碥磔磙磉磬磲礅磴礓礤礞礴龛黹黻黼盱眄眍盹眇眈眚眢眙眭眦眵眸睐睑睇睃睚睨�".split(""),e=0;e!=r[237].length;++e)65533!==r[237][e].charCodeAt(0)&&(a[r[237][e]]=60672+e,t[60672+e]=r[237][e]);for(r[238]="����������������������������������������������������������������頏預頑頒頓頔頕頖頗領頙頚頛頜頝頞頟頠頡頢頣頤頥頦頧頨頩頪頫頬頭頮頯頰頱頲頳頴頵頶頷頸頹頺頻頼頽頾頿顀顁顂顃顄顅顆顇顈顉顊顋題額�顎顏顐顑顒顓顔顕顖顗願顙顚顛顜顝類顟顠顡顢顣顤顥顦顧顨顩顪顫顬顭顮睢睥睿瞍睽瞀瞌瞑瞟瞠瞰瞵瞽町畀畎畋畈畛畲畹疃罘罡罟詈罨罴罱罹羁罾盍盥蠲钅钆钇钋钊钌钍钏钐钔钗钕钚钛钜钣钤钫钪钭钬钯钰钲钴钶钷钸钹钺钼钽钿铄铈铉铊铋铌铍铎铐铑铒铕铖铗铙铘铛铞铟铠铢铤铥铧铨铪�".split(""),e=0;e!=r[238].length;++e)65533!==r[238][e].charCodeAt(0)&&(a[r[238][e]]=60928+e,t[60928+e]=r[238][e]);for(r[239]="����������������������������������������������������������������顯顰顱顲顳顴颋颎颒颕颙颣風颩颪颫颬颭颮颯颰颱颲颳颴颵颶颷颸颹颺颻颼颽颾颿飀飁飂飃飄飅飆飇飈飉飊飋飌飍飏飐飔飖飗飛飜飝飠飡飢飣飤�飥飦飩飪飫飬飭飮飯飰飱飲飳飴飵飶飷飸飹飺飻飼飽飾飿餀餁餂餃餄餅餆餇铩铫铮铯铳铴铵铷铹铼铽铿锃锂锆锇锉锊锍锎锏锒锓锔锕锖锘锛锝锞锟锢锪锫锩锬锱锲锴锶锷锸锼锾锿镂锵镄镅镆镉镌镎镏镒镓镔镖镗镘镙镛镞镟镝镡镢镤镥镦镧镨镩镪镫镬镯镱镲镳锺矧矬雉秕秭秣秫稆嵇稃稂稞稔�".split(""),e=0;e!=r[239].length;++e)65533!==r[239][e].charCodeAt(0)&&(a[r[239][e]]=61184+e,t[61184+e]=r[239][e]);for(r[240]="����������������������������������������������������������������餈餉養餋餌餎餏餑餒餓餔餕餖餗餘餙餚餛餜餝餞餟餠餡餢餣餤餥餦餧館餩餪餫餬餭餯餰餱餲餳餴餵餶餷餸餹餺餻餼餽餾餿饀饁饂饃饄饅饆饇饈饉�饊饋饌饍饎饏饐饑饒饓饖饗饘饙饚饛饜饝饞饟饠饡饢饤饦饳饸饹饻饾馂馃馉稹稷穑黏馥穰皈皎皓皙皤瓞瓠甬鸠鸢鸨鸩鸪鸫鸬鸲鸱鸶鸸鸷鸹鸺鸾鹁鹂鹄鹆鹇鹈鹉鹋鹌鹎鹑鹕鹗鹚鹛鹜鹞鹣鹦鹧鹨鹩鹪鹫鹬鹱鹭鹳疒疔疖疠疝疬疣疳疴疸痄疱疰痃痂痖痍痣痨痦痤痫痧瘃痱痼痿瘐瘀瘅瘌瘗瘊瘥瘘瘕瘙�".split(""),e=0;e!=r[240].length;++e)65533!==r[240][e].charCodeAt(0)&&(a[r[240][e]]=61440+e,t[61440+e]=r[240][e]);for(r[241]="����������������������������������������������������������������馌馎馚馛馜馝馞馟馠馡馢馣馤馦馧馩馪馫馬馭馮馯馰馱馲馳馴馵馶馷馸馹馺馻馼馽馾馿駀駁駂駃駄駅駆駇駈駉駊駋駌駍駎駏駐駑駒駓駔駕駖駗駘�駙駚駛駜駝駞駟駠駡駢駣駤駥駦駧駨駩駪駫駬駭駮駯駰駱駲駳駴駵駶駷駸駹瘛瘼瘢瘠癀瘭瘰瘿瘵癃瘾瘳癍癞癔癜癖癫癯翊竦穸穹窀窆窈窕窦窠窬窨窭窳衤衩衲衽衿袂袢裆袷袼裉裢裎裣裥裱褚裼裨裾裰褡褙褓褛褊褴褫褶襁襦襻疋胥皲皴矜耒耔耖耜耠耢耥耦耧耩耨耱耋耵聃聆聍聒聩聱覃顸颀颃�".split(""),e=0;e!=r[241].length;++e)65533!==r[241][e].charCodeAt(0)&&(a[r[241][e]]=61696+e,t[61696+e]=r[241][e]);for(r[242]="����������������������������������������������������������������駺駻駼駽駾駿騀騁騂騃騄騅騆騇騈騉騊騋騌騍騎騏騐騑騒験騔騕騖騗騘騙騚騛騜騝騞騟騠騡騢騣騤騥騦騧騨騩騪騫騬騭騮騯騰騱騲騳騴騵騶騷騸�騹騺騻騼騽騾騿驀驁驂驃驄驅驆驇驈驉驊驋驌驍驎驏驐驑驒驓驔驕驖驗驘驙颉颌颍颏颔颚颛颞颟颡颢颥颦虍虔虬虮虿虺虼虻蚨蚍蚋蚬蚝蚧蚣蚪蚓蚩蚶蛄蚵蛎蚰蚺蚱蚯蛉蛏蚴蛩蛱蛲蛭蛳蛐蜓蛞蛴蛟蛘蛑蜃蜇蛸蜈蜊蜍蜉蜣蜻蜞蜥蜮蜚蜾蝈蜴蜱蜩蜷蜿螂蜢蝽蝾蝻蝠蝰蝌蝮螋蝓蝣蝼蝤蝙蝥螓螯螨蟒�".split(""),e=0;e!=r[242].length;++e)65533!==r[242][e].charCodeAt(0)&&(a[r[242][e]]=61952+e,t[61952+e]=r[242][e]);for(r[243]="����������������������������������������������������������������驚驛驜驝驞驟驠驡驢驣驤驥驦驧驨驩驪驫驲骃骉骍骎骔骕骙骦骩骪骫骬骭骮骯骲骳骴骵骹骻骽骾骿髃髄髆髇髈髉髊髍髎髏髐髒體髕髖髗髙髚髛髜�髝髞髠髢髣髤髥髧髨髩髪髬髮髰髱髲髳髴髵髶髷髸髺髼髽髾髿鬀鬁鬂鬄鬅鬆蟆螈螅螭螗螃螫蟥螬螵螳蟋蟓螽蟑蟀蟊蟛蟪蟠蟮蠖蠓蟾蠊蠛蠡蠹蠼缶罂罄罅舐竺竽笈笃笄笕笊笫笏筇笸笪笙笮笱笠笥笤笳笾笞筘筚筅筵筌筝筠筮筻筢筲筱箐箦箧箸箬箝箨箅箪箜箢箫箴篑篁篌篝篚篥篦篪簌篾篼簏簖簋�".split(""),e=0;e!=r[243].length;++e)65533!==r[243][e].charCodeAt(0)&&(a[r[243][e]]=62208+e,t[62208+e]=r[243][e]);for(r[244]="����������������������������������������������������������������鬇鬉鬊鬋鬌鬍鬎鬐鬑鬒鬔鬕鬖鬗鬘鬙鬚鬛鬜鬝鬞鬠鬡鬢鬤鬥鬦鬧鬨鬩鬪鬫鬬鬭鬮鬰鬱鬳鬴鬵鬶鬷鬸鬹鬺鬽鬾鬿魀魆魊魋魌魎魐魒魓魕魖魗魘魙魚�魛魜魝魞魟魠魡魢魣魤魥魦魧魨魩魪魫魬魭魮魯魰魱魲魳魴魵魶魷魸魹魺魻簟簪簦簸籁籀臾舁舂舄臬衄舡舢舣舭舯舨舫舸舻舳舴舾艄艉艋艏艚艟艨衾袅袈裘裟襞羝羟羧羯羰羲籼敉粑粝粜粞粢粲粼粽糁糇糌糍糈糅糗糨艮暨羿翎翕翥翡翦翩翮翳糸絷綦綮繇纛麸麴赳趄趔趑趱赧赭豇豉酊酐酎酏酤�".split(""),e=0;e!=r[244].length;++e)65533!==r[244][e].charCodeAt(0)&&(a[r[244][e]]=62464+e,t[62464+e]=r[244][e]);for(r[245]="����������������������������������������������������������������魼魽魾魿鮀鮁鮂鮃鮄鮅鮆鮇鮈鮉鮊鮋鮌鮍鮎鮏鮐鮑鮒鮓鮔鮕鮖鮗鮘鮙鮚鮛鮜鮝鮞鮟鮠鮡鮢鮣鮤鮥鮦鮧鮨鮩鮪鮫鮬鮭鮮鮯鮰鮱鮲鮳鮴鮵鮶鮷鮸鮹鮺�鮻鮼鮽鮾鮿鯀鯁鯂鯃鯄鯅鯆鯇鯈鯉鯊鯋鯌鯍鯎鯏鯐鯑鯒鯓鯔鯕鯖鯗鯘鯙鯚鯛酢酡酰酩酯酽酾酲酴酹醌醅醐醍醑醢醣醪醭醮醯醵醴醺豕鹾趸跫踅蹙蹩趵趿趼趺跄跖跗跚跞跎跏跛跆跬跷跸跣跹跻跤踉跽踔踝踟踬踮踣踯踺蹀踹踵踽踱蹉蹁蹂蹑蹒蹊蹰蹶蹼蹯蹴躅躏躔躐躜躞豸貂貊貅貘貔斛觖觞觚觜�".split(""),e=0;e!=r[245].length;++e)65533!==r[245][e].charCodeAt(0)&&(a[r[245][e]]=62720+e,t[62720+e]=r[245][e]);for(r[246]="����������������������������������������������������������������鯜鯝鯞鯟鯠鯡鯢鯣鯤鯥鯦鯧鯨鯩鯪鯫鯬鯭鯮鯯鯰鯱鯲鯳鯴鯵鯶鯷鯸鯹鯺鯻鯼鯽鯾鯿鰀鰁鰂鰃鰄鰅鰆鰇鰈鰉鰊鰋鰌鰍鰎鰏鰐鰑鰒鰓鰔鰕鰖鰗鰘鰙鰚�鰛鰜鰝鰞鰟鰠鰡鰢鰣鰤鰥鰦鰧鰨鰩鰪鰫鰬鰭鰮鰯鰰鰱鰲鰳鰴鰵鰶鰷鰸鰹鰺鰻觥觫觯訾謦靓雩雳雯霆霁霈霏霎霪霭霰霾龀龃龅龆龇龈龉龊龌黾鼋鼍隹隼隽雎雒瞿雠銎銮鋈錾鍪鏊鎏鐾鑫鱿鲂鲅鲆鲇鲈稣鲋鲎鲐鲑鲒鲔鲕鲚鲛鲞鲟鲠鲡鲢鲣鲥鲦鲧鲨鲩鲫鲭鲮鲰鲱鲲鲳鲴鲵鲶鲷鲺鲻鲼鲽鳄鳅鳆鳇鳊鳋�".split(""),e=0;e!=r[246].length;++e)65533!==r[246][e].charCodeAt(0)&&(a[r[246][e]]=62976+e,t[62976+e]=r[246][e]);for(r[247]="����������������������������������������������������������������鰼鰽鰾鰿鱀鱁鱂鱃鱄鱅鱆鱇鱈鱉鱊鱋鱌鱍鱎鱏鱐鱑鱒鱓鱔鱕鱖鱗鱘鱙鱚鱛鱜鱝鱞鱟鱠鱡鱢鱣鱤鱥鱦鱧鱨鱩鱪鱫鱬鱭鱮鱯鱰鱱鱲鱳鱴鱵鱶鱷鱸鱹鱺�鱻鱽鱾鲀鲃鲄鲉鲊鲌鲏鲓鲖鲗鲘鲙鲝鲪鲬鲯鲹鲾鲿鳀鳁鳂鳈鳉鳑鳒鳚鳛鳠鳡鳌鳍鳎鳏鳐鳓鳔鳕鳗鳘鳙鳜鳝鳟鳢靼鞅鞑鞒鞔鞯鞫鞣鞲鞴骱骰骷鹘骶骺骼髁髀髅髂髋髌髑魅魃魇魉魈魍魑飨餍餮饕饔髟髡髦髯髫髻髭髹鬈鬏鬓鬟鬣麽麾縻麂麇麈麋麒鏖麝麟黛黜黝黠黟黢黩黧黥黪黯鼢鼬鼯鼹鼷鼽鼾齄�".split(""),e=0;e!=r[247].length;++e)65533!==r[247][e].charCodeAt(0)&&(a[r[247][e]]=63232+e,t[63232+e]=r[247][e]);for(r[248]="����������������������������������������������������������������鳣鳤鳥鳦鳧鳨鳩鳪鳫鳬鳭鳮鳯鳰鳱鳲鳳鳴鳵鳶鳷鳸鳹鳺鳻鳼鳽鳾鳿鴀鴁鴂鴃鴄鴅鴆鴇鴈鴉鴊鴋鴌鴍鴎鴏鴐鴑鴒鴓鴔鴕鴖鴗鴘鴙鴚鴛鴜鴝鴞鴟鴠鴡�鴢鴣鴤鴥鴦鴧鴨鴩鴪鴫鴬鴭鴮鴯鴰鴱鴲鴳鴴鴵鴶鴷鴸鴹鴺鴻鴼鴽鴾鴿鵀鵁鵂�����������������������������������������������������������������������������������������������".split(""),e=0;e!=r[248].length;++e)65533!==r[248][e].charCodeAt(0)&&(a[r[248][e]]=63488+e,t[63488+e]=r[248][e]);for(r[249]="����������������������������������������������������������������鵃鵄鵅鵆鵇鵈鵉鵊鵋鵌鵍鵎鵏鵐鵑鵒鵓鵔鵕鵖鵗鵘鵙鵚鵛鵜鵝鵞鵟鵠鵡鵢鵣鵤鵥鵦鵧鵨鵩鵪鵫鵬鵭鵮鵯鵰鵱鵲鵳鵴鵵鵶鵷鵸鵹鵺鵻鵼鵽鵾鵿鶀鶁�鶂鶃鶄鶅鶆鶇鶈鶉鶊鶋鶌鶍鶎鶏鶐鶑鶒鶓鶔鶕鶖鶗鶘鶙鶚鶛鶜鶝鶞鶟鶠鶡鶢�����������������������������������������������������������������������������������������������".split(""),e=0;e!=r[249].length;++e)65533!==r[249][e].charCodeAt(0)&&(a[r[249][e]]=63744+e,t[63744+e]=r[249][e]);for(r[250]="����������������������������������������������������������������鶣鶤鶥鶦鶧鶨鶩鶪鶫鶬鶭鶮鶯鶰鶱鶲鶳鶴鶵鶶鶷鶸鶹鶺鶻鶼鶽鶾鶿鷀鷁鷂鷃鷄鷅鷆鷇鷈鷉鷊鷋鷌鷍鷎鷏鷐鷑鷒鷓鷔鷕鷖鷗鷘鷙鷚鷛鷜鷝鷞鷟鷠鷡�鷢鷣鷤鷥鷦鷧鷨鷩鷪鷫鷬鷭鷮鷯鷰鷱鷲鷳鷴鷵鷶鷷鷸鷹鷺鷻鷼鷽鷾鷿鸀鸁鸂�����������������������������������������������������������������������������������������������".split(""),e=0;e!=r[250].length;++e)65533!==r[250][e].charCodeAt(0)&&(a[r[250][e]]=64e3+e,t[64e3+e]=r[250][e]);for(r[251]="����������������������������������������������������������������鸃鸄鸅鸆鸇鸈鸉鸊鸋鸌鸍鸎鸏鸐鸑鸒鸓鸔鸕鸖鸗鸘鸙鸚鸛鸜鸝鸞鸤鸧鸮鸰鸴鸻鸼鹀鹍鹐鹒鹓鹔鹖鹙鹝鹟鹠鹡鹢鹥鹮鹯鹲鹴鹵鹶鹷鹸鹹鹺鹻鹼鹽麀�麁麃麄麅麆麉麊麌麍麎麏麐麑麔麕麖麗麘麙麚麛麜麞麠麡麢麣麤麥麧麨麩麪�����������������������������������������������������������������������������������������������".split(""),e=0;e!=r[251].length;++e)65533!==r[251][e].charCodeAt(0)&&(a[r[251][e]]=64256+e,t[64256+e]=r[251][e]);for(r[252]="����������������������������������������������������������������麫麬麭麮麯麰麱麲麳麵麶麷麹麺麼麿黀黁黂黃黅黆黇黈黊黋黌黐黒黓黕黖黗黙黚點黡黣黤黦黨黫黬黭黮黰黱黲黳黴黵黶黷黸黺黽黿鼀鼁鼂鼃鼄鼅�鼆鼇鼈鼉鼊鼌鼏鼑鼒鼔鼕鼖鼘鼚鼛鼜鼝鼞鼟鼡鼣鼤鼥鼦鼧鼨鼩鼪鼫鼭鼮鼰鼱�����������������������������������������������������������������������������������������������".split(""),e=0;e!=r[252].length;++e)65533!==r[252][e].charCodeAt(0)&&(a[r[252][e]]=64512+e,t[64512+e]=r[252][e]);for(r[253]="����������������������������������������������������������������鼲鼳鼴鼵鼶鼸鼺鼼鼿齀齁齂齃齅齆齇齈齉齊齋齌齍齎齏齒齓齔齕齖齗齘齙齚齛齜齝齞齟齠齡齢齣齤齥齦齧齨齩齪齫齬齭齮齯齰齱齲齳齴齵齶齷齸�齹齺齻齼齽齾龁龂龍龎龏龐龑龒龓龔龕龖龗龘龜龝龞龡龢龣龤龥郎凉秊裏隣�����������������������������������������������������������������������������������������������".split(""),e=0;e!=r[253].length;++e)65533!==r[253][e].charCodeAt(0)&&(a[r[253][e]]=64768+e,t[64768+e]=r[253][e]);for(r[254]="����������������������������������������������������������������兀嗀﨎﨏﨑﨓﨔礼﨟蘒﨡﨣﨤﨧﨨﨩��������������������������������������������������������������������������������������������������������������������������������������������������������������������������������".split(""),e=0;e!=r[254].length;++e)65533!==r[254][e].charCodeAt(0)&&(a[r[254][e]]=65024+e,t[65024+e]=r[254][e]);return{enc:a,dec:t}}(),a[949]=function(){var e,t=[],a={},r=[];for(r[0]="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~��������������������������������������������������������������������������������������������������������������������������������".split(""),e=0;e!=r[0].length;++e)65533!==r[0][e].charCodeAt(0)&&(a[r[0][e]]=0+e,t[0+e]=r[0][e]);for(r[129]="�����������������������������������������������������������������갂갃갅갆갋갌갍갎갏갘갞갟갡갢갣갥갦갧갨갩갪갫갮갲갳갴������갵갶갷갺갻갽갾갿걁걂걃걄걅걆걇걈걉걊걌걎걏걐걑걒걓걕������걖걗걙걚걛걝걞걟걠걡걢걣걤걥걦걧걨걩걪걫걬걭걮걯걲걳걵걶걹걻걼걽걾걿겂겇겈겍겎겏겑겒겓겕겖겗겘겙겚겛겞겢겣겤겥겦겧겫겭겮겱겲겳겴겵겶겷겺겾겿곀곂곃곅곆곇곉곊곋곍곎곏곐곑곒곓곔곖곘곙곚곛곜곝곞곟곢곣곥곦곩곫곭곮곲곴곷곸곹곺곻곾곿괁괂괃괅괇괈괉괊괋괎괐괒괓�".split(""),e=0;e!=r[129].length;++e)65533!==r[129][e].charCodeAt(0)&&(a[r[129][e]]=33024+e,t[33024+e]=r[129][e]);for(r[130]="�����������������������������������������������������������������괔괕괖괗괙괚괛괝괞괟괡괢괣괤괥괦괧괨괪괫괮괯괰괱괲괳������괶괷괹괺괻괽괾괿굀굁굂굃굆굈굊굋굌굍굎굏굑굒굓굕굖굗������굙굚굛굜굝굞굟굠굢굤굥굦굧굨굩굪굫굮굯굱굲굷굸굹굺굾궀궃궄궅궆궇궊궋궍궎궏궑궒궓궔궕궖궗궘궙궚궛궞궟궠궡궢궣궥궦궧궨궩궪궫궬궭궮궯궰궱궲궳궴궵궶궸궹궺궻궼궽궾궿귂귃귅귆귇귉귊귋귌귍귎귏귒귔귕귖귗귘귙귚귛귝귞귟귡귢귣귥귦귧귨귩귪귫귬귭귮귯귰귱귲귳귴귵귶귷�".split(""),e=0;e!=r[130].length;++e)65533!==r[130][e].charCodeAt(0)&&(a[r[130][e]]=33280+e,t[33280+e]=r[130][e]);for(r[131]="�����������������������������������������������������������������귺귻귽귾긂긃긄긅긆긇긊긌긎긏긐긑긒긓긕긖긗긘긙긚긛긜������긝긞긟긠긡긢긣긤긥긦긧긨긩긪긫긬긭긮긯긲긳긵긶긹긻긼������긽긾긿깂깄깇깈깉깋깏깑깒깓깕깗깘깙깚깛깞깢깣깤깦깧깪깫깭깮깯깱깲깳깴깵깶깷깺깾깿꺀꺁꺂꺃꺆꺇꺈꺉꺊꺋꺍꺎꺏꺐꺑꺒꺓꺔꺕꺖꺗꺘꺙꺚꺛꺜꺝꺞꺟꺠꺡꺢꺣꺤꺥꺦꺧꺨꺩꺪꺫꺬꺭꺮꺯꺰꺱꺲꺳꺴꺵꺶꺷꺸꺹꺺꺻꺿껁껂껃껅껆껇껈껉껊껋껎껒껓껔껕껖껗껚껛껝껞껟껠껡껢껣껤껥�".split(""),e=0;e!=r[131].length;++e)65533!==r[131][e].charCodeAt(0)&&(a[r[131][e]]=33536+e,t[33536+e]=r[131][e]);for(r[132]="�����������������������������������������������������������������껦껧껩껪껬껮껯껰껱껲껳껵껶껷껹껺껻껽껾껿꼀꼁꼂꼃꼄꼅������꼆꼉꼊꼋꼌꼎꼏꼑꼒꼓꼔꼕꼖꼗꼘꼙꼚꼛꼜꼝꼞꼟꼠꼡꼢꼣������꼤꼥꼦꼧꼨꼩꼪꼫꼮꼯꼱꼳꼵꼶꼷꼸꼹꼺꼻꼾꽀꽄꽅꽆꽇꽊꽋꽌꽍꽎꽏꽑꽒꽓꽔꽕꽖꽗꽘꽙꽚꽛꽞꽟꽠꽡꽢꽣꽦꽧꽨꽩꽪꽫꽬꽭꽮꽯꽰꽱꽲꽳꽴꽵꽶꽷꽸꽺꽻꽼꽽꽾꽿꾁꾂꾃꾅꾆꾇꾉꾊꾋꾌꾍꾎꾏꾒꾓꾔꾖꾗꾘꾙꾚꾛꾝꾞꾟꾠꾡꾢꾣꾤꾥꾦꾧꾨꾩꾪꾫꾬꾭꾮꾯꾰꾱꾲꾳꾴꾵꾶꾷꾺꾻꾽꾾�".split(""),e=0;e!=r[132].length;++e)65533!==r[132][e].charCodeAt(0)&&(a[r[132][e]]=33792+e,t[33792+e]=r[132][e]);for(r[133]="�����������������������������������������������������������������꾿꿁꿂꿃꿄꿅꿆꿊꿌꿏꿐꿑꿒꿓꿕꿖꿗꿘꿙꿚꿛꿝꿞꿟꿠꿡������꿢꿣꿤꿥꿦꿧꿪꿫꿬꿭꿮꿯꿲꿳꿵꿶꿷꿹꿺꿻꿼꿽꿾꿿뀂뀃������뀅뀆뀇뀈뀉뀊뀋뀍뀎뀏뀑뀒뀓뀕뀖뀗뀘뀙뀚뀛뀞뀟뀠뀡뀢뀣뀤뀥뀦뀧뀩뀪뀫뀬뀭뀮뀯뀰뀱뀲뀳뀴뀵뀶뀷뀸뀹뀺뀻뀼뀽뀾뀿끀끁끂끃끆끇끉끋끍끏끐끑끒끖끘끚끛끜끞끟끠끡끢끣끤끥끦끧끨끩끪끫끬끭끮끯끰끱끲끳끴끵끶끷끸끹끺끻끾끿낁낂낃낅낆낇낈낉낊낋낎낐낒낓낔낕낖낗낛낝낞낣낤�".split(""),e=0;e!=r[133].length;++e)65533!==r[133][e].charCodeAt(0)&&(a[r[133][e]]=34048+e,t[34048+e]=r[133][e]);for(r[134]="�����������������������������������������������������������������낥낦낧낪낰낲낶낷낹낺낻낽낾낿냀냁냂냃냆냊냋냌냍냎냏냒������냓냕냖냗냙냚냛냜냝냞냟냡냢냣냤냦냧냨냩냪냫냬냭냮냯냰������냱냲냳냴냵냶냷냸냹냺냻냼냽냾냿넀넁넂넃넄넅넆넇넊넍넎넏넑넔넕넖넗넚넞넟넠넡넢넦넧넩넪넫넭넮넯넰넱넲넳넶넺넻넼넽넾넿녂녃녅녆녇녉녊녋녌녍녎녏녒녓녖녗녙녚녛녝녞녟녡녢녣녤녥녦녧녨녩녪녫녬녭녮녯녰녱녲녳녴녵녶녷녺녻녽녾녿놁놃놄놅놆놇놊놌놎놏놐놑놕놖놗놙놚놛놝�".split(""),e=0;e!=r[134].length;++e)65533!==r[134][e].charCodeAt(0)&&(a[r[134][e]]=34304+e,t[34304+e]=r[134][e]);for(r[135]="�����������������������������������������������������������������놞놟놠놡놢놣놤놥놦놧놩놪놫놬놭놮놯놰놱놲놳놴놵놶놷놸������놹놺놻놼놽놾놿뇀뇁뇂뇃뇄뇅뇆뇇뇈뇉뇊뇋뇍뇎뇏뇑뇒뇓뇕������뇖뇗뇘뇙뇚뇛뇞뇠뇡뇢뇣뇤뇥뇦뇧뇪뇫뇭뇮뇯뇱뇲뇳뇴뇵뇶뇷뇸뇺뇼뇾뇿눀눁눂눃눆눇눉눊눍눎눏눐눑눒눓눖눘눚눛눜눝눞눟눡눢눣눤눥눦눧눨눩눪눫눬눭눮눯눰눱눲눳눵눶눷눸눹눺눻눽눾눿뉀뉁뉂뉃뉄뉅뉆뉇뉈뉉뉊뉋뉌뉍뉎뉏뉐뉑뉒뉓뉔뉕뉖뉗뉙뉚뉛뉝뉞뉟뉡뉢뉣뉤뉥뉦뉧뉪뉫뉬뉭뉮�".split(""),e=0;e!=r[135].length;++e)65533!==r[135][e].charCodeAt(0)&&(a[r[135][e]]=34560+e,t[34560+e]=r[135][e]);for(r[136]="�����������������������������������������������������������������뉯뉰뉱뉲뉳뉶뉷뉸뉹뉺뉻뉽뉾뉿늀늁늂늃늆늇늈늊늋늌늍늎������늏늒늓늕늖늗늛늜늝늞늟늢늤늧늨늩늫늭늮늯늱늲늳늵늶늷������늸늹늺늻늼늽늾늿닀닁닂닃닄닅닆닇닊닋닍닎닏닑닓닔닕닖닗닚닜닞닟닠닡닣닧닩닪닰닱닲닶닼닽닾댂댃댅댆댇댉댊댋댌댍댎댏댒댖댗댘댙댚댛댝댞댟댠댡댢댣댤댥댦댧댨댩댪댫댬댭댮댯댰댱댲댳댴댵댶댷댸댹댺댻댼댽댾댿덀덁덂덃덄덅덆덇덈덉덊덋덌덍덎덏덐덑덒덓덗덙덚덝덠덡덢덣�".split(""),e=0;e!=r[136].length;++e)65533!==r[136][e].charCodeAt(0)&&(a[r[136][e]]=34816+e,t[34816+e]=r[136][e]);for(r[137]="�����������������������������������������������������������������덦덨덪덬덭덯덲덳덵덶덷덹덺덻덼덽덾덿뎂뎆뎇뎈뎉뎊뎋뎍������뎎뎏뎑뎒뎓뎕뎖뎗뎘뎙뎚뎛뎜뎝뎞뎟뎢뎣뎤뎥뎦뎧뎩뎪뎫뎭������뎮뎯뎰뎱뎲뎳뎴뎵뎶뎷뎸뎹뎺뎻뎼뎽뎾뎿돀돁돂돃돆돇돉돊돍돏돑돒돓돖돘돚돜돞돟돡돢돣돥돦돧돩돪돫돬돭돮돯돰돱돲돳돴돵돶돷돸돹돺돻돽돾돿됀됁됂됃됄됅됆됇됈됉됊됋됌됍됎됏됑됒됓됔됕됖됗됙됚됛됝됞됟됡됢됣됤됥됦됧됪됬됭됮됯됰됱됲됳됵됶됷됸됹됺됻됼됽됾됿둀둁둂둃둄�".split(""),e=0;e!=r[137].length;++e)65533!==r[137][e].charCodeAt(0)&&(a[r[137][e]]=35072+e,t[35072+e]=r[137][e]);for(r[138]="�����������������������������������������������������������������둅둆둇둈둉둊둋둌둍둎둏둒둓둕둖둗둙둚둛둜둝둞둟둢둤둦������둧둨둩둪둫둭둮둯둰둱둲둳둴둵둶둷둸둹둺둻둼둽둾둿뒁뒂������뒃뒄뒅뒆뒇뒉뒊뒋뒌뒍뒎뒏뒐뒑뒒뒓뒔뒕뒖뒗뒘뒙뒚뒛뒜뒞뒟뒠뒡뒢뒣뒥뒦뒧뒩뒪뒫뒭뒮뒯뒰뒱뒲뒳뒴뒶뒸뒺뒻뒼뒽뒾뒿듁듂듃듅듆듇듉듊듋듌듍듎듏듑듒듓듔듖듗듘듙듚듛듞듟듡듢듥듧듨듩듪듫듮듰듲듳듴듵듶듷듹듺듻듼듽듾듿딀딁딂딃딄딅딆딇딈딉딊딋딌딍딎딏딐딑딒딓딖딗딙딚딝�".split(""),e=0;e!=r[138].length;++e)65533!==r[138][e].charCodeAt(0)&&(a[r[138][e]]=35328+e,t[35328+e]=r[138][e]);for(r[139]="�����������������������������������������������������������������딞딟딠딡딢딣딦딫딬딭딮딯딲딳딵딶딷딹딺딻딼딽딾딿땂땆������땇땈땉땊땎땏땑땒땓땕땖땗땘땙땚땛땞땢땣땤땥땦땧땨땩땪������땫땬땭땮땯땰땱땲땳땴땵땶땷땸땹땺땻땼땽땾땿떀떁떂떃떄떅떆떇떈떉떊떋떌떍떎떏떐떑떒떓떔떕떖떗떘떙떚떛떜떝떞떟떢떣떥떦떧떩떬떭떮떯떲떶떷떸떹떺떾떿뗁뗂뗃뗅뗆뗇뗈뗉뗊뗋뗎뗒뗓뗔뗕뗖뗗뗙뗚뗛뗜뗝뗞뗟뗠뗡뗢뗣뗤뗥뗦뗧뗨뗩뗪뗫뗭뗮뗯뗰뗱뗲뗳뗴뗵뗶뗷뗸뗹뗺뗻뗼뗽뗾뗿�".split(""),e=0;e!=r[139].length;++e)65533!==r[139][e].charCodeAt(0)&&(a[r[139][e]]=35584+e,t[35584+e]=r[139][e]);for(r[140]="�����������������������������������������������������������������똀똁똂똃똄똅똆똇똈똉똊똋똌똍똎똏똒똓똕똖똗똙똚똛똜똝������똞똟똠똡똢똣똤똦똧똨똩똪똫똭똮똯똰똱똲똳똵똶똷똸똹똺������똻똼똽똾똿뙀뙁뙂뙃뙄뙅뙆뙇뙉뙊뙋뙌뙍뙎뙏뙐뙑뙒뙓뙔뙕뙖뙗뙘뙙뙚뙛뙜뙝뙞뙟뙠뙡뙢뙣뙥뙦뙧뙩뙪뙫뙬뙭뙮뙯뙰뙱뙲뙳뙴뙵뙶뙷뙸뙹뙺뙻뙼뙽뙾뙿뚀뚁뚂뚃뚄뚅뚆뚇뚈뚉뚊뚋뚌뚍뚎뚏뚐뚑뚒뚓뚔뚕뚖뚗뚘뚙뚚뚛뚞뚟뚡뚢뚣뚥뚦뚧뚨뚩뚪뚭뚮뚯뚰뚲뚳뚴뚵뚶뚷뚸뚹뚺뚻뚼뚽뚾뚿뛀뛁뛂�".split(""),e=0;e!=r[140].length;++e)65533!==r[140][e].charCodeAt(0)&&(a[r[140][e]]=35840+e,t[35840+e]=r[140][e]);for(r[141]="�����������������������������������������������������������������뛃뛄뛅뛆뛇뛈뛉뛊뛋뛌뛍뛎뛏뛐뛑뛒뛓뛕뛖뛗뛘뛙뛚뛛뛜뛝������뛞뛟뛠뛡뛢뛣뛤뛥뛦뛧뛨뛩뛪뛫뛬뛭뛮뛯뛱뛲뛳뛵뛶뛷뛹뛺������뛻뛼뛽뛾뛿뜂뜃뜄뜆뜇뜈뜉뜊뜋뜌뜍뜎뜏뜐뜑뜒뜓뜔뜕뜖뜗뜘뜙뜚뜛뜜뜝뜞뜟뜠뜡뜢뜣뜤뜥뜦뜧뜪뜫뜭뜮뜱뜲뜳뜴뜵뜶뜷뜺뜼뜽뜾뜿띀띁띂띃띅띆띇띉띊띋띍띎띏띐띑띒띓띖띗띘띙띚띛띜띝띞띟띡띢띣띥띦띧띩띪띫띬띭띮띯띲띴띶띷띸띹띺띻띾띿랁랂랃랅랆랇랈랉랊랋랎랓랔랕랚랛랝랞�".split(""),e=0;e!=r[141].length;++e)65533!==r[141][e].charCodeAt(0)&&(a[r[141][e]]=36096+e,t[36096+e]=r[141][e]);for(r[142]="�����������������������������������������������������������������랟랡랢랣랤랥랦랧랪랮랯랰랱랲랳랶랷랹랺랻랼랽랾랿럀럁������럂럃럄럅럆럈럊럋럌럍럎럏럐럑럒럓럔럕럖럗럘럙럚럛럜럝������럞럟럠럡럢럣럤럥럦럧럨럩럪럫럮럯럱럲럳럵럶럷럸럹럺럻럾렂렃렄렅렆렊렋렍렎렏렑렒렓렔렕렖렗렚렜렞렟렠렡렢렣렦렧렩렪렫렭렮렯렰렱렲렳렶렺렻렼렽렾렿롁롂롃롅롆롇롈롉롊롋롌롍롎롏롐롒롔롕롖롗롘롙롚롛롞롟롡롢롣롥롦롧롨롩롪롫롮롰롲롳롴롵롶롷롹롺롻롽롾롿뢀뢁뢂뢃뢄�".split(""),e=0;e!=r[142].length;++e)65533!==r[142][e].charCodeAt(0)&&(a[r[142][e]]=36352+e,t[36352+e]=r[142][e]);for(r[143]="�����������������������������������������������������������������뢅뢆뢇뢈뢉뢊뢋뢌뢎뢏뢐뢑뢒뢓뢔뢕뢖뢗뢘뢙뢚뢛뢜뢝뢞뢟������뢠뢡뢢뢣뢤뢥뢦뢧뢩뢪뢫뢬뢭뢮뢯뢱뢲뢳뢵뢶뢷뢹뢺뢻뢼뢽������뢾뢿룂룄룆룇룈룉룊룋룍룎룏룑룒룓룕룖룗룘룙룚룛룜룞룠룢룣룤룥룦룧룪룫룭룮룯룱룲룳룴룵룶룷룺룼룾룿뤀뤁뤂뤃뤅뤆뤇뤈뤉뤊뤋뤌뤍뤎뤏뤐뤑뤒뤓뤔뤕뤖뤗뤙뤚뤛뤜뤝뤞뤟뤡뤢뤣뤤뤥뤦뤧뤨뤩뤪뤫뤬뤭뤮뤯뤰뤱뤲뤳뤴뤵뤶뤷뤸뤹뤺뤻뤾뤿륁륂륃륅륆륇륈륉륊륋륍륎륐륒륓륔륕륖륗�".split(""),e=0;e!=r[143].length;++e)65533!==r[143][e].charCodeAt(0)&&(a[r[143][e]]=36608+e,t[36608+e]=r[143][e]);for(r[144]="�����������������������������������������������������������������륚륛륝륞륟륡륢륣륤륥륦륧륪륬륮륯륰륱륲륳륶륷륹륺륻륽������륾륿릀릁릂릃릆릈릋릌릏릐릑릒릓릔릕릖릗릘릙릚릛릜릝릞������릟릠릡릢릣릤릥릦릧릨릩릪릫릮릯릱릲릳릵릶릷릸릹릺릻릾맀맂맃맄맅맆맇맊맋맍맓맔맕맖맗맚맜맟맠맢맦맧맩맪맫맭맮맯맰맱맲맳맶맻맼맽맾맿먂먃먄먅먆먇먉먊먋먌먍먎먏먐먑먒먓먔먖먗먘먙먚먛먜먝먞먟먠먡먢먣먤먥먦먧먨먩먪먫먬먭먮먯먰먱먲먳먴먵먶먷먺먻먽먾먿멁멃멄멅멆�".split(""),e=0;e!=r[144].length;++e)65533!==r[144][e].charCodeAt(0)&&(a[r[144][e]]=36864+e,t[36864+e]=r[144][e]);for(r[145]="�����������������������������������������������������������������멇멊멌멏멐멑멒멖멗멙멚멛멝멞멟멠멡멢멣멦멪멫멬멭멮멯������멲멳멵멶멷멹멺멻멼멽멾멿몀몁몂몆몈몉몊몋몍몎몏몐몑몒������몓몔몕몖몗몘몙몚몛몜몝몞몟몠몡몢몣몤몥몦몧몪몭몮몯몱몳몴몵몶몷몺몼몾몿뫀뫁뫂뫃뫅뫆뫇뫉뫊뫋뫌뫍뫎뫏뫐뫑뫒뫓뫔뫕뫖뫗뫚뫛뫜뫝뫞뫟뫠뫡뫢뫣뫤뫥뫦뫧뫨뫩뫪뫫뫬뫭뫮뫯뫰뫱뫲뫳뫴뫵뫶뫷뫸뫹뫺뫻뫽뫾뫿묁묂묃묅묆묇묈묉묊묋묌묎묐묒묓묔묕묖묗묙묚묛묝묞묟묡묢묣묤묥묦묧�".split(""),e=0;e!=r[145].length;++e)65533!==r[145][e].charCodeAt(0)&&(a[r[145][e]]=37120+e,t[37120+e]=r[145][e]);for(r[146]="�����������������������������������������������������������������묨묪묬묭묮묯묰묱묲묳묷묹묺묿뭀뭁뭂뭃뭆뭈뭊뭋뭌뭎뭑뭒������뭓뭕뭖뭗뭙뭚뭛뭜뭝뭞뭟뭠뭢뭤뭥뭦뭧뭨뭩뭪뭫뭭뭮뭯뭰뭱������뭲뭳뭴뭵뭶뭷뭸뭹뭺뭻뭼뭽뭾뭿뮀뮁뮂뮃뮄뮅뮆뮇뮉뮊뮋뮍뮎뮏뮑뮒뮓뮔뮕뮖뮗뮘뮙뮚뮛뮜뮝뮞뮟뮠뮡뮢뮣뮥뮦뮧뮩뮪뮫뮭뮮뮯뮰뮱뮲뮳뮵뮶뮸뮹뮺뮻뮼뮽뮾뮿믁믂믃믅믆믇믉믊믋믌믍믎믏믑믒믔믕믖믗믘믙믚믛믜믝믞믟믠믡믢믣믤믥믦믧믨믩믪믫믬믭믮믯믰믱믲믳믴믵믶믷믺믻믽믾밁�".split(""),e=0;e!=r[146].length;++e)65533!==r[146][e].charCodeAt(0)&&(a[r[146][e]]=37376+e,t[37376+e]=r[146][e]);for(r[147]="�����������������������������������������������������������������밃밄밅밆밇밊밎밐밒밓밙밚밠밡밢밣밦밨밪밫밬밮밯밲밳밵������밶밷밹밺밻밼밽밾밿뱂뱆뱇뱈뱊뱋뱎뱏뱑뱒뱓뱔뱕뱖뱗뱘뱙������뱚뱛뱜뱞뱟뱠뱡뱢뱣뱤뱥뱦뱧뱨뱩뱪뱫뱬뱭뱮뱯뱰뱱뱲뱳뱴뱵뱶뱷뱸뱹뱺뱻뱼뱽뱾뱿벀벁벂벃벆벇벉벊벍벏벐벑벒벓벖벘벛벜벝벞벟벢벣벥벦벩벪벫벬벭벮벯벲벶벷벸벹벺벻벾벿볁볂볃볅볆볇볈볉볊볋볌볎볒볓볔볖볗볙볚볛볝볞볟볠볡볢볣볤볥볦볧볨볩볪볫볬볭볮볯볰볱볲볳볷볹볺볻볽�".split(""),e=0;e!=r[147].length;++e)65533!==r[147][e].charCodeAt(0)&&(a[r[147][e]]=37632+e,t[37632+e]=r[147][e]);for(r[148]="�����������������������������������������������������������������볾볿봀봁봂봃봆봈봊봋봌봍봎봏봑봒봓봕봖봗봘봙봚봛봜봝������봞봟봠봡봢봣봥봦봧봨봩봪봫봭봮봯봰봱봲봳봴봵봶봷봸봹������봺봻봼봽봾봿뵁뵂뵃뵄뵅뵆뵇뵊뵋뵍뵎뵏뵑뵒뵓뵔뵕뵖뵗뵚뵛뵜뵝뵞뵟뵠뵡뵢뵣뵥뵦뵧뵩뵪뵫뵬뵭뵮뵯뵰뵱뵲뵳뵴뵵뵶뵷뵸뵹뵺뵻뵼뵽뵾뵿붂붃붅붆붋붌붍붎붏붒붔붖붗붘붛붝붞붟붠붡붢붣붥붦붧붨붩붪붫붬붭붮붯붱붲붳붴붵붶붷붹붺붻붼붽붾붿뷀뷁뷂뷃뷄뷅뷆뷇뷈뷉뷊뷋뷌뷍뷎뷏뷐뷑�".split(""),e=0;e!=r[148].length;++e)65533!==r[148][e].charCodeAt(0)&&(a[r[148][e]]=37888+e,t[37888+e]=r[148][e]);for(r[149]="�����������������������������������������������������������������뷒뷓뷖뷗뷙뷚뷛뷝뷞뷟뷠뷡뷢뷣뷤뷥뷦뷧뷨뷪뷫뷬뷭뷮뷯뷱������뷲뷳뷵뷶뷷뷹뷺뷻뷼뷽뷾뷿븁븂븄븆븇븈븉븊븋븎븏븑븒븓������븕븖븗븘븙븚븛븞븠븡븢븣븤븥븦븧븨븩븪븫븬븭븮븯븰븱븲븳븴븵븶븷븸븹븺븻븼븽븾븿빀빁빂빃빆빇빉빊빋빍빏빐빑빒빓빖빘빜빝빞빟빢빣빥빦빧빩빫빬빭빮빯빲빶빷빸빹빺빾빿뺁뺂뺃뺅뺆뺇뺈뺉뺊뺋뺎뺒뺓뺔뺕뺖뺗뺚뺛뺜뺝뺞뺟뺠뺡뺢뺣뺤뺥뺦뺧뺩뺪뺫뺬뺭뺮뺯뺰뺱뺲뺳뺴뺵뺶뺷�".split(""),e=0;e!=r[149].length;++e)65533!==r[149][e].charCodeAt(0)&&(a[r[149][e]]=38144+e,t[38144+e]=r[149][e]);for(r[150]="�����������������������������������������������������������������뺸뺹뺺뺻뺼뺽뺾뺿뻀뻁뻂뻃뻄뻅뻆뻇뻈뻉뻊뻋뻌뻍뻎뻏뻒뻓������뻕뻖뻙뻚뻛뻜뻝뻞뻟뻡뻢뻦뻧뻨뻩뻪뻫뻭뻮뻯뻰뻱뻲뻳뻴뻵������뻶뻷뻸뻹뻺뻻뻼뻽뻾뻿뼀뼂뼃뼄뼅뼆뼇뼊뼋뼌뼍뼎뼏뼐뼑뼒뼓뼔뼕뼖뼗뼚뼞뼟뼠뼡뼢뼣뼤뼥뼦뼧뼨뼩뼪뼫뼬뼭뼮뼯뼰뼱뼲뼳뼴뼵뼶뼷뼸뼹뼺뼻뼼뼽뼾뼿뽂뽃뽅뽆뽇뽉뽊뽋뽌뽍뽎뽏뽒뽓뽔뽖뽗뽘뽙뽚뽛뽜뽝뽞뽟뽠뽡뽢뽣뽤뽥뽦뽧뽨뽩뽪뽫뽬뽭뽮뽯뽰뽱뽲뽳뽴뽵뽶뽷뽸뽹뽺뽻뽼뽽뽾뽿뾀뾁뾂�".split(""),e=0;e!=r[150].length;++e)65533!==r[150][e].charCodeAt(0)&&(a[r[150][e]]=38400+e,t[38400+e]=r[150][e]);for(r[151]="�����������������������������������������������������������������뾃뾄뾅뾆뾇뾈뾉뾊뾋뾌뾍뾎뾏뾐뾑뾒뾓뾕뾖뾗뾘뾙뾚뾛뾜뾝������뾞뾟뾠뾡뾢뾣뾤뾥뾦뾧뾨뾩뾪뾫뾬뾭뾮뾯뾱뾲뾳뾴뾵뾶뾷뾸������뾹뾺뾻뾼뾽뾾뾿뿀뿁뿂뿃뿄뿆뿇뿈뿉뿊뿋뿎뿏뿑뿒뿓뿕뿖뿗뿘뿙뿚뿛뿝뿞뿠뿢뿣뿤뿥뿦뿧뿨뿩뿪뿫뿬뿭뿮뿯뿰뿱뿲뿳뿴뿵뿶뿷뿸뿹뿺뿻뿼뿽뿾뿿쀀쀁쀂쀃쀄쀅쀆쀇쀈쀉쀊쀋쀌쀍쀎쀏쀐쀑쀒쀓쀔쀕쀖쀗쀘쀙쀚쀛쀜쀝쀞쀟쀠쀡쀢쀣쀤쀥쀦쀧쀨쀩쀪쀫쀬쀭쀮쀯쀰쀱쀲쀳쀴쀵쀶쀷쀸쀹쀺쀻쀽쀾쀿�".split(""),e=0;e!=r[151].length;++e)65533!==r[151][e].charCodeAt(0)&&(a[r[151][e]]=38656+e,t[38656+e]=r[151][e]);for(r[152]="�����������������������������������������������������������������쁀쁁쁂쁃쁄쁅쁆쁇쁈쁉쁊쁋쁌쁍쁎쁏쁐쁒쁓쁔쁕쁖쁗쁙쁚쁛������쁝쁞쁟쁡쁢쁣쁤쁥쁦쁧쁪쁫쁬쁭쁮쁯쁰쁱쁲쁳쁴쁵쁶쁷쁸쁹������쁺쁻쁼쁽쁾쁿삀삁삂삃삄삅삆삇삈삉삊삋삌삍삎삏삒삓삕삖삗삙삚삛삜삝삞삟삢삤삦삧삨삩삪삫삮삱삲삷삸삹삺삻삾샂샃샄샆샇샊샋샍샎샏샑샒샓샔샕샖샗샚샞샟샠샡샢샣샦샧샩샪샫샭샮샯샰샱샲샳샶샸샺샻샼샽샾샿섁섂섃섅섆섇섉섊섋섌섍섎섏섑섒섓섔섖섗섘섙섚섛섡섢섥섨섩섪섫섮�".split(""),e=0;e!=r[152].length;++e)65533!==r[152][e].charCodeAt(0)&&(a[r[152][e]]=38912+e,t[38912+e]=r[152][e]);for(r[153]="�����������������������������������������������������������������섲섳섴섵섷섺섻섽섾섿셁셂셃셄셅셆셇셊셎셏셐셑셒셓셖셗������셙셚셛셝셞셟셠셡셢셣셦셪셫셬셭셮셯셱셲셳셵셶셷셹셺셻������셼셽셾셿솀솁솂솃솄솆솇솈솉솊솋솏솑솒솓솕솗솘솙솚솛솞솠솢솣솤솦솧솪솫솭솮솯솱솲솳솴솵솶솷솸솹솺솻솼솾솿쇀쇁쇂쇃쇅쇆쇇쇉쇊쇋쇍쇎쇏쇐쇑쇒쇓쇕쇖쇙쇚쇛쇜쇝쇞쇟쇡쇢쇣쇥쇦쇧쇩쇪쇫쇬쇭쇮쇯쇲쇴쇵쇶쇷쇸쇹쇺쇻쇾쇿숁숂숃숅숆숇숈숉숊숋숎숐숒숓숔숕숖숗숚숛숝숞숡숢숣�".split(""),e=0;e!=r[153].length;++e)65533!==r[153][e].charCodeAt(0)&&(a[r[153][e]]=39168+e,t[39168+e]=r[153][e]);for(r[154]="�����������������������������������������������������������������숤숥숦숧숪숬숮숰숳숵숶숷숸숹숺숻숼숽숾숿쉀쉁쉂쉃쉄쉅������쉆쉇쉉쉊쉋쉌쉍쉎쉏쉒쉓쉕쉖쉗쉙쉚쉛쉜쉝쉞쉟쉡쉢쉣쉤쉦������쉧쉨쉩쉪쉫쉮쉯쉱쉲쉳쉵쉶쉷쉸쉹쉺쉻쉾슀슂슃슄슅슆슇슊슋슌슍슎슏슑슒슓슔슕슖슗슙슚슜슞슟슠슡슢슣슦슧슩슪슫슮슯슰슱슲슳슶슸슺슻슼슽슾슿싀싁싂싃싄싅싆싇싈싉싊싋싌싍싎싏싐싑싒싓싔싕싖싗싘싙싚싛싞싟싡싢싥싦싧싨싩싪싮싰싲싳싴싵싷싺싽싾싿쌁쌂쌃쌄쌅쌆쌇쌊쌋쌎쌏�".split(""),e=0;e!=r[154].length;++e)65533!==r[154][e].charCodeAt(0)&&(a[r[154][e]]=39424+e,t[39424+e]=r[154][e]);for(r[155]="�����������������������������������������������������������������쌐쌑쌒쌖쌗쌙쌚쌛쌝쌞쌟쌠쌡쌢쌣쌦쌧쌪쌫쌬쌭쌮쌯쌰쌱쌲������쌳쌴쌵쌶쌷쌸쌹쌺쌻쌼쌽쌾쌿썀썁썂썃썄썆썇썈썉썊썋썌썍������썎썏썐썑썒썓썔썕썖썗썘썙썚썛썜썝썞썟썠썡썢썣썤썥썦썧썪썫썭썮썯썱썳썴썵썶썷썺썻썾썿쎀쎁쎂쎃쎅쎆쎇쎉쎊쎋쎍쎎쎏쎐쎑쎒쎓쎔쎕쎖쎗쎘쎙쎚쎛쎜쎝쎞쎟쎠쎡쎢쎣쎤쎥쎦쎧쎨쎩쎪쎫쎬쎭쎮쎯쎰쎱쎲쎳쎴쎵쎶쎷쎸쎹쎺쎻쎼쎽쎾쎿쏁쏂쏃쏄쏅쏆쏇쏈쏉쏊쏋쏌쏍쏎쏏쏐쏑쏒쏓쏔쏕쏖쏗쏚�".split(""),e=0;e!=r[155].length;++e)65533!==r[155][e].charCodeAt(0)&&(a[r[155][e]]=39680+e,t[39680+e]=r[155][e]);for(r[156]="�����������������������������������������������������������������쏛쏝쏞쏡쏣쏤쏥쏦쏧쏪쏫쏬쏮쏯쏰쏱쏲쏳쏶쏷쏹쏺쏻쏼쏽쏾������쏿쐀쐁쐂쐃쐄쐅쐆쐇쐉쐊쐋쐌쐍쐎쐏쐑쐒쐓쐔쐕쐖쐗쐘쐙쐚������쐛쐜쐝쐞쐟쐠쐡쐢쐣쐥쐦쐧쐨쐩쐪쐫쐭쐮쐯쐱쐲쐳쐵쐶쐷쐸쐹쐺쐻쐾쐿쑀쑁쑂쑃쑄쑅쑆쑇쑉쑊쑋쑌쑍쑎쑏쑐쑑쑒쑓쑔쑕쑖쑗쑘쑙쑚쑛쑜쑝쑞쑟쑠쑡쑢쑣쑦쑧쑩쑪쑫쑭쑮쑯쑰쑱쑲쑳쑶쑷쑸쑺쑻쑼쑽쑾쑿쒁쒂쒃쒄쒅쒆쒇쒈쒉쒊쒋쒌쒍쒎쒏쒐쒑쒒쒓쒕쒖쒗쒘쒙쒚쒛쒝쒞쒟쒠쒡쒢쒣쒤쒥쒦쒧쒨쒩�".split(""),e=0;e!=r[156].length;++e)65533!==r[156][e].charCodeAt(0)&&(a[r[156][e]]=39936+e,t[39936+e]=r[156][e]);for(r[157]="�����������������������������������������������������������������쒪쒫쒬쒭쒮쒯쒰쒱쒲쒳쒴쒵쒶쒷쒹쒺쒻쒽쒾쒿쓀쓁쓂쓃쓄쓅������쓆쓇쓈쓉쓊쓋쓌쓍쓎쓏쓐쓑쓒쓓쓔쓕쓖쓗쓘쓙쓚쓛쓜쓝쓞쓟������쓠쓡쓢쓣쓤쓥쓦쓧쓨쓪쓫쓬쓭쓮쓯쓲쓳쓵쓶쓷쓹쓻쓼쓽쓾씂씃씄씅씆씇씈씉씊씋씍씎씏씑씒씓씕씖씗씘씙씚씛씝씞씟씠씡씢씣씤씥씦씧씪씫씭씮씯씱씲씳씴씵씶씷씺씼씾씿앀앁앂앃앆앇앋앏앐앑앒앖앚앛앜앟앢앣앥앦앧앩앪앫앬앭앮앯앲앶앷앸앹앺앻앾앿얁얂얃얅얆얈얉얊얋얎얐얒얓얔�".split(""),e=0;e!=r[157].length;++e)65533!==r[157][e].charCodeAt(0)&&(a[r[157][e]]=40192+e,t[40192+e]=r[157][e]);for(r[158]="�����������������������������������������������������������������얖얙얚얛얝얞얟얡얢얣얤얥얦얧얨얪얫얬얭얮얯얰얱얲얳얶������얷얺얿엀엁엂엃엋엍엏엒엓엕엖엗엙엚엛엜엝엞엟엢엤엦엧������엨엩엪엫엯엱엲엳엵엸엹엺엻옂옃옄옉옊옋옍옎옏옑옒옓옔옕옖옗옚옝옞옟옠옡옢옣옦옧옩옪옫옯옱옲옶옸옺옼옽옾옿왂왃왅왆왇왉왊왋왌왍왎왏왒왖왗왘왙왚왛왞왟왡왢왣왤왥왦왧왨왩왪왫왭왮왰왲왳왴왵왶왷왺왻왽왾왿욁욂욃욄욅욆욇욊욌욎욏욐욑욒욓욖욗욙욚욛욝욞욟욠욡욢욣욦�".split(""),e=0;e!=r[158].length;++e)65533!==r[158][e].charCodeAt(0)&&(a[r[158][e]]=40448+e,t[40448+e]=r[158][e]);for(r[159]="�����������������������������������������������������������������욨욪욫욬욭욮욯욲욳욵욶욷욻욼욽욾욿웂웄웆웇웈웉웊웋웎������웏웑웒웓웕웖웗웘웙웚웛웞웟웢웣웤웥웦웧웪웫웭웮웯웱웲������웳웴웵웶웷웺웻웼웾웿윀윁윂윃윆윇윉윊윋윍윎윏윐윑윒윓윖윘윚윛윜윝윞윟윢윣윥윦윧윩윪윫윬윭윮윯윲윴윶윸윹윺윻윾윿읁읂읃읅읆읇읈읉읋읎읐읙읚읛읝읞읟읡읢읣읤읥읦읧읩읪읬읭읮읯읰읱읲읳읶읷읹읺읻읿잀잁잂잆잋잌잍잏잒잓잕잙잛잜잝잞잟잢잧잨잩잪잫잮잯잱잲잳잵잶잷�".split(""),e=0;e!=r[159].length;++e)65533!==r[159][e].charCodeAt(0)&&(a[r[159][e]]=40704+e,t[40704+e]=r[159][e]);for(r[160]="�����������������������������������������������������������������잸잹잺잻잾쟂쟃쟄쟅쟆쟇쟊쟋쟍쟏쟑쟒쟓쟔쟕쟖쟗쟙쟚쟛쟜������쟞쟟쟠쟡쟢쟣쟥쟦쟧쟩쟪쟫쟭쟮쟯쟰쟱쟲쟳쟴쟵쟶쟷쟸쟹쟺������쟻쟼쟽쟾쟿젂젃젅젆젇젉젋젌젍젎젏젒젔젗젘젙젚젛젞젟젡젢젣젥젦젧젨젩젪젫젮젰젲젳젴젵젶젷젹젺젻젽젾젿졁졂졃졄졅졆졇졊졋졎졏졐졑졒졓졕졖졗졘졙졚졛졜졝졞졟졠졡졢졣졤졥졦졧졨졩졪졫졬졭졮졯졲졳졵졶졷졹졻졼졽졾졿좂좄좈좉좊좎좏좐좑좒좓좕좖좗좘좙좚좛좜좞좠좢좣좤�".split(""),e=0;e!=r[160].length;++e)65533!==r[160][e].charCodeAt(0)&&(a[r[160][e]]=40960+e,t[40960+e]=r[160][e]);for(r[161]="�����������������������������������������������������������������좥좦좧좩좪좫좬좭좮좯좰좱좲좳좴좵좶좷좸좹좺좻좾좿죀죁������죂죃죅죆죇죉죊죋죍죎죏죐죑죒죓죖죘죚죛죜죝죞죟죢죣죥������죦죧죨죩죪죫죬죭죮죯죰죱죲죳죴죶죷죸죹죺죻죾죿줁줂줃줇줈줉줊줋줎　、。·‥…¨〃­―∥＼∼‘’“”〔〕〈〉《》「」『』【】±×÷≠≤≥∞∴°′″℃Å￠￡￥♂♀∠⊥⌒∂∇≡≒§※☆★○●◎◇◆□■△▲▽▼→←↑↓↔〓≪≫√∽∝∵∫∬∈∋⊆⊇⊂⊃∪∩∧∨￢�".split(""),e=0;e!=r[161].length;++e)65533!==r[161][e].charCodeAt(0)&&(a[r[161][e]]=41216+e,t[41216+e]=r[161][e]);for(r[162]="�����������������������������������������������������������������줐줒줓줔줕줖줗줙줚줛줜줝줞줟줠줡줢줣줤줥줦줧줨줩줪줫������줭줮줯줰줱줲줳줵줶줷줸줹줺줻줼줽줾줿쥀쥁쥂쥃쥄쥅쥆쥇������쥈쥉쥊쥋쥌쥍쥎쥏쥒쥓쥕쥖쥗쥙쥚쥛쥜쥝쥞쥟쥢쥤쥥쥦쥧쥨쥩쥪쥫쥭쥮쥯⇒⇔∀∃´～ˇ˘˝˚˙¸˛¡¿ː∮∑∏¤℉‰◁◀▷▶♤♠♡♥♧♣⊙◈▣◐◑▒▤▥▨▧▦▩♨☏☎☜☞¶†‡↕↗↙↖↘♭♩♪♬㉿㈜№㏇™㏂㏘℡€®������������������������".split(""),e=0;e!=r[162].length;++e)65533!==r[162][e].charCodeAt(0)&&(a[r[162][e]]=41472+e,t[41472+e]=r[162][e]);for(r[163]="�����������������������������������������������������������������쥱쥲쥳쥵쥶쥷쥸쥹쥺쥻쥽쥾쥿즀즁즂즃즄즅즆즇즊즋즍즎즏������즑즒즓즔즕즖즗즚즜즞즟즠즡즢즣즤즥즦즧즨즩즪즫즬즭즮������즯즰즱즲즳즴즵즶즷즸즹즺즻즼즽즾즿짂짃짅짆짉짋짌짍짎짏짒짔짗짘짛！＂＃＄％＆＇（）＊＋，－．／０１２３４５６７８９：；＜＝＞？＠ＡＢＣＤＥＦＧＨＩＪＫＬＭＮＯＰＱＲＳＴＵＶＷＸＹＺ［￦］＾＿｀ａｂｃｄｅｆｇｈｉｊｋｌｍｎｏｐｑｒｓｔｕｖｗｘｙｚ｛｜｝￣�".split(""),e=0;e!=r[163].length;++e)65533!==r[163][e].charCodeAt(0)&&(a[r[163][e]]=41728+e,t[41728+e]=r[163][e]);for(r[164]="�����������������������������������������������������������������짞짟짡짣짥짦짨짩짪짫짮짲짳짴짵짶짷짺짻짽짾짿쨁쨂쨃쨄������쨅쨆쨇쨊쨎쨏쨐쨑쨒쨓쨕쨖쨗쨙쨚쨛쨜쨝쨞쨟쨠쨡쨢쨣쨤쨥������쨦쨧쨨쨪쨫쨬쨭쨮쨯쨰쨱쨲쨳쨴쨵쨶쨷쨸쨹쨺쨻쨼쨽쨾쨿쩀쩁쩂쩃쩄쩅쩆ㄱㄲㄳㄴㄵㄶㄷㄸㄹㄺㄻㄼㄽㄾㄿㅀㅁㅂㅃㅄㅅㅆㅇㅈㅉㅊㅋㅌㅍㅎㅏㅐㅑㅒㅓㅔㅕㅖㅗㅘㅙㅚㅛㅜㅝㅞㅟㅠㅡㅢㅣㅤㅥㅦㅧㅨㅩㅪㅫㅬㅭㅮㅯㅰㅱㅲㅳㅴㅵㅶㅷㅸㅹㅺㅻㅼㅽㅾㅿㆀㆁㆂㆃㆄㆅㆆㆇㆈㆉㆊㆋㆌㆍㆎ�".split(""),e=0;e!=r[164].length;++e)65533!==r[164][e].charCodeAt(0)&&(a[r[164][e]]=41984+e,t[41984+e]=r[164][e]);for(r[165]="�����������������������������������������������������������������쩇쩈쩉쩊쩋쩎쩏쩑쩒쩓쩕쩖쩗쩘쩙쩚쩛쩞쩢쩣쩤쩥쩦쩧쩩쩪������쩫쩬쩭쩮쩯쩰쩱쩲쩳쩴쩵쩶쩷쩸쩹쩺쩻쩼쩾쩿쪀쪁쪂쪃쪅쪆������쪇쪈쪉쪊쪋쪌쪍쪎쪏쪐쪑쪒쪓쪔쪕쪖쪗쪙쪚쪛쪜쪝쪞쪟쪠쪡쪢쪣쪤쪥쪦쪧ⅰⅱⅲⅳⅴⅵⅶⅷⅸⅹ�����ⅠⅡⅢⅣⅤⅥⅦⅧⅨⅩ�������ΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩ��������αβγδεζηθικλμνξοπρστυφχψω�������".split(""),e=0;e!=r[165].length;++e)65533!==r[165][e].charCodeAt(0)&&(a[r[165][e]]=42240+e,t[42240+e]=r[165][e]);for(r[166]="�����������������������������������������������������������������쪨쪩쪪쪫쪬쪭쪮쪯쪰쪱쪲쪳쪴쪵쪶쪷쪸쪹쪺쪻쪾쪿쫁쫂쫃쫅������쫆쫇쫈쫉쫊쫋쫎쫐쫒쫔쫕쫖쫗쫚쫛쫜쫝쫞쫟쫡쫢쫣쫤쫥쫦쫧������쫨쫩쫪쫫쫭쫮쫯쫰쫱쫲쫳쫵쫶쫷쫸쫹쫺쫻쫼쫽쫾쫿쬀쬁쬂쬃쬄쬅쬆쬇쬉쬊─│┌┐┘└├┬┤┴┼━┃┏┓┛┗┣┳┫┻╋┠┯┨┷┿┝┰┥┸╂┒┑┚┙┖┕┎┍┞┟┡┢┦┧┩┪┭┮┱┲┵┶┹┺┽┾╀╁╃╄╅╆╇╈╉╊���������������������������".split(""),e=0;e!=r[166].length;++e)65533!==r[166][e].charCodeAt(0)&&(a[r[166][e]]=42496+e,t[42496+e]=r[166][e]);for(r[167]="�����������������������������������������������������������������쬋쬌쬍쬎쬏쬑쬒쬓쬕쬖쬗쬙쬚쬛쬜쬝쬞쬟쬢쬣쬤쬥쬦쬧쬨쬩������쬪쬫쬬쬭쬮쬯쬰쬱쬲쬳쬴쬵쬶쬷쬸쬹쬺쬻쬼쬽쬾쬿쭀쭂쭃쭄������쭅쭆쭇쭊쭋쭍쭎쭏쭑쭒쭓쭔쭕쭖쭗쭚쭛쭜쭞쭟쭠쭡쭢쭣쭥쭦쭧쭨쭩쭪쭫쭬㎕㎖㎗ℓ㎘㏄㎣㎤㎥㎦㎙㎚㎛㎜㎝㎞㎟㎠㎡㎢㏊㎍㎎㎏㏏㎈㎉㏈㎧㎨㎰㎱㎲㎳㎴㎵㎶㎷㎸㎹㎀㎁㎂㎃㎄㎺㎻㎼㎽㎾㎿㎐㎑㎒㎓㎔Ω㏀㏁㎊㎋㎌㏖㏅㎭㎮㎯㏛㎩㎪㎫㎬㏝㏐㏓㏃㏉㏜㏆����������������".split(""),e=0;e!=r[167].length;++e)65533!==r[167][e].charCodeAt(0)&&(a[r[167][e]]=42752+e,t[42752+e]=r[167][e]);for(r[168]="�����������������������������������������������������������������쭭쭮쭯쭰쭱쭲쭳쭴쭵쭶쭷쭺쭻쭼쭽쭾쭿쮀쮁쮂쮃쮄쮅쮆쮇쮈������쮉쮊쮋쮌쮍쮎쮏쮐쮑쮒쮓쮔쮕쮖쮗쮘쮙쮚쮛쮝쮞쮟쮠쮡쮢쮣������쮤쮥쮦쮧쮨쮩쮪쮫쮬쮭쮮쮯쮰쮱쮲쮳쮴쮵쮶쮷쮹쮺쮻쮼쮽쮾쮿쯀쯁쯂쯃쯄ÆÐªĦ�Ĳ�ĿŁØŒºÞŦŊ�㉠㉡㉢㉣㉤㉥㉦㉧㉨㉩㉪㉫㉬㉭㉮㉯㉰㉱㉲㉳㉴㉵㉶㉷㉸㉹㉺㉻ⓐⓑⓒⓓⓔⓕⓖⓗⓘⓙⓚⓛⓜⓝⓞⓟⓠⓡⓢⓣⓤⓥⓦⓧⓨⓩ①②③④⑤⑥⑦⑧⑨⑩⑪⑫⑬⑭⑮½⅓⅔¼¾⅛⅜⅝⅞�".split(""),e=0;e!=r[168].length;++e)65533!==r[168][e].charCodeAt(0)&&(a[r[168][e]]=43008+e,t[43008+e]=r[168][e]);for(r[169]="�����������������������������������������������������������������쯅쯆쯇쯈쯉쯊쯋쯌쯍쯎쯏쯐쯑쯒쯓쯕쯖쯗쯘쯙쯚쯛쯜쯝쯞쯟������쯠쯡쯢쯣쯥쯦쯨쯪쯫쯬쯭쯮쯯쯰쯱쯲쯳쯴쯵쯶쯷쯸쯹쯺쯻쯼������쯽쯾쯿찀찁찂찃찄찅찆찇찈찉찊찋찎찏찑찒찓찕찖찗찘찙찚찛찞찟찠찣찤æđðħıĳĸŀłøœßþŧŋŉ㈀㈁㈂㈃㈄㈅㈆㈇㈈㈉㈊㈋㈌㈍㈎㈏㈐㈑㈒㈓㈔㈕㈖㈗㈘㈙㈚㈛⒜⒝⒞⒟⒠⒡⒢⒣⒤⒥⒦⒧⒨⒩⒪⒫⒬⒭⒮⒯⒰⒱⒲⒳⒴⒵⑴⑵⑶⑷⑸⑹⑺⑻⑼⑽⑾⑿⒀⒁⒂¹²³⁴ⁿ₁₂₃₄�".split(""),e=0;e!=r[169].length;++e)65533!==r[169][e].charCodeAt(0)&&(a[r[169][e]]=43264+e,t[43264+e]=r[169][e]);for(r[170]="�����������������������������������������������������������������찥찦찪찫찭찯찱찲찳찴찵찶찷찺찿챀챁챂챃챆챇챉챊챋챍챎������챏챐챑챒챓챖챚챛챜챝챞챟챡챢챣챥챧챩챪챫챬챭챮챯챱챲������챳챴챶챷챸챹챺챻챼챽챾챿첀첁첂첃첄첅첆첇첈첉첊첋첌첍첎첏첐첑첒첓ぁあぃいぅうぇえぉおかがきぎくぐけげこごさざしじすずせぜそぞただちぢっつづてでとどなにぬねのはばぱひびぴふぶぷへべぺほぼぽまみむめもゃやゅゆょよらりるれろゎわゐゑをん������������".split(""),e=0;e!=r[170].length;++e)65533!==r[170][e].charCodeAt(0)&&(a[r[170][e]]=43520+e,t[43520+e]=r[170][e]);for(r[171]="�����������������������������������������������������������������첔첕첖첗첚첛첝첞첟첡첢첣첤첥첦첧첪첮첯첰첱첲첳첶첷첹������첺첻첽첾첿쳀쳁쳂쳃쳆쳈쳊쳋쳌쳍쳎쳏쳑쳒쳓쳕쳖쳗쳘쳙쳚������쳛쳜쳝쳞쳟쳠쳡쳢쳣쳥쳦쳧쳨쳩쳪쳫쳭쳮쳯쳱쳲쳳쳴쳵쳶쳷쳸쳹쳺쳻쳼쳽ァアィイゥウェエォオカガキギクグケゲコゴサザシジスズセゼソゾタダチヂッツヅテデトドナニヌネノハバパヒビピフブプヘベペホボポマミムメモャヤュユョヨラリルレロヮワヰヱヲンヴヵヶ���������".split(""),e=0;e!=r[171].length;++e)65533!==r[171][e].charCodeAt(0)&&(a[r[171][e]]=43776+e,t[43776+e]=r[171][e]);for(r[172]="�����������������������������������������������������������������쳾쳿촀촂촃촄촅촆촇촊촋촍촎촏촑촒촓촔촕촖촗촚촜촞촟촠������촡촢촣촥촦촧촩촪촫촭촮촯촰촱촲촳촴촵촶촷촸촺촻촼촽촾������촿쵀쵁쵂쵃쵄쵅쵆쵇쵈쵉쵊쵋쵌쵍쵎쵏쵐쵑쵒쵓쵔쵕쵖쵗쵘쵙쵚쵛쵝쵞쵟АБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ���������������абвгдеёжзийклмнопрстуфхцчшщъыьэюя��������������".split(""),e=0;e!=r[172].length;++e)65533!==r[172][e].charCodeAt(0)&&(a[r[172][e]]=44032+e,t[44032+e]=r[172][e]);for(r[173]="�����������������������������������������������������������������쵡쵢쵣쵥쵦쵧쵨쵩쵪쵫쵮쵰쵲쵳쵴쵵쵶쵷쵹쵺쵻쵼쵽쵾쵿춀������춁춂춃춄춅춆춇춉춊춋춌춍춎춏춐춑춒춓춖춗춙춚춛춝춞춟������춠춡춢춣춦춨춪춫춬춭춮춯춱춲춳춴춵춶춷춸춹춺춻춼춽춾춿췀췁췂췃췅�����������������������������������������������������������������������������������������������".split(""),e=0;e!=r[173].length;++e)65533!==r[173][e].charCodeAt(0)&&(a[r[173][e]]=44288+e,t[44288+e]=r[173][e]);for(r[174]="�����������������������������������������������������������������췆췇췈췉췊췋췍췎췏췑췒췓췔췕췖췗췘췙췚췛췜췝췞췟췠췡������췢췣췤췥췦췧췩췪췫췭췮췯췱췲췳췴췵췶췷췺췼췾췿츀츁츂������츃츅츆츇츉츊츋츍츎츏츐츑츒츓츕츖츗츘츚츛츜츝츞츟츢츣츥츦츧츩츪츫�����������������������������������������������������������������������������������������������".split(""),e=0;e!=r[174].length;++e)65533!==r[174][e].charCodeAt(0)&&(a[r[174][e]]=44544+e,t[44544+e]=r[174][e]);for(r[175]="�����������������������������������������������������������������츬츭츮츯츲츴츶츷츸츹츺츻츼츽츾츿칀칁칂칃칄칅칆칇칈칉������칊칋칌칍칎칏칐칑칒칓칔칕칖칗칚칛칝칞칢칣칤칥칦칧칪칬������칮칯칰칱칲칳칶칷칹칺칻칽칾칿캀캁캂캃캆캈캊캋캌캍캎캏캒캓캕캖캗캙�����������������������������������������������������������������������������������������������".split(""),e=0;e!=r[175].length;++e)65533!==r[175][e].charCodeAt(0)&&(a[r[175][e]]=44800+e,t[44800+e]=r[175][e]);for(r[176]="�����������������������������������������������������������������캚캛캜캝캞캟캢캦캧캨캩캪캫캮캯캰캱캲캳캴캵캶캷캸캹캺������캻캼캽캾캿컀컂컃컄컅컆컇컈컉컊컋컌컍컎컏컐컑컒컓컔컕������컖컗컘컙컚컛컜컝컞컟컠컡컢컣컦컧컩컪컭컮컯컰컱컲컳컶컺컻컼컽컾컿가각간갇갈갉갊감갑값갓갔강갖갗같갚갛개객갠갤갬갭갯갰갱갸갹갼걀걋걍걔걘걜거걱건걷걸걺검겁것겄겅겆겉겊겋게겐겔겜겝겟겠겡겨격겪견겯결겸겹겻겼경곁계곈곌곕곗고곡곤곧골곪곬곯곰곱곳공곶과곽관괄괆�".split(""),e=0;e!=r[176].length;++e)65533!==r[176][e].charCodeAt(0)&&(a[r[176][e]]=45056+e,t[45056+e]=r[176][e]);for(r[177]="�����������������������������������������������������������������켂켃켅켆켇켉켊켋켌켍켎켏켒켔켖켗켘켙켚켛켝켞켟켡켢켣������켥켦켧켨켩켪켫켮켲켳켴켵켶켷켹켺켻켼켽켾켿콀콁콂콃콄������콅콆콇콈콉콊콋콌콍콎콏콐콑콒콓콖콗콙콚콛콝콞콟콠콡콢콣콦콨콪콫콬괌괍괏광괘괜괠괩괬괭괴괵괸괼굄굅굇굉교굔굘굡굣구국군굳굴굵굶굻굼굽굿궁궂궈궉권궐궜궝궤궷귀귁귄귈귐귑귓규균귤그극근귿글긁금급긋긍긔기긱긴긷길긺김깁깃깅깆깊까깍깎깐깔깖깜깝깟깠깡깥깨깩깬깰깸�".split(""),e=0;e!=r[177].length;++e)65533!==r[177][e].charCodeAt(0)&&(a[r[177][e]]=45312+e,t[45312+e]=r[177][e]);for(r[178]="�����������������������������������������������������������������콭콮콯콲콳콵콶콷콹콺콻콼콽콾콿쾁쾂쾃쾄쾆쾇쾈쾉쾊쾋쾍������쾎쾏쾐쾑쾒쾓쾔쾕쾖쾗쾘쾙쾚쾛쾜쾝쾞쾟쾠쾢쾣쾤쾥쾦쾧쾩������쾪쾫쾬쾭쾮쾯쾱쾲쾳쾴쾵쾶쾷쾸쾹쾺쾻쾼쾽쾾쾿쿀쿁쿂쿃쿅쿆쿇쿈쿉쿊쿋깹깻깼깽꺄꺅꺌꺼꺽꺾껀껄껌껍껏껐껑께껙껜껨껫껭껴껸껼꼇꼈꼍꼐꼬꼭꼰꼲꼴꼼꼽꼿꽁꽂꽃꽈꽉꽐꽜꽝꽤꽥꽹꾀꾄꾈꾐꾑꾕꾜꾸꾹꾼꿀꿇꿈꿉꿋꿍꿎꿔꿜꿨꿩꿰꿱꿴꿸뀀뀁뀄뀌뀐뀔뀜뀝뀨끄끅끈끊끌끎끓끔끕끗끙�".split(""),e=0;e!=r[178].length;++e)65533!==r[178][e].charCodeAt(0)&&(a[r[178][e]]=45568+e,t[45568+e]=r[178][e]);for(r[179]="�����������������������������������������������������������������쿌쿍쿎쿏쿐쿑쿒쿓쿔쿕쿖쿗쿘쿙쿚쿛쿜쿝쿞쿟쿢쿣쿥쿦쿧쿩������쿪쿫쿬쿭쿮쿯쿲쿴쿶쿷쿸쿹쿺쿻쿽쿾쿿퀁퀂퀃퀅퀆퀇퀈퀉퀊������퀋퀌퀍퀎퀏퀐퀒퀓퀔퀕퀖퀗퀙퀚퀛퀜퀝퀞퀟퀠퀡퀢퀣퀤퀥퀦퀧퀨퀩퀪퀫퀬끝끼끽낀낄낌낍낏낑나낙낚난낟날낡낢남납낫났낭낮낯낱낳내낵낸낼냄냅냇냈냉냐냑냔냘냠냥너넉넋넌널넒넓넘넙넛넜넝넣네넥넨넬넴넵넷넸넹녀녁년녈념녑녔녕녘녜녠노녹논놀놂놈놉놋농높놓놔놘놜놨뇌뇐뇔뇜뇝�".split(""),e=0;e!=r[179].length;++e)65533!==r[179][e].charCodeAt(0)&&(a[r[179][e]]=45824+e,t[45824+e]=r[179][e]);for(r[180]="�����������������������������������������������������������������퀮퀯퀰퀱퀲퀳퀶퀷퀹퀺퀻퀽퀾퀿큀큁큂큃큆큈큊큋큌큍큎큏������큑큒큓큕큖큗큙큚큛큜큝큞큟큡큢큣큤큥큦큧큨큩큪큫큮큯������큱큲큳큵큶큷큸큹큺큻큾큿킀킂킃킄킅킆킇킈킉킊킋킌킍킎킏킐킑킒킓킔뇟뇨뇩뇬뇰뇹뇻뇽누눅눈눋눌눔눕눗눙눠눴눼뉘뉜뉠뉨뉩뉴뉵뉼늄늅늉느늑는늘늙늚늠늡늣능늦늪늬늰늴니닉닌닐닒님닙닛닝닢다닥닦단닫달닭닮닯닳담답닷닸당닺닻닿대댁댄댈댐댑댓댔댕댜더덕덖던덛덜덞덟덤덥�".split(""),e=0;e!=r[180].length;++e)65533!==r[180][e].charCodeAt(0)&&(a[r[180][e]]=46080+e,t[46080+e]=r[180][e]);for(r[181]="�����������������������������������������������������������������킕킖킗킘킙킚킛킜킝킞킟킠킡킢킣킦킧킩킪킫킭킮킯킰킱킲������킳킶킸킺킻킼킽킾킿탂탃탅탆탇탊탋탌탍탎탏탒탖탗탘탙탚������탛탞탟탡탢탣탥탦탧탨탩탪탫탮탲탳탴탵탶탷탹탺탻탼탽탾탿턀턁턂턃턄덧덩덫덮데덱덴델뎀뎁뎃뎄뎅뎌뎐뎔뎠뎡뎨뎬도독돈돋돌돎돐돔돕돗동돛돝돠돤돨돼됐되된될됨됩됫됴두둑둔둘둠둡둣둥둬뒀뒈뒝뒤뒨뒬뒵뒷뒹듀듄듈듐듕드득든듣들듦듬듭듯등듸디딕딘딛딜딤딥딧딨딩딪따딱딴딸�".split(""),e=0;e!=r[181].length;++e)65533!==r[181][e].charCodeAt(0)&&(a[r[181][e]]=46336+e,t[46336+e]=r[181][e]);for(r[182]="�����������������������������������������������������������������턅턆턇턈턉턊턋턌턎턏턐턑턒턓턔턕턖턗턘턙턚턛턜턝턞턟������턠턡턢턣턤턥턦턧턨턩턪턫턬턭턮턯턲턳턵턶턷턹턻턼턽턾������턿텂텆텇텈텉텊텋텎텏텑텒텓텕텖텗텘텙텚텛텞텠텢텣텤텥텦텧텩텪텫텭땀땁땃땄땅땋때땍땐땔땜땝땟땠땡떠떡떤떨떪떫떰떱떳떴떵떻떼떽뗀뗄뗌뗍뗏뗐뗑뗘뗬또똑똔똘똥똬똴뙈뙤뙨뚜뚝뚠뚤뚫뚬뚱뛔뛰뛴뛸뜀뜁뜅뜨뜩뜬뜯뜰뜸뜹뜻띄띈띌띔띕띠띤띨띰띱띳띵라락란랄람랍랏랐랑랒랖랗�".split(""),e=0;e!=r[182].length;++e)65533!==r[182][e].charCodeAt(0)&&(a[r[182][e]]=46592+e,t[46592+e]=r[182][e]);for(r[183]="�����������������������������������������������������������������텮텯텰텱텲텳텴텵텶텷텸텹텺텻텽텾텿톀톁톂톃톅톆톇톉톊������톋톌톍톎톏톐톑톒톓톔톕톖톗톘톙톚톛톜톝톞톟톢톣톥톦톧������톩톪톫톬톭톮톯톲톴톶톷톸톹톻톽톾톿퇁퇂퇃퇄퇅퇆퇇퇈퇉퇊퇋퇌퇍퇎퇏래랙랜랠램랩랫랬랭랴략랸럇량러럭런럴럼럽럿렀렁렇레렉렌렐렘렙렛렝려력련렬렴렵렷렸령례롄롑롓로록론롤롬롭롯롱롸롼뢍뢨뢰뢴뢸룀룁룃룅료룐룔룝룟룡루룩룬룰룸룹룻룽뤄뤘뤠뤼뤽륀륄륌륏륑류륙륜률륨륩�".split(""),e=0;e!=r[183].length;++e)65533!==r[183][e].charCodeAt(0)&&(a[r[183][e]]=46848+e,t[46848+e]=r[183][e]);for(r[184]="�����������������������������������������������������������������퇐퇑퇒퇓퇔퇕퇖퇗퇙퇚퇛퇜퇝퇞퇟퇠퇡퇢퇣퇤퇥퇦퇧퇨퇩퇪������퇫퇬퇭퇮퇯퇰퇱퇲퇳퇵퇶퇷퇹퇺퇻퇼퇽퇾퇿툀툁툂툃툄툅툆������툈툊툋툌툍툎툏툑툒툓툔툕툖툗툘툙툚툛툜툝툞툟툠툡툢툣툤툥툦툧툨툩륫륭르륵른를름릅릇릉릊릍릎리릭린릴림립릿링마막만많맏말맑맒맘맙맛망맞맡맣매맥맨맬맴맵맷맸맹맺먀먁먈먕머먹먼멀멂멈멉멋멍멎멓메멕멘멜멤멥멧멨멩며멱면멸몃몄명몇몌모목몫몬몰몲몸몹못몽뫄뫈뫘뫙뫼�".split(""),e=0;e!=r[184].length;++e)65533!==r[184][e].charCodeAt(0)&&(a[r[184][e]]=47104+e,t[47104+e]=r[184][e]);for(r[185]="�����������������������������������������������������������������툪툫툮툯툱툲툳툵툶툷툸툹툺툻툾퉀퉂퉃퉄퉅퉆퉇퉉퉊퉋퉌������퉍퉎퉏퉐퉑퉒퉓퉔퉕퉖퉗퉘퉙퉚퉛퉝퉞퉟퉠퉡퉢퉣퉥퉦퉧퉨������퉩퉪퉫퉬퉭퉮퉯퉰퉱퉲퉳퉴퉵퉶퉷퉸퉹퉺퉻퉼퉽퉾퉿튂튃튅튆튇튉튊튋튌묀묄묍묏묑묘묜묠묩묫무묵묶문묻물묽묾뭄뭅뭇뭉뭍뭏뭐뭔뭘뭡뭣뭬뮈뮌뮐뮤뮨뮬뮴뮷므믄믈믐믓미믹민믿밀밂밈밉밋밌밍및밑바박밖밗반받발밝밞밟밤밥밧방밭배백밴밸뱀뱁뱃뱄뱅뱉뱌뱍뱐뱝버벅번벋벌벎범법벗�".split(""),e=0;e!=r[185].length;++e)65533!==r[185][e].charCodeAt(0)&&(a[r[185][e]]=47360+e,t[47360+e]=r[185][e]);for(r[186]="�����������������������������������������������������������������튍튎튏튒튓튔튖튗튘튙튚튛튝튞튟튡튢튣튥튦튧튨튩튪튫튭������튮튯튰튲튳튴튵튶튷튺튻튽튾틁틃틄틅틆틇틊틌틍틎틏틐틑������틒틓틕틖틗틙틚틛틝틞틟틠틡틢틣틦틧틨틩틪틫틬틭틮틯틲틳틵틶틷틹틺벙벚베벡벤벧벨벰벱벳벴벵벼벽변별볍볏볐병볕볘볜보복볶본볼봄봅봇봉봐봔봤봬뵀뵈뵉뵌뵐뵘뵙뵤뵨부북분붇불붉붊붐붑붓붕붙붚붜붤붰붸뷔뷕뷘뷜뷩뷰뷴뷸븀븃븅브븍븐블븜븝븟비빅빈빌빎빔빕빗빙빚빛빠빡빤�".split(""),e=0;e!=r[186].length;++e)65533!==r[186][e].charCodeAt(0)&&(a[r[186][e]]=47616+e,t[47616+e]=r[186][e]);for(r[187]="�����������������������������������������������������������������틻틼틽틾틿팂팄팆팇팈팉팊팋팏팑팒팓팕팗팘팙팚팛팞팢팣������팤팦팧팪팫팭팮팯팱팲팳팴팵팶팷팺팾팿퍀퍁퍂퍃퍆퍇퍈퍉������퍊퍋퍌퍍퍎퍏퍐퍑퍒퍓퍔퍕퍖퍗퍘퍙퍚퍛퍜퍝퍞퍟퍠퍡퍢퍣퍤퍥퍦퍧퍨퍩빨빪빰빱빳빴빵빻빼빽뺀뺄뺌뺍뺏뺐뺑뺘뺙뺨뻐뻑뻔뻗뻘뻠뻣뻤뻥뻬뼁뼈뼉뼘뼙뼛뼜뼝뽀뽁뽄뽈뽐뽑뽕뾔뾰뿅뿌뿍뿐뿔뿜뿟뿡쀼쁑쁘쁜쁠쁨쁩삐삑삔삘삠삡삣삥사삭삯산삳살삵삶삼삽삿샀상샅새색샌샐샘샙샛샜생샤�".split(""),e=0;e!=r[187].length;++e)65533!==r[187][e].charCodeAt(0)&&(a[r[187][e]]=47872+e,t[47872+e]=r[187][e]);for(r[188]="�����������������������������������������������������������������퍪퍫퍬퍭퍮퍯퍰퍱퍲퍳퍴퍵퍶퍷퍸퍹퍺퍻퍾퍿펁펂펃펅펆펇������펈펉펊펋펎펒펓펔펕펖펗펚펛펝펞펟펡펢펣펤펥펦펧펪펬펮������펯펰펱펲펳펵펶펷펹펺펻펽펾펿폀폁폂폃폆폇폊폋폌폍폎폏폑폒폓폔폕폖샥샨샬샴샵샷샹섀섄섈섐섕서석섞섟선섣설섦섧섬섭섯섰성섶세섹센셀셈셉셋셌셍셔셕션셜셤셥셧셨셩셰셴셸솅소속솎손솔솖솜솝솟송솥솨솩솬솰솽쇄쇈쇌쇔쇗쇘쇠쇤쇨쇰쇱쇳쇼쇽숀숄숌숍숏숑수숙순숟술숨숩숫숭�".split(""),e=0;e!=r[188].length;++e)65533!==r[188][e].charCodeAt(0)&&(a[r[188][e]]=48128+e,t[48128+e]=r[188][e]);for(r[189]="�����������������������������������������������������������������폗폙폚폛폜폝폞폟폠폢폤폥폦폧폨폩폪폫폮폯폱폲폳폵폶폷������폸폹폺폻폾퐀퐂퐃퐄퐅퐆퐇퐉퐊퐋퐌퐍퐎퐏퐐퐑퐒퐓퐔퐕퐖������퐗퐘퐙퐚퐛퐜퐞퐟퐠퐡퐢퐣퐤퐥퐦퐧퐨퐩퐪퐫퐬퐭퐮퐯퐰퐱퐲퐳퐴퐵퐶퐷숯숱숲숴쉈쉐쉑쉔쉘쉠쉥쉬쉭쉰쉴쉼쉽쉿슁슈슉슐슘슛슝스슥슨슬슭슴습슷승시식신싣실싫심십싯싱싶싸싹싻싼쌀쌈쌉쌌쌍쌓쌔쌕쌘쌜쌤쌥쌨쌩썅써썩썬썰썲썸썹썼썽쎄쎈쎌쏀쏘쏙쏜쏟쏠쏢쏨쏩쏭쏴쏵쏸쐈쐐쐤쐬쐰�".split(""),e=0;e!=r[189].length;++e)65533!==r[189][e].charCodeAt(0)&&(a[r[189][e]]=48384+e,t[48384+e]=r[189][e]);for(r[190]="�����������������������������������������������������������������퐸퐹퐺퐻퐼퐽퐾퐿푁푂푃푅푆푇푈푉푊푋푌푍푎푏푐푑푒푓������푔푕푖푗푘푙푚푛푝푞푟푡푢푣푥푦푧푨푩푪푫푬푮푰푱푲������푳푴푵푶푷푺푻푽푾풁풃풄풅풆풇풊풌풎풏풐풑풒풓풕풖풗풘풙풚풛풜풝쐴쐼쐽쑈쑤쑥쑨쑬쑴쑵쑹쒀쒔쒜쒸쒼쓩쓰쓱쓴쓸쓺쓿씀씁씌씐씔씜씨씩씬씰씸씹씻씽아악안앉않알앍앎앓암압앗았앙앝앞애액앤앨앰앱앳앴앵야약얀얄얇얌얍얏양얕얗얘얜얠얩어억언얹얻얼얽얾엄업없엇었엉엊엌엎�".split(""),e=0;e!=r[190].length;++e)65533!==r[190][e].charCodeAt(0)&&(a[r[190][e]]=48640+e,t[48640+e]=r[190][e]);for(r[191]="�����������������������������������������������������������������풞풟풠풡풢풣풤풥풦풧풨풪풫풬풭풮풯풰풱풲풳풴풵풶풷풸������풹풺풻풼풽풾풿퓀퓁퓂퓃퓄퓅퓆퓇퓈퓉퓊퓋퓍퓎퓏퓑퓒퓓퓕������퓖퓗퓘퓙퓚퓛퓝퓞퓠퓡퓢퓣퓤퓥퓦퓧퓩퓪퓫퓭퓮퓯퓱퓲퓳퓴퓵퓶퓷퓹퓺퓼에엑엔엘엠엡엣엥여역엮연열엶엷염엽엾엿였영옅옆옇예옌옐옘옙옛옜오옥온올옭옮옰옳옴옵옷옹옻와왁완왈왐왑왓왔왕왜왝왠왬왯왱외왹왼욀욈욉욋욍요욕욘욜욤욥욧용우욱운울욹욺움웁웃웅워웍원월웜웝웠웡웨�".split(""),e=0;e!=r[191].length;++e)65533!==r[191][e].charCodeAt(0)&&(a[r[191][e]]=48896+e,t[48896+e]=r[191][e]);for(r[192]="�����������������������������������������������������������������퓾퓿픀픁픂픃픅픆픇픉픊픋픍픎픏픐픑픒픓픖픘픙픚픛픜픝������픞픟픠픡픢픣픤픥픦픧픨픩픪픫픬픭픮픯픰픱픲픳픴픵픶픷������픸픹픺픻픾픿핁핂핃핅핆핇핈핉핊핋핎핐핒핓핔핕핖핗핚핛핝핞핟핡핢핣웩웬웰웸웹웽위윅윈윌윔윕윗윙유육윤율윰윱윳융윷으윽은을읊음읍읏응읒읓읔읕읖읗의읜읠읨읫이익인일읽읾잃임입잇있잉잊잎자작잔잖잗잘잚잠잡잣잤장잦재잭잰잴잼잽잿쟀쟁쟈쟉쟌쟎쟐쟘쟝쟤쟨쟬저적전절젊�".split(""),e=0;e!=r[192].length;++e)65533!==r[192][e].charCodeAt(0)&&(a[r[192][e]]=49152+e,t[49152+e]=r[192][e]);for(r[193]="�����������������������������������������������������������������핤핦핧핪핬핮핯핰핱핲핳핶핷핹핺핻핽핾핿햀햁햂햃햆햊햋������햌햍햎햏햑햒햓햔햕햖햗햘햙햚햛햜햝햞햟햠햡햢햣햤햦햧������햨햩햪햫햬햭햮햯햰햱햲햳햴햵햶햷햸햹햺햻햼햽햾햿헀헁헂헃헄헅헆헇점접젓정젖제젝젠젤젬젭젯젱져젼졀졈졉졌졍졔조족존졸졺좀좁좃종좆좇좋좌좍좔좝좟좡좨좼좽죄죈죌죔죕죗죙죠죡죤죵주죽준줄줅줆줌줍줏중줘줬줴쥐쥑쥔쥘쥠쥡쥣쥬쥰쥴쥼즈즉즌즐즘즙즛증지직진짇질짊짐집짓�".split(""),e=0;e!=r[193].length;++e)65533!==r[193][e].charCodeAt(0)&&(a[r[193][e]]=49408+e,t[49408+e]=r[193][e]);for(r[194]="�����������������������������������������������������������������헊헋헍헎헏헑헓헔헕헖헗헚헜헞헟헠헡헢헣헦헧헩헪헫헭헮������헯헰헱헲헳헶헸헺헻헼헽헾헿혂혃혅혆혇혉혊혋혌혍혎혏혒������혖혗혘혙혚혛혝혞혟혡혢혣혥혦혧혨혩혪혫혬혮혯혰혱혲혳혴혵혶혷혺혻징짖짙짚짜짝짠짢짤짧짬짭짯짰짱째짹짼쨀쨈쨉쨋쨌쨍쨔쨘쨩쩌쩍쩐쩔쩜쩝쩟쩠쩡쩨쩽쪄쪘쪼쪽쫀쫄쫌쫍쫏쫑쫓쫘쫙쫠쫬쫴쬈쬐쬔쬘쬠쬡쭁쭈쭉쭌쭐쭘쭙쭝쭤쭸쭹쮜쮸쯔쯤쯧쯩찌찍찐찔찜찝찡찢찧차착찬찮찰참찹찻�".split(""),e=0;e!=r[194].length;++e)65533!==r[194][e].charCodeAt(0)&&(a[r[194][e]]=49664+e,t[49664+e]=r[194][e]);for(r[195]="�����������������������������������������������������������������혽혾혿홁홂홃홄홆홇홊홌홎홏홐홒홓홖홗홙홚홛홝홞홟홠홡������홢홣홤홥홦홨홪홫홬홭홮홯홲홳홵홶홷홸홹홺홻홼홽홾홿횀������횁횂횄횆횇횈횉횊횋횎횏횑횒횓횕횖횗횘횙횚횛횜횞횠횢횣횤횥횦횧횩횪찼창찾채책챈챌챔챕챗챘챙챠챤챦챨챰챵처척천철첨첩첫첬청체첵첸첼쳄쳅쳇쳉쳐쳔쳤쳬쳰촁초촉촌촐촘촙촛총촤촨촬촹최쵠쵤쵬쵭쵯쵱쵸춈추축춘출춤춥춧충춰췄췌췐취췬췰췸췹췻췽츄츈츌츔츙츠측츤츨츰츱츳층�".split(""),e=0;e!=r[195].length;++e)65533!==r[195][e].charCodeAt(0)&&(a[r[195][e]]=49920+e,t[49920+e]=r[195][e]);for(r[196]="�����������������������������������������������������������������횫횭횮횯횱횲횳횴횵횶횷횸횺횼횽횾횿훀훁훂훃훆훇훉훊훋������훍훎훏훐훒훓훕훖훘훚훛훜훝훞훟훡훢훣훥훦훧훩훪훫훬훭������훮훯훱훲훳훴훶훷훸훹훺훻훾훿휁휂휃휅휆휇휈휉휊휋휌휍휎휏휐휒휓휔치칙친칟칠칡침칩칫칭카칵칸칼캄캅캇캉캐캑캔캘캠캡캣캤캥캬캭컁커컥컨컫컬컴컵컷컸컹케켁켄켈켐켑켓켕켜켠켤켬켭켯켰켱켸코콕콘콜콤콥콧콩콰콱콴콸쾀쾅쾌쾡쾨쾰쿄쿠쿡쿤쿨쿰쿱쿳쿵쿼퀀퀄퀑퀘퀭퀴퀵퀸퀼�".split(""),e=0;e!=r[196].length;++e)65533!==r[196][e].charCodeAt(0)&&(a[r[196][e]]=50176+e,t[50176+e]=r[196][e]);for(r[197]="�����������������������������������������������������������������휕휖휗휚휛휝휞휟휡휢휣휤휥휦휧휪휬휮휯휰휱휲휳휶휷휹������휺휻휽휾휿흀흁흂흃흅흆흈흊흋흌흍흎흏흒흓흕흚흛흜흝흞������흟흢흤흦흧흨흪흫흭흮흯흱흲흳흵흶흷흸흹흺흻흾흿힀힂힃힄힅힆힇힊힋큄큅큇큉큐큔큘큠크큭큰클큼큽킁키킥킨킬킴킵킷킹타탁탄탈탉탐탑탓탔탕태택탠탤탬탭탯탰탱탸턍터턱턴털턺텀텁텃텄텅테텍텐텔템텝텟텡텨텬텼톄톈토톡톤톨톰톱톳통톺톼퇀퇘퇴퇸툇툉툐투툭툰툴툼툽툿퉁퉈퉜�".split(""),e=0;e!=r[197].length;++e)65533!==r[197][e].charCodeAt(0)&&(a[r[197][e]]=50432+e,t[50432+e]=r[197][e]);for(r[198]="�����������������������������������������������������������������힍힎힏힑힒힓힔힕힖힗힚힜힞힟힠힡힢힣������������������������������������������������������������������������������퉤튀튁튄튈튐튑튕튜튠튤튬튱트특튼튿틀틂틈틉틋틔틘틜틤틥티틱틴틸팀팁팃팅파팍팎판팔팖팜팝팟팠팡팥패팩팬팰팸팹팻팼팽퍄퍅퍼퍽펀펄펌펍펏펐펑페펙펜펠펨펩펫펭펴편펼폄폅폈평폐폘폡폣포폭폰폴폼폽폿퐁�".split(""),e=0;e!=r[198].length;++e)65533!==r[198][e].charCodeAt(0)&&(a[r[198][e]]=50688+e,t[50688+e]=r[198][e]);for(r[199]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������퐈퐝푀푄표푠푤푭푯푸푹푼푿풀풂품풉풋풍풔풩퓌퓐퓔퓜퓟퓨퓬퓰퓸퓻퓽프픈플픔픕픗피픽핀필핌핍핏핑하학한할핥함합핫항해핵핸핼햄햅햇했행햐향허헉헌헐헒험헙헛헝헤헥헨헬헴헵헷헹혀혁현혈혐협혓혔형혜혠�".split(""),e=0;e!=r[199].length;++e)65533!==r[199][e].charCodeAt(0)&&(a[r[199][e]]=50944+e,t[50944+e]=r[199][e]);for(r[200]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������혤혭호혹혼홀홅홈홉홋홍홑화확환활홧황홰홱홴횃횅회획횐횔횝횟횡효횬횰횹횻후훅훈훌훑훔훗훙훠훤훨훰훵훼훽휀휄휑휘휙휜휠휨휩휫휭휴휵휸휼흄흇흉흐흑흔흖흗흘흙흠흡흣흥흩희흰흴흼흽힁히힉힌힐힘힙힛힝�".split(""),e=0;e!=r[200].length;++e)65533!==r[200][e].charCodeAt(0)&&(a[r[200][e]]=51200+e,t[51200+e]=r[200][e]);for(r[202]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������伽佳假價加可呵哥嘉嫁家暇架枷柯歌珂痂稼苛茄街袈訶賈跏軻迦駕刻却各恪慤殼珏脚覺角閣侃刊墾奸姦干幹懇揀杆柬桿澗癎看磵稈竿簡肝艮艱諫間乫喝曷渴碣竭葛褐蝎鞨勘坎堪嵌感憾戡敢柑橄減甘疳監瞰紺邯鑑鑒龕�".split(""),e=0;e!=r[202].length;++e)65533!==r[202][e].charCodeAt(0)&&(a[r[202][e]]=51712+e,t[51712+e]=r[202][e]);for(r[203]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������匣岬甲胛鉀閘剛堈姜岡崗康强彊慷江畺疆糠絳綱羌腔舡薑襁講鋼降鱇介价個凱塏愷愾慨改槪漑疥皆盖箇芥蓋豈鎧開喀客坑更粳羹醵倨去居巨拒据據擧渠炬祛距踞車遽鉅鋸乾件健巾建愆楗腱虔蹇鍵騫乞傑杰桀儉劍劒檢�".split(""),e=0;e!=r[203].length;++e)65533!==r[203][e].charCodeAt(0)&&(a[r[203][e]]=51968+e,t[51968+e]=r[203][e]);for(r[204]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������瞼鈐黔劫怯迲偈憩揭擊格檄激膈覡隔堅牽犬甄絹繭肩見譴遣鵑抉決潔結缺訣兼慊箝謙鉗鎌京俓倞傾儆勁勍卿坰境庚徑慶憬擎敬景暻更梗涇炅烱璟璥瓊痙硬磬竟競絅經耕耿脛莖警輕逕鏡頃頸驚鯨係啓堺契季屆悸戒桂械�".split(""),e=0;e!=r[204].length;++e)65533!==r[204][e].charCodeAt(0)&&(a[r[204][e]]=52224+e,t[52224+e]=r[204][e]);for(r[205]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������棨溪界癸磎稽系繫繼計誡谿階鷄古叩告呱固姑孤尻庫拷攷故敲暠枯槁沽痼皐睾稿羔考股膏苦苽菰藁蠱袴誥賈辜錮雇顧高鼓哭斛曲梏穀谷鵠困坤崑昆梱棍滾琨袞鯤汨滑骨供公共功孔工恐恭拱控攻珙空蚣貢鞏串寡戈果瓜�".split(""),e=0;e!=r[205].length;++e)65533!==r[205][e].charCodeAt(0)&&(a[r[205][e]]=52480+e,t[52480+e]=r[205][e]);for(r[206]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������科菓誇課跨過鍋顆廓槨藿郭串冠官寬慣棺款灌琯瓘管罐菅觀貫關館刮恝括适侊光匡壙廣曠洸炚狂珖筐胱鑛卦掛罫乖傀塊壞怪愧拐槐魁宏紘肱轟交僑咬喬嬌嶠巧攪敎校橋狡皎矯絞翹膠蕎蛟較轎郊餃驕鮫丘久九仇俱具勾�".split(""),e=0;e!=r[206].length;++e)65533!==r[206][e].charCodeAt(0)&&(a[r[206][e]]=52736+e,t[52736+e]=r[206][e]);for(r[207]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������區口句咎嘔坵垢寇嶇廐懼拘救枸柩構歐毆毬求溝灸狗玖球瞿矩究絿耉臼舅舊苟衢謳購軀逑邱鉤銶駒驅鳩鷗龜國局菊鞠鞫麴君窘群裙軍郡堀屈掘窟宮弓穹窮芎躬倦券勸卷圈拳捲權淃眷厥獗蕨蹶闕机櫃潰詭軌饋句晷歸貴�".split(""),e=0;e!=r[207].length;++e)65533!==r[207][e].charCodeAt(0)&&(a[r[207][e]]=52992+e,t[52992+e]=r[207][e]);for(r[208]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������鬼龜叫圭奎揆槻珪硅窺竅糾葵規赳逵閨勻均畇筠菌鈞龜橘克剋劇戟棘極隙僅劤勤懃斤根槿瑾筋芹菫覲謹近饉契今妗擒昑檎琴禁禽芩衾衿襟金錦伋及急扱汲級給亘兢矜肯企伎其冀嗜器圻基埼夔奇妓寄岐崎己幾忌技旗旣�".split(""),e=0;e!=r[208].length;++e)65533!==r[208][e].charCodeAt(0)&&(a[r[208][e]]=53248+e,t[53248+e]=r[208][e]);for(r[209]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������朞期杞棋棄機欺氣汽沂淇玘琦琪璂璣畸畿碁磯祁祇祈祺箕紀綺羈耆耭肌記譏豈起錡錤飢饑騎騏驥麒緊佶吉拮桔金喫儺喇奈娜懦懶拏拿癩羅蘿螺裸邏那樂洛烙珞落諾酪駱亂卵暖欄煖爛蘭難鸞捏捺南嵐枏楠湳濫男藍襤拉�".split(""),e=0;e!=r[209].length;++e)65533!==r[209][e].charCodeAt(0)&&(a[r[209][e]]=53504+e,t[53504+e]=r[209][e]);for(r[210]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������納臘蠟衲囊娘廊朗浪狼郎乃來內奈柰耐冷女年撚秊念恬拈捻寧寗努勞奴弩怒擄櫓爐瑙盧老蘆虜路露駑魯鷺碌祿綠菉錄鹿論壟弄濃籠聾膿農惱牢磊腦賂雷尿壘屢樓淚漏累縷陋嫩訥杻紐勒肋凜凌稜綾能菱陵尼泥匿溺多茶�".split(""),e=0;e!=r[210].length;++e)65533!==r[210][e].charCodeAt(0)&&(a[r[210][e]]=53760+e,t[53760+e]=r[210][e]);for(r[211]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������丹亶但單團壇彖斷旦檀段湍短端簞緞蛋袒鄲鍛撻澾獺疸達啖坍憺擔曇淡湛潭澹痰聃膽蕁覃談譚錟沓畓答踏遝唐堂塘幢戇撞棠當糖螳黨代垈坮大對岱帶待戴擡玳臺袋貸隊黛宅德悳倒刀到圖堵塗導屠島嶋度徒悼挑掉搗桃�".split(""),e=0;e!=r[211].length;++e)65533!==r[211][e].charCodeAt(0)&&(a[r[211][e]]=54016+e,t[54016+e]=r[211][e]);for(r[212]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������棹櫂淘渡滔濤燾盜睹禱稻萄覩賭跳蹈逃途道都鍍陶韜毒瀆牘犢獨督禿篤纛讀墩惇敦旽暾沌焞燉豚頓乭突仝冬凍動同憧東桐棟洞潼疼瞳童胴董銅兜斗杜枓痘竇荳讀豆逗頭屯臀芚遁遯鈍得嶝橙燈登等藤謄鄧騰喇懶拏癩羅�".split(""),e=0;e!=r[212].length;++e)65533!==r[212][e].charCodeAt(0)&&(a[r[212][e]]=54272+e,t[54272+e]=r[212][e]);for(r[213]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������蘿螺裸邏樂洛烙珞絡落諾酪駱丹亂卵欄欒瀾爛蘭鸞剌辣嵐擥攬欖濫籃纜藍襤覽拉臘蠟廊朗浪狼琅瑯螂郞來崍徠萊冷掠略亮倆兩凉梁樑粮粱糧良諒輛量侶儷勵呂廬慮戾旅櫚濾礪藜蠣閭驢驪麗黎力曆歷瀝礫轢靂憐戀攣漣�".split(""),e=0;e!=r[213].length;++e)65533!==r[213][e].charCodeAt(0)&&(a[r[213][e]]=54528+e,t[54528+e]=r[213][e]);for(r[214]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������煉璉練聯蓮輦連鍊冽列劣洌烈裂廉斂殮濂簾獵令伶囹寧岺嶺怜玲笭羚翎聆逞鈴零靈領齡例澧禮醴隷勞怒撈擄櫓潞瀘爐盧老蘆虜路輅露魯鷺鹵碌祿綠菉錄鹿麓論壟弄朧瀧瓏籠聾儡瀨牢磊賂賚賴雷了僚寮廖料燎療瞭聊蓼�".split(""),e=0;e!=r[214].length;++e)65533!==r[214][e].charCodeAt(0)&&(a[r[214][e]]=54784+e,t[54784+e]=r[214][e]);for(r[215]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������遼鬧龍壘婁屢樓淚漏瘻累縷蔞褸鏤陋劉旒柳榴流溜瀏琉瑠留瘤硫謬類六戮陸侖倫崙淪綸輪律慄栗率隆勒肋凜凌楞稜綾菱陵俚利厘吏唎履悧李梨浬犁狸理璃異痢籬罹羸莉裏裡里釐離鯉吝潾燐璘藺躪隣鱗麟林淋琳臨霖砬�".split(""),e=0;e!=r[215].length;++e)65533!==r[215][e].charCodeAt(0)&&(a[r[215][e]]=55040+e,t[55040+e]=r[215][e]);for(r[216]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������立笠粒摩瑪痲碼磨馬魔麻寞幕漠膜莫邈万卍娩巒彎慢挽晩曼滿漫灣瞞萬蔓蠻輓饅鰻唜抹末沫茉襪靺亡妄忘忙望網罔芒茫莽輞邙埋妹媒寐昧枚梅每煤罵買賣邁魅脈貊陌驀麥孟氓猛盲盟萌冪覓免冕勉棉沔眄眠綿緬面麵滅�".split(""),e=0;e!=r[216].length;++e)65533!==r[216][e].charCodeAt(0)&&(a[r[216][e]]=55296+e,t[55296+e]=r[216][e]);for(r[217]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������蔑冥名命明暝椧溟皿瞑茗蓂螟酩銘鳴袂侮冒募姆帽慕摸摹暮某模母毛牟牡瑁眸矛耗芼茅謀謨貌木沐牧目睦穆鶩歿沒夢朦蒙卯墓妙廟描昴杳渺猫竗苗錨務巫憮懋戊拇撫无楙武毋無珷畝繆舞茂蕪誣貿霧鵡墨默們刎吻問文�".split(""),e=0;e!=r[217].length;++e)65533!==r[217][e].charCodeAt(0)&&(a[r[217][e]]=55552+e,t[55552+e]=r[217][e]);for(r[218]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������汶紊紋聞蚊門雯勿沕物味媚尾嵋彌微未梶楣渼湄眉米美薇謎迷靡黴岷悶愍憫敏旻旼民泯玟珉緡閔密蜜謐剝博拍搏撲朴樸泊珀璞箔粕縛膊舶薄迫雹駁伴半反叛拌搬攀斑槃泮潘班畔瘢盤盼磐磻礬絆般蟠返頒飯勃拔撥渤潑�".split(""),e=0;e!=r[218].length;++e)65533!==r[218][e].charCodeAt(0)&&(a[r[218][e]]=55808+e,t[55808+e]=r[218][e]);for(r[219]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������發跋醱鉢髮魃倣傍坊妨尨幇彷房放方旁昉枋榜滂磅紡肪膀舫芳蒡蚌訪謗邦防龐倍俳北培徘拜排杯湃焙盃背胚裴裵褙賠輩配陪伯佰帛柏栢白百魄幡樊煩燔番磻繁蕃藩飜伐筏罰閥凡帆梵氾汎泛犯範范法琺僻劈壁擘檗璧癖�".split(""),e=0;e!=r[219].length;++e)65533!==r[219][e].charCodeAt(0)&&(a[r[219][e]]=56064+e,t[56064+e]=r[219][e]);for(r[220]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������碧蘗闢霹便卞弁變辨辯邊別瞥鱉鼈丙倂兵屛幷昞昺柄棅炳甁病秉竝輧餠騈保堡報寶普步洑湺潽珤甫菩補褓譜輔伏僕匐卜宓復服福腹茯蔔複覆輹輻馥鰒本乶俸奉封峯峰捧棒烽熢琫縫蓬蜂逢鋒鳳不付俯傅剖副否咐埠夫婦�".split(""),e=0;e!=r[220].length;++e)65533!==r[220][e].charCodeAt(0)&&(a[r[220][e]]=56320+e,t[56320+e]=r[220][e]);for(r[221]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������孚孵富府復扶敷斧浮溥父符簿缶腐腑膚艀芙莩訃負賦賻赴趺部釜阜附駙鳧北分吩噴墳奔奮忿憤扮昐汾焚盆粉糞紛芬賁雰不佛弗彿拂崩朋棚硼繃鵬丕備匕匪卑妃婢庇悲憊扉批斐枇榧比毖毗毘沸泌琵痺砒碑秕秘粃緋翡肥�".split(""),e=0;e!=r[221].length;++e)65533!==r[221][e].charCodeAt(0)&&(a[r[221][e]]=56576+e,t[56576+e]=r[221][e]);for(r[222]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������脾臂菲蜚裨誹譬費鄙非飛鼻嚬嬪彬斌檳殯浜濱瀕牝玭貧賓頻憑氷聘騁乍事些仕伺似使俟僿史司唆嗣四士奢娑寫寺射巳師徙思捨斜斯柶査梭死沙泗渣瀉獅砂社祀祠私篩紗絲肆舍莎蓑蛇裟詐詞謝賜赦辭邪飼駟麝削數朔索�".split(""),e=0;e!=r[222].length;++e)65533!==r[222][e].charCodeAt(0)&&(a[r[222][e]]=56832+e,t[56832+e]=r[222][e]);for(r[223]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������傘刪山散汕珊産疝算蒜酸霰乷撒殺煞薩三參杉森渗芟蔘衫揷澁鈒颯上傷像償商喪嘗孀尙峠常床庠廂想桑橡湘爽牀狀相祥箱翔裳觴詳象賞霜塞璽賽嗇塞穡索色牲生甥省笙墅壻嶼序庶徐恕抒捿敍暑曙書栖棲犀瑞筮絮緖署�".split(""),e=0;e!=r[223].length;++e)65533!==r[223][e].charCodeAt(0)&&(a[r[223][e]]=57088+e,t[57088+e]=r[223][e]);for(r[224]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������胥舒薯西誓逝鋤黍鼠夕奭席惜昔晳析汐淅潟石碩蓆釋錫仙僊先善嬋宣扇敾旋渲煽琁瑄璇璿癬禪線繕羨腺膳船蘚蟬詵跣選銑鐥饍鮮卨屑楔泄洩渫舌薛褻設說雪齧剡暹殲纖蟾贍閃陝攝涉燮葉城姓宬性惺成星晟猩珹盛省筬�".split(""),e=0;e!=r[224].length;++e)65533!==r[224][e].charCodeAt(0)&&(a[r[224][e]]=57344+e,t[57344+e]=r[224][e]);for(r[225]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������聖聲腥誠醒世勢歲洗稅笹細說貰召嘯塑宵小少巢所掃搔昭梳沼消溯瀟炤燒甦疏疎瘙笑篠簫素紹蔬蕭蘇訴逍遡邵銷韶騷俗屬束涑粟續謖贖速孫巽損蓀遜飡率宋悚松淞訟誦送頌刷殺灑碎鎖衰釗修受嗽囚垂壽嫂守岫峀帥愁�".split(""),e=0;e!=r[225].length;++e)65533!==r[225][e].charCodeAt(0)&&(a[r[225][e]]=57600+e,t[57600+e]=r[225][e]);for(r[226]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������戍手授搜收數樹殊水洙漱燧狩獸琇璲瘦睡秀穗竪粹綏綬繡羞脩茱蒐蓚藪袖誰讐輸遂邃酬銖銹隋隧隨雖需須首髓鬚叔塾夙孰宿淑潚熟琡璹肅菽巡徇循恂旬栒楯橓殉洵淳珣盾瞬筍純脣舜荀蓴蕣詢諄醇錞順馴戌術述鉥崇崧�".split(""),e=0;e!=r[226].length;++e)65533!==r[226][e].charCodeAt(0)&&(a[r[226][e]]=57856+e,t[57856+e]=r[226][e]);for(r[227]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������嵩瑟膝蝨濕拾習褶襲丞乘僧勝升承昇繩蠅陞侍匙嘶始媤尸屎屍市弑恃施是時枾柴猜矢示翅蒔蓍視試詩諡豕豺埴寔式息拭植殖湜熄篒蝕識軾食飾伸侁信呻娠宸愼新晨燼申神紳腎臣莘薪藎蜃訊身辛辰迅失室實悉審尋心沁�".split(""),e=0;e!=r[227].length;++e)65533!==r[227][e].charCodeAt(0)&&(a[r[227][e]]=58112+e,t[58112+e]=r[227][e]);for(r[228]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������沈深瀋甚芯諶什十拾雙氏亞俄兒啞娥峨我牙芽莪蛾衙訝阿雅餓鴉鵝堊岳嶽幄惡愕握樂渥鄂鍔顎鰐齷安岸按晏案眼雁鞍顔鮟斡謁軋閼唵岩巖庵暗癌菴闇壓押狎鴨仰央怏昻殃秧鴦厓哀埃崖愛曖涯碍艾隘靄厄扼掖液縊腋額�".split(""),e=0;e!=r[228].length;++e)65533!==r[228][e].charCodeAt(0)&&(a[r[228][e]]=58368+e,t[58368+e]=r[228][e]);for(r[229]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������櫻罌鶯鸚也倻冶夜惹揶椰爺耶若野弱掠略約若葯蒻藥躍亮佯兩凉壤孃恙揚攘敭暘梁楊樣洋瀁煬痒瘍禳穰糧羊良襄諒讓釀陽量養圄御於漁瘀禦語馭魚齬億憶抑檍臆偃堰彦焉言諺孼蘖俺儼嚴奄掩淹嶪業円予余勵呂女如廬�".split(""),e=0;e!=r[229].length;++e)65533!==r[229][e].charCodeAt(0)&&(a[r[229][e]]=58624+e,t[58624+e]=r[229][e]);for(r[230]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������旅歟汝濾璵礖礪與艅茹輿轝閭餘驪麗黎亦力域役易曆歷疫繹譯轢逆驛嚥堧姸娟宴年延憐戀捐挻撚椽沇沿涎涓淵演漣烟然煙煉燃燕璉硏硯秊筵緣練縯聯衍軟輦蓮連鉛鍊鳶列劣咽悅涅烈熱裂說閱厭廉念捻染殮炎焰琰艶苒�".split(""),e=0;e!=r[230].length;++e)65533!==r[230][e].charCodeAt(0)&&(a[r[230][e]]=58880+e,t[58880+e]=r[230][e]);for(r[231]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������簾閻髥鹽曄獵燁葉令囹塋寧嶺嶸影怜映暎楹榮永泳渶潁濚瀛瀯煐營獰玲瑛瑩瓔盈穎纓羚聆英詠迎鈴鍈零霙靈領乂倪例刈叡曳汭濊猊睿穢芮藝蘂禮裔詣譽豫醴銳隸霓預五伍俉傲午吾吳嗚塢墺奧娛寤悟惡懊敖旿晤梧汚澳�".split(""),e=0;e!=r[231].length;++e)65533!==r[231][e].charCodeAt(0)&&(a[r[231][e]]=59136+e,t[59136+e]=r[231][e]);for(r[232]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������烏熬獒筽蜈誤鰲鼇屋沃獄玉鈺溫瑥瘟穩縕蘊兀壅擁瓮甕癰翁邕雍饔渦瓦窩窪臥蛙蝸訛婉完宛梡椀浣玩琓琬碗緩翫脘腕莞豌阮頑曰往旺枉汪王倭娃歪矮外嵬巍猥畏了僚僥凹堯夭妖姚寥寮尿嶢拗搖撓擾料曜樂橈燎燿瑤療�".split(""),e=0;e!=r[232].length;++e)65533!==r[232][e].charCodeAt(0)&&(a[r[232][e]]=59392+e,t[59392+e]=r[232][e]);for(r[233]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������窈窯繇繞耀腰蓼蟯要謠遙遼邀饒慾欲浴縟褥辱俑傭冗勇埇墉容庸慂榕涌湧溶熔瑢用甬聳茸蓉踊鎔鏞龍于佑偶優又友右宇寓尤愚憂旴牛玗瑀盂祐禑禹紆羽芋藕虞迂遇郵釪隅雨雩勖彧旭昱栯煜稶郁頊云暈橒殞澐熉耘芸蕓�".split(""),e=0;e!=r[233].length;++e)65533!==r[233][e].charCodeAt(0)&&(a[r[233][e]]=59648+e,t[59648+e]=r[233][e]);for(r[234]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������運隕雲韻蔚鬱亐熊雄元原員圓園垣媛嫄寃怨愿援沅洹湲源爰猿瑗苑袁轅遠阮院願鴛月越鉞位偉僞危圍委威尉慰暐渭爲瑋緯胃萎葦蔿蝟衛褘謂違韋魏乳侑儒兪劉唯喩孺宥幼幽庾悠惟愈愉揄攸有杻柔柚柳楡楢油洧流游溜�".split(""),e=0;e!=r[234].length;++e)65533!==r[234][e].charCodeAt(0)&&(a[r[234][e]]=59904+e,t[59904+e]=r[234][e]);for(r[235]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������濡猶猷琉瑜由留癒硫紐維臾萸裕誘諛諭踰蹂遊逾遺酉釉鍮類六堉戮毓肉育陸倫允奫尹崙淪潤玧胤贇輪鈗閏律慄栗率聿戎瀜絨融隆垠恩慇殷誾銀隱乙吟淫蔭陰音飮揖泣邑凝應膺鷹依倚儀宜意懿擬椅毅疑矣義艤薏蟻衣誼�".split(""),e=0;e!=r[235].length;++e)65533!==r[235][e].charCodeAt(0)&&(a[r[235][e]]=60160+e,t[60160+e]=r[235][e]);for(r[236]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������議醫二以伊利吏夷姨履已弛彛怡易李梨泥爾珥理異痍痢移罹而耳肄苡荑裏裡貽貳邇里離飴餌匿溺瀷益翊翌翼謚人仁刃印吝咽因姻寅引忍湮燐璘絪茵藺蚓認隣靭靷鱗麟一佚佾壹日溢逸鎰馹任壬妊姙恁林淋稔臨荏賃入卄�".split(""),e=0;e!=r[236].length;++e)65533!==r[236][e].charCodeAt(0)&&(a[r[236][e]]=60416+e,t[60416+e]=r[236][e]);for(r[237]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������立笠粒仍剩孕芿仔刺咨姉姿子字孜恣慈滋炙煮玆瓷疵磁紫者自茨蔗藉諮資雌作勺嚼斫昨灼炸爵綽芍酌雀鵲孱棧殘潺盞岑暫潛箴簪蠶雜丈仗匠場墻壯奬將帳庄張掌暲杖樟檣欌漿牆狀獐璋章粧腸臟臧莊葬蔣薔藏裝贓醬長�".split(""),e=0;e!=r[237].length;++e)65533!==r[237][e].charCodeAt(0)&&(a[r[237][e]]=60672+e,t[60672+e]=r[237][e]);for(r[238]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������障再哉在宰才材栽梓渽滓災縡裁財載齋齎爭箏諍錚佇低儲咀姐底抵杵楮樗沮渚狙猪疽箸紵苧菹著藷詛貯躇這邸雎齟勣吊嫡寂摘敵滴狄炙的積笛籍績翟荻謫賊赤跡蹟迪迹適鏑佃佺傳全典前剪塡塼奠專展廛悛戰栓殿氈澱�".split(""),e=0;e!=r[238].length;++e)65533!==r[238][e].charCodeAt(0)&&(a[r[238][e]]=60928+e,t[60928+e]=r[238][e]);for(r[239]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������煎琠田甸畑癲筌箋箭篆纏詮輾轉鈿銓錢鐫電顚顫餞切截折浙癤竊節絶占岾店漸点粘霑鮎點接摺蝶丁井亭停偵呈姃定幀庭廷征情挺政整旌晶晸柾楨檉正汀淀淨渟湞瀞炡玎珽町睛碇禎程穽精綎艇訂諪貞鄭酊釘鉦鋌錠霆靖�".split(""),e=0;e!=r[239].length;++e)65533!==r[239][e].charCodeAt(0)&&(a[r[239][e]]=61184+e,t[61184+e]=r[239][e]);for(r[240]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������靜頂鼎制劑啼堤帝弟悌提梯濟祭第臍薺製諸蹄醍除際霽題齊俎兆凋助嘲弔彫措操早晁曺曹朝條棗槽漕潮照燥爪璪眺祖祚租稠窕粗糟組繰肇藻蚤詔調趙躁造遭釣阻雕鳥族簇足鏃存尊卒拙猝倧宗從悰慫棕淙琮種終綜縱腫�".split(""),e=0;e!=r[240].length;++e)65533!==r[240][e].charCodeAt(0)&&(a[r[240][e]]=61440+e,t[61440+e]=r[240][e]);for(r[241]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������踪踵鍾鐘佐坐左座挫罪主住侏做姝胄呪周嗾奏宙州廚晝朱柱株注洲湊澍炷珠疇籌紂紬綢舟蛛註誅走躊輳週酎酒鑄駐竹粥俊儁准埈寯峻晙樽浚準濬焌畯竣蠢逡遵雋駿茁中仲衆重卽櫛楫汁葺增憎曾拯烝甑症繒蒸證贈之只�".split(""),e=0;e!=r[241].length;++e)65533!==r[241][e].charCodeAt(0)&&(a[r[241][e]]=61696+e,t[61696+e]=r[241][e]);for(r[242]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������咫地址志持指摯支旨智枝枳止池沚漬知砥祉祗紙肢脂至芝芷蜘誌識贄趾遲直稙稷織職唇嗔塵振搢晉晋桭榛殄津溱珍瑨璡畛疹盡眞瞋秦縉縝臻蔯袗診賑軫辰進鎭陣陳震侄叱姪嫉帙桎瓆疾秩窒膣蛭質跌迭斟朕什執潗緝輯�".split(""),e=0;e!=r[242].length;++e)65533!==r[242][e].charCodeAt(0)&&(a[r[242][e]]=61952+e,t[61952+e]=r[242][e]);for(r[243]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������鏶集徵懲澄且侘借叉嗟嵯差次此磋箚茶蹉車遮捉搾着窄錯鑿齪撰澯燦璨瓚竄簒纂粲纘讚贊鑽餐饌刹察擦札紮僭參塹慘慙懺斬站讒讖倉倡創唱娼廠彰愴敞昌昶暢槍滄漲猖瘡窓脹艙菖蒼債埰寀寨彩採砦綵菜蔡采釵冊柵策�".split(""),e=0;e!=r[243].length;++e)65533!==r[243][e].charCodeAt(0)&&(a[r[243][e]]=62208+e,t[62208+e]=r[243][e]);for(r[244]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������責凄妻悽處倜刺剔尺慽戚拓擲斥滌瘠脊蹠陟隻仟千喘天川擅泉淺玔穿舛薦賤踐遷釧闡阡韆凸哲喆徹撤澈綴輟轍鐵僉尖沾添甛瞻簽籤詹諂堞妾帖捷牒疊睫諜貼輒廳晴淸聽菁請靑鯖切剃替涕滯締諦逮遞體初剿哨憔抄招梢�".split(""),e=0;e!=r[244].length;++e)65533!==r[244][e].charCodeAt(0)&&(a[r[244][e]]=62464+e,t[62464+e]=r[244][e]);for(r[245]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������椒楚樵炒焦硝礁礎秒稍肖艸苕草蕉貂超酢醋醮促囑燭矗蜀觸寸忖村邨叢塚寵悤憁摠總聰蔥銃撮催崔最墜抽推椎楸樞湫皺秋芻萩諏趨追鄒酋醜錐錘鎚雛騶鰍丑畜祝竺筑築縮蓄蹙蹴軸逐春椿瑃出朮黜充忠沖蟲衝衷悴膵萃�".split(""),e=0;e!=r[245].length;++e)65533!==r[245][e].charCodeAt(0)&&(a[r[245][e]]=62720+e,t[62720+e]=r[245][e]);for(r[246]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������贅取吹嘴娶就炊翠聚脆臭趣醉驟鷲側仄厠惻測層侈値嗤峙幟恥梔治淄熾痔痴癡稚穉緇緻置致蚩輜雉馳齒則勅飭親七柒漆侵寢枕沈浸琛砧針鍼蟄秤稱快他咤唾墮妥惰打拖朶楕舵陀馱駝倬卓啄坼度托拓擢晫柝濁濯琢琸託�".split(""),e=0;e!=r[246].length;++e)65533!==r[246][e].charCodeAt(0)&&(a[r[246][e]]=62976+e,t[62976+e]=r[246][e]);for(r[247]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������鐸呑嘆坦彈憚歎灘炭綻誕奪脫探眈耽貪塔搭榻宕帑湯糖蕩兌台太怠態殆汰泰笞胎苔跆邰颱宅擇澤撑攄兎吐土討慟桶洞痛筒統通堆槌腿褪退頹偸套妬投透鬪慝特闖坡婆巴把播擺杷波派爬琶破罷芭跛頗判坂板版瓣販辦鈑�".split(""),e=0;e!=r[247].length;++e)65533!==r[247][e].charCodeAt(0)&&(a[r[247][e]]=63232+e,t[63232+e]=r[247][e]);for(r[248]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������阪八叭捌佩唄悖敗沛浿牌狽稗覇貝彭澎烹膨愎便偏扁片篇編翩遍鞭騙貶坪平枰萍評吠嬖幣廢弊斃肺蔽閉陛佈包匍匏咆哺圃布怖抛抱捕暴泡浦疱砲胞脯苞葡蒲袍褒逋鋪飽鮑幅暴曝瀑爆輻俵剽彪慓杓標漂瓢票表豹飇飄驃�".split(""),e=0;e!=r[248].length;++e)65533!==r[248][e].charCodeAt(0)&&(a[r[248][e]]=63488+e,t[63488+e]=r[248][e]);for(r[249]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������品稟楓諷豊風馮彼披疲皮被避陂匹弼必泌珌畢疋筆苾馝乏逼下何厦夏廈昰河瑕荷蝦賀遐霞鰕壑學虐謔鶴寒恨悍旱汗漢澣瀚罕翰閑閒限韓割轄函含咸啣喊檻涵緘艦銜陷鹹合哈盒蛤閤闔陜亢伉姮嫦巷恒抗杭桁沆港缸肛航�".split(""),e=0;e!=r[249].length;++e)65533!==r[249][e].charCodeAt(0)&&(a[r[249][e]]=63744+e,t[63744+e]=r[249][e]);for(r[250]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������行降項亥偕咳垓奚孩害懈楷海瀣蟹解該諧邂駭骸劾核倖幸杏荇行享向嚮珦鄕響餉饗香噓墟虛許憲櫶獻軒歇險驗奕爀赫革俔峴弦懸晛泫炫玄玹現眩睍絃絢縣舷衒見賢鉉顯孑穴血頁嫌俠協夾峽挾浹狹脅脇莢鋏頰亨兄刑型�".split(""),e=0;e!=r[250].length;++e)65533!==r[250][e].charCodeAt(0)&&(a[r[250][e]]=64e3+e,t[64e3+e]=r[250][e]);for(r[251]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������形泂滎瀅灐炯熒珩瑩荊螢衡逈邢鎣馨兮彗惠慧暳蕙蹊醯鞋乎互呼壕壺好岵弧戶扈昊晧毫浩淏湖滸澔濠濩灝狐琥瑚瓠皓祜糊縞胡芦葫蒿虎號蝴護豪鎬頀顥惑或酷婚昏混渾琿魂忽惚笏哄弘汞泓洪烘紅虹訌鴻化和嬅樺火畵�".split(""),e=0;e!=r[251].length;++e)65533!==r[251][e].charCodeAt(0)&&(a[r[251][e]]=64256+e,t[64256+e]=r[251][e]);for(r[252]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������禍禾花華話譁貨靴廓擴攫確碻穫丸喚奐宦幻患換歡晥桓渙煥環紈還驩鰥活滑猾豁闊凰幌徨恍惶愰慌晃晄榥況湟滉潢煌璜皇篁簧荒蝗遑隍黃匯回廻徊恢悔懷晦會檜淮澮灰獪繪膾茴蛔誨賄劃獲宖橫鐄哮嚆孝效斅曉梟涍淆�".split(""),e=0;e!=r[252].length;++e)65533!==r[252][e].charCodeAt(0)&&(a[r[252][e]]=64512+e,t[64512+e]=r[252][e]);for(r[253]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������爻肴酵驍侯候厚后吼喉嗅帿後朽煦珝逅勛勳塤壎焄熏燻薰訓暈薨喧暄煊萱卉喙毁彙徽揮暉煇諱輝麾休携烋畦虧恤譎鷸兇凶匈洶胸黑昕欣炘痕吃屹紇訖欠欽歆吸恰洽翕興僖凞喜噫囍姬嬉希憙憘戱晞曦熙熹熺犧禧稀羲詰�".split(""),e=0;e!=r[253].length;++e)65533!==r[253][e].charCodeAt(0)&&(a[r[253][e]]=64768+e,t[64768+e]=r[253][e]);return{enc:a,dec:t}}(),a[950]=function(){var e,t=[],a={},r=[];for(r[0]="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~��������������������������������������������������������������������������������������������������������������������������������".split(""),e=0;e!=r[0].length;++e)65533!==r[0][e].charCodeAt(0)&&(a[r[0][e]]=0+e,t[0+e]=r[0][e]);for(r[161]="����������������������������������������������������������������　，、。．‧；：？！︰…‥﹐﹑﹒·﹔﹕﹖﹗｜–︱—︳╴︴﹏（）︵︶｛｝︷︸〔〕︹︺【】︻︼《》︽︾〈〉︿﹀「」﹁﹂『』﹃﹄﹙﹚����������������������������������﹛﹜﹝﹞‘’“”〝〞‵′＃＆＊※§〃○●△▲◎☆★◇◆□■▽▼㊣℅¯￣＿ˍ﹉﹊﹍﹎﹋﹌﹟﹠﹡＋－×÷±√＜＞＝≦≧≠∞≒≡﹢﹣﹤﹥﹦～∩∪⊥∠∟⊿㏒㏑∫∮∵∴♀♂⊕⊙↑↓←→↖↗↙↘∥∣／�".split(""),e=0;e!=r[161].length;++e)65533!==r[161][e].charCodeAt(0)&&(a[r[161][e]]=41216+e,t[41216+e]=r[161][e]);for(r[162]="����������������������������������������������������������������＼∕﹨＄￥〒￠￡％＠℃℉﹩﹪﹫㏕㎜㎝㎞㏎㎡㎎㎏㏄°兙兛兞兝兡兣嗧瓩糎▁▂▃▄▅▆▇█▏▎▍▌▋▊▉┼┴┬┤├▔─│▕┌┐└┘╭����������������������������������╮╰╯═╞╪╡◢◣◥◤╱╲╳０１２３４５６７８９ⅠⅡⅢⅣⅤⅥⅦⅧⅨⅩ〡〢〣〤〥〦〧〨〩十卄卅ＡＢＣＤＥＦＧＨＩＪＫＬＭＮＯＰＱＲＳＴＵＶＷＸＹＺａｂｃｄｅｆｇｈｉｊｋｌｍｎｏｐｑｒｓｔｕｖ�".split(""),e=0;e!=r[162].length;++e)65533!==r[162][e].charCodeAt(0)&&(a[r[162][e]]=41472+e,t[41472+e]=r[162][e]);for(r[163]="����������������������������������������������������������������ｗｘｙｚΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩαβγδεζηθικλμνξοπρστυφχψωㄅㄆㄇㄈㄉㄊㄋㄌㄍㄎㄏ����������������������������������ㄐㄑㄒㄓㄔㄕㄖㄗㄘㄙㄚㄛㄜㄝㄞㄟㄠㄡㄢㄣㄤㄥㄦㄧㄨㄩ˙ˉˊˇˋ���������������������������������€������������������������������".split(""),e=0;e!=r[163].length;++e)65533!==r[163][e].charCodeAt(0)&&(a[r[163][e]]=41728+e,t[41728+e]=r[163][e]);for(r[164]="����������������������������������������������������������������一乙丁七乃九了二人儿入八几刀刁力匕十卜又三下丈上丫丸凡久么也乞于亡兀刃勺千叉口土士夕大女子孑孓寸小尢尸山川工己已巳巾干廾弋弓才����������������������������������丑丐不中丰丹之尹予云井互五亢仁什仃仆仇仍今介仄元允內六兮公冗凶分切刈勻勾勿化匹午升卅卞厄友及反壬天夫太夭孔少尤尺屯巴幻廿弔引心戈戶手扎支文斗斤方日曰月木欠止歹毋比毛氏水火爪父爻片牙牛犬王丙�".split(""),e=0;e!=r[164].length;++e)65533!==r[164][e].charCodeAt(0)&&(a[r[164][e]]=41984+e,t[41984+e]=r[164][e]);for(r[165]="����������������������������������������������������������������世丕且丘主乍乏乎以付仔仕他仗代令仙仞充兄冉冊冬凹出凸刊加功包匆北匝仟半卉卡占卯卮去可古右召叮叩叨叼司叵叫另只史叱台句叭叻四囚外����������������������������������央失奴奶孕它尼巨巧左市布平幼弁弘弗必戊打扔扒扑斥旦朮本未末札正母民氐永汁汀氾犯玄玉瓜瓦甘生用甩田由甲申疋白皮皿目矛矢石示禾穴立丞丟乒乓乩亙交亦亥仿伉伙伊伕伍伐休伏仲件任仰仳份企伋光兇兆先全�".split(""),e=0;e!=r[165].length;++e)65533!==r[165][e].charCodeAt(0)&&(a[r[165][e]]=42240+e,t[42240+e]=r[165][e]);for(r[166]="����������������������������������������������������������������共再冰列刑划刎刖劣匈匡匠印危吉吏同吊吐吁吋各向名合吃后吆吒因回囝圳地在圭圬圯圩夙多夷夸妄奸妃好她如妁字存宇守宅安寺尖屹州帆并年����������������������������������式弛忙忖戎戌戍成扣扛托收早旨旬旭曲曳有朽朴朱朵次此死氖汝汗汙江池汐汕污汛汍汎灰牟牝百竹米糸缶羊羽老考而耒耳聿肉肋肌臣自至臼舌舛舟艮色艾虫血行衣西阡串亨位住佇佗佞伴佛何估佐佑伽伺伸佃佔似但佣�".split(""),e=0;e!=r[166].length;++e)65533!==r[166][e].charCodeAt(0)&&(a[r[166][e]]=42496+e,t[42496+e]=r[166][e]);for(r[167]="����������������������������������������������������������������作你伯低伶余佝佈佚兌克免兵冶冷別判利刪刨劫助努劬匣即卵吝吭吞吾否呎吧呆呃吳呈呂君吩告吹吻吸吮吵吶吠吼呀吱含吟听囪困囤囫坊坑址坍����������������������������������均坎圾坐坏圻壯夾妝妒妨妞妣妙妖妍妤妓妊妥孝孜孚孛完宋宏尬局屁尿尾岐岑岔岌巫希序庇床廷弄弟彤形彷役忘忌志忍忱快忸忪戒我抄抗抖技扶抉扭把扼找批扳抒扯折扮投抓抑抆改攻攸旱更束李杏材村杜杖杞杉杆杠�".split(""),e=0;e!=r[167].length;++e)65533!==r[167][e].charCodeAt(0)&&(a[r[167][e]]=42752+e,t[42752+e]=r[167][e]);for(r[168]="����������������������������������������������������������������杓杗步每求汞沙沁沈沉沅沛汪決沐汰沌汨沖沒汽沃汲汾汴沆汶沍沔沘沂灶灼災灸牢牡牠狄狂玖甬甫男甸皂盯矣私秀禿究系罕肖肓肝肘肛肚育良芒����������������������������������芋芍見角言谷豆豕貝赤走足身車辛辰迂迆迅迄巡邑邢邪邦那酉釆里防阮阱阪阬並乖乳事些亞享京佯依侍佳使佬供例來侃佰併侈佩佻侖佾侏侑佺兔兒兕兩具其典冽函刻券刷刺到刮制剁劾劻卒協卓卑卦卷卸卹取叔受味呵�".split(""),e=0;e!=r[168].length;++e)65533!==r[168][e].charCodeAt(0)&&(a[r[168][e]]=43008+e,t[43008+e]=r[168][e]);for(r[169]="����������������������������������������������������������������咖呸咕咀呻呷咄咒咆呼咐呱呶和咚呢周咋命咎固垃坷坪坩坡坦坤坼夜奉奇奈奄奔妾妻委妹妮姑姆姐姍始姓姊妯妳姒姅孟孤季宗定官宜宙宛尚屈居����������������������������������屆岷岡岸岩岫岱岳帘帚帖帕帛帑幸庚店府底庖延弦弧弩往征彿彼忝忠忽念忿怏怔怯怵怖怪怕怡性怩怫怛或戕房戾所承拉拌拄抿拂抹拒招披拓拔拋拈抨抽押拐拙拇拍抵拚抱拘拖拗拆抬拎放斧於旺昔易昌昆昂明昀昏昕昊�".split(""),e=0;e!=r[169].length;++e)65533!==r[169][e].charCodeAt(0)&&(a[r[169][e]]=43264+e,t[43264+e]=r[169][e]);for(r[170]="����������������������������������������������������������������昇服朋杭枋枕東果杳杷枇枝林杯杰板枉松析杵枚枓杼杪杲欣武歧歿氓氛泣注泳沱泌泥河沽沾沼波沫法泓沸泄油況沮泗泅泱沿治泡泛泊沬泯泜泖泠����������������������������������炕炎炒炊炙爬爭爸版牧物狀狎狙狗狐玩玨玟玫玥甽疝疙疚的盂盲直知矽社祀祁秉秈空穹竺糾罔羌羋者肺肥肢肱股肫肩肴肪肯臥臾舍芳芝芙芭芽芟芹花芬芥芯芸芣芰芾芷虎虱初表軋迎返近邵邸邱邶采金長門阜陀阿阻附�".split(""),e=0;e!=r[170].length;++e)65533!==r[170][e].charCodeAt(0)&&(a[r[170][e]]=43520+e,t[43520+e]=r[170][e]);for(r[171]="����������������������������������������������������������������陂隹雨青非亟亭亮信侵侯便俠俑俏保促侶俘俟俊俗侮俐俄係俚俎俞侷兗冒冑冠剎剃削前剌剋則勇勉勃勁匍南卻厚叛咬哀咨哎哉咸咦咳哇哂咽咪品����������������������������������哄哈咯咫咱咻咩咧咿囿垂型垠垣垢城垮垓奕契奏奎奐姜姘姿姣姨娃姥姪姚姦威姻孩宣宦室客宥封屎屏屍屋峙峒巷帝帥帟幽庠度建弈弭彥很待徊律徇後徉怒思怠急怎怨恍恰恨恢恆恃恬恫恪恤扁拜挖按拼拭持拮拽指拱拷�".split(""),e=0;e!=r[171].length;++e)65533!==r[171][e].charCodeAt(0)&&(a[r[171][e]]=43776+e,t[43776+e]=r[171][e]);for(r[172]="����������������������������������������������������������������拯括拾拴挑挂政故斫施既春昭映昧是星昨昱昤曷柿染柱柔某柬架枯柵柩柯柄柑枴柚查枸柏柞柳枰柙柢柝柒歪殃殆段毒毗氟泉洋洲洪流津洌洱洞洗����������������������������������活洽派洶洛泵洹洧洸洩洮洵洎洫炫為炳炬炯炭炸炮炤爰牲牯牴狩狠狡玷珊玻玲珍珀玳甚甭畏界畎畋疫疤疥疢疣癸皆皇皈盈盆盃盅省盹相眉看盾盼眇矜砂研砌砍祆祉祈祇禹禺科秒秋穿突竿竽籽紂紅紀紉紇約紆缸美羿耄�".split(""),e=0;e!=r[172].length;++e)65533!==r[172][e].charCodeAt(0)&&(a[r[172][e]]=44032+e,t[44032+e]=r[172][e]);for(r[173]="����������������������������������������������������������������耐耍耑耶胖胥胚胃胄背胡胛胎胞胤胝致舢苧范茅苣苛苦茄若茂茉苒苗英茁苜苔苑苞苓苟苯茆虐虹虻虺衍衫要觔計訂訃貞負赴赳趴軍軌述迦迢迪迥����������������������������������迭迫迤迨郊郎郁郃酋酊重閂限陋陌降面革韋韭音頁風飛食首香乘亳倌倍倣俯倦倥俸倩倖倆值借倚倒們俺倀倔倨俱倡個候倘俳修倭倪俾倫倉兼冤冥冢凍凌准凋剖剜剔剛剝匪卿原厝叟哨唐唁唷哼哥哲唆哺唔哩哭員唉哮哪�".split(""),e=0;e!=r[173].length;++e)65533!==r[173][e].charCodeAt(0)&&(a[r[173][e]]=44288+e,t[44288+e]=r[173][e]);for(r[174]="����������������������������������������������������������������哦唧唇哽唏圃圄埂埔埋埃堉夏套奘奚娑娘娜娟娛娓姬娠娣娩娥娌娉孫屘宰害家宴宮宵容宸射屑展屐峭峽峻峪峨峰島崁峴差席師庫庭座弱徒徑徐恙����������������������������������恣恥恐恕恭恩息悄悟悚悍悔悌悅悖扇拳挈拿捎挾振捕捂捆捏捉挺捐挽挪挫挨捍捌效敉料旁旅時晉晏晃晒晌晅晁書朔朕朗校核案框桓根桂桔栩梳栗桌桑栽柴桐桀格桃株桅栓栘桁殊殉殷氣氧氨氦氤泰浪涕消涇浦浸海浙涓�".split(""),e=0;e!=r[174].length;++e)65533!==r[174][e].charCodeAt(0)&&(a[r[174][e]]=44544+e,t[44544+e]=r[174][e]);for(r[175]="����������������������������������������������������������������浬涉浮浚浴浩涌涊浹涅浥涔烊烘烤烙烈烏爹特狼狹狽狸狷玆班琉珮珠珪珞畔畝畜畚留疾病症疲疳疽疼疹痂疸皋皰益盍盎眩真眠眨矩砰砧砸砝破砷����������������������������������砥砭砠砟砲祕祐祠祟祖神祝祗祚秤秣秧租秦秩秘窄窈站笆笑粉紡紗紋紊素索純紐紕級紜納紙紛缺罟羔翅翁耆耘耕耙耗耽耿胱脂胰脅胭胴脆胸胳脈能脊胼胯臭臬舀舐航舫舨般芻茫荒荔荊茸荐草茵茴荏茲茹茶茗荀茱茨荃�".split(""),e=0;e!=r[175].length;++e)65533!==r[175][e].charCodeAt(0)&&(a[r[175][e]]=44800+e,t[44800+e]=r[175][e]);for(r[176]="����������������������������������������������������������������虔蚊蚪蚓蚤蚩蚌蚣蚜衰衷袁袂衽衹記訐討訌訕訊託訓訖訏訑豈豺豹財貢起躬軒軔軏辱送逆迷退迺迴逃追逅迸邕郡郝郢酒配酌釘針釗釜釙閃院陣陡����������������������������������陛陝除陘陞隻飢馬骨高鬥鬲鬼乾偺偽停假偃偌做偉健偶偎偕偵側偷偏倏偯偭兜冕凰剪副勒務勘動匐匏匙匿區匾參曼商啪啦啄啞啡啃啊唱啖問啕唯啤唸售啜唬啣唳啁啗圈國圉域堅堊堆埠埤基堂堵執培夠奢娶婁婉婦婪婀�".split(""),e=0;e!=r[176].length;++e)65533!==r[176][e].charCodeAt(0)&&(a[r[176][e]]=45056+e,t[45056+e]=r[176][e]);for(r[177]="����������������������������������������������������������������娼婢婚婆婊孰寇寅寄寂宿密尉專將屠屜屝崇崆崎崛崖崢崑崩崔崙崤崧崗巢常帶帳帷康庸庶庵庾張強彗彬彩彫得徙從徘御徠徜恿患悉悠您惋悴惦悽����������������������������������情悻悵惜悼惘惕惆惟悸惚惇戚戛扈掠控捲掖探接捷捧掘措捱掩掉掃掛捫推掄授掙採掬排掏掀捻捩捨捺敝敖救教敗啟敏敘敕敔斜斛斬族旋旌旎晝晚晤晨晦晞曹勗望梁梯梢梓梵桿桶梱梧梗械梃棄梭梆梅梔條梨梟梡梂欲殺�".split(""),e=0;e!=r[177].length;++e)65533!==r[177][e].charCodeAt(0)&&(a[r[177][e]]=45312+e,t[45312+e]=r[177][e]);for(r[178]="����������������������������������������������������������������毫毬氫涎涼淳淙液淡淌淤添淺清淇淋涯淑涮淞淹涸混淵淅淒渚涵淚淫淘淪深淮淨淆淄涪淬涿淦烹焉焊烽烯爽牽犁猜猛猖猓猙率琅琊球理現琍瓠瓶����������������������������������瓷甜產略畦畢異疏痔痕疵痊痍皎盔盒盛眷眾眼眶眸眺硫硃硎祥票祭移窒窕笠笨笛第符笙笞笮粒粗粕絆絃統紮紹紼絀細紳組累終紲紱缽羞羚翌翎習耜聊聆脯脖脣脫脩脰脤舂舵舷舶船莎莞莘荸莢莖莽莫莒莊莓莉莠荷荻荼�".split(""),e=0;e!=r[178].length;++e)65533!==r[178][e].charCodeAt(0)&&(a[r[178][e]]=45568+e,t[45568+e]=r[178][e]);for(r[179]="����������������������������������������������������������������莆莧處彪蛇蛀蚶蛄蚵蛆蛋蚱蚯蛉術袞袈被袒袖袍袋覓規訪訝訣訥許設訟訛訢豉豚販責貫貨貪貧赧赦趾趺軛軟這逍通逗連速逝逐逕逞造透逢逖逛途����������������������������������部郭都酗野釵釦釣釧釭釩閉陪陵陳陸陰陴陶陷陬雀雪雩章竟頂頃魚鳥鹵鹿麥麻傢傍傅備傑傀傖傘傚最凱割剴創剩勞勝勛博厥啻喀喧啼喊喝喘喂喜喪喔喇喋喃喳單喟唾喲喚喻喬喱啾喉喫喙圍堯堪場堤堰報堡堝堠壹壺奠�".split(""),e=0;e!=r[179].length;++e)65533!==r[179][e].charCodeAt(0)&&(a[r[179][e]]=45824+e,t[45824+e]=r[179][e]);for(r[180]="����������������������������������������������������������������婷媚婿媒媛媧孳孱寒富寓寐尊尋就嵌嵐崴嵇巽幅帽幀幃幾廊廁廂廄弼彭復循徨惑惡悲悶惠愜愣惺愕惰惻惴慨惱愎惶愉愀愒戟扉掣掌描揀揩揉揆揍����������������������������������插揣提握揖揭揮捶援揪換摒揚揹敞敦敢散斑斐斯普晰晴晶景暑智晾晷曾替期朝棺棕棠棘棗椅棟棵森棧棹棒棲棣棋棍植椒椎棉棚楮棻款欺欽殘殖殼毯氮氯氬港游湔渡渲湧湊渠渥渣減湛湘渤湖湮渭渦湯渴湍渺測湃渝渾滋�".split(""),e=0;e!=r[180].length;++e)65533!==r[180][e].charCodeAt(0)&&(a[r[180][e]]=46080+e,t[46080+e]=r[180][e]);for(r[181]="����������������������������������������������������������������溉渙湎湣湄湲湩湟焙焚焦焰無然煮焜牌犄犀猶猥猴猩琺琪琳琢琥琵琶琴琯琛琦琨甥甦畫番痢痛痣痙痘痞痠登發皖皓皴盜睏短硝硬硯稍稈程稅稀窘����������������������������������窗窖童竣等策筆筐筒答筍筋筏筑粟粥絞結絨絕紫絮絲絡給絢絰絳善翔翕耋聒肅腕腔腋腑腎脹腆脾腌腓腴舒舜菩萃菸萍菠菅萋菁華菱菴著萊菰萌菌菽菲菊萸萎萄菜萇菔菟虛蛟蛙蛭蛔蛛蛤蛐蛞街裁裂袱覃視註詠評詞証詁�".split(""),e=0;e!=r[181].length;++e)65533!==r[181][e].charCodeAt(0)&&(a[r[181][e]]=46336+e,t[46336+e]=r[181][e]);for(r[182]="����������������������������������������������������������������詔詛詐詆訴診訶詖象貂貯貼貳貽賁費賀貴買貶貿貸越超趁跎距跋跚跑跌跛跆軻軸軼辜逮逵週逸進逶鄂郵鄉郾酣酥量鈔鈕鈣鈉鈞鈍鈐鈇鈑閔閏開閑����������������������������������間閒閎隊階隋陽隅隆隍陲隄雁雅雄集雇雯雲韌項順須飧飪飯飩飲飭馮馭黃黍黑亂傭債傲傳僅傾催傷傻傯僇剿剷剽募勦勤勢勣匯嗟嗨嗓嗦嗎嗜嗇嗑嗣嗤嗯嗚嗡嗅嗆嗥嗉園圓塞塑塘塗塚塔填塌塭塊塢塒塋奧嫁嫉嫌媾媽媼�".split(""),e=0;e!=r[182].length;++e)65533!==r[182][e].charCodeAt(0)&&(a[r[182][e]]=46592+e,t[46592+e]=r[182][e]);for(r[183]="����������������������������������������������������������������媳嫂媲嵩嵯幌幹廉廈弒彙徬微愚意慈感想愛惹愁愈慎慌慄慍愾愴愧愍愆愷戡戢搓搾搞搪搭搽搬搏搜搔損搶搖搗搆敬斟新暗暉暇暈暖暄暘暍會榔業����������������������������������楚楷楠楔極椰概楊楨楫楞楓楹榆楝楣楛歇歲毀殿毓毽溢溯滓溶滂源溝滇滅溥溘溼溺溫滑準溜滄滔溪溧溴煎煙煩煤煉照煜煬煦煌煥煞煆煨煖爺牒猷獅猿猾瑯瑚瑕瑟瑞瑁琿瑙瑛瑜當畸瘀痰瘁痲痱痺痿痴痳盞盟睛睫睦睞督�".split(""),e=0;e!=r[183].length;++e)65533!==r[183][e].charCodeAt(0)&&(a[r[183][e]]=46848+e,t[46848+e]=r[183][e]);for(r[184]="����������������������������������������������������������������睹睪睬睜睥睨睢矮碎碰碗碘碌碉硼碑碓硿祺祿禁萬禽稜稚稠稔稟稞窟窠筷節筠筮筧粱粳粵經絹綑綁綏絛置罩罪署義羨群聖聘肆肄腱腰腸腥腮腳腫����������������������������������腹腺腦舅艇蒂葷落萱葵葦葫葉葬葛萼萵葡董葩葭葆虞虜號蛹蜓蜈蜇蜀蛾蛻蜂蜃蜆蜊衙裟裔裙補裘裝裡裊裕裒覜解詫該詳試詩詰誇詼詣誠話誅詭詢詮詬詹詻訾詨豢貊貉賊資賈賄貲賃賂賅跡跟跨路跳跺跪跤跦躲較載軾輊�".split(""),e=0;e!=r[184].length;++e)65533!==r[184][e].charCodeAt(0)&&(a[r[184][e]]=47104+e,t[47104+e]=r[184][e]);for(r[185]="����������������������������������������������������������������辟農運遊道遂達逼違遐遇遏過遍遑逾遁鄒鄗酬酪酩釉鈷鉗鈸鈽鉀鈾鉛鉋鉤鉑鈴鉉鉍鉅鈹鈿鉚閘隘隔隕雍雋雉雊雷電雹零靖靴靶預頑頓頊頒頌飼飴����������������������������������飽飾馳馱馴髡鳩麂鼎鼓鼠僧僮僥僖僭僚僕像僑僱僎僩兢凳劃劂匱厭嗾嘀嘛嘗嗽嘔嘆嘉嘍嘎嗷嘖嘟嘈嘐嗶團圖塵塾境墓墊塹墅塽壽夥夢夤奪奩嫡嫦嫩嫗嫖嫘嫣孵寞寧寡寥實寨寢寤察對屢嶄嶇幛幣幕幗幔廓廖弊彆彰徹慇�".split(""),e=0;e!=r[185].length;++e)65533!==r[185][e].charCodeAt(0)&&(a[r[185][e]]=47360+e,t[47360+e]=r[185][e]);for(r[186]="����������������������������������������������������������������愿態慷慢慣慟慚慘慵截撇摘摔撤摸摟摺摑摧搴摭摻敲斡旗旖暢暨暝榜榨榕槁榮槓構榛榷榻榫榴槐槍榭槌榦槃榣歉歌氳漳演滾漓滴漩漾漠漬漏漂漢����������������������������������滿滯漆漱漸漲漣漕漫漯澈漪滬漁滲滌滷熔熙煽熊熄熒爾犒犖獄獐瑤瑣瑪瑰瑭甄疑瘧瘍瘋瘉瘓盡監瞄睽睿睡磁碟碧碳碩碣禎福禍種稱窪窩竭端管箕箋筵算箝箔箏箸箇箄粹粽精綻綰綜綽綾綠緊綴網綱綺綢綿綵綸維緒緇綬�".split(""),e=0;e!=r[186].length;++e)65533!==r[186][e].charCodeAt(0)&&(a[r[186][e]]=47616+e,t[47616+e]=r[186][e]);for(r[187]="����������������������������������������������������������������罰翠翡翟聞聚肇腐膀膏膈膊腿膂臧臺與舔舞艋蓉蒿蓆蓄蒙蒞蒲蒜蓋蒸蓀蓓蒐蒼蓑蓊蜿蜜蜻蜢蜥蜴蜘蝕蜷蜩裳褂裴裹裸製裨褚裯誦誌語誣認誡誓誤����������������������������������說誥誨誘誑誚誧豪貍貌賓賑賒赫趙趕跼輔輒輕輓辣遠遘遜遣遙遞遢遝遛鄙鄘鄞酵酸酷酴鉸銀銅銘銖鉻銓銜銨鉼銑閡閨閩閣閥閤隙障際雌雒需靼鞅韶頗領颯颱餃餅餌餉駁骯骰髦魁魂鳴鳶鳳麼鼻齊億儀僻僵價儂儈儉儅凜�".split(""),e=0;e!=r[187].length;++e)65533!==r[187][e].charCodeAt(0)&&(a[r[187][e]]=47872+e,t[47872+e]=r[187][e]);for(r[188]="����������������������������������������������������������������劇劈劉劍劊勰厲嘮嘻嘹嘲嘿嘴嘩噓噎噗噴嘶嘯嘰墀墟增墳墜墮墩墦奭嬉嫻嬋嫵嬌嬈寮寬審寫層履嶝嶔幢幟幡廢廚廟廝廣廠彈影德徵慶慧慮慝慕憂����������������������������������慼慰慫慾憧憐憫憎憬憚憤憔憮戮摩摯摹撞撲撈撐撰撥撓撕撩撒撮播撫撚撬撙撢撳敵敷數暮暫暴暱樣樟槨樁樞標槽模樓樊槳樂樅槭樑歐歎殤毅毆漿潼澄潑潦潔澆潭潛潸潮澎潺潰潤澗潘滕潯潠潟熟熬熱熨牖犛獎獗瑩璋璃�".split(""),e=0;e!=r[188].length;++e)65533!==r[188][e].charCodeAt(0)&&(a[r[188][e]]=48128+e,t[48128+e]=r[188][e]);for(r[189]="����������������������������������������������������������������瑾璀畿瘠瘩瘟瘤瘦瘡瘢皚皺盤瞎瞇瞌瞑瞋磋磅確磊碾磕碼磐稿稼穀稽稷稻窯窮箭箱範箴篆篇篁箠篌糊締練緯緻緘緬緝編緣線緞緩綞緙緲緹罵罷羯����������������������������������翩耦膛膜膝膠膚膘蔗蔽蔚蓮蔬蔭蔓蔑蔣蔡蔔蓬蔥蓿蔆螂蝴蝶蝠蝦蝸蝨蝙蝗蝌蝓衛衝褐複褒褓褕褊誼諒談諄誕請諸課諉諂調誰論諍誶誹諛豌豎豬賠賞賦賤賬賭賢賣賜質賡赭趟趣踫踐踝踢踏踩踟踡踞躺輝輛輟輩輦輪輜輞�".split(""),e=0;e!=r[189].length;++e)65533!==r[189][e].charCodeAt(0)&&(a[r[189][e]]=48384+e,t[48384+e]=r[189][e]);for(r[190]="����������������������������������������������������������������輥適遮遨遭遷鄰鄭鄧鄱醇醉醋醃鋅銻銷鋪銬鋤鋁銳銼鋒鋇鋰銲閭閱霄霆震霉靠鞍鞋鞏頡頫頜颳養餓餒餘駝駐駟駛駑駕駒駙骷髮髯鬧魅魄魷魯鴆鴉����������������������������������鴃麩麾黎墨齒儒儘儔儐儕冀冪凝劑劓勳噙噫噹噩噤噸噪器噥噱噯噬噢噶壁墾壇壅奮嬝嬴學寰導彊憲憑憩憊懍憶憾懊懈戰擅擁擋撻撼據擄擇擂操撿擒擔撾整曆曉暹曄曇暸樽樸樺橙橫橘樹橄橢橡橋橇樵機橈歙歷氅濂澱澡�".split(""),e=0;e!=r[190].length;++e)65533!==r[190][e].charCodeAt(0)&&(a[r[190][e]]=48640+e,t[48640+e]=r[190][e]);for(r[191]="����������������������������������������������������������������濃澤濁澧澳激澹澶澦澠澴熾燉燐燒燈燕熹燎燙燜燃燄獨璜璣璘璟璞瓢甌甍瘴瘸瘺盧盥瞠瞞瞟瞥磨磚磬磧禦積穎穆穌穋窺篙簑築篤篛篡篩篦糕糖縊����������������������������������縑縈縛縣縞縝縉縐罹羲翰翱翮耨膳膩膨臻興艘艙蕊蕙蕈蕨蕩蕃蕉蕭蕪蕞螃螟螞螢融衡褪褲褥褫褡親覦諦諺諫諱謀諜諧諮諾謁謂諷諭諳諶諼豫豭貓賴蹄踱踴蹂踹踵輻輯輸輳辨辦遵遴選遲遼遺鄴醒錠錶鋸錳錯錢鋼錫錄錚�".split(""),e=0;e!=r[191].length;++e)65533!==r[191][e].charCodeAt(0)&&(a[r[191][e]]=48896+e,t[48896+e]=r[191][e]);for(r[192]="����������������������������������������������������������������錐錦錡錕錮錙閻隧隨險雕霎霑霖霍霓霏靛靜靦鞘頰頸頻頷頭頹頤餐館餞餛餡餚駭駢駱骸骼髻髭鬨鮑鴕鴣鴦鴨鴒鴛默黔龍龜優償儡儲勵嚎嚀嚐嚅嚇����������������������������������嚏壕壓壑壎嬰嬪嬤孺尷屨嶼嶺嶽嶸幫彌徽應懂懇懦懋戲戴擎擊擘擠擰擦擬擱擢擭斂斃曙曖檀檔檄檢檜櫛檣橾檗檐檠歜殮毚氈濘濱濟濠濛濤濫濯澀濬濡濩濕濮濰燧營燮燦燥燭燬燴燠爵牆獰獲璩環璦璨癆療癌盪瞳瞪瞰瞬�".split(""),e=0;e!=r[192].length;++e)65533!==r[192][e].charCodeAt(0)&&(a[r[192][e]]=49152+e,t[49152+e]=r[192][e]);for(r[193]="����������������������������������������������������������������瞧瞭矯磷磺磴磯礁禧禪穗窿簇簍篾篷簌篠糠糜糞糢糟糙糝縮績繆縷縲繃縫總縱繅繁縴縹繈縵縿縯罄翳翼聱聲聰聯聳臆臃膺臂臀膿膽臉膾臨舉艱薪����������������������������������薄蕾薜薑薔薯薛薇薨薊虧蟀蟑螳蟒蟆螫螻螺蟈蟋褻褶襄褸褽覬謎謗謙講謊謠謝謄謐豁谿豳賺賽購賸賻趨蹉蹋蹈蹊轄輾轂轅輿避遽還邁邂邀鄹醣醞醜鍍鎂錨鍵鍊鍥鍋錘鍾鍬鍛鍰鍚鍔闊闋闌闈闆隱隸雖霜霞鞠韓顆颶餵騁�".split(""),e=0;e!=r[193].length;++e)65533!==r[193][e].charCodeAt(0)&&(a[r[193][e]]=49408+e,t[49408+e]=r[193][e]);for(r[194]="����������������������������������������������������������������駿鮮鮫鮪鮭鴻鴿麋黏點黜黝黛鼾齋叢嚕嚮壙壘嬸彝懣戳擴擲擾攆擺擻擷斷曜朦檳檬櫃檻檸櫂檮檯歟歸殯瀉瀋濾瀆濺瀑瀏燻燼燾燸獷獵璧璿甕癖癘����������������������������������癒瞽瞿瞻瞼礎禮穡穢穠竄竅簫簧簪簞簣簡糧織繕繞繚繡繒繙罈翹翻職聶臍臏舊藏薩藍藐藉薰薺薹薦蟯蟬蟲蟠覆覲觴謨謹謬謫豐贅蹙蹣蹦蹤蹟蹕軀轉轍邇邃邈醫醬釐鎔鎊鎖鎢鎳鎮鎬鎰鎘鎚鎗闔闖闐闕離雜雙雛雞霤鞣鞦�".split(""),e=0;e!=r[194].length;++e)65533!==r[194][e].charCodeAt(0)&&(a[r[194][e]]=49664+e,t[49664+e]=r[194][e]);for(r[195]="����������������������������������������������������������������鞭韹額顏題顎顓颺餾餿餽餮馥騎髁鬃鬆魏魎魍鯊鯉鯽鯈鯀鵑鵝鵠黠鼕鼬儳嚥壞壟壢寵龐廬懲懷懶懵攀攏曠曝櫥櫝櫚櫓瀛瀟瀨瀚瀝瀕瀘爆爍牘犢獸����������������������������������獺璽瓊瓣疇疆癟癡矇礙禱穫穩簾簿簸簽簷籀繫繭繹繩繪羅繳羶羹羸臘藩藝藪藕藤藥藷蟻蠅蠍蟹蟾襠襟襖襞譁譜識證譚譎譏譆譙贈贊蹼蹲躇蹶蹬蹺蹴轔轎辭邊邋醱醮鏡鏑鏟鏃鏈鏜鏝鏖鏢鏍鏘鏤鏗鏨關隴難霪霧靡韜韻類�".split(""),e=0;e!=r[195].length;++e)65533!==r[195][e].charCodeAt(0)&&(a[r[195][e]]=49920+e,t[49920+e]=r[195][e]);for(r[196]="����������������������������������������������������������������願顛颼饅饉騖騙鬍鯨鯧鯖鯛鶉鵡鵲鵪鵬麒麗麓麴勸嚨嚷嚶嚴嚼壤孀孃孽寶巉懸懺攘攔攙曦朧櫬瀾瀰瀲爐獻瓏癢癥礦礪礬礫竇競籌籃籍糯糰辮繽繼����������������������������������纂罌耀臚艦藻藹蘑藺蘆蘋蘇蘊蠔蠕襤覺觸議譬警譯譟譫贏贍躉躁躅躂醴釋鐘鐃鏽闡霰飄饒饑馨騫騰騷騵鰓鰍鹹麵黨鼯齟齣齡儷儸囁囀囂夔屬巍懼懾攝攜斕曩櫻欄櫺殲灌爛犧瓖瓔癩矓籐纏續羼蘗蘭蘚蠣蠢蠡蠟襪襬覽譴�".split(""),e=0;e!=r[196].length;++e)65533!==r[196][e].charCodeAt(0)&&(a[r[196][e]]=50176+e,t[50176+e]=r[196][e]);for(r[197]="����������������������������������������������������������������護譽贓躊躍躋轟辯醺鐮鐳鐵鐺鐸鐲鐫闢霸霹露響顧顥饗驅驃驀騾髏魔魑鰭鰥鶯鶴鷂鶸麝黯鼙齜齦齧儼儻囈囊囉孿巔巒彎懿攤權歡灑灘玀瓤疊癮癬����������������������������������禳籠籟聾聽臟襲襯觼讀贖贗躑躓轡酈鑄鑑鑒霽霾韃韁顫饕驕驍髒鬚鱉鰱鰾鰻鷓鷗鼴齬齪龔囌巖戀攣攫攪曬欐瓚竊籤籣籥纓纖纔臢蘸蘿蠱變邐邏鑣鑠鑤靨顯饜驚驛驗髓體髑鱔鱗鱖鷥麟黴囑壩攬灞癱癲矗罐羈蠶蠹衢讓讒�".split(""),e=0;e!=r[197].length;++e)65533!==r[197][e].charCodeAt(0)&&(a[r[197][e]]=50432+e,t[50432+e]=r[197][e]);for(r[198]="����������������������������������������������������������������讖艷贛釀鑪靂靈靄韆顰驟鬢魘鱟鷹鷺鹼鹽鼇齷齲廳欖灣籬籮蠻觀躡釁鑲鑰顱饞髖鬣黌灤矚讚鑷韉驢驥纜讜躪釅鑽鑾鑼鱷鱸黷豔鑿鸚爨驪鬱鸛鸞籲���������������������������������������������������������������������������������������������������������������������������������".split(""),e=0;e!=r[198].length;++e)65533!==r[198][e].charCodeAt(0)&&(a[r[198][e]]=50688+e,t[50688+e]=r[198][e]);for(r[201]="����������������������������������������������������������������乂乜凵匚厂万丌乇亍囗兀屮彳丏冇与丮亓仂仉仈冘勼卬厹圠夃夬尐巿旡殳毌气爿丱丼仨仜仩仡仝仚刌匜卌圢圣夗夯宁宄尒尻屴屳帄庀庂忉戉扐氕����������������������������������氶汃氿氻犮犰玊禸肊阞伎优伬仵伔仱伀价伈伝伂伅伢伓伄仴伒冱刓刉刐劦匢匟卍厊吇囡囟圮圪圴夼妀奼妅奻奾奷奿孖尕尥屼屺屻屾巟幵庄异弚彴忕忔忏扜扞扤扡扦扢扙扠扚扥旯旮朾朹朸朻机朿朼朳氘汆汒汜汏汊汔汋�".split(""),e=0;e!=r[201].length;++e)65533!==r[201][e].charCodeAt(0)&&(a[r[201][e]]=51456+e,t[51456+e]=r[201][e]);for(r[202]="����������������������������������������������������������������汌灱牞犴犵玎甪癿穵网艸艼芀艽艿虍襾邙邗邘邛邔阢阤阠阣佖伻佢佉体佤伾佧佒佟佁佘伭伳伿佡冏冹刜刞刡劭劮匉卣卲厎厏吰吷吪呔呅吙吜吥吘����������������������������������吽呏呁吨吤呇囮囧囥坁坅坌坉坋坒夆奀妦妘妠妗妎妢妐妏妧妡宎宒尨尪岍岏岈岋岉岒岊岆岓岕巠帊帎庋庉庌庈庍弅弝彸彶忒忑忐忭忨忮忳忡忤忣忺忯忷忻怀忴戺抃抌抎抏抔抇扱扻扺扰抁抈扷扽扲扴攷旰旴旳旲旵杅杇�".split(""),e=0;e!=r[202].length;++e)65533!==r[202][e].charCodeAt(0)&&(a[r[202][e]]=51712+e,t[51712+e]=r[202][e]);for(r[203]="����������������������������������������������������������������杙杕杌杈杝杍杚杋毐氙氚汸汧汫沄沋沏汱汯汩沚汭沇沕沜汦汳汥汻沎灴灺牣犿犽狃狆狁犺狅玕玗玓玔玒町甹疔疕皁礽耴肕肙肐肒肜芐芏芅芎芑芓����������������������������������芊芃芄豸迉辿邟邡邥邞邧邠阰阨阯阭丳侘佼侅佽侀侇佶佴侉侄佷佌侗佪侚佹侁佸侐侜侔侞侒侂侕佫佮冞冼冾刵刲刳剆刱劼匊匋匼厒厔咇呿咁咑咂咈呫呺呾呥呬呴呦咍呯呡呠咘呣呧呤囷囹坯坲坭坫坱坰坶垀坵坻坳坴坢�".split(""),e=0;e!=r[203].length;++e)65533!==r[203][e].charCodeAt(0)&&(a[r[203][e]]=51968+e,t[51968+e]=r[203][e]);for(r[204]="����������������������������������������������������������������坨坽夌奅妵妺姏姎妲姌姁妶妼姃姖妱妽姀姈妴姇孢孥宓宕屄屇岮岤岠岵岯岨岬岟岣岭岢岪岧岝岥岶岰岦帗帔帙弨弢弣弤彔徂彾彽忞忥怭怦怙怲怋����������������������������������怴怊怗怳怚怞怬怢怍怐怮怓怑怌怉怜戔戽抭抴拑抾抪抶拊抮抳抯抻抩抰抸攽斨斻昉旼昄昒昈旻昃昋昍昅旽昑昐曶朊枅杬枎枒杶杻枘枆构杴枍枌杺枟枑枙枃杽极杸杹枔欥殀歾毞氝沓泬泫泮泙沶泔沭泧沷泐泂沺泃泆泭泲�".split(""),e=0;e!=r[204].length;++e)65533!==r[204][e].charCodeAt(0)&&(a[r[204][e]]=52224+e,t[52224+e]=r[204][e]);for(r[205]="����������������������������������������������������������������泒泝沴沊沝沀泞泀洰泍泇沰泹泏泩泑炔炘炅炓炆炄炑炖炂炚炃牪狖狋狘狉狜狒狔狚狌狑玤玡玭玦玢玠玬玝瓝瓨甿畀甾疌疘皯盳盱盰盵矸矼矹矻矺����������������������������������矷祂礿秅穸穻竻籵糽耵肏肮肣肸肵肭舠芠苀芫芚芘芛芵芧芮芼芞芺芴芨芡芩苂芤苃芶芢虰虯虭虮豖迒迋迓迍迖迕迗邲邴邯邳邰阹阽阼阺陃俍俅俓侲俉俋俁俔俜俙侻侳俛俇俖侺俀侹俬剄剉勀勂匽卼厗厖厙厘咺咡咭咥哏�".split(""),e=0;e!=r[205].length;++e)65533!==r[205][e].charCodeAt(0)&&(a[r[205][e]]=52480+e,t[52480+e]=r[205][e]);for(r[206]="����������������������������������������������������������������哃茍咷咮哖咶哅哆咠呰咼咢咾呲哞咰垵垞垟垤垌垗垝垛垔垘垏垙垥垚垕壴复奓姡姞姮娀姱姝姺姽姼姶姤姲姷姛姩姳姵姠姾姴姭宨屌峐峘峌峗峋峛����������������������������������峞峚峉峇峊峖峓峔峏峈峆峎峟峸巹帡帢帣帠帤庰庤庢庛庣庥弇弮彖徆怷怹恔恲恞恅恓恇恉恛恌恀恂恟怤恄恘恦恮扂扃拏挍挋拵挎挃拫拹挏挌拸拶挀挓挔拺挕拻拰敁敃斪斿昶昡昲昵昜昦昢昳昫昺昝昴昹昮朏朐柁柲柈枺�".split(""),e=0;e!=r[206].length;++e)65533!==r[206][e].charCodeAt(0)&&(a[r[206][e]]=52736+e,t[52736+e]=r[206][e]);for(r[207]="����������������������������������������������������������������柜枻柸柘柀枷柅柫柤柟枵柍枳柷柶柮柣柂枹柎柧柰枲柼柆柭柌枮柦柛柺柉柊柃柪柋欨殂殄殶毖毘毠氠氡洨洴洭洟洼洿洒洊泚洳洄洙洺洚洑洀洝浂����������������������������������洁洘洷洃洏浀洇洠洬洈洢洉洐炷炟炾炱炰炡炴炵炩牁牉牊牬牰牳牮狊狤狨狫狟狪狦狣玅珌珂珈珅玹玶玵玴珫玿珇玾珃珆玸珋瓬瓮甮畇畈疧疪癹盄眈眃眄眅眊盷盻盺矧矨砆砑砒砅砐砏砎砉砃砓祊祌祋祅祄秕种秏秖秎窀�".split(""),e=0;e!=r[207].length;++e)65533!==r[207][e].charCodeAt(0)&&(a[r[207][e]]=52992+e,t[52992+e]=r[207][e]);for(r[208]="����������������������������������������������������������������穾竑笀笁籺籸籹籿粀粁紃紈紁罘羑羍羾耇耎耏耔耷胘胇胠胑胈胂胐胅胣胙胜胊胕胉胏胗胦胍臿舡芔苙苾苹茇苨茀苕茺苫苖苴苬苡苲苵茌苻苶苰苪����������������������������������苤苠苺苳苭虷虴虼虳衁衎衧衪衩觓訄訇赲迣迡迮迠郱邽邿郕郅邾郇郋郈釔釓陔陏陑陓陊陎倞倅倇倓倢倰倛俵俴倳倷倬俶俷倗倜倠倧倵倯倱倎党冔冓凊凄凅凈凎剡剚剒剞剟剕剢勍匎厞唦哢唗唒哧哳哤唚哿唄唈哫唑唅哱�".split(""),e=0;e!=r[208].length;++e)65533!==r[208][e].charCodeAt(0)&&(a[r[208][e]]=53248+e,t[53248+e]=r[208][e]);for(r[209]="����������������������������������������������������������������唊哻哷哸哠唎唃唋圁圂埌堲埕埒垺埆垽垼垸垶垿埇埐垹埁夎奊娙娖娭娮娕娏娗娊娞娳孬宧宭宬尃屖屔峬峿峮峱峷崀峹帩帨庨庮庪庬弳弰彧恝恚恧����������������������������������恁悢悈悀悒悁悝悃悕悛悗悇悜悎戙扆拲挐捖挬捄捅挶捃揤挹捋捊挼挩捁挴捘捔捙挭捇挳捚捑挸捗捀捈敊敆旆旃旄旂晊晟晇晑朒朓栟栚桉栲栳栻桋桏栖栱栜栵栫栭栯桎桄栴栝栒栔栦栨栮桍栺栥栠欬欯欭欱欴歭肂殈毦毤�".split(""),e=0;e!=r[209].length;++e)65533!==r[209][e].charCodeAt(0)&&(a[r[209][e]]=53504+e,t[53504+e]=r[209][e]);for(r[210]="����������������������������������������������������������������毨毣毢毧氥浺浣浤浶洍浡涒浘浢浭浯涑涍淯浿涆浞浧浠涗浰浼浟涂涘洯浨涋浾涀涄洖涃浻浽浵涐烜烓烑烝烋缹烢烗烒烞烠烔烍烅烆烇烚烎烡牂牸����������������������������������牷牶猀狺狴狾狶狳狻猁珓珙珥珖玼珧珣珩珜珒珛珔珝珚珗珘珨瓞瓟瓴瓵甡畛畟疰痁疻痄痀疿疶疺皊盉眝眛眐眓眒眣眑眕眙眚眢眧砣砬砢砵砯砨砮砫砡砩砳砪砱祔祛祏祜祓祒祑秫秬秠秮秭秪秜秞秝窆窉窅窋窌窊窇竘笐�".split(""),e=0;e!=r[210].length;++e)65533!==r[210][e].charCodeAt(0)&&(a[r[210][e]]=53760+e,t[53760+e]=r[210][e]);for(r[211]="����������������������������������������������������������������笄笓笅笏笈笊笎笉笒粄粑粊粌粈粍粅紞紝紑紎紘紖紓紟紒紏紌罜罡罞罠罝罛羖羒翃翂翀耖耾耹胺胲胹胵脁胻脀舁舯舥茳茭荄茙荑茥荖茿荁茦茜茢����������������������������������荂荎茛茪茈茼荍茖茤茠茷茯茩荇荅荌荓茞茬荋茧荈虓虒蚢蚨蚖蚍蚑蚞蚇蚗蚆蚋蚚蚅蚥蚙蚡蚧蚕蚘蚎蚝蚐蚔衃衄衭衵衶衲袀衱衿衯袃衾衴衼訒豇豗豻貤貣赶赸趵趷趶軑軓迾迵适迿迻逄迼迶郖郠郙郚郣郟郥郘郛郗郜郤酐�".split(""),e=0;e!=r[211].length;++e)65533!==r[211][e].charCodeAt(0)&&(a[r[211][e]]=54016+e,t[54016+e]=r[211][e]);for(r[212]="����������������������������������������������������������������酎酏釕釢釚陜陟隼飣髟鬯乿偰偪偡偞偠偓偋偝偲偈偍偁偛偊偢倕偅偟偩偫偣偤偆偀偮偳偗偑凐剫剭剬剮勖勓匭厜啵啶唼啍啐唴唪啑啢唶唵唰啒啅����������������������������������唌唲啥啎唹啈唭唻啀啋圊圇埻堔埢埶埜埴堀埭埽堈埸堋埳埏堇埮埣埲埥埬埡堎埼堐埧堁堌埱埩埰堍堄奜婠婘婕婧婞娸娵婭婐婟婥婬婓婤婗婃婝婒婄婛婈媎娾婍娹婌婰婩婇婑婖婂婜孲孮寁寀屙崞崋崝崚崠崌崨崍崦崥崏�".split(""),e=0;e!=r[212].length;++e)65533!==r[212][e].charCodeAt(0)&&(a[r[212][e]]=54272+e,t[54272+e]=r[212][e]);for(r[213]="����������������������������������������������������������������崰崒崣崟崮帾帴庱庴庹庲庳弶弸徛徖徟悊悐悆悾悰悺惓惔惏惤惙惝惈悱惛悷惊悿惃惍惀挲捥掊掂捽掽掞掭掝掗掫掎捯掇掐据掯捵掜捭掮捼掤挻掟����������������������������������捸掅掁掑掍捰敓旍晥晡晛晙晜晢朘桹梇梐梜桭桮梮梫楖桯梣梬梩桵桴梲梏桷梒桼桫桲梪梀桱桾梛梖梋梠梉梤桸桻梑梌梊桽欶欳欷欸殑殏殍殎殌氪淀涫涴涳湴涬淩淢涷淶淔渀淈淠淟淖涾淥淜淝淛淴淊涽淭淰涺淕淂淏淉�".split(""),e=0;e!=r[213].length;++e)65533!==r[213][e].charCodeAt(0)&&(a[r[213][e]]=54528+e,t[54528+e]=r[213][e]);for(r[214]="����������������������������������������������������������������淐淲淓淽淗淍淣涻烺焍烷焗烴焌烰焄烳焐烼烿焆焓焀烸烶焋焂焎牾牻牼牿猝猗猇猑猘猊猈狿猏猞玈珶珸珵琄琁珽琇琀珺珼珿琌琋珴琈畤畣痎痒痏����������������������������������痋痌痑痐皏皉盓眹眯眭眱眲眴眳眽眥眻眵硈硒硉硍硊硌砦硅硐祤祧祩祪祣祫祡离秺秸秶秷窏窔窐笵筇笴笥笰笢笤笳笘笪笝笱笫笭笯笲笸笚笣粔粘粖粣紵紽紸紶紺絅紬紩絁絇紾紿絊紻紨罣羕羜羝羛翊翋翍翐翑翇翏翉耟�".split(""),e=0;e!=r[214].length;++e)65533!==r[214][e].charCodeAt(0)&&(a[r[214][e]]=54784+e,t[54784+e]=r[214][e]);for(r[215]="����������������������������������������������������������������耞耛聇聃聈脘脥脙脛脭脟脬脞脡脕脧脝脢舑舸舳舺舴舲艴莐莣莨莍荺荳莤荴莏莁莕莙荵莔莩荽莃莌莝莛莪莋荾莥莯莈莗莰荿莦莇莮荶莚虙虖蚿蚷����������������������������������蛂蛁蛅蚺蚰蛈蚹蚳蚸蛌蚴蚻蚼蛃蚽蚾衒袉袕袨袢袪袚袑袡袟袘袧袙袛袗袤袬袌袓袎覂觖觙觕訰訧訬訞谹谻豜豝豽貥赽赻赹趼跂趹趿跁軘軞軝軜軗軠軡逤逋逑逜逌逡郯郪郰郴郲郳郔郫郬郩酖酘酚酓酕釬釴釱釳釸釤釹釪�".split(""),e=0;e!=r[215].length;++e)65533!==r[215][e].charCodeAt(0)&&(a[r[215][e]]=55040+e,t[55040+e]=r[215][e]);for(r[216]="����������������������������������������������������������������釫釷釨釮镺閆閈陼陭陫陱陯隿靪頄飥馗傛傕傔傞傋傣傃傌傎傝偨傜傒傂傇兟凔匒匑厤厧喑喨喥喭啷噅喢喓喈喏喵喁喣喒喤啽喌喦啿喕喡喎圌堩堷����������������������������������堙堞堧堣堨埵塈堥堜堛堳堿堶堮堹堸堭堬堻奡媯媔媟婺媢媞婸媦婼媥媬媕媮娷媄媊媗媃媋媩婻婽媌媜媏媓媝寪寍寋寔寑寊寎尌尰崷嵃嵫嵁嵋崿崵嵑嵎嵕崳崺嵒崽崱嵙嵂崹嵉崸崼崲崶嵀嵅幄幁彘徦徥徫惉悹惌惢惎惄愔�".split(""),e=0;e!=r[216].length;++e)65533!==r[216][e].charCodeAt(0)&&(a[r[216][e]]=55296+e,t[55296+e]=r[216][e]);for(r[217]="����������������������������������������������������������������惲愊愖愅惵愓惸惼惾惁愃愘愝愐惿愄愋扊掔掱掰揎揥揨揯揃撝揳揊揠揶揕揲揵摡揟掾揝揜揄揘揓揂揇揌揋揈揰揗揙攲敧敪敤敜敨敥斌斝斞斮旐旒����������������������������������晼晬晻暀晱晹晪晲朁椌棓椄棜椪棬棪棱椏棖棷棫棤棶椓椐棳棡椇棌椈楰梴椑棯棆椔棸棐棽棼棨椋椊椗棎棈棝棞棦棴棑椆棔棩椕椥棇欹欻欿欼殔殗殙殕殽毰毲毳氰淼湆湇渟湉溈渼渽湅湢渫渿湁湝湳渜渳湋湀湑渻渃渮湞�".split(""),e=0;e!=r[217].length;++e)65533!==r[217][e].charCodeAt(0)&&(a[r[217][e]]=55552+e,t[55552+e]=r[217][e]);for(r[218]="����������������������������������������������������������������湨湜湡渱渨湠湱湫渹渢渰湓湥渧湸湤湷湕湹湒湦渵渶湚焠焞焯烻焮焱焣焥焢焲焟焨焺焛牋牚犈犉犆犅犋猒猋猰猢猱猳猧猲猭猦猣猵猌琮琬琰琫琖����������������������������������琚琡琭琱琤琣琝琩琠琲瓻甯畯畬痧痚痡痦痝痟痤痗皕皒盚睆睇睄睍睅睊睎睋睌矞矬硠硤硥硜硭硱硪确硰硩硨硞硢祴祳祲祰稂稊稃稌稄窙竦竤筊笻筄筈筌筎筀筘筅粢粞粨粡絘絯絣絓絖絧絪絏絭絜絫絒絔絩絑絟絎缾缿罥�".split(""),e=0;e!=r[218].length;++e)65533!==r[218][e].charCodeAt(0)&&(a[r[218][e]]=55808+e,t[55808+e]=r[218][e]);for(r[219]="����������������������������������������������������������������罦羢羠羡翗聑聏聐胾胔腃腊腒腏腇脽腍脺臦臮臷臸臹舄舼舽舿艵茻菏菹萣菀菨萒菧菤菼菶萐菆菈菫菣莿萁菝菥菘菿菡菋菎菖菵菉萉萏菞萑萆菂菳����������������������������������菕菺菇菑菪萓菃菬菮菄菻菗菢萛菛菾蛘蛢蛦蛓蛣蛚蛪蛝蛫蛜蛬蛩蛗蛨蛑衈衖衕袺裗袹袸裀袾袶袼袷袽袲褁裉覕覘覗觝觚觛詎詍訹詙詀詗詘詄詅詒詈詑詊詌詏豟貁貀貺貾貰貹貵趄趀趉跘跓跍跇跖跜跏跕跙跈跗跅軯軷軺�".split(""),e=0;e!=r[219].length;++e)65533!==r[219][e].charCodeAt(0)&&(a[r[219][e]]=56064+e,t[56064+e]=r[219][e]);for(r[220]="����������������������������������������������������������������軹軦軮軥軵軧軨軶軫軱軬軴軩逭逴逯鄆鄬鄄郿郼鄈郹郻鄁鄀鄇鄅鄃酡酤酟酢酠鈁鈊鈥鈃鈚鈦鈏鈌鈀鈒釿釽鈆鈄鈧鈂鈜鈤鈙鈗鈅鈖镻閍閌閐隇陾隈����������������������������������隉隃隀雂雈雃雱雰靬靰靮頇颩飫鳦黹亃亄亶傽傿僆傮僄僊傴僈僂傰僁傺傱僋僉傶傸凗剺剸剻剼嗃嗛嗌嗐嗋嗊嗝嗀嗔嗄嗩喿嗒喍嗏嗕嗢嗖嗈嗲嗍嗙嗂圔塓塨塤塏塍塉塯塕塎塝塙塥塛堽塣塱壼嫇嫄嫋媺媸媱媵媰媿嫈媻嫆�".split(""),e=0;e!=r[220].length;++e)65533!==r[220][e].charCodeAt(0)&&(a[r[220][e]]=56320+e,t[56320+e]=r[220][e]);for(r[221]="����������������������������������������������������������������媷嫀嫊媴媶嫍媹媐寖寘寙尟尳嵱嵣嵊嵥嵲嵬嵞嵨嵧嵢巰幏幎幊幍幋廅廌廆廋廇彀徯徭惷慉慊愫慅愶愲愮慆愯慏愩慀戠酨戣戥戤揅揱揫搐搒搉搠搤����������������������������������搳摃搟搕搘搹搷搢搣搌搦搰搨摁搵搯搊搚摀搥搧搋揧搛搮搡搎敯斒旓暆暌暕暐暋暊暙暔晸朠楦楟椸楎楢楱椿楅楪椹楂楗楙楺楈楉椵楬椳椽楥棰楸椴楩楀楯楄楶楘楁楴楌椻楋椷楜楏楑椲楒椯楻椼歆歅歃歂歈歁殛嗀毻毼�".split(""),e=0;e!=r[221].length;++e)65533!==r[221][e].charCodeAt(0)&&(a[r[221][e]]=56576+e,t[56576+e]=r[221][e]);for(r[222]="����������������������������������������������������������������毹毷毸溛滖滈溏滀溟溓溔溠溱溹滆滒溽滁溞滉溷溰滍溦滏溲溾滃滜滘溙溒溎溍溤溡溿溳滐滊溗溮溣煇煔煒煣煠煁煝煢煲煸煪煡煂煘煃煋煰煟煐煓����������������������������������煄煍煚牏犍犌犑犐犎猼獂猻猺獀獊獉瑄瑊瑋瑒瑑瑗瑀瑏瑐瑎瑂瑆瑍瑔瓡瓿瓾瓽甝畹畷榃痯瘏瘃痷痾痼痹痸瘐痻痶痭痵痽皙皵盝睕睟睠睒睖睚睩睧睔睙睭矠碇碚碔碏碄碕碅碆碡碃硹碙碀碖硻祼禂祽祹稑稘稙稒稗稕稢稓�".split(""),e=0;e!=r[222].length;++e)65533!==r[222][e].charCodeAt(0)&&(a[r[222][e]]=56832+e,t[56832+e]=r[222][e]);for(r[223]="����������������������������������������������������������������稛稐窣窢窞竫筦筤筭筴筩筲筥筳筱筰筡筸筶筣粲粴粯綈綆綀綍絿綅絺綎絻綃絼綌綔綄絽綒罭罫罧罨罬羦羥羧翛翜耡腤腠腷腜腩腛腢腲朡腞腶腧腯����������������������������������腄腡舝艉艄艀艂艅蓱萿葖葶葹蒏蒍葥葑葀蒆葧萰葍葽葚葙葴葳葝蔇葞萷萺萴葺葃葸萲葅萩菙葋萯葂萭葟葰萹葎葌葒葯蓅蒎萻葇萶萳葨葾葄萫葠葔葮葐蜋蜄蛷蜌蛺蛖蛵蝍蛸蜎蜉蜁蛶蜍蜅裖裋裍裎裞裛裚裌裐覅覛觟觥觤�".split(""),e=0;e!=r[223].length;++e)65533!==r[223][e].charCodeAt(0)&&(a[r[223][e]]=57088+e,t[57088+e]=r[223][e]);for(r[224]="����������������������������������������������������������������觡觠觢觜触詶誆詿詡訿詷誂誄詵誃誁詴詺谼豋豊豥豤豦貆貄貅賌赨赩趑趌趎趏趍趓趔趐趒跰跠跬跱跮跐跩跣跢跧跲跫跴輆軿輁輀輅輇輈輂輋遒逿����������������������������������遄遉逽鄐鄍鄏鄑鄖鄔鄋鄎酮酯鉈鉒鈰鈺鉦鈳鉥鉞銃鈮鉊鉆鉭鉬鉏鉠鉧鉯鈶鉡鉰鈱鉔鉣鉐鉲鉎鉓鉌鉖鈲閟閜閞閛隒隓隑隗雎雺雽雸雵靳靷靸靲頏頍頎颬飶飹馯馲馰馵骭骫魛鳪鳭鳧麀黽僦僔僗僨僳僛僪僝僤僓僬僰僯僣僠�".split(""),e=0;e!=r[224].length;++e)65533!==r[224][e].charCodeAt(0)&&(a[r[224][e]]=57344+e,t[57344+e]=r[224][e]);for(r[225]="����������������������������������������������������������������凘劀劁勩勫匰厬嘧嘕嘌嘒嗼嘏嘜嘁嘓嘂嗺嘝嘄嗿嗹墉塼墐墘墆墁塿塴墋塺墇墑墎塶墂墈塻墔墏壾奫嫜嫮嫥嫕嫪嫚嫭嫫嫳嫢嫠嫛嫬嫞嫝嫙嫨嫟孷寠����������������������������������寣屣嶂嶀嵽嶆嵺嶁嵷嶊嶉嶈嵾嵼嶍嵹嵿幘幙幓廘廑廗廎廜廕廙廒廔彄彃彯徶愬愨慁慞慱慳慒慓慲慬憀慴慔慺慛慥愻慪慡慖戩戧戫搫摍摛摝摴摶摲摳摽摵摦撦摎撂摞摜摋摓摠摐摿搿摬摫摙摥摷敳斠暡暠暟朅朄朢榱榶槉�".split(""),e=0;e!=r[225].length;++e)65533!==r[225][e].charCodeAt(0)&&(a[r[225][e]]=57600+e,t[57600+e]=r[225][e]);for(r[226]="����������������������������������������������������������������榠槎榖榰榬榼榑榙榎榧榍榩榾榯榿槄榽榤槔榹槊榚槏榳榓榪榡榞槙榗榐槂榵榥槆歊歍歋殞殟殠毃毄毾滎滵滱漃漥滸漷滻漮漉潎漙漚漧漘漻漒滭漊����������������������������������漶潳滹滮漭潀漰漼漵滫漇漎潃漅滽滶漹漜滼漺漟漍漞漈漡熇熐熉熀熅熂熏煻熆熁熗牄牓犗犕犓獃獍獑獌瑢瑳瑱瑵瑲瑧瑮甀甂甃畽疐瘖瘈瘌瘕瘑瘊瘔皸瞁睼瞅瞂睮瞀睯睾瞃碲碪碴碭碨硾碫碞碥碠碬碢碤禘禊禋禖禕禔禓�".split(""),e=0;e!=r[226].length;++e)65533!==r[226][e].charCodeAt(0)&&(a[r[226][e]]=57856+e,t[57856+e]=r[226][e]);for(r[227]="����������������������������������������������������������������禗禈禒禐稫穊稰稯稨稦窨窫窬竮箈箜箊箑箐箖箍箌箛箎箅箘劄箙箤箂粻粿粼粺綧綷緂綣綪緁緀緅綝緎緄緆緋緌綯綹綖綼綟綦綮綩綡緉罳翢翣翥翞����������������������������������耤聝聜膉膆膃膇膍膌膋舕蒗蒤蒡蒟蒺蓎蓂蒬蒮蒫蒹蒴蓁蓍蒪蒚蒱蓐蒝蒧蒻蒢蒔蓇蓌蒛蒩蒯蒨蓖蒘蒶蓏蒠蓗蓔蓒蓛蒰蒑虡蜳蜣蜨蝫蝀蜮蜞蜡蜙蜛蝃蜬蝁蜾蝆蜠蜲蜪蜭蜼蜒蜺蜱蜵蝂蜦蜧蜸蜤蜚蜰蜑裷裧裱裲裺裾裮裼裶裻�".split(""),e=0;e!=r[227].length;++e)65533!==r[227][e].charCodeAt(0)&&(a[r[227][e]]=58112+e,t[58112+e]=r[227][e]);for(r[228]="����������������������������������������������������������������裰裬裫覝覡覟覞觩觫觨誫誙誋誒誏誖谽豨豩賕賏賗趖踉踂跿踍跽踊踃踇踆踅跾踀踄輐輑輎輍鄣鄜鄠鄢鄟鄝鄚鄤鄡鄛酺酲酹酳銥銤鉶銛鉺銠銔銪銍����������������������������������銦銚銫鉹銗鉿銣鋮銎銂銕銢鉽銈銡銊銆銌銙銧鉾銇銩銝銋鈭隞隡雿靘靽靺靾鞃鞀鞂靻鞄鞁靿韎韍頖颭颮餂餀餇馝馜駃馹馻馺駂馽駇骱髣髧鬾鬿魠魡魟鳱鳲鳵麧僿儃儰僸儆儇僶僾儋儌僽儊劋劌勱勯噈噂噌嘵噁噊噉噆噘�".split(""),e=0;e!=r[228].length;++e)65533!==r[228][e].charCodeAt(0)&&(a[r[228][e]]=58368+e,t[58368+e]=r[228][e]);for(r[229]="����������������������������������������������������������������噚噀嘳嘽嘬嘾嘸嘪嘺圚墫墝墱墠墣墯墬墥墡壿嫿嫴嫽嫷嫶嬃嫸嬂嫹嬁嬇嬅嬏屧嶙嶗嶟嶒嶢嶓嶕嶠嶜嶡嶚嶞幩幝幠幜緳廛廞廡彉徲憋憃慹憱憰憢憉����������������������������������憛憓憯憭憟憒憪憡憍慦憳戭摮摰撖撠撅撗撜撏撋撊撌撣撟摨撱撘敶敺敹敻斲斳暵暰暩暲暷暪暯樀樆樗槥槸樕槱槤樠槿槬槢樛樝槾樧槲槮樔槷槧橀樈槦槻樍槼槫樉樄樘樥樏槶樦樇槴樖歑殥殣殢殦氁氀毿氂潁漦潾澇濆澒�".split(""),e=0;e!=r[229].length;++e)65533!==r[229][e].charCodeAt(0)&&(a[r[229][e]]=58624+e,t[58624+e]=r[229][e]);for(r[230]="����������������������������������������������������������������澍澉澌潢潏澅潚澖潶潬澂潕潲潒潐潗澔澓潝漀潡潫潽潧澐潓澋潩潿澕潣潷潪潻熲熯熛熰熠熚熩熵熝熥熞熤熡熪熜熧熳犘犚獘獒獞獟獠獝獛獡獚獙����������������������������������獢璇璉璊璆璁瑽璅璈瑼瑹甈甇畾瘥瘞瘙瘝瘜瘣瘚瘨瘛皜皝皞皛瞍瞏瞉瞈磍碻磏磌磑磎磔磈磃磄磉禚禡禠禜禢禛歶稹窲窴窳箷篋箾箬篎箯箹篊箵糅糈糌糋緷緛緪緧緗緡縃緺緦緶緱緰緮緟罶羬羰羭翭翫翪翬翦翨聤聧膣膟�".split(""),e=0;e!=r[230].length;++e)65533!==r[230][e].charCodeAt(0)&&(a[r[230][e]]=58880+e,t[58880+e]=r[230][e]);for(r[231]="����������������������������������������������������������������膞膕膢膙膗舖艏艓艒艐艎艑蔤蔻蔏蔀蔩蔎蔉蔍蔟蔊蔧蔜蓻蔫蓺蔈蔌蓴蔪蓲蔕蓷蓫蓳蓼蔒蓪蓩蔖蓾蔨蔝蔮蔂蓽蔞蓶蔱蔦蓧蓨蓰蓯蓹蔘蔠蔰蔋蔙蔯虢����������������������������������蝖蝣蝤蝷蟡蝳蝘蝔蝛蝒蝡蝚蝑蝞蝭蝪蝐蝎蝟蝝蝯蝬蝺蝮蝜蝥蝏蝻蝵蝢蝧蝩衚褅褌褔褋褗褘褙褆褖褑褎褉覢覤覣觭觰觬諏諆誸諓諑諔諕誻諗誾諀諅諘諃誺誽諙谾豍貏賥賟賙賨賚賝賧趠趜趡趛踠踣踥踤踮踕踛踖踑踙踦踧�".split(""),e=0;e!=r[231].length;++e)65533!==r[231][e].charCodeAt(0)&&(a[r[231][e]]=59136+e,t[59136+e]=r[231][e]);for(r[232]="����������������������������������������������������������������踔踒踘踓踜踗踚輬輤輘輚輠輣輖輗遳遰遯遧遫鄯鄫鄩鄪鄲鄦鄮醅醆醊醁醂醄醀鋐鋃鋄鋀鋙銶鋏鋱鋟鋘鋩鋗鋝鋌鋯鋂鋨鋊鋈鋎鋦鋍鋕鋉鋠鋞鋧鋑鋓����������������������������������銵鋡鋆銴镼閬閫閮閰隤隢雓霅霈霂靚鞊鞎鞈韐韏頞頝頦頩頨頠頛頧颲餈飺餑餔餖餗餕駜駍駏駓駔駎駉駖駘駋駗駌骳髬髫髳髲髱魆魃魧魴魱魦魶魵魰魨魤魬鳼鳺鳽鳿鳷鴇鴀鳹鳻鴈鴅鴄麃黓鼏鼐儜儓儗儚儑凞匴叡噰噠噮�".split(""),e=0;e!=r[232].length;++e)65533!==r[232][e].charCodeAt(0)&&(a[r[232][e]]=59392+e,t[59392+e]=r[232][e]);for(r[233]="����������������������������������������������������������������噳噦噣噭噲噞噷圜圛壈墽壉墿墺壂墼壆嬗嬙嬛嬡嬔嬓嬐嬖嬨嬚嬠嬞寯嶬嶱嶩嶧嶵嶰嶮嶪嶨嶲嶭嶯嶴幧幨幦幯廩廧廦廨廥彋徼憝憨憖懅憴懆懁懌憺����������������������������������憿憸憌擗擖擐擏擉撽撉擃擛擳擙攳敿敼斢曈暾曀曊曋曏暽暻暺曌朣樴橦橉橧樲橨樾橝橭橶橛橑樨橚樻樿橁橪橤橐橏橔橯橩橠樼橞橖橕橍橎橆歕歔歖殧殪殫毈毇氄氃氆澭濋澣濇澼濎濈潞濄澽澞濊澨瀄澥澮澺澬澪濏澿澸�".split(""),e=0;e!=r[233].length;++e)65533!==r[233][e].charCodeAt(0)&&(a[r[233][e]]=59648+e,t[59648+e]=r[233][e]);for(r[234]="����������������������������������������������������������������澢濉澫濍澯澲澰燅燂熿熸燖燀燁燋燔燊燇燏熽燘熼燆燚燛犝犞獩獦獧獬獥獫獪瑿璚璠璔璒璕璡甋疀瘯瘭瘱瘽瘳瘼瘵瘲瘰皻盦瞚瞝瞡瞜瞛瞢瞣瞕瞙����������������������������������瞗磝磩磥磪磞磣磛磡磢磭磟磠禤穄穈穇窶窸窵窱窷篞篣篧篝篕篥篚篨篹篔篪篢篜篫篘篟糒糔糗糐糑縒縡縗縌縟縠縓縎縜縕縚縢縋縏縖縍縔縥縤罃罻罼罺羱翯耪耩聬膱膦膮膹膵膫膰膬膴膲膷膧臲艕艖艗蕖蕅蕫蕍蕓蕡蕘�".split(""),e=0;e!=r[234].length;++e)65533!==r[234][e].charCodeAt(0)&&(a[r[234][e]]=59904+e,t[59904+e]=r[234][e]);for(r[235]="����������������������������������������������������������������蕀蕆蕤蕁蕢蕄蕑蕇蕣蔾蕛蕱蕎蕮蕵蕕蕧蕠薌蕦蕝蕔蕥蕬虣虥虤螛螏螗螓螒螈螁螖螘蝹螇螣螅螐螑螝螄螔螜螚螉褞褦褰褭褮褧褱褢褩褣褯褬褟觱諠����������������������������������諢諲諴諵諝謔諤諟諰諈諞諡諨諿諯諻貑貒貐賵賮賱賰賳赬赮趥趧踳踾踸蹀蹅踶踼踽蹁踰踿躽輶輮輵輲輹輷輴遶遹遻邆郺鄳鄵鄶醓醐醑醍醏錧錞錈錟錆錏鍺錸錼錛錣錒錁鍆錭錎錍鋋錝鋺錥錓鋹鋷錴錂錤鋿錩錹錵錪錔錌�".split(""),e=0;e!=r[235].length;++e)65533!==r[235][e].charCodeAt(0)&&(a[r[235][e]]=60160+e,t[60160+e]=r[235][e]);for(r[236]="����������������������������������������������������������������錋鋾錉錀鋻錖閼闍閾閹閺閶閿閵閽隩雔霋霒霐鞙鞗鞔韰韸頵頯頲餤餟餧餩馞駮駬駥駤駰駣駪駩駧骹骿骴骻髶髺髹髷鬳鮀鮅鮇魼魾魻鮂鮓鮒鮐魺鮕����������������������������������魽鮈鴥鴗鴠鴞鴔鴩鴝鴘鴢鴐鴙鴟麈麆麇麮麭黕黖黺鼒鼽儦儥儢儤儠儩勴嚓嚌嚍嚆嚄嚃噾嚂噿嚁壖壔壏壒嬭嬥嬲嬣嬬嬧嬦嬯嬮孻寱寲嶷幬幪徾徻懃憵憼懧懠懥懤懨懞擯擩擣擫擤擨斁斀斶旚曒檍檖檁檥檉檟檛檡檞檇檓檎�".split(""),e=0;e!=r[236].length;++e)65533!==r[236][e].charCodeAt(0)&&(a[r[236][e]]=60416+e,t[60416+e]=r[236][e]);for(r[237]="����������������������������������������������������������������檕檃檨檤檑橿檦檚檅檌檒歛殭氉濌澩濴濔濣濜濭濧濦濞濲濝濢濨燡燱燨燲燤燰燢獳獮獯璗璲璫璐璪璭璱璥璯甐甑甒甏疄癃癈癉癇皤盩瞵瞫瞲瞷瞶����������������������������������瞴瞱瞨矰磳磽礂磻磼磲礅磹磾礄禫禨穜穛穖穘穔穚窾竀竁簅簏篲簀篿篻簎篴簋篳簂簉簃簁篸篽簆篰篱簐簊糨縭縼繂縳顈縸縪繉繀繇縩繌縰縻縶繄縺罅罿罾罽翴翲耬膻臄臌臊臅臇膼臩艛艚艜薃薀薏薧薕薠薋薣蕻薤薚薞�".split(""),e=0;e!=r[237].length;++e)65533!==r[237][e].charCodeAt(0)&&(a[r[237][e]]=60672+e,t[60672+e]=r[237][e]);for(r[238]="����������������������������������������������������������������蕷蕼薉薡蕺蕸蕗薎薖薆薍薙薝薁薢薂薈薅蕹蕶薘薐薟虨螾螪螭蟅螰螬螹螵螼螮蟉蟃蟂蟌螷螯蟄蟊螴螶螿螸螽蟞螲褵褳褼褾襁襒褷襂覭覯覮觲觳謞����������������������������������謘謖謑謅謋謢謏謒謕謇謍謈謆謜謓謚豏豰豲豱豯貕貔賹赯蹎蹍蹓蹐蹌蹇轃轀邅遾鄸醚醢醛醙醟醡醝醠鎡鎃鎯鍤鍖鍇鍼鍘鍜鍶鍉鍐鍑鍠鍭鎏鍌鍪鍹鍗鍕鍒鍏鍱鍷鍻鍡鍞鍣鍧鎀鍎鍙闇闀闉闃闅閷隮隰隬霠霟霘霝霙鞚鞡鞜�".split(""),e=0;e!=r[238].length;++e)65533!==r[238][e].charCodeAt(0)&&(a[r[238][e]]=60928+e,t[60928+e]=r[238][e]);for(r[239]="����������������������������������������������������������������鞞鞝韕韔韱顁顄顊顉顅顃餥餫餬餪餳餲餯餭餱餰馘馣馡騂駺駴駷駹駸駶駻駽駾駼騃骾髾髽鬁髼魈鮚鮨鮞鮛鮦鮡鮥鮤鮆鮢鮠鮯鴳鵁鵧鴶鴮鴯鴱鴸鴰����������������������������������鵅鵂鵃鴾鴷鵀鴽翵鴭麊麉麍麰黈黚黻黿鼤鼣鼢齔龠儱儭儮嚘嚜嚗嚚嚝嚙奰嬼屩屪巀幭幮懘懟懭懮懱懪懰懫懖懩擿攄擽擸攁攃擼斔旛曚曛曘櫅檹檽櫡櫆檺檶檷櫇檴檭歞毉氋瀇瀌瀍瀁瀅瀔瀎濿瀀濻瀦濼濷瀊爁燿燹爃燽獶�".split(""),e=0;e!=r[239].length;++e)65533!==r[239][e].charCodeAt(0)&&(a[r[239][e]]=61184+e,t[61184+e]=r[239][e]);for(r[240]="����������������������������������������������������������������璸瓀璵瓁璾璶璻瓂甔甓癜癤癙癐癓癗癚皦皽盬矂瞺磿礌礓礔礉礐礒礑禭禬穟簜簩簙簠簟簭簝簦簨簢簥簰繜繐繖繣繘繢繟繑繠繗繓羵羳翷翸聵臑臒����������������������������������臐艟艞薴藆藀藃藂薳薵薽藇藄薿藋藎藈藅薱薶藒蘤薸薷薾虩蟧蟦蟢蟛蟫蟪蟥蟟蟳蟤蟔蟜蟓蟭蟘蟣螤蟗蟙蠁蟴蟨蟝襓襋襏襌襆襐襑襉謪謧謣謳謰謵譇謯謼謾謱謥謷謦謶謮謤謻謽謺豂豵貙貘貗賾贄贂贀蹜蹢蹠蹗蹖蹞蹥蹧�".split(""),e=0;e!=r[240].length;++e)65533!==r[240][e].charCodeAt(0)&&(a[r[240][e]]=61440+e,t[61440+e]=r[240][e]);for(r[241]="����������������������������������������������������������������蹛蹚蹡蹝蹩蹔轆轇轈轋鄨鄺鄻鄾醨醥醧醯醪鎵鎌鎒鎷鎛鎝鎉鎧鎎鎪鎞鎦鎕鎈鎙鎟鎍鎱鎑鎲鎤鎨鎴鎣鎥闒闓闑隳雗雚巂雟雘雝霣霢霥鞬鞮鞨鞫鞤鞪����������������������������������鞢鞥韗韙韖韘韺顐顑顒颸饁餼餺騏騋騉騍騄騑騊騅騇騆髀髜鬈鬄鬅鬩鬵魊魌魋鯇鯆鯃鮿鯁鮵鮸鯓鮶鯄鮹鮽鵜鵓鵏鵊鵛鵋鵙鵖鵌鵗鵒鵔鵟鵘鵚麎麌黟鼁鼀鼖鼥鼫鼪鼩鼨齌齕儴儵劖勷厴嚫嚭嚦嚧嚪嚬壚壝壛夒嬽嬾嬿巃幰�".split(""),e=0;e!=r[241].length;++e)65533!==r[241][e].charCodeAt(0)&&(a[r[241][e]]=61696+e,t[61696+e]=r[241][e]);for(r[242]="����������������������������������������������������������������徿懻攇攐攍攉攌攎斄旞旝曞櫧櫠櫌櫑櫙櫋櫟櫜櫐櫫櫏櫍櫞歠殰氌瀙瀧瀠瀖瀫瀡瀢瀣瀩瀗瀤瀜瀪爌爊爇爂爅犥犦犤犣犡瓋瓅璷瓃甖癠矉矊矄矱礝礛����������������������������������礡礜礗礞禰穧穨簳簼簹簬簻糬糪繶繵繸繰繷繯繺繲繴繨罋罊羃羆羷翽翾聸臗臕艤艡艣藫藱藭藙藡藨藚藗藬藲藸藘藟藣藜藑藰藦藯藞藢蠀蟺蠃蟶蟷蠉蠌蠋蠆蟼蠈蟿蠊蠂襢襚襛襗襡襜襘襝襙覈覷覶觶譐譈譊譀譓譖譔譋譕�".split(""),e=0;e!=r[242].length;++e)65533!==r[242][e].charCodeAt(0)&&(a[r[242][e]]=61952+e,t[61952+e]=r[242][e]);for(r[243]="����������������������������������������������������������������譑譂譒譗豃豷豶貚贆贇贉趬趪趭趫蹭蹸蹳蹪蹯蹻軂轒轑轏轐轓辴酀鄿醰醭鏞鏇鏏鏂鏚鏐鏹鏬鏌鏙鎩鏦鏊鏔鏮鏣鏕鏄鏎鏀鏒鏧镽闚闛雡霩霫霬霨霦����������������������������������鞳鞷鞶韝韞韟顜顙顝顗颿颽颻颾饈饇饃馦馧騚騕騥騝騤騛騢騠騧騣騞騜騔髂鬋鬊鬎鬌鬷鯪鯫鯠鯞鯤鯦鯢鯰鯔鯗鯬鯜鯙鯥鯕鯡鯚鵷鶁鶊鶄鶈鵱鶀鵸鶆鶋鶌鵽鵫鵴鵵鵰鵩鶅鵳鵻鶂鵯鵹鵿鶇鵨麔麑黀黼鼭齀齁齍齖齗齘匷嚲�".split(""),e=0;e!=r[243].length;++e)65533!==r[243][e].charCodeAt(0)&&(a[r[243][e]]=62208+e,t[62208+e]=r[243][e]);for(r[244]="����������������������������������������������������������������嚵嚳壣孅巆巇廮廯忀忁懹攗攖攕攓旟曨曣曤櫳櫰櫪櫨櫹櫱櫮櫯瀼瀵瀯瀷瀴瀱灂瀸瀿瀺瀹灀瀻瀳灁爓爔犨獽獼璺皫皪皾盭矌矎矏矍矲礥礣礧礨礤礩����������������������������������禲穮穬穭竷籉籈籊籇籅糮繻繾纁纀羺翿聹臛臙舋艨艩蘢藿蘁藾蘛蘀藶蘄蘉蘅蘌藽蠙蠐蠑蠗蠓蠖襣襦覹觷譠譪譝譨譣譥譧譭趮躆躈躄轙轖轗轕轘轚邍酃酁醷醵醲醳鐋鐓鏻鐠鐏鐔鏾鐕鐐鐨鐙鐍鏵鐀鏷鐇鐎鐖鐒鏺鐉鏸鐊鏿�".split(""),e=0;e!=r[244].length;++e)65533!==r[244][e].charCodeAt(0)&&(a[r[244][e]]=62464+e,t[62464+e]=r[244][e]);for(r[245]="����������������������������������������������������������������鏼鐌鏶鐑鐆闞闠闟霮霯鞹鞻韽韾顠顢顣顟飁飂饐饎饙饌饋饓騲騴騱騬騪騶騩騮騸騭髇髊髆鬐鬒鬑鰋鰈鯷鰅鰒鯸鱀鰇鰎鰆鰗鰔鰉鶟鶙鶤鶝鶒鶘鶐鶛����������������������������������鶠鶔鶜鶪鶗鶡鶚鶢鶨鶞鶣鶿鶩鶖鶦鶧麙麛麚黥黤黧黦鼰鼮齛齠齞齝齙龑儺儹劘劗囃嚽嚾孈孇巋巏廱懽攛欂櫼欃櫸欀灃灄灊灈灉灅灆爝爚爙獾甗癪矐礭礱礯籔籓糲纊纇纈纋纆纍罍羻耰臝蘘蘪蘦蘟蘣蘜蘙蘧蘮蘡蘠蘩蘞蘥�".split(""),e=0;e!=r[245].length;++e)65533!==r[245][e].charCodeAt(0)&&(a[r[245][e]]=62720+e,t[62720+e]=r[245][e]);for(r[246]="����������������������������������������������������������������蠩蠝蠛蠠蠤蠜蠫衊襭襩襮襫觺譹譸譅譺譻贐贔趯躎躌轞轛轝酆酄酅醹鐿鐻鐶鐩鐽鐼鐰鐹鐪鐷鐬鑀鐱闥闤闣霵霺鞿韡顤飉飆飀饘饖騹騽驆驄驂驁騺����������������������������������騿髍鬕鬗鬘鬖鬺魒鰫鰝鰜鰬鰣鰨鰩鰤鰡鶷鶶鶼鷁鷇鷊鷏鶾鷅鷃鶻鶵鷎鶹鶺鶬鷈鶱鶭鷌鶳鷍鶲鹺麜黫黮黭鼛鼘鼚鼱齎齥齤龒亹囆囅囋奱孋孌巕巑廲攡攠攦攢欋欈欉氍灕灖灗灒爞爟犩獿瓘瓕瓙瓗癭皭礵禴穰穱籗籜籙籛籚�".split(""),e=0;e!=r[246].length;++e)65533!==r[246][e].charCodeAt(0)&&(a[r[246][e]]=62976+e,t[62976+e]=r[246][e]);for(r[247]="����������������������������������������������������������������糴糱纑罏羇臞艫蘴蘵蘳蘬蘲蘶蠬蠨蠦蠪蠥襱覿覾觻譾讄讂讆讅譿贕躕躔躚躒躐躖躗轠轢酇鑌鑐鑊鑋鑏鑇鑅鑈鑉鑆霿韣顪顩飋饔饛驎驓驔驌驏驈驊����������������������������������驉驒驐髐鬙鬫鬻魖魕鱆鱈鰿鱄鰹鰳鱁鰼鰷鰴鰲鰽鰶鷛鷒鷞鷚鷋鷐鷜鷑鷟鷩鷙鷘鷖鷵鷕鷝麶黰鼵鼳鼲齂齫龕龢儽劙壨壧奲孍巘蠯彏戁戃戄攩攥斖曫欑欒欏毊灛灚爢玂玁玃癰矔籧籦纕艬蘺虀蘹蘼蘱蘻蘾蠰蠲蠮蠳襶襴襳觾�".split(""),e=0;e!=r[247].length;++e)65533!==r[247][e].charCodeAt(0)&&(a[r[247][e]]=63232+e,t[63232+e]=r[247][e]);for(r[248]="����������������������������������������������������������������讌讎讋讈豅贙躘轤轣醼鑢鑕鑝鑗鑞韄韅頀驖驙鬞鬟鬠鱒鱘鱐鱊鱍鱋鱕鱙鱌鱎鷻鷷鷯鷣鷫鷸鷤鷶鷡鷮鷦鷲鷰鷢鷬鷴鷳鷨鷭黂黐黲黳鼆鼜鼸鼷鼶齃齏����������������������������������齱齰齮齯囓囍孎屭攭曭曮欓灟灡灝灠爣瓛瓥矕礸禷禶籪纗羉艭虃蠸蠷蠵衋讔讕躞躟躠躝醾醽釂鑫鑨鑩雥靆靃靇韇韥驞髕魙鱣鱧鱦鱢鱞鱠鸂鷾鸇鸃鸆鸅鸀鸁鸉鷿鷽鸄麠鼞齆齴齵齶囔攮斸欘欙欗欚灢爦犪矘矙礹籩籫糶纚�".split(""),e=0;e!=r[248].length;++e)65533!==r[248][e].charCodeAt(0)&&(a[r[248][e]]=63488+e,t[63488+e]=r[248][e]);for(r[249]="����������������������������������������������������������������纘纛纙臠臡虆虇虈襹襺襼襻觿讘讙躥躤躣鑮鑭鑯鑱鑳靉顲饟鱨鱮鱭鸋鸍鸐鸏鸒鸑麡黵鼉齇齸齻齺齹圞灦籯蠼趲躦釃鑴鑸鑶鑵驠鱴鱳鱱鱵鸔鸓黶鼊����������������������������������龤灨灥糷虪蠾蠽蠿讞貜躩軉靋顳顴飌饡馫驤驦驧鬤鸕鸗齈戇欞爧虌躨钂钀钁驩驨鬮鸙爩虋讟钃鱹麷癵驫鱺鸝灩灪麤齾齉龘碁銹裏墻恒粧嫺╔╦╗╠╬╣╚╩╝╒╤╕╞╪╡╘╧╛╓╥╖╟╫╢╙╨╜║═╭╮╰╯▓�".split(""),e=0;e!=r[249].length;++e)65533!==r[249][e].charCodeAt(0)&&(a[r[249][e]]=63744+e,t[63744+e]=r[249][e]);return{enc:a,dec:t}}(),a[1250]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~€�‚�„…†‡�‰Š‹ŚŤŽŹ�‘’“”•–—�™š›śťžź ˇ˘Ł¤Ą¦§¨©Ş«¬­®Ż°±˛ł´µ¶·¸ąş»Ľ˝ľżŔÁÂĂÄĹĆÇČÉĘËĚÍÎĎĐŃŇÓÔŐÖ×ŘŮÚŰÜÝŢßŕáâăäĺćçčéęëěíîďđńňóôőö÷řůúűüýţ˙",t=[],a={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(a[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:a,dec:t}}(),a[1251]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ЂЃ‚ѓ„…†‡€‰Љ‹ЊЌЋЏђ‘’“”•–—�™љ›њќћџ ЎўЈ¤Ґ¦§Ё©Є«¬­®Ї°±Ііґµ¶·ё№є»јЅѕїАБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмнопрстуфхцчшщъыьэюя",t=[],a={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(a[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:a,dec:t}}(),a[1252]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~€�‚ƒ„…†‡ˆ‰Š‹Œ�Ž��‘’“”•–—˜™š›œ�žŸ ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖ×ØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõö÷øùúûüýþÿ",t=[],a={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(a[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:a,dec:t}}(),a[1253]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~€�‚ƒ„…†‡�‰�‹�����‘’“”•–—�™�›���� ΅Ά£¤¥¦§¨©�«¬­®―°±²³΄µ¶·ΈΉΊ»Ό½ΎΏΐΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡ�ΣΤΥΦΧΨΩΪΫάέήίΰαβγδεζηθικλμνξοπρςστυφχψωϊϋόύώ�",t=[],a={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(a[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:a,dec:t}}(),a[1254]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~€�‚ƒ„…†‡ˆ‰Š‹Œ����‘’“”•–—˜™š›œ��Ÿ ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏĞÑÒÓÔÕÖ×ØÙÚÛÜİŞßàáâãäåæçèéêëìíîïğñòóôõö÷øùúûüışÿ",t=[],a={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(a[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:a,dec:t}}(),a[1255]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~€�‚ƒ„…†‡ˆ‰�‹�����‘’“”•–—˜™�›���� ¡¢£₪¥¦§¨©×«¬­®¯°±²³´µ¶·¸¹÷»¼½¾¿ְֱֲֳִֵֶַָֹ�ֻּֽ־ֿ׀ׁׂ׃װױײ׳״�������אבגדהוזחטיךכלםמןנסעףפץצקרשת��‎‏�",t=[],a={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(a[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:a,dec:t}}(),a[1256]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~€پ‚ƒ„…†‡ˆ‰ٹ‹Œچژڈگ‘’“”•–—ک™ڑ›œ‌‍ں ،¢£¤¥¦§¨©ھ«¬­®¯°±²³´µ¶·¸¹؛»¼½¾؟ہءآأؤإئابةتثجحخدذرزسشصض×طظعغـفقكàلâمنهوçèéêëىيîïًٌٍَôُِ÷ّùْûü‎‏ے",t=[],a={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(a[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:a,dec:t}}(),a[1257]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~€�‚�„…†‡�‰�‹�¨ˇ¸�‘’“”•–—�™�›�¯˛� �¢£¤�¦§Ø©Ŗ«¬­®Æ°±²³´µ¶·ø¹ŗ»¼½¾æĄĮĀĆÄÅĘĒČÉŹĖĢĶĪĻŠŃŅÓŌÕÖ×ŲŁŚŪÜŻŽßąįāćäåęēčéźėģķīļšńņóōõö÷ųłśūüżž˙",t=[],a={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(a[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:a,dec:t}}(),a[1258]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~€�‚ƒ„…†‡ˆ‰�‹Œ����‘’“”•–—˜™�›œ��Ÿ ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂĂÄÅÆÇÈÉÊË̀ÍÎÏĐÑ̉ÓÔƠÖ×ØÙÚÛÜỮßàáâăäåæçèéêë́íîïđṇ̃óôơö÷øùúûüư₫ÿ",t=[],a={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(a[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:a,dec:t}}(),a[1e4]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄¤‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔ�ÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ",t=[],a={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(a[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:a,dec:t}}(),a[10006]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦­ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ�",t=[],a={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(a[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:a,dec:t}}(),a[10007]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°¢£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµ∂ЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю¤",t=[],a={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(a[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:a,dec:t}}(),a[10008]=function(){var e,t=[],a={},r=[];for(r[0]="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~���������������������������������������������������������������������������������������".split(""),e=0;e!=r[0].length;++e)65533!==r[0][e].charCodeAt(0)&&(a[r[0][e]]=0+e,t[0+e]=r[0][e]);for(r[161]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������　、。・ˉˇ¨〃々―～�…‘’“”〔〕〈〉《》「」『』〖〗【】±×÷∶∧∨∑∏∪∩∈∷√⊥∥∠⌒⊙∫∮≡≌≈∽∝≠≮≯≤≥∞∵∴♂♀°′″℃＄¤￠￡‰§№☆★○●◎◇◆□■△▲※→←↑↓〓�".split(""),e=0;e!=r[161].length;++e)65533!==r[161][e].charCodeAt(0)&&(a[r[161][e]]=41216+e,t[41216+e]=r[161][e]);for(r[162]="���������������������������������������������������������������������������������������������������������������������������������������������������������������������������������⒈⒉⒊⒋⒌⒍⒎⒏⒐⒑⒒⒓⒔⒕⒖⒗⒘⒙⒚⒛⑴⑵⑶⑷⑸⑹⑺⑻⑼⑽⑾⑿⒀⒁⒂⒃⒄⒅⒆⒇①②③④⑤⑥⑦⑧⑨⑩��㈠㈡㈢㈣㈤㈥㈦㈧㈨㈩��ⅠⅡⅢⅣⅤⅥⅦⅧⅨⅩⅪⅫ���".split(""),e=0;e!=r[162].length;++e)65533!==r[162][e].charCodeAt(0)&&(a[r[162][e]]=41472+e,t[41472+e]=r[162][e]);for(r[163]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������！＂＃￥％＆＇（）＊＋，－．／０１２３４５６７８９：；＜＝＞？＠ＡＢＣＤＥＦＧＨＩＪＫＬＭＮＯＰＱＲＳＴＵＶＷＸＹＺ［＼］＾＿｀ａｂｃｄｅｆｇｈｉｊｋｌｍｎｏｐｑｒｓｔｕｖｗｘｙｚ｛｜｝￣�".split(""),e=0;e!=r[163].length;++e)65533!==r[163][e].charCodeAt(0)&&(a[r[163][e]]=41728+e,t[41728+e]=r[163][e]);for(r[164]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������ぁあぃいぅうぇえぉおかがきぎくぐけげこごさざしじすずせぜそぞただちぢっつづてでとどなにぬねのはばぱひびぴふぶぷへべぺほぼぽまみむめもゃやゅゆょよらりるれろゎわゐゑをん������������".split(""),e=0;e!=r[164].length;++e)65533!==r[164][e].charCodeAt(0)&&(a[r[164][e]]=41984+e,t[41984+e]=r[164][e]);for(r[165]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������ァアィイゥウェエォオカガキギクグケゲコゴサザシジスズセゼソゾタダチヂッツヅテデトドナニヌネノハバパヒビピフブプヘベペホボポマミムメモャヤュユョヨラリルレロヮワヰヱヲンヴヵヶ���������".split(""),e=0;e!=r[165].length;++e)65533!==r[165][e].charCodeAt(0)&&(a[r[165][e]]=42240+e,t[42240+e]=r[165][e]);for(r[166]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������ΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩ��������αβγδεζηθικλμνξοπρστυφχψω���������������������������������������".split(""),e=0;e!=r[166].length;++e)65533!==r[166][e].charCodeAt(0)&&(a[r[166][e]]=42496+e,t[42496+e]=r[166][e]);for(r[167]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������АБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ���������������абвгдеёжзийклмнопрстуфхцчшщъыьэюя��������������".split(""),e=0;e!=r[167].length;++e)65533!==r[167][e].charCodeAt(0)&&(a[r[167][e]]=42752+e,t[42752+e]=r[167][e]);for(r[168]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������āáǎàēéěèīíǐìōóǒòūúǔùǖǘǚǜüê����������ㄅㄆㄇㄈㄉㄊㄋㄌㄍㄎㄏㄐㄑㄒㄓㄔㄕㄖㄗㄘㄙㄚㄛㄜㄝㄞㄟㄠㄡㄢㄣㄤㄥㄦㄧㄨㄩ����������������������".split(""),e=0;e!=r[168].length;++e)65533!==r[168][e].charCodeAt(0)&&(a[r[168][e]]=43008+e,t[43008+e]=r[168][e]);for(r[169]="��������������������������������������������������������������������������������������������������������������������������������������������������������������������─━│┃┄┅┆┇┈┉┊┋┌┍┎┏┐┑┒┓└┕┖┗┘┙┚┛├┝┞┟┠┡┢┣┤┥┦┧┨┩┪┫┬┭┮┯┰┱┲┳┴┵┶┷┸┹┺┻┼┽┾┿╀╁╂╃╄╅╆╇╈╉╊╋����������������".split(""),e=0;e!=r[169].length;++e)65533!==r[169][e].charCodeAt(0)&&(a[r[169][e]]=43264+e,t[43264+e]=r[169][e]);for(r[176]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������啊阿埃挨哎唉哀皑癌蔼矮艾碍爱隘鞍氨安俺按暗岸胺案肮昂盎凹敖熬翱袄傲奥懊澳芭捌扒叭吧笆八疤巴拔跋靶把耙坝霸罢爸白柏百摆佰败拜稗斑班搬扳般颁板版扮拌伴瓣半办绊邦帮梆榜膀绑棒磅蚌镑傍谤苞胞包褒剥�".split(""),e=0;e!=r[176].length;++e)65533!==r[176][e].charCodeAt(0)&&(a[r[176][e]]=45056+e,t[45056+e]=r[176][e]);for(r[177]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������薄雹保堡饱宝抱报暴豹鲍爆杯碑悲卑北辈背贝钡倍狈备惫焙被奔苯本笨崩绷甭泵蹦迸逼鼻比鄙笔彼碧蓖蔽毕毙毖币庇痹闭敝弊必辟壁臂避陛鞭边编贬扁便变卞辨辩辫遍标彪膘表鳖憋别瘪彬斌濒滨宾摈兵冰柄丙秉饼炳�".split(""),e=0;e!=r[177].length;++e)65533!==r[177][e].charCodeAt(0)&&(a[r[177][e]]=45312+e,t[45312+e]=r[177][e]);for(r[178]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������病并玻菠播拨钵波博勃搏铂箔伯帛舶脖膊渤泊驳捕卜哺补埠不布步簿部怖擦猜裁材才财睬踩采彩菜蔡餐参蚕残惭惨灿苍舱仓沧藏操糙槽曹草厕策侧册测层蹭插叉茬茶查碴搽察岔差诧拆柴豺搀掺蝉馋谗缠铲产阐颤昌猖�".split(""),e=0;e!=r[178].length;++e)65533!==r[178][e].charCodeAt(0)&&(a[r[178][e]]=45568+e,t[45568+e]=r[178][e]);for(r[179]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������场尝常长偿肠厂敞畅唱倡超抄钞朝嘲潮巢吵炒车扯撤掣彻澈郴臣辰尘晨忱沉陈趁衬撑称城橙成呈乘程惩澄诚承逞骋秤吃痴持匙池迟弛驰耻齿侈尺赤翅斥炽充冲虫崇宠抽酬畴踌稠愁筹仇绸瞅丑臭初出橱厨躇锄雏滁除楚�".split(""),e=0;e!=r[179].length;++e)65533!==r[179][e].charCodeAt(0)&&(a[r[179][e]]=45824+e,t[45824+e]=r[179][e]);for(r[180]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������础储矗搐触处揣川穿椽传船喘串疮窗幢床闯创吹炊捶锤垂春椿醇唇淳纯蠢戳绰疵茨磁雌辞慈瓷词此刺赐次聪葱囱匆从丛凑粗醋簇促蹿篡窜摧崔催脆瘁粹淬翠村存寸磋撮搓措挫错搭达答瘩打大呆歹傣戴带殆代贷袋待逮�".split(""),e=0;e!=r[180].length;++e)65533!==r[180][e].charCodeAt(0)&&(a[r[180][e]]=46080+e,t[46080+e]=r[180][e]);for(r[181]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������怠耽担丹单郸掸胆旦氮但惮淡诞弹蛋当挡党荡档刀捣蹈倒岛祷导到稻悼道盗德得的蹬灯登等瞪凳邓堤低滴迪敌笛狄涤翟嫡抵底地蒂第帝弟递缔颠掂滇碘点典靛垫电佃甸店惦奠淀殿碉叼雕凋刁掉吊钓调跌爹碟蝶迭谍叠�".split(""),e=0;e!=r[181].length;++e)65533!==r[181][e].charCodeAt(0)&&(a[r[181][e]]=46336+e,t[46336+e]=r[181][e]);for(r[182]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������丁盯叮钉顶鼎锭定订丢东冬董懂动栋侗恫冻洞兜抖斗陡豆逗痘都督毒犊独读堵睹赌杜镀肚度渡妒端短锻段断缎堆兑队对墩吨蹲敦顿囤钝盾遁掇哆多夺垛躲朵跺舵剁惰堕蛾峨鹅俄额讹娥恶厄扼遏鄂饿恩而儿耳尔饵洱二�".split(""),e=0;e!=r[182].length;++e)65533!==r[182][e].charCodeAt(0)&&(a[r[182][e]]=46592+e,t[46592+e]=r[182][e]);for(r[183]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������贰发罚筏伐乏阀法珐藩帆番翻樊矾钒繁凡烦反返范贩犯饭泛坊芳方肪房防妨仿访纺放菲非啡飞肥匪诽吠肺废沸费芬酚吩氛分纷坟焚汾粉奋份忿愤粪丰封枫蜂峰锋风疯烽逢冯缝讽奉凤佛否夫敷肤孵扶拂辐幅氟符伏俘服�".split(""),e=0;e!=r[183].length;++e)65533!==r[183][e].charCodeAt(0)&&(a[r[183][e]]=46848+e,t[46848+e]=r[183][e]);for(r[184]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������浮涪福袱弗甫抚辅俯釜斧脯腑府腐赴副覆赋复傅付阜父腹负富讣附妇缚咐噶嘎该改概钙盖溉干甘杆柑竿肝赶感秆敢赣冈刚钢缸肛纲岗港杠篙皋高膏羔糕搞镐稿告哥歌搁戈鸽胳疙割革葛格蛤阁隔铬个各给根跟耕更庚羹�".split(""),e=0;e!=r[184].length;++e)65533!==r[184][e].charCodeAt(0)&&(a[r[184][e]]=47104+e,t[47104+e]=r[184][e]);for(r[185]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������埂耿梗工攻功恭龚供躬公宫弓巩汞拱贡共钩勾沟苟狗垢构购够辜菇咕箍估沽孤姑鼓古蛊骨谷股故顾固雇刮瓜剐寡挂褂乖拐怪棺关官冠观管馆罐惯灌贯光广逛瑰规圭硅归龟闺轨鬼诡癸桂柜跪贵刽辊滚棍锅郭国果裹过哈�".split(""),e=0;e!=r[185].length;++e)65533!==r[185][e].charCodeAt(0)&&(a[r[185][e]]=47360+e,t[47360+e]=r[185][e]);for(r[186]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������骸孩海氦亥害骇酣憨邯韩含涵寒函喊罕翰撼捍旱憾悍焊汗汉夯杭航壕嚎豪毫郝好耗号浩呵喝荷菏核禾和何合盒貉阂河涸赫褐鹤贺嘿黑痕很狠恨哼亨横衡恒轰哄烘虹鸿洪宏弘红喉侯猴吼厚候后呼乎忽瑚壶葫胡蝴狐糊湖�".split(""),e=0;e!=r[186].length;++e)65533!==r[186][e].charCodeAt(0)&&(a[r[186][e]]=47616+e,t[47616+e]=r[186][e]);for(r[187]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������弧虎唬护互沪户花哗华猾滑画划化话槐徊怀淮坏欢环桓还缓换患唤痪豢焕涣宦幻荒慌黄磺蝗簧皇凰惶煌晃幌恍谎灰挥辉徽恢蛔回毁悔慧卉惠晦贿秽会烩汇讳诲绘荤昏婚魂浑混豁活伙火获或惑霍货祸击圾基机畸稽积箕�".split(""),e=0;e!=r[187].length;++e)65533!==r[187][e].charCodeAt(0)&&(a[r[187][e]]=47872+e,t[47872+e]=r[187][e]);for(r[188]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������肌饥迹激讥鸡姬绩缉吉极棘辑籍集及急疾汲即嫉级挤几脊己蓟技冀季伎祭剂悸济寄寂计记既忌际妓继纪嘉枷夹佳家加荚颊贾甲钾假稼价架驾嫁歼监坚尖笺间煎兼肩艰奸缄茧检柬碱硷拣捡简俭剪减荐槛鉴践贱见键箭件�".split(""),e=0;e!=r[188].length;++e)65533!==r[188][e].charCodeAt(0)&&(a[r[188][e]]=48128+e,t[48128+e]=r[188][e]);for(r[189]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������健舰剑饯渐溅涧建僵姜将浆江疆蒋桨奖讲匠酱降蕉椒礁焦胶交郊浇骄娇嚼搅铰矫侥脚狡角饺缴绞剿教酵轿较叫窖揭接皆秸街阶截劫节桔杰捷睫竭洁结解姐戒藉芥界借介疥诫届巾筋斤金今津襟紧锦仅谨进靳晋禁近烬浸�".split(""),e=0;e!=r[189].length;++e)65533!==r[189][e].charCodeAt(0)&&(a[r[189][e]]=48384+e,t[48384+e]=r[189][e]);for(r[190]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������尽劲荆兢茎睛晶鲸京惊精粳经井警景颈静境敬镜径痉靖竟竞净炯窘揪究纠玖韭久灸九酒厩救旧臼舅咎就疚鞠拘狙疽居驹菊局咀矩举沮聚拒据巨具距踞锯俱句惧炬剧捐鹃娟倦眷卷绢撅攫抉掘倔爵觉决诀绝均菌钧军君峻�".split(""),e=0;e!=r[190].length;++e)65533!==r[190][e].charCodeAt(0)&&(a[r[190][e]]=48640+e,t[48640+e]=r[190][e]);for(r[191]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������俊竣浚郡骏喀咖卡咯开揩楷凯慨刊堪勘坎砍看康慷糠扛抗亢炕考拷烤靠坷苛柯棵磕颗科壳咳可渴克刻客课肯啃垦恳坑吭空恐孔控抠口扣寇枯哭窟苦酷库裤夸垮挎跨胯块筷侩快宽款匡筐狂框矿眶旷况亏盔岿窥葵奎魁傀�".split(""),e=0;e!=r[191].length;++e)65533!==r[191][e].charCodeAt(0)&&(a[r[191][e]]=48896+e,t[48896+e]=r[191][e]);for(r[192]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������馈愧溃坤昆捆困括扩廓阔垃拉喇蜡腊辣啦莱来赖蓝婪栏拦篮阑兰澜谰揽览懒缆烂滥琅榔狼廊郎朗浪捞劳牢老佬姥酪烙涝勒乐雷镭蕾磊累儡垒擂肋类泪棱楞冷厘梨犁黎篱狸离漓理李里鲤礼莉荔吏栗丽厉励砾历利傈例俐�".split(""),e=0;e!=r[192].length;++e)65533!==r[192][e].charCodeAt(0)&&(a[r[192][e]]=49152+e,t[49152+e]=r[192][e]);for(r[193]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������痢立粒沥隶力璃哩俩联莲连镰廉怜涟帘敛脸链恋炼练粮凉梁粱良两辆量晾亮谅撩聊僚疗燎寥辽潦了撂镣廖料列裂烈劣猎琳林磷霖临邻鳞淋凛赁吝拎玲菱零龄铃伶羚凌灵陵岭领另令溜琉榴硫馏留刘瘤流柳六龙聋咙笼窿�".split(""),e=0;e!=r[193].length;++e)65533!==r[193][e].charCodeAt(0)&&(a[r[193][e]]=49408+e,t[49408+e]=r[193][e]);for(r[194]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������隆垄拢陇楼娄搂篓漏陋芦卢颅庐炉掳卤虏鲁麓碌露路赂鹿潞禄录陆戮驴吕铝侣旅履屡缕虑氯律率滤绿峦挛孪滦卵乱掠略抡轮伦仑沦纶论萝螺罗逻锣箩骡裸落洛骆络妈麻玛码蚂马骂嘛吗埋买麦卖迈脉瞒馒蛮满蔓曼慢漫�".split(""),e=0;e!=r[194].length;++e)65533!==r[194][e].charCodeAt(0)&&(a[r[194][e]]=49664+e,t[49664+e]=r[194][e]);for(r[195]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������谩芒茫盲氓忙莽猫茅锚毛矛铆卯茂冒帽貌贸么玫枚梅酶霉煤没眉媒镁每美昧寐妹媚门闷们萌蒙檬盟锰猛梦孟眯醚靡糜迷谜弥米秘觅泌蜜密幂棉眠绵冕免勉娩缅面苗描瞄藐秒渺庙妙蔑灭民抿皿敏悯闽明螟鸣铭名命谬摸�".split(""),e=0;e!=r[195].length;++e)65533!==r[195][e].charCodeAt(0)&&(a[r[195][e]]=49920+e,t[49920+e]=r[195][e]);for(r[196]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������摹蘑模膜磨摩魔抹末莫墨默沫漠寞陌谋牟某拇牡亩姆母墓暮幕募慕木目睦牧穆拿哪呐钠那娜纳氖乃奶耐奈南男难囊挠脑恼闹淖呢馁内嫩能妮霓倪泥尼拟你匿腻逆溺蔫拈年碾撵捻念娘酿鸟尿捏聂孽啮镊镍涅您柠狞凝宁�".split(""),e=0;e!=r[196].length;++e)65533!==r[196][e].charCodeAt(0)&&(a[r[196][e]]=50176+e,t[50176+e]=r[196][e]);for(r[197]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������拧泞牛扭钮纽脓浓农弄奴努怒女暖虐疟挪懦糯诺哦欧鸥殴藕呕偶沤啪趴爬帕怕琶拍排牌徘湃派攀潘盘磐盼畔判叛乓庞旁耪胖抛咆刨炮袍跑泡呸胚培裴赔陪配佩沛喷盆砰抨烹澎彭蓬棚硼篷膨朋鹏捧碰坯砒霹批披劈琵毗�".split(""),e=0;e!=r[197].length;++e)65533!==r[197][e].charCodeAt(0)&&(a[r[197][e]]=50432+e,t[50432+e]=r[197][e]);for(r[198]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������啤脾疲皮匹痞僻屁譬篇偏片骗飘漂瓢票撇瞥拼频贫品聘乒坪苹萍平凭瓶评屏坡泼颇婆破魄迫粕剖扑铺仆莆葡菩蒲埔朴圃普浦谱曝瀑期欺栖戚妻七凄漆柒沏其棋奇歧畦崎脐齐旗祈祁骑起岂乞企启契砌器气迄弃汽泣讫掐�".split(""),e=0;e!=r[198].length;++e)65533!==r[198][e].charCodeAt(0)&&(a[r[198][e]]=50688+e,t[50688+e]=r[198][e]);for(r[199]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������恰洽牵扦钎铅千迁签仟谦乾黔钱钳前潜遣浅谴堑嵌欠歉枪呛腔羌墙蔷强抢橇锹敲悄桥瞧乔侨巧鞘撬翘峭俏窍切茄且怯窃钦侵亲秦琴勤芹擒禽寝沁青轻氢倾卿清擎晴氰情顷请庆琼穷秋丘邱球求囚酋泅趋区蛆曲躯屈驱渠�".split(""),e=0;e!=r[199].length;++e)65533!==r[199][e].charCodeAt(0)&&(a[r[199][e]]=50944+e,t[50944+e]=r[199][e]);for(r[200]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������取娶龋趣去圈颧权醛泉全痊拳犬券劝缺炔瘸却鹊榷确雀裙群然燃冉染瓤壤攘嚷让饶扰绕惹热壬仁人忍韧任认刃妊纫扔仍日戎茸蓉荣融熔溶容绒冗揉柔肉茹蠕儒孺如辱乳汝入褥软阮蕊瑞锐闰润若弱撒洒萨腮鳃塞赛三叁�".split(""),e=0;e!=r[200].length;++e)65533!==r[200][e].charCodeAt(0)&&(a[r[200][e]]=51200+e,t[51200+e]=r[200][e]);for(r[201]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������伞散桑嗓丧搔骚扫嫂瑟色涩森僧莎砂杀刹沙纱傻啥煞筛晒珊苫杉山删煽衫闪陕擅赡膳善汕扇缮墒伤商赏晌上尚裳梢捎稍烧芍勺韶少哨邵绍奢赊蛇舌舍赦摄射慑涉社设砷申呻伸身深娠绅神沈审婶甚肾慎渗声生甥牲升绳�".split(""),e=0;e!=r[201].length;++e)65533!==r[201][e].charCodeAt(0)&&(a[r[201][e]]=51456+e,t[51456+e]=r[201][e]);for(r[202]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������省盛剩胜圣师失狮施湿诗尸虱十石拾时什食蚀实识史矢使屎驶始式示士世柿事拭誓逝势是嗜噬适仕侍释饰氏市恃室视试收手首守寿授售受瘦兽蔬枢梳殊抒输叔舒淑疏书赎孰熟薯暑曙署蜀黍鼠属术述树束戍竖墅庶数漱�".split(""),e=0;e!=r[202].length;++e)65533!==r[202][e].charCodeAt(0)&&(a[r[202][e]]=51712+e,t[51712+e]=r[202][e]);for(r[203]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������恕刷耍摔衰甩帅栓拴霜双爽谁水睡税吮瞬顺舜说硕朔烁斯撕嘶思私司丝死肆寺嗣四伺似饲巳松耸怂颂送宋讼诵搜艘擞嗽苏酥俗素速粟僳塑溯宿诉肃酸蒜算虽隋随绥髓碎岁穗遂隧祟孙损笋蓑梭唆缩琐索锁所塌他它她塔�".split(""),e=0;e!=r[203].length;++e)65533!==r[203][e].charCodeAt(0)&&(a[r[203][e]]=51968+e,t[51968+e]=r[203][e]);for(r[204]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������獭挞蹋踏胎苔抬台泰酞太态汰坍摊贪瘫滩坛檀痰潭谭谈坦毯袒碳探叹炭汤塘搪堂棠膛唐糖倘躺淌趟烫掏涛滔绦萄桃逃淘陶讨套特藤腾疼誊梯剔踢锑提题蹄啼体替嚏惕涕剃屉天添填田甜恬舔腆挑条迢眺跳贴铁帖厅听烃�".split(""),e=0;e!=r[204].length;++e)65533!==r[204][e].charCodeAt(0)&&(a[r[204][e]]=52224+e,t[52224+e]=r[204][e]);for(r[205]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������汀廷停亭庭挺艇通桐酮瞳同铜彤童桶捅筒统痛偷投头透凸秃突图徒途涂屠土吐兔湍团推颓腿蜕褪退吞屯臀拖托脱鸵陀驮驼椭妥拓唾挖哇蛙洼娃瓦袜歪外豌弯湾玩顽丸烷完碗挽晚皖惋宛婉万腕汪王亡枉网往旺望忘妄威�".split(""),e=0;e!=r[205].length;++e)65533!==r[205][e].charCodeAt(0)&&(a[r[205][e]]=52480+e,t[52480+e]=r[205][e]);for(r[206]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������巍微危韦违桅围唯惟为潍维苇萎委伟伪尾纬未蔚味畏胃喂魏位渭谓尉慰卫瘟温蚊文闻纹吻稳紊问嗡翁瓮挝蜗涡窝我斡卧握沃巫呜钨乌污诬屋无芜梧吾吴毋武五捂午舞伍侮坞戊雾晤物勿务悟误昔熙析西硒矽晰嘻吸锡牺�".split(""),e=0;e!=r[206].length;++e)65533!==r[206][e].charCodeAt(0)&&(a[r[206][e]]=52736+e,t[52736+e]=r[206][e]);for(r[207]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������稀息希悉膝夕惜熄烯溪汐犀檄袭席习媳喜铣洗系隙戏细瞎虾匣霞辖暇峡侠狭下厦夏吓掀锨先仙鲜纤咸贤衔舷闲涎弦嫌显险现献县腺馅羡宪陷限线相厢镶香箱襄湘乡翔祥详想响享项巷橡像向象萧硝霄削哮嚣销消宵淆晓�".split(""),e=0;e!=r[207].length;++e)65533!==r[207][e].charCodeAt(0)&&(a[r[207][e]]=52992+e,t[52992+e]=r[207][e]);for(r[208]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������小孝校肖啸笑效楔些歇蝎鞋协挟携邪斜胁谐写械卸蟹懈泄泻谢屑薪芯锌欣辛新忻心信衅星腥猩惺兴刑型形邢行醒幸杏性姓兄凶胸匈汹雄熊休修羞朽嗅锈秀袖绣墟戌需虚嘘须徐许蓄酗叙旭序畜恤絮婿绪续轩喧宣悬旋玄�".split(""),e=0;e!=r[208].length;++e)65533!==r[208][e].charCodeAt(0)&&(a[r[208][e]]=53248+e,t[53248+e]=r[208][e]);for(r[209]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������选癣眩绚靴薛学穴雪血勋熏循旬询寻驯巡殉汛训讯逊迅压押鸦鸭呀丫芽牙蚜崖衙涯雅哑亚讶焉咽阉烟淹盐严研蜒岩延言颜阎炎沿奄掩眼衍演艳堰燕厌砚雁唁彦焰宴谚验殃央鸯秧杨扬佯疡羊洋阳氧仰痒养样漾邀腰妖瑶�".split(""),e=0;e!=r[209].length;++e)65533!==r[209][e].charCodeAt(0)&&(a[r[209][e]]=53504+e,t[53504+e]=r[209][e]);for(r[210]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������摇尧遥窑谣姚咬舀药要耀椰噎耶爷野冶也页掖业叶曳腋夜液一壹医揖铱依伊衣颐夷遗移仪胰疑沂宜姨彝椅蚁倚已乙矣以艺抑易邑屹亿役臆逸肄疫亦裔意毅忆义益溢诣议谊译异翼翌绎茵荫因殷音阴姻吟银淫寅饮尹引隐�".split(""),e=0;e!=r[210].length;++e)65533!==r[210][e].charCodeAt(0)&&(a[r[210][e]]=53760+e,t[53760+e]=r[210][e]);for(r[211]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������印英樱婴鹰应缨莹萤营荧蝇迎赢盈影颖硬映哟拥佣臃痈庸雍踊蛹咏泳涌永恿勇用幽优悠忧尤由邮铀犹油游酉有友右佑釉诱又幼迂淤于盂榆虞愚舆余俞逾鱼愉渝渔隅予娱雨与屿禹宇语羽玉域芋郁吁遇喻峪御愈欲狱育誉�".split(""),e=0;e!=r[211].length;++e)65533!==r[211][e].charCodeAt(0)&&(a[r[211][e]]=54016+e,t[54016+e]=r[211][e]);for(r[212]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������浴寓裕预豫驭鸳渊冤元垣袁原援辕园员圆猿源缘远苑愿怨院曰约越跃钥岳粤月悦阅耘云郧匀陨允运蕴酝晕韵孕匝砸杂栽哉灾宰载再在咱攒暂赞赃脏葬遭糟凿藻枣早澡蚤躁噪造皂灶燥责择则泽贼怎增憎曾赠扎喳渣札轧�".split(""),e=0;e!=r[212].length;++e)65533!==r[212][e].charCodeAt(0)&&(a[r[212][e]]=54272+e,t[54272+e]=r[212][e]);for(r[213]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������铡闸眨栅榨咋乍炸诈摘斋宅窄债寨瞻毡詹粘沾盏斩辗崭展蘸栈占战站湛绽樟章彰漳张掌涨杖丈帐账仗胀瘴障招昭找沼赵照罩兆肇召遮折哲蛰辙者锗蔗这浙珍斟真甄砧臻贞针侦枕疹诊震振镇阵蒸挣睁征狰争怔整拯正政�".split(""),e=0;e!=r[213].length;++e)65533!==r[213][e].charCodeAt(0)&&(a[r[213][e]]=54528+e,t[54528+e]=r[213][e]);for(r[214]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������帧症郑证芝枝支吱蜘知肢脂汁之织职直植殖执值侄址指止趾只旨纸志挚掷至致置帜峙制智秩稚质炙痔滞治窒中盅忠钟衷终种肿重仲众舟周州洲诌粥轴肘帚咒皱宙昼骤珠株蛛朱猪诸诛逐竹烛煮拄瞩嘱主著柱助蛀贮铸筑�".split(""),e=0;e!=r[214].length;++e)65533!==r[214][e].charCodeAt(0)&&(a[r[214][e]]=54784+e,t[54784+e]=r[214][e]);for(r[215]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������住注祝驻抓爪拽专砖转撰赚篆桩庄装妆撞壮状椎锥追赘坠缀谆准捉拙卓桌琢茁酌啄着灼浊兹咨资姿滋淄孜紫仔籽滓子自渍字鬃棕踪宗综总纵邹走奏揍租足卒族祖诅阻组钻纂嘴醉最罪尊遵昨左佐柞做作坐座������".split(""),e=0;e!=r[215].length;++e)65533!==r[215][e].charCodeAt(0)&&(a[r[215][e]]=55040+e,t[55040+e]=r[215][e]);for(r[216]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������亍丌兀丐廿卅丕亘丞鬲孬噩丨禺丿匕乇夭爻卮氐囟胤馗毓睾鼗丶亟鼐乜乩亓芈孛啬嘏仄厍厝厣厥厮靥赝匚叵匦匮匾赜卦卣刂刈刎刭刳刿剀剌剞剡剜蒯剽劂劁劐劓冂罔亻仃仉仂仨仡仫仞伛仳伢佤仵伥伧伉伫佞佧攸佚佝�".split(""),e=0;e!=r[216].length;++e)65533!==r[216][e].charCodeAt(0)&&(a[r[216][e]]=55296+e,t[55296+e]=r[216][e]);for(r[217]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������佟佗伲伽佶佴侑侉侃侏佾佻侪佼侬侔俦俨俪俅俚俣俜俑俟俸倩偌俳倬倏倮倭俾倜倌倥倨偾偃偕偈偎偬偻傥傧傩傺僖儆僭僬僦僮儇儋仝氽佘佥俎龠汆籴兮巽黉馘冁夔勹匍訇匐凫夙兕亠兖亳衮袤亵脔裒禀嬴蠃羸冫冱冽冼�".split(""),e=0;e!=r[217].length;++e)65533!==r[217][e].charCodeAt(0)&&(a[r[217][e]]=55552+e,t[55552+e]=r[217][e]);for(r[218]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������凇冖冢冥讠讦讧讪讴讵讷诂诃诋诏诎诒诓诔诖诘诙诜诟诠诤诨诩诮诰诳诶诹诼诿谀谂谄谇谌谏谑谒谔谕谖谙谛谘谝谟谠谡谥谧谪谫谮谯谲谳谵谶卩卺阝阢阡阱阪阽阼陂陉陔陟陧陬陲陴隈隍隗隰邗邛邝邙邬邡邴邳邶邺�".split(""),e=0;e!=r[218].length;++e)65533!==r[218][e].charCodeAt(0)&&(a[r[218][e]]=55808+e,t[55808+e]=r[218][e]);for(r[219]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������邸邰郏郅邾郐郄郇郓郦郢郜郗郛郫郯郾鄄鄢鄞鄣鄱鄯鄹酃酆刍奂劢劬劭劾哿勐勖勰叟燮矍廴凵凼鬯厶弁畚巯坌垩垡塾墼壅壑圩圬圪圳圹圮圯坜圻坂坩垅坫垆坼坻坨坭坶坳垭垤垌垲埏垧垴垓垠埕埘埚埙埒垸埴埯埸埤埝�".split(""),e=0;e!=r[219].length;++e)65533!==r[219][e].charCodeAt(0)&&(a[r[219][e]]=56064+e,t[56064+e]=r[219][e]);for(r[220]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������堋堍埽埭堀堞堙塄堠塥塬墁墉墚墀馨鼙懿艹艽艿芏芊芨芄芎芑芗芙芫芸芾芰苈苊苣芘芷芮苋苌苁芩芴芡芪芟苄苎芤苡茉苷苤茏茇苜苴苒苘茌苻苓茑茚茆茔茕苠苕茜荑荛荜茈莒茼茴茱莛荞茯荏荇荃荟荀茗荠茭茺茳荦荥�".split(""),e=0;e!=r[220].length;++e)65533!==r[220][e].charCodeAt(0)&&(a[r[220][e]]=56320+e,t[56320+e]=r[220][e]);for(r[221]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������荨茛荩荬荪荭荮莰荸莳莴莠莪莓莜莅荼莶莩荽莸荻莘莞莨莺莼菁萁菥菘堇萘萋菝菽菖萜萸萑萆菔菟萏萃菸菹菪菅菀萦菰菡葜葑葚葙葳蒇蒈葺蒉葸萼葆葩葶蒌蒎萱葭蓁蓍蓐蓦蒽蓓蓊蒿蒺蓠蒡蒹蒴蒗蓥蓣蔌甍蔸蓰蔹蔟蔺�".split(""),e=0;e!=r[221].length;++e)65533!==r[221][e].charCodeAt(0)&&(a[r[221][e]]=56576+e,t[56576+e]=r[221][e]);for(r[222]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������蕖蔻蓿蓼蕙蕈蕨蕤蕞蕺瞢蕃蕲蕻薤薨薇薏蕹薮薜薅薹薷薰藓藁藜藿蘧蘅蘩蘖蘼廾弈夼奁耷奕奚奘匏尢尥尬尴扌扪抟抻拊拚拗拮挢拶挹捋捃掭揶捱捺掎掴捭掬掊捩掮掼揲揸揠揿揄揞揎摒揆掾摅摁搋搛搠搌搦搡摞撄摭撖�".split(""),e=0;e!=r[222].length;++e)65533!==r[222][e].charCodeAt(0)&&(a[r[222][e]]=56832+e,t[56832+e]=r[222][e]);for(r[223]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������摺撷撸撙撺擀擐擗擤擢攉攥攮弋忒甙弑卟叱叽叩叨叻吒吖吆呋呒呓呔呖呃吡呗呙吣吲咂咔呷呱呤咚咛咄呶呦咝哐咭哂咴哒咧咦哓哔呲咣哕咻咿哌哙哚哜咩咪咤哝哏哞唛哧唠哽唔哳唢唣唏唑唧唪啧喏喵啉啭啁啕唿啐唼�".split(""),e=0;e!=r[223].length;++e)65533!==r[223][e].charCodeAt(0)&&(a[r[223][e]]=57088+e,t[57088+e]=r[223][e]);for(r[224]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������唷啖啵啶啷唳唰啜喋嗒喃喱喹喈喁喟啾嗖喑啻嗟喽喾喔喙嗪嗷嗉嘟嗑嗫嗬嗔嗦嗝嗄嗯嗥嗲嗳嗌嗍嗨嗵嗤辔嘞嘈嘌嘁嘤嘣嗾嘀嘧嘭噘嘹噗嘬噍噢噙噜噌噔嚆噤噱噫噻噼嚅嚓嚯囔囗囝囡囵囫囹囿圄圊圉圜帏帙帔帑帱帻帼�".split(""),e=0;e!=r[224].length;++e)65533!==r[224][e].charCodeAt(0)&&(a[r[224][e]]=57344+e,t[57344+e]=r[224][e]);for(r[225]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������帷幄幔幛幞幡岌屺岍岐岖岈岘岙岑岚岜岵岢岽岬岫岱岣峁岷峄峒峤峋峥崂崃崧崦崮崤崞崆崛嵘崾崴崽嵬嵛嵯嵝嵫嵋嵊嵩嵴嶂嶙嶝豳嶷巅彳彷徂徇徉後徕徙徜徨徭徵徼衢彡犭犰犴犷犸狃狁狎狍狒狨狯狩狲狴狷猁狳猃狺�".split(""),e=0;e!=r[225].length;++e)65533!==r[225][e].charCodeAt(0)&&(a[r[225][e]]=57600+e,t[57600+e]=r[225][e]);for(r[226]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������狻猗猓猡猊猞猝猕猢猹猥猬猸猱獐獍獗獠獬獯獾舛夥飧夤夂饣饧饨饩饪饫饬饴饷饽馀馄馇馊馍馐馑馓馔馕庀庑庋庖庥庠庹庵庾庳赓廒廑廛廨廪膺忄忉忖忏怃忮怄忡忤忾怅怆忪忭忸怙怵怦怛怏怍怩怫怊怿怡恸恹恻恺恂�".split(""),e=0;e!=r[226].length;++e)65533!==r[226][e].charCodeAt(0)&&(a[r[226][e]]=57856+e,t[57856+e]=r[226][e]);for(r[227]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������恪恽悖悚悭悝悃悒悌悛惬悻悱惝惘惆惚悴愠愦愕愣惴愀愎愫慊慵憬憔憧憷懔懵忝隳闩闫闱闳闵闶闼闾阃阄阆阈阊阋阌阍阏阒阕阖阗阙阚丬爿戕氵汔汜汊沣沅沐沔沌汨汩汴汶沆沩泐泔沭泷泸泱泗沲泠泖泺泫泮沱泓泯泾�".split(""),e=0;e!=r[227].length;++e)65533!==r[227][e].charCodeAt(0)&&(a[r[227][e]]=58112+e,t[58112+e]=r[227][e]);for(r[228]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������洹洧洌浃浈洇洄洙洎洫浍洮洵洚浏浒浔洳涑浯涞涠浞涓涔浜浠浼浣渚淇淅淞渎涿淠渑淦淝淙渖涫渌涮渫湮湎湫溲湟溆湓湔渲渥湄滟溱溘滠漭滢溥溧溽溻溷滗溴滏溏滂溟潢潆潇漤漕滹漯漶潋潴漪漉漩澉澍澌潸潲潼潺濑�".split(""),e=0;e!=r[228].length;++e)65533!==r[228][e].charCodeAt(0)&&(a[r[228][e]]=58368+e,t[58368+e]=r[228][e]);for(r[229]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������濉澧澹澶濂濡濮濞濠濯瀚瀣瀛瀹瀵灏灞宀宄宕宓宥宸甯骞搴寤寮褰寰蹇謇辶迓迕迥迮迤迩迦迳迨逅逄逋逦逑逍逖逡逵逶逭逯遄遑遒遐遨遘遢遛暹遴遽邂邈邃邋彐彗彖彘尻咫屐屙孱屣屦羼弪弩弭艴弼鬻屮妁妃妍妩妪妣�".split(""),e=0;e!=r[229].length;++e)65533!==r[229][e].charCodeAt(0)&&(a[r[229][e]]=58624+e,t[58624+e]=r[229][e]);for(r[230]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������妗姊妫妞妤姒妲妯姗妾娅娆姝娈姣姘姹娌娉娲娴娑娣娓婀婧婊婕娼婢婵胬媪媛婷婺媾嫫媲嫒嫔媸嫠嫣嫱嫖嫦嫘嫜嬉嬗嬖嬲嬷孀尕尜孚孥孳孑孓孢驵驷驸驺驿驽骀骁骅骈骊骐骒骓骖骘骛骜骝骟骠骢骣骥骧纟纡纣纥纨纩�".split(""),e=0;e!=r[230].length;++e)65533!==r[230][e].charCodeAt(0)&&(a[r[230][e]]=58880+e,t[58880+e]=r[230][e]);for(r[231]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������纭纰纾绀绁绂绉绋绌绐绔绗绛绠绡绨绫绮绯绱绲缍绶绺绻绾缁缂缃缇缈缋缌缏缑缒缗缙缜缛缟缡缢缣缤缥缦缧缪缫缬缭缯缰缱缲缳缵幺畿巛甾邕玎玑玮玢玟珏珂珑玷玳珀珉珈珥珙顼琊珩珧珞玺珲琏琪瑛琦琥琨琰琮琬�".split(""),e=0;e!=r[231].length;++e)65533!==r[231][e].charCodeAt(0)&&(a[r[231][e]]=59136+e,t[59136+e]=r[231][e]);for(r[232]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������琛琚瑁瑜瑗瑕瑙瑷瑭瑾璜璎璀璁璇璋璞璨璩璐璧瓒璺韪韫韬杌杓杞杈杩枥枇杪杳枘枧杵枨枞枭枋杷杼柰栉柘栊柩枰栌柙枵柚枳柝栀柃枸柢栎柁柽栲栳桠桡桎桢桄桤梃栝桕桦桁桧桀栾桊桉栩梵梏桴桷梓桫棂楮棼椟椠棹�".split(""),e=0;e!=r[232].length;++e)65533!==r[232][e].charCodeAt(0)&&(a[r[232][e]]=59392+e,t[59392+e]=r[232][e]);for(r[233]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������椤棰椋椁楗棣椐楱椹楠楂楝榄楫榀榘楸椴槌榇榈槎榉楦楣楹榛榧榻榫榭槔榱槁槊槟榕槠榍槿樯槭樗樘橥槲橄樾檠橐橛樵檎橹樽樨橘橼檑檐檩檗檫猷獒殁殂殇殄殒殓殍殚殛殡殪轫轭轱轲轳轵轶轸轷轹轺轼轾辁辂辄辇辋�".split(""),e=0;e!=r[233].length;++e)65533!==r[233][e].charCodeAt(0)&&(a[r[233][e]]=59648+e,t[59648+e]=r[233][e]);for(r[234]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������辍辎辏辘辚軎戋戗戛戟戢戡戥戤戬臧瓯瓴瓿甏甑甓攴旮旯旰昊昙杲昃昕昀炅曷昝昴昱昶昵耆晟晔晁晏晖晡晗晷暄暌暧暝暾曛曜曦曩贲贳贶贻贽赀赅赆赈赉赇赍赕赙觇觊觋觌觎觏觐觑牮犟牝牦牯牾牿犄犋犍犏犒挈挲掰�".split(""),e=0;e!=r[234].length;++e)65533!==r[234][e].charCodeAt(0)&&(a[r[234][e]]=59904+e,t[59904+e]=r[234][e]);for(r[235]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������搿擘耄毪毳毽毵毹氅氇氆氍氕氘氙氚氡氩氤氪氲攵敕敫牍牒牖爰虢刖肟肜肓肼朊肽肱肫肭肴肷胧胨胩胪胛胂胄胙胍胗朐胝胫胱胴胭脍脎胲胼朕脒豚脶脞脬脘脲腈腌腓腴腙腚腱腠腩腼腽腭腧塍媵膈膂膑滕膣膪臌朦臊膻�".split(""),e=0;e!=r[235].length;++e)65533!==r[235][e].charCodeAt(0)&&(a[r[235][e]]=60160+e,t[60160+e]=r[235][e]);for(r[236]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������臁膦欤欷欹歃歆歙飑飒飓飕飙飚殳彀毂觳斐齑斓於旆旄旃旌旎旒旖炀炜炖炝炻烀炷炫炱烨烊焐焓焖焯焱煳煜煨煅煲煊煸煺熘熳熵熨熠燠燔燧燹爝爨灬焘煦熹戾戽扃扈扉礻祀祆祉祛祜祓祚祢祗祠祯祧祺禅禊禚禧禳忑忐�".split(""),e=0;e!=r[236].length;++e)65533!==r[236][e].charCodeAt(0)&&(a[r[236][e]]=60416+e,t[60416+e]=r[236][e]);for(r[237]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������怼恝恚恧恁恙恣悫愆愍慝憩憝懋懑戆肀聿沓泶淼矶矸砀砉砗砘砑斫砭砜砝砹砺砻砟砼砥砬砣砩硎硭硖硗砦硐硇硌硪碛碓碚碇碜碡碣碲碹碥磔磙磉磬磲礅磴礓礤礞礴龛黹黻黼盱眄眍盹眇眈眚眢眙眭眦眵眸睐睑睇睃睚睨�".split(""),e=0;e!=r[237].length;++e)65533!==r[237][e].charCodeAt(0)&&(a[r[237][e]]=60672+e,t[60672+e]=r[237][e]);for(r[238]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������睢睥睿瞍睽瞀瞌瞑瞟瞠瞰瞵瞽町畀畎畋畈畛畲畹疃罘罡罟詈罨罴罱罹羁罾盍盥蠲钅钆钇钋钊钌钍钏钐钔钗钕钚钛钜钣钤钫钪钭钬钯钰钲钴钶钷钸钹钺钼钽钿铄铈铉铊铋铌铍铎铐铑铒铕铖铗铙铘铛铞铟铠铢铤铥铧铨铪�".split(""),e=0;e!=r[238].length;++e)65533!==r[238][e].charCodeAt(0)&&(a[r[238][e]]=60928+e,t[60928+e]=r[238][e]);for(r[239]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������铩铫铮铯铳铴铵铷铹铼铽铿锃锂锆锇锉锊锍锎锏锒锓锔锕锖锘锛锝锞锟锢锪锫锩锬锱锲锴锶锷锸锼锾锿镂锵镄镅镆镉镌镎镏镒镓镔镖镗镘镙镛镞镟镝镡镢镤镥镦镧镨镩镪镫镬镯镱镲镳锺矧矬雉秕秭秣秫稆嵇稃稂稞稔�".split(""),e=0;e!=r[239].length;++e)65533!==r[239][e].charCodeAt(0)&&(a[r[239][e]]=61184+e,t[61184+e]=r[239][e]);for(r[240]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������稹稷穑黏馥穰皈皎皓皙皤瓞瓠甬鸠鸢鸨鸩鸪鸫鸬鸲鸱鸶鸸鸷鸹鸺鸾鹁鹂鹄鹆鹇鹈鹉鹋鹌鹎鹑鹕鹗鹚鹛鹜鹞鹣鹦鹧鹨鹩鹪鹫鹬鹱鹭鹳疒疔疖疠疝疬疣疳疴疸痄疱疰痃痂痖痍痣痨痦痤痫痧瘃痱痼痿瘐瘀瘅瘌瘗瘊瘥瘘瘕瘙�".split(""),e=0;e!=r[240].length;++e)65533!==r[240][e].charCodeAt(0)&&(a[r[240][e]]=61440+e,t[61440+e]=r[240][e]);for(r[241]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������瘛瘼瘢瘠癀瘭瘰瘿瘵癃瘾瘳癍癞癔癜癖癫癯翊竦穸穹窀窆窈窕窦窠窬窨窭窳衤衩衲衽衿袂袢裆袷袼裉裢裎裣裥裱褚裼裨裾裰褡褙褓褛褊褴褫褶襁襦襻疋胥皲皴矜耒耔耖耜耠耢耥耦耧耩耨耱耋耵聃聆聍聒聩聱覃顸颀颃�".split(""),e=0;e!=r[241].length;++e)65533!==r[241][e].charCodeAt(0)&&(a[r[241][e]]=61696+e,t[61696+e]=r[241][e]);for(r[242]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������颉颌颍颏颔颚颛颞颟颡颢颥颦虍虔虬虮虿虺虼虻蚨蚍蚋蚬蚝蚧蚣蚪蚓蚩蚶蛄蚵蛎蚰蚺蚱蚯蛉蛏蚴蛩蛱蛲蛭蛳蛐蜓蛞蛴蛟蛘蛑蜃蜇蛸蜈蜊蜍蜉蜣蜻蜞蜥蜮蜚蜾蝈蜴蜱蜩蜷蜿螂蜢蝽蝾蝻蝠蝰蝌蝮螋蝓蝣蝼蝤蝙蝥螓螯螨蟒�".split(""),e=0;e!=r[242].length;++e)65533!==r[242][e].charCodeAt(0)&&(a[r[242][e]]=61952+e,t[61952+e]=r[242][e]);for(r[243]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������蟆螈螅螭螗螃螫蟥螬螵螳蟋蟓螽蟑蟀蟊蟛蟪蟠蟮蠖蠓蟾蠊蠛蠡蠹蠼缶罂罄罅舐竺竽笈笃笄笕笊笫笏筇笸笪笙笮笱笠笥笤笳笾笞筘筚筅筵筌筝筠筮筻筢筲筱箐箦箧箸箬箝箨箅箪箜箢箫箴篑篁篌篝篚篥篦篪簌篾篼簏簖簋�".split(""),e=0;e!=r[243].length;++e)65533!==r[243][e].charCodeAt(0)&&(a[r[243][e]]=62208+e,t[62208+e]=r[243][e]);for(r[244]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������簟簪簦簸籁籀臾舁舂舄臬衄舡舢舣舭舯舨舫舸舻舳舴舾艄艉艋艏艚艟艨衾袅袈裘裟襞羝羟羧羯羰羲籼敉粑粝粜粞粢粲粼粽糁糇糌糍糈糅糗糨艮暨羿翎翕翥翡翦翩翮翳糸絷綦綮繇纛麸麴赳趄趔趑趱赧赭豇豉酊酐酎酏酤�".split(""),e=0;e!=r[244].length;++e)65533!==r[244][e].charCodeAt(0)&&(a[r[244][e]]=62464+e,t[62464+e]=r[244][e]);for(r[245]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������酢酡酰酩酯酽酾酲酴酹醌醅醐醍醑醢醣醪醭醮醯醵醴醺豕鹾趸跫踅蹙蹩趵趿趼趺跄跖跗跚跞跎跏跛跆跬跷跸跣跹跻跤踉跽踔踝踟踬踮踣踯踺蹀踹踵踽踱蹉蹁蹂蹑蹒蹊蹰蹶蹼蹯蹴躅躏躔躐躜躞豸貂貊貅貘貔斛觖觞觚觜�".split(""),e=0;e!=r[245].length;++e)65533!==r[245][e].charCodeAt(0)&&(a[r[245][e]]=62720+e,t[62720+e]=r[245][e]);for(r[246]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������觥觫觯訾謦靓雩雳雯霆霁霈霏霎霪霭霰霾龀龃龅龆龇龈龉龊龌黾鼋鼍隹隼隽雎雒瞿雠銎銮鋈錾鍪鏊鎏鐾鑫鱿鲂鲅鲆鲇鲈稣鲋鲎鲐鲑鲒鲔鲕鲚鲛鲞鲟鲠鲡鲢鲣鲥鲦鲧鲨鲩鲫鲭鲮鲰鲱鲲鲳鲴鲵鲶鲷鲺鲻鲼鲽鳄鳅鳆鳇鳊鳋�".split(""),e=0;e!=r[246].length;++e)65533!==r[246][e].charCodeAt(0)&&(a[r[246][e]]=62976+e,t[62976+e]=r[246][e]);for(r[247]="�����������������������������������������������������������������������������������������������������������������������������������������������������������������鳌鳍鳎鳏鳐鳓鳔鳕鳗鳘鳙鳜鳝鳟鳢靼鞅鞑鞒鞔鞯鞫鞣鞲鞴骱骰骷鹘骶骺骼髁髀髅髂髋髌髑魅魃魇魉魈魍魑飨餍餮饕饔髟髡髦髯髫髻髭髹鬈鬏鬓鬟鬣麽麾縻麂麇麈麋麒鏖麝麟黛黜黝黠黟黢黩黧黥黪黯鼢鼬鼯鼹鼷鼽鼾齄�".split(""),e=0;e!=r[247].length;++e)65533!==r[247][e].charCodeAt(0)&&(a[r[247][e]]=63232+e,t[63232+e]=r[247][e]);return{enc:a,dec:t}}(),a[10029]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",t=[],a={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(a[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:a,dec:t}}(),a[10079]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄¤ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔ�ÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ",t=[],a={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(a[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:a,dec:t}}(),a[10081]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔ�ÒÚÛÙ�ˆ˜¯˘˙˚¸˝˛ˇ",t=[],a={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(a[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:a,dec:t}}(),a[28591]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ ¡¢£¤¥¦§¨©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖ×ØÙÚÛÜÝÞßàáâãäåæçèéêëìíîïðñòóôõö÷øùúûüýþÿ",t=[],a={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(a[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:a,dec:t}}(),e.exports&&"undefined"===typeof DO_NOT_EXPORT_CODEPAGE&&(e.exports=a)
/*! cputils.js (C) 2013-present SheetJS -- http://sheetjs.com */,function(t,r){"use strict";if("undefined"===typeof a){var i=a;e.exports&&"undefined"===typeof DO_NOT_EXPORT_CODEPAGE?e.exports=r(i):t.cptable=r(i)}else a=r(a)}(this,(function(e){"use strict";var a={1200:"utf16le",1201:"utf16be",12e3:"utf32le",12001:"utf32be",16969:"utf64le",20127:"ascii",65e3:"utf7",65001:"utf8"},r=[874,1250,1251,1252,1253,1254,1255,1256,1e4],i=[932,936,949,950],n=[65001],s={},o={},l={},c={},d=function(e){return String.fromCharCode(e)},u=function(e){return e.charCodeAt(0)},h="undefined"!==typeof t,p=function(){};if(h){var f=!t.from;if(!f)try{t.from("foo","utf8")}catch(R){f=!0}p=f?function(e,a){return a?new t(e,a):new t(e)}:t.from.bind(t),t.allocUnsafe||(t.allocUnsafe=function(e){return new t(e)});var m=1024,g=t.allocUnsafe(m),_=function(e){for(var a=t.allocUnsafe(65536),r=0;r<65536;++r)a[r]=0;for(var i=Object.keys(e),n=i.length,s=0,o=i[s];s<n;++s)(o=i[s])&&(a[o.charCodeAt(0)]=e[o]);return a},v=function(a){var r=_(e[a].enc);return function(e,a){var i,n=e.length,s=0,o=0,l=0,c=0;if("string"===typeof e)for(i=t.allocUnsafe(n),s=0;s<n;++s)i[s]=r[e.charCodeAt(s)];else if(t.isBuffer(e)){for(i=t.allocUnsafe(2*n),o=0,s=0;s<n;++s)l=e[s],l<128?i[o++]=r[l]:l<224?(i[o++]=r[((31&l)<<6)+(63&e[s+1])],++s):l<240?(i[o++]=r[((15&l)<<12)+((63&e[s+1])<<6)+(63&e[s+2])],s+=2):(c=((7&l)<<18)+((63&e[s+1])<<12)+((63&e[s+2])<<6)+(63&e[s+3]),s+=3,c<65536?i[o++]=r[c]:(c-=65536,i[o++]=r[55296+(c>>10&1023)],i[o++]=r[56320+(1023&c)]));i=i.slice(0,o)}else for(i=t.allocUnsafe(n),s=0;s<n;++s)i[s]=r[e[s].charCodeAt(0)];return a&&"buf"!==a?"arr"!==a?i.toString("binary"):[].slice.call(i):i}},b=function(a){var r=e[a].dec,i=t.allocUnsafe(131072),n=0,s="";for(n=0;n<r.length;++n)if(s=r[n]){var o=s.charCodeAt(0);i[2*n]=255&o,i[2*n+1]=o>>8}return function(e){var a=e.length,r=0,n=0;if(2*a>m&&(m=2*a,g=t.allocUnsafe(m)),t.isBuffer(e))for(r=0;r<a;r++)n=2*e[r],g[2*r]=i[n],g[2*r+1]=i[n+1];else if("string"===typeof e)for(r=0;r<a;r++)n=2*e.charCodeAt(r),g[2*r]=i[n],g[2*r+1]=i[n+1];else for(r=0;r<a;r++)n=2*e[r],g[2*r]=i[n],g[2*r+1]=i[n+1];return g.slice(0,2*a).toString("ucs2")}},y=function(a){for(var r=e[a].enc,i=t.allocUnsafe(131072),n=0;n<131072;++n)i[n]=0;for(var s=Object.keys(r),o=0,l=s[o];o<s.length;++o)if(l=s[o]){var c=l.charCodeAt(0);i[2*c]=255&r[l],i[2*c+1]=r[l]>>8}return function(e,a){var r=e.length,n=t.allocUnsafe(2*r),s=0,o=0,l=0,c=0,d=0;if("string"===typeof e){for(s=c=0;s<r;++s)o=2*e.charCodeAt(s),n[c++]=i[o+1]||i[o],i[o+1]>0&&(n[c++]=i[o]);n=n.slice(0,c)}else if(t.isBuffer(e)){for(s=c=0;s<r;++s)d=e[s],d<128?o=d:d<224?(o=((31&d)<<6)+(63&e[s+1]),++s):d<240?(o=((15&d)<<12)+((63&e[s+1])<<6)+(63&e[s+2]),s+=2):(o=((7&d)<<18)+((63&e[s+1])<<12)+((63&e[s+2])<<6)+(63&e[s+3]),s+=3),o<65536?(o*=2,n[c++]=i[o+1]||i[o],i[o+1]>0&&(n[c++]=i[o])):(l=o-65536,o=2*(55296+(l>>10&1023)),n[c++]=i[o+1]||i[o],i[o+1]>0&&(n[c++]=i[o]),o=2*(56320+(1023&l)),n[c++]=i[o+1]||i[o],i[o+1]>0&&(n[c++]=i[o]));n=n.slice(0,c)}else for(s=c=0;s<r;s++)o=2*e[s].charCodeAt(0),n[c++]=i[o+1]||i[o],i[o+1]>0&&(n[c++]=i[o]);return a&&"buf"!==a?"arr"!==a?n.toString("binary"):[].slice.call(n):n}},k=function(a){var r,i=e[a].dec,n=t.allocUnsafe(131072),s=0,o=0,l=0,c=0;for(c=0;c<65536;++c)n[2*c]=255,n[2*c+1]=253;for(s=0;s<i.length;++s)(r=i[s])&&(o=r.charCodeAt(0),l=2*s,n[l]=255&o,n[l+1]=o>>8);return function(e){var a=e.length,r=t.allocUnsafe(2*a),i=0,s=0,o=0;if(t.isBuffer(e))for(i=0;i<a;i++)s=2*e[i],255===n[s]&&253===n[s+1]&&(s=2*((e[i]<<8)+e[i+1]),++i),r[o++]=n[s],r[o++]=n[s+1];else if("string"===typeof e)for(i=0;i<a;i++)s=2*e.charCodeAt(i),255===n[s]&&253===n[s+1]&&(s=2*((e.charCodeAt(i)<<8)+e.charCodeAt(i+1)),++i),r[o++]=n[s],r[o++]=n[s+1];else for(i=0;i<a;i++)s=2*e[i],255===n[s]&&253===n[s+1]&&(s=2*((e[i]<<8)+e[i+1]),++i),r[o++]=n[s],r[o++]=n[s+1];return r.slice(0,o).toString("ucs2")}};s[65001]=function e(a){if("string"===typeof a)return e(a.split("").map(u));var r=a.length,i=0,n=0;4*r>m&&(m=4*r,g=t.allocUnsafe(m));var s=0;r>=3&&239==a[0]&&187==a[1]&&191==a[2]&&(s=3);for(var o=1,l=0,c=0;s<r;s+=o)o=1,c=a[s],c<128?i=c:c<224?(i=64*(31&c)+(63&a[s+1]),o=2):c<240?(i=((15&c)<<12)+64*(63&a[s+1])+(63&a[s+2]),o=3):(i=262144*(7&c)+((63&a[s+1])<<12)+64*(63&a[s+2])+(63&a[s+3]),o=4),i<65536?(g[l++]=255&i,g[l++]=i>>8):(i-=65536,n=55296+(i>>10&1023),i=56320+(1023&i),g[l++]=255&n,g[l++]=n>>>8,g[l++]=255&i,g[l++]=i>>>8&255);return g.slice(0,l).toString("ucs2")},o[65001]=function(e,a){if(h&&t.isBuffer(e))return a&&"buf"!==a?"arr"!==a?e.toString("binary"):[].slice.call(e):e;var r=e.length,i=0,n=0,s=0,o="string"===typeof e;4*r>m&&(m=4*r,g=t.allocUnsafe(m));for(var l=0;l<r;++l)i=o?e.charCodeAt(l):e[l].charCodeAt(0),i<=127?g[s++]=i:i<=2047?(g[s++]=192+(i>>6),g[s++]=128+(63&i)):i>=55296&&i<=57343?(i-=55296,++l,n=(o?e.charCodeAt(l):e[l].charCodeAt(0))-56320+(i<<10),g[s++]=240+(n>>>18&7),g[s++]=144+(n>>>12&63),g[s++]=128+(n>>>6&63),g[s++]=128+(63&n)):(g[s++]=224+(i>>12),g[s++]=128+(i>>6&63),g[s++]=128+(63&i));return a&&"buf"!==a?"arr"!==a?g.slice(0,s).toString("binary"):[].slice.call(g,0,s):g.slice(0,s)}}var x=function(){if(h){if(l[r[0]])return;var t=0,a=0;for(t=0;t<r.length;++t)a=r[t],e[a]&&(l[a]=b(a),c[a]=v(a));for(t=0;t<i.length;++t)a=i[t],e[a]&&(l[a]=k(a),c[a]=y(a));for(t=0;t<n.length;++t)a=n[t],s[a]&&(l[a]=s[a]),o[a]&&(c[a]=o[a])}},w=function(e,t){return""},S=function(e){delete l[e],delete c[e]},C=function(){if(h){if(!l[r[0]])return;r.forEach(S),i.forEach(S),n.forEach(S)}I=w,A=0},O={encache:x,decache:C,sbcs:r,dbcs:i};x();var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'(),-./:?",I=w,A=0,D=function r(i,n,s){if(i===A&&I)return I(n,s);if(c[i])return I=c[A=i],I(n,s);h&&t.isBuffer(n)&&(n=n.toString("utf8"));var o,l=n.length,u=h?t.allocUnsafe(4*l):[],f=0,m=0,g=0,_=0,v=e[i],b="",y="string"===typeof n;if(v&&(o=v.enc))for(m=0;m<l;++m,++g)f=o[y?n.charAt(m):n[m]],f>255?(u[g]=f>>8,u[++g]=255&f):u[g]=255&f;else{if(!(b=a[i]))throw new Error("Unrecognized CP: "+i);switch(b){case"utf8":if(h&&y){u=p(n,b),g=u.length;break}for(m=0;m<l;++m,++g)f=y?n.charCodeAt(m):n[m].charCodeAt(0),f<=127?u[g]=f:f<=2047?(u[g]=192+(f>>6),u[++g]=128+(63&f)):f>=55296&&f<=57343?(f-=55296,_=(y?n.charCodeAt(++m):n[++m].charCodeAt(0))-56320+(f<<10),u[g]=240+(_>>>18&7),u[++g]=144+(_>>>12&63),u[++g]=128+(_>>>6&63),u[++g]=128+(63&_)):(u[g]=224+(f>>12),u[++g]=128+(f>>6&63),u[++g]=128+(63&f));break;case"ascii":if(h&&"string"===typeof n){u=p(n,b),g=u.length;break}for(m=0;m<l;++m,++g){if(f=y?n.charCodeAt(m):n[m].charCodeAt(0),!(f<=127))throw new Error("bad ascii "+f);u[g]=f}break;case"utf16le":if(h&&"string"===typeof n){u=p(n,b),g=u.length;break}for(m=0;m<l;++m)f=y?n.charCodeAt(m):n[m].charCodeAt(0),u[g++]=255&f,u[g++]=f>>8;break;case"utf16be":for(m=0;m<l;++m)f=y?n.charCodeAt(m):n[m].charCodeAt(0),u[g++]=f>>8,u[g++]=255&f;break;case"utf32le":for(m=0;m<l;++m)f=y?n.charCodeAt(m):n[m].charCodeAt(0),f>=55296&&f<=57343&&(f=65536+(f-55296<<10)+(n[++m].charCodeAt(0)-56320)),u[g++]=255&f,f>>=8,u[g++]=255&f,f>>=8,u[g++]=255&f,f>>=8,u[g++]=255&f;break;case"utf32be":for(m=0;m<l;++m)f=y?n.charCodeAt(m):n[m].charCodeAt(0),f>=55296&&f<=57343&&(f=65536+(f-55296<<10)+(n[++m].charCodeAt(0)-56320)),u[g+3]=255&f,f>>=8,u[g+2]=255&f,f>>=8,u[g+1]=255&f,f>>=8,u[g]=255&f,g+=4;break;case"utf7":for(m=0;m<l;m++){var k=y?n.charAt(m):n[m].charAt(0);if("+"!==k)if(j.indexOf(k)>-1)u[g++]=k.charCodeAt(0);else{var x=r(1201,k);u[g++]=43,u[g++]=T.charCodeAt(x[0]>>2),u[g++]=T.charCodeAt(((3&x[0])<<4)+((x[1]||0)>>4)),u[g++]=T.charCodeAt(((15&x[1])<<2)+((x[2]||0)>>6)),u[g++]=45}else u[g++]=43,u[g++]=45}break;default:throw new Error("Unsupported magic: "+i+" "+a[i])}}return u=u.slice(0,g),h?s&&"buf"!==s?"arr"!==s?u.toString("binary"):[].slice.call(u):u:"str"==s?u.map(d).join(""):u},M=function r(i,n){var s;if(s=l[i])return s(n);if("string"===typeof n)return r(i,n.split("").map(u));var o,c=n.length,d=new Array(c),p="",f=0,m=0,g=1,_=0,v=0,b=e[i],y="";if(b&&(o=b.dec))for(m=0;m<c;m+=g){if(g=2,p=o[(n[m]<<8)+n[m+1]],p||(g=1,p=o[n[m]]),!p)throw new Error("Unrecognized code: "+n[m]+" "+n[m+g-1]+" "+m+" "+g+" "+o[n[m]]);d[_++]=p}else{if(!(y=a[i]))throw new Error("Unrecognized CP: "+i);switch(y){case"utf8":for(c>=3&&239==n[0]&&187==n[1]&&191==n[2]&&(m=3);m<c;m+=g)g=1,n[m]<128?f=n[m]:n[m]<224?(f=64*(31&n[m])+(63&n[m+1]),g=2):n[m]<240?(f=((15&n[m])<<12)+64*(63&n[m+1])+(63&n[m+2]),g=3):(f=262144*(7&n[m])+((63&n[m+1])<<12)+64*(63&n[m+2])+(63&n[m+3]),g=4),f<65536||(f-=65536,v=55296+(f>>10&1023),f=56320+(1023&f),d[_++]=String.fromCharCode(v)),d[_++]=String.fromCharCode(f);break;case"ascii":if(h&&t.isBuffer(n))return n.toString(y);for(m=0;m<c;m++)d[m]=String.fromCharCode(n[m]);_=c;break;case"utf16le":if(c>=2&&255==n[0]&&254==n[1]&&(m=2),h&&t.isBuffer(n))return n.toString(y);for(g=2;m+1<c;m+=g)d[_++]=String.fromCharCode((n[m+1]<<8)+n[m]);break;case"utf16be":for(c>=2&&254==n[0]&&255==n[1]&&(m=2),g=2;m+1<c;m+=g)d[_++]=String.fromCharCode((n[m]<<8)+n[m+1]);break;case"utf32le":for(c>=4&&255==n[0]&&254==n[1]&&0===n[2]&&0===n[3]&&(m=4),g=4;m<c;m+=g)f=(n[m+3]<<24)+(n[m+2]<<16)+(n[m+1]<<8)+n[m],f>65535?(f-=65536,d[_++]=String.fromCharCode(55296+(f>>10&1023)),d[_++]=String.fromCharCode(56320+(1023&f))):d[_++]=String.fromCharCode(f);break;case"utf32be":for(c>=4&&255==n[3]&&254==n[2]&&0===n[1]&&0===n[0]&&(m=4),g=4;m<c;m+=g)f=(n[m]<<24)+(n[m+1]<<16)+(n[m+2]<<8)+n[m+3],f>65535?(f-=65536,d[_++]=String.fromCharCode(55296+(f>>10&1023)),d[_++]=String.fromCharCode(56320+(1023&f))):d[_++]=String.fromCharCode(f);break;case"utf7":for(c>=4&&43==n[0]&&47==n[1]&&118==n[2]&&(c>=5&&56==n[3]&&45==n[4]?m=5:56!=n[3]&&57!=n[3]&&43!=n[3]&&47!=n[3]||(m=4));m<c;m+=g)if(43===n[m])if(g=1,45!==n[m+1]){while(String.fromCharCode(n[m+g]).match(/[A-Za-z0-9+\/]/))g++;var k=0;45===n[m+g]&&(++g,k=1);for(var x=[],w="",S=0,C=0,O=0,j=0,I=0,A=0,D=0,M=1;M<g-k;){if(j=T.indexOf(String.fromCharCode(n[m+M++])),I=T.indexOf(String.fromCharCode(n[m+M++])),S=j<<2|I>>4,x.push(S),A=T.indexOf(String.fromCharCode(n[m+M++])),-1===A)break;if(C=(15&I)<<4|A>>2,x.push(C),D=T.indexOf(String.fromCharCode(n[m+M++])),-1===D)break;O=(3&A)<<6|D,D<64&&x.push(O)}for(w=r(1201,x),M=0;M<w.length;++M)d[_++]=w.charAt(M)}else g=2,d[_++]="+";else g=1,d[_++]=String.fromCharCode(n[m]);break;default:throw new Error("Unsupported magic: "+i+" "+a[i])}}return d.slice(0,_).join("")},E=function(t){return!(!e[t]&&!a[t])};return e.utils={decode:M,encode:D,hascp:E,magic:a,cache:O},e}))}).call(this,a("1a62").Buffer)},"0917":function(e,t,a){},"092f":function(e,t,a){"use strict";a("0917")},"09a9":function(e,t,a){"use strict";a("e40a")},"0a70":function(e,t,a){},"0d73":function(e,t,a){"use strict";function r(e,t){const a=new RegExp(t),r=e.match(a);if(r){const t=r.index,a=t+r[0].length,i=`${e.slice(0,t)}<span style="color:#2d8cf0">${e.slice(t,a)}</span>${e.slice(a)}`;return i}return e}a.d(t,"a",(function(){return r}))},"0f52":function(e,t,a){},"0f6b":function(e,t,a){},10:function(e,t){},"114a":function(e,t,a){"use strict";a("7604")},"11cb":function(e,t,a){},"13cf":function(e,t,a){"use strict";a("56f9")},1534:function(e,t,a){"use strict";a("8f1f")},1542:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},i=[],n=a("cb78"),s=a("a06e"),o={data(){return{project:{}}},methods:{FinishProject(e){const t=new Promise(t=>{this.project=e,this.fetchUnfinishedCount().then(()=>{this.unfinishedCount>0?this.$Message.warning("有进行中的任务，暂时不能关闭项目"):this.$Modal.confirm({title:"确定要关闭这个项目吗？",content:`<p>项目名称：${this.project.project_name}</p><p>关闭之后，项目内将不能再添加任务。</p>`,onOk:()=>{this.fetchCloseProject().then(()=>{t()})}})})});return t}},asyncMethods:{fetchCloseProject(){const e={project_id:this.project.project_id};return Object(s["b"])(e).then(e=>{e?this.$Message.success("项目关闭成功"):this.$Message.error("项目关闭失败")}).catch(e=>{this.$Message.error("操作失败："+e.message)})},fetchUnfinishedCount(){const e={page:{start:0,size:0,return_total:1},project_id:this.project.project_id,task_status_list:[0,10,20,30]};return n["a"].GetTaskList(e).then(e=>e.data.result.total).catch(e=>{console.log(e)})}}},l=o,c=a("2be6"),d=Object(c["a"])(l,r,i,!1,null,null,null);t["a"]=d.exports},1727:function(e,t,a){"use strict";a("ed50")},1728:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.template?a("t-layout",{staticStyle:{height:"100vh"}},[a("div",{staticClass:"z-header"},[a("div",{staticClass:"z-header__left"},[a("Row",{staticClass:"z-header__logo z-header__item",attrs:{type:"flex",justify:"start"}},[a("div",{on:{click:function(t){return e.$router.push("/")}}},[a("Icon",{staticStyle:{"margin-right":"20px",cursor:"pointer","font-size":"24px"},attrs:{type:"ios-home"}})],1),e.template.standardized_id?a("StandardizeMark",{attrs:{size:"large"}}):e._e(),a("b",[e._v(e._s(e.template.template_name))])],1),a("Button",{staticClass:"z-header__item",attrs:{type:"text"},on:{click:function(t){return e.showDesc(e.template)}}},[e._v("标注说明")])],1),a("div",{staticClass:"z-header__right"},[a("div",{staticClass:"z-header__item"},[a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.showModal6()}}},[e._v("标注结果")]),a("Modal",{attrs:{title:"标注结果"},model:{value:e.modal6,callback:function(t){e.modal6=t},expression:"modal6"}},[a("pre",{staticStyle:{"word-break":"break-all","white-space":"pre-wrap"}},[e._v(e._s(e.modal6Model))])])],1),a("div",{staticClass:"z-header__item"},[a("Avatar",{attrs:{icon:"ios-person"}})],1)])]),a("optimus-engine",{ref:"engine",attrs:{component:e.component,context:e.context,answer:e.preAnnotatorAnswer,schema:e.schema,active:!0,objectId:e.template_id,objectType:"template"}})],1):e._e()},i=[],n=a("c495"),s=a("cb78"),o=a("9ec3"),l=a("c099"),c=a("bccd"),d=a.n(c),u={components:{StandardizeMark:l["a"]},data(){return{template:null,schema:[],context:{},template_id:this.$route.params.id,modal6:!1,modal6Model:null,component:{},answerJsonSchemaKey:"$answer"}},computed:{preAnnotatorAnswer(){return this.context[this.answerJsonSchemaKey]&&Object(o["find"])(this.schema,{key:this.answerJsonSchemaKey})?Object(n["b"])(this.component,this.context[this.answerJsonSchemaKey]):{}}},created(){this.getTemplate()},methods:{showModal6(){const{result:e}=this.$refs.engine;this.modal6Model=JSON.stringify(e,null," "),this.modal6=!0},showDesc(e){this.$Modal.info({title:"标注说明",content:e.description})},getTemplate(){const e=this;e.$Loading.start();const t={template_id:d()(this.template_id)},a=s["a"].getTemplateDescribe(t);a.then(t=>{const a=t.data.result;this.template=a,this.schema=JSON.parse(a.template_schema);const r={};this.schema.forEach(e=>{r[e.key]=e.demoValue}),(a.template_tagset||[]).forEach(e=>{r[e.tagset_key]=JSON.parse(e.tagset_content)});const i=JSON.parse(a.template_sample);Object.keys(r).forEach(e=>{void 0!==i[e]&&(r[e]=i[e])}),this.context=r,this.component=JSON.parse(a.template_component),e.$Loading.finish()})}}},h=u,p=(a("4c36"),a("2be6")),f=Object(p["a"])(h,r,i,!1,null,"4e7b09cf",null);t["default"]=f.exports},1881:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isShowTemplate?r("t-layout",{staticClass:"template-editor"},[r("t-header",[r("t-head-menu",{staticClass:"header-bar",on:{change:e.handleTabChange},scopedSlots:e._u([{key:"logo",fn:function(){return[r("t-space",{attrs:{align:"center",size:"small"}},[r("t-icon",{staticClass:"pointer",attrs:{name:"home",size:"16px"},on:{click:function(t){return e.$router.push("/")}}}),r("div",{staticClass:"title"},[e._v("编辑模板:")]),r("t-tooltip",{attrs:{content:e.template.template_name}},[r("input",{directives:[{name:"autowidth",rawName:"v-autowidth",value:{maxWidth:"240px",minWidth:"20px",comfortZone:0},expression:"{maxWidth: '240px', minWidth: '20px', comfortZone: 0}"},{name:"model",rawName:"v-model",value:e.template.template_name,expression:"template.template_name"}],staticClass:"title-input",attrs:{type:"text",readonly:""},domProps:{value:e.template.template_name},on:{input:function(t){t.target.composing||e.$set(e.template,"template_name",t.target.value)}}})]),r("t-tooltip",{attrs:{placement:"right",disabled:!["任务模板","项目模板"].includes(e.templateFrom)},scopedSlots:e._u([{key:"content",fn:function(){return[r("span",[e._v(e._s("任务模板"===e.templateFrom?"来源任务":"来源项目"))]),r("a",{on:{click:e.jumpToProject}},[e._v(e._s(e.template.template_name))])]},proxy:!0}],null,!1,3217543187)},[e.templateFrom?r("t-tag",{attrs:{theme:"success",variant:"outline"}},[e._v(e._s(e.templateFrom))]):e._e()],1)],1)]},proxy:!0},{key:"operations",fn:function(){return[r("t-space",{attrs:{size:"small"}},[r("t-icon",{staticClass:"green",attrs:{name:"check-circle-filled"}}),r("span",{staticClass:"time"},[e._v(e._s(e.template.updated_at)+" 已保存")]),r("t-button",{attrs:{theme:"primary",variant:"outline"},on:{click:e.handlePreview}},[e._v("预览")]),r("t-button",{attrs:{loading:e.fetchSubmit.isPending},on:{click:e.saveSubmit}},[e._v("保存")])],1)]},proxy:!0}],null,!1,1203737826),model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[r("t-menu-item",{attrs:{value:"info"}},[e._v("基本信息")]),r("t-menu-item",{attrs:{value:"data"}},[e._v("数据配置及预处理")]),r("t-menu-item",{attrs:{value:"component"}},[e._v("界面配置")]),e.isHeplerEnabled?r("t-menu-item",{attrs:{value:"helper"}},[e._v("智能辅助")]):e._e(),e.isRelatedTemplate?e._e():r("t-menu-item",{attrs:{value:"permission"}},[e._v("权限管理")])],1)],1),"任务模板"===e.templateFrom?r("t-alert",{staticClass:"alert",attrs:{theme:"warning"}},[e._v("【预处理/预标注"+e._s(e.isHeplerEnabled?"/智能辅助":"")+"/标注检查】等配置需在项目模板上传数据前完成，修改任务模板不生效"),r("t-link",{staticClass:"mls",attrs:{theme:"primary",hover:"color",href:"https://iwiki.woa.com/p/4014887435",target:"_blank"}},[e._v("查看详情")])],1):e.helperChange&&e.isHeplerEnabled?r("t-alert",{staticClass:"alert",attrs:{theme:"warning"}},[e._v("检测到当前模板全局标签发生变更，建议重新配置智能辅助"),r("t-link",{staticClass:"mls",attrs:{theme:"primary",hover:"color"},on:{click:e.handleHelpersReconfig}},[e._v("重新配置")])],1):e._e(),r("t-layout",{staticStyle:{overflow:"auto","flex-direction":"row"}},["data"===e.tab?r("t-aside",[r("t-menu",{model:{value:e.subTab,callback:function(t){e.subTab=t},expression:"subTab"}},e._l(e.subMenus[e.tab],(function(t){return r("t-menu-item",{attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1):e._e(),r("t-aside",{directives:[{name:"show",rawName:"v-show",value:"component"===e.tab,expression:"tab === 'component'"}],staticClass:"component-aside"},[r("t-tabs",{staticClass:"tabs",model:{value:e.subTab,callback:function(t){e.subTab=t},expression:"subTab"}},[r("t-tab-panel",{staticClass:"panel",attrs:{value:"main",label:"主界面","destroy-on-hide":!1}},[r("ReferenceVariable",{attrs:{variables:e.templateSchema,expressionVariable:e.expressionVariable,tagsetVariable:e.tagsetVariable,objectVariable:e.objectVariable}}),r("Collapse",{staticClass:"form-collapse",attrs:{accordion:"",value:e.activePanel=e.configAttributeTemplate?"attribute":"globalComponent"},on:{"on-change":function(t){e.activePanel=t}}},[e.pageLayoutShow?r("Panel",{attrs:{name:"pageLayout"}},[e._v("页面布局"),r("template",{slot:"content"},[e._v("一页多题/题包样式"),r("Poptip",{attrs:{placement:"right",transfer:"",width:"1200"},model:{value:e.previewVisible,callback:function(t){e.previewVisible=t},expression:"previewVisible"}},[r("a",[e._v("(点击预览)")]),r("div",{attrs:{slot:"title"},slot:"title"},[r("div",{staticClass:"preview-header"},[e._v("一页多题样式("+e._s("normal"===e.layout?"常规":"列表")+")"),r("Icon",{attrs:{type:"ios-close"},on:{click:e.handlePreviewClose}})],1)]),r("div",{attrs:{slot:"content"},slot:"content"},["normal"===e.layout?r("img",{attrs:{width:"100%",src:a("e78f")}}):r("img",{attrs:{width:"100%",src:a("8c51")}})])]),r("div",{staticClass:"page-layout-radio"},[e.pageLayoutEnable?r("RadioGroup",{model:{value:e.layout,callback:function(t){e.layout=t},expression:"layout"}},[r("Radio",{attrs:{label:"normal",disabled:!e.pageLayoutEnable}},[e._v("常规")]),r("Radio",{attrs:{label:"list",disabled:!e.pageLayoutEnable}},[e._v("列表")])],1):r("Tooltip",{attrs:{content:"配置了元素标签的模板，暂不支持列表样式",placement:"top-start","max-width":"300"}},[r("RadioGroup",{model:{value:e.layout,callback:function(t){e.layout=t},expression:"layout"}},[r("Radio",{attrs:{label:"normal",disabled:!e.pageLayoutEnable}},[e._v("常规")]),r("Radio",{attrs:{label:"list",disabled:!e.pageLayoutEnable}},[e._v("列表")])],1)],1)],1)],1)],2):e._e(),e.isMultipleGroupsStage?r("Panel",{attrs:{name:"multipleGroupsStage"}},[e._v("容器配置（根据数据配置的字段自动生成容器）"),r("template",{slot:"content"},[r("Collapse",{attrs:{accordion:""},model:{value:e.activeGroup,callback:function(t){e.activeGroup=t},expression:"activeGroup"}},e._l(e.groupsLists,(function(t,a){return r("Panel",{key:t.attributes.name,attrs:{name:t.attributes.name}},[e._v(e._s(t.attributes.title)),r("template",{slot:"content"},[r("GroupForm",{attrs:{form:t.attributes,groups:e.groupsLists,name:t.attributes.name}})],1)],2)})),1)],1)],2):e._e(),e.configAttributeTemplate?r("Panel",{attrs:{name:"attribute"}},[e._v("工具属性"),r("template",{slot:"content"},[r("optimus-engine",e._b({key:e.configAttributeRenderCounter,ref:"configAttributeTemplate",attrs:{schema:e.templateSchema,context:e.tagsetContext}},"optimus-engine",e.configAttributeTemplate,!1))],1)],2):e._e(),e.isDefaultStage?r("Panel",{attrs:{name:"groupConfig"}},[e._v("容器配置（根据数据配置自动生成容器）"),r("template",{slot:"content"},[r("Collapse",{attrs:{accordion:""},model:{value:e.activeGroup,callback:function(t){e.activeGroup=t},expression:"activeGroup"}},e._l(e.containerList,(function(t,a){return r("Panel",{key:t.name,attrs:{name:t.name}},[r("span",[e._v(e._s(t.title))]),r("template",{slot:"content"},[r("DefaultGroupForm",e._b({ref:"defaultGroupForm",refInFor:!0,attrs:{context:e.tagsetContext,disabled:!e.isEditSchema},on:{"component-update":e.handleUpdate}},"DefaultGroupForm",t,!1))],1)],2)})),1)],1)],2):e._e(),e.stageMetadata.disableGlobalTags&&e.isMultipleAiChat?e._e():r("Panel",{attrs:{name:"globalComponent"}},[e._v("全局标签"),r("List",{staticClass:"group-content",attrs:{slot:"content"},slot:"content"},[e.templateComponent.items?[r("draggable",{attrs:{list:e.templateComponent.items,handle:".move",scroll:!0,"force-fallback":!0},on:{end:e.fetchSubmit}},[e._l(e.templateComponent.items,(function(t,a){return[t.attributes&&!t.attributes.hidden&&"z-container-stage"!==t.component?[r("ListItem",[r("ListItemMeta",{attrs:{title:t.attributes.label,description:"#"+t.attributes.name+","+e.getComponentLabel(t.component)}}),r("template",{slot:"action"},[r("t-space",{attrs:{size:"small"}},[e.isStandardize&&e.isFromProject?r("Button",{attrs:{icon:"ios-eye-off-outline"},on:{click:function(a){return e.onChangeComponentVisible({visible:!1,item:t,range:"global"})}}}):r("Button",{attrs:{icon:"ios-trash-outline"},on:{click:function(t){return e.trashConfig({index:a,type:"component",range:"global"})}}}),r("Button",{attrs:{icon:"ios-create-outline"},on:{click:function(r){return e.showComponentModal({type:"edit",item:t,index:a,range:"global"})}}}),r("Button",{attrs:{icon:"md-copy"},on:{click:function(a){return e.copyVal({type:"global",value:t})}}}),r("Button",{staticClass:"move",attrs:{icon:"md-move"}})],1)],1)],2)]:e._e()]}))],2)]:e._e(),e.templateComponent.$items?[e._l(e.templateComponent.$items,(function(t,a){return[t.attributes&&!t.attributes.hidden&&"z-container-stage"!==t.component?[r("ListItem",{staticStyle:{"background-color":"#fafafa"}},[r("ListItemMeta",{attrs:{description:"#"+t.attributes.name+","+e.getComponentLabel(t.component)},scopedSlots:e._u([{key:"title",fn:function(){return[r("span",[e._v(e._s(t.attributes.label))]),r("Tooltip",{attrs:{content:"隐藏中",placement:"top"}},[r("Icon",{staticClass:"mls",attrs:{type:"ios-eye-off-outline"}})],1)]},proxy:!0}],null,!0)}),r("template",{slot:"action"},[r("li",[e.isStandardize&&e.isFromProject?r("Button",{attrs:{icon:"ios-eye-outline"},on:{click:function(a){return e.onChangeComponentVisible({visible:!0,item:t,range:"global"})}}}):e._e()],1)])],2)]:e._e()]}))]:e._e(),r("ListItem",{staticClass:"group-action"},[r("Button",{attrs:{type:"primary",disabled:e.isStandardize&&e.isFromProject},on:{click:function(t){return e.showComponentModal({type:"add",range:"global"})}}},[e._v("添加标签")])],1)],2)],1),e.toolsOptions&&e.toolsOptions.length>0?r("Panel",{staticClass:"element-label",class:e.isDefaultStage?"default-panel":"",attrs:{name:"annotation"}},[r("span",[e._v("元素标签")]),e.isMultipleGroupsStage?r("span",[e._v("（不同容器可配置不同元素标签）")]):e._e(),e.isDefaultStage?r("div",{staticClass:"tip"},[e._v("不同容器可配置不同元素标签，部分因所选标注组件不支持配置。")]):e._e(),r("template",{slot:"content"},[e.isMultipleGroupsStage?r("div",{staticClass:"group-select"},[r("Select",{on:{"on-change":e.changeGroup},model:{value:e.curSelectGroup,callback:function(t){e.curSelectGroup=t},expression:"curSelectGroup"}},e._l(e.groupsLists,(function(e){return r("Option",{key:e.attributes.name,attrs:{value:e.attributes.name,label:e.attributes.title}})})),1)],1):e._e(),e.isDefaultStage?r("div",{staticClass:"group-select"},[r("Select",{on:{"on-change":e.changeGroup},model:{value:e.curSelectGroup,callback:function(t){e.curSelectGroup=t},expression:"curSelectGroup"}},[e._l(e.hasToolContainerList,(function(e){return[r("Option",{attrs:{value:e.name,label:e.title}})]}))],2)],1):e._e(),r("Split",{staticClass:"split-container",attrs:{mode:"vertical"},model:{value:e.splitValue,callback:function(t){e.splitValue=t},expression:"splitValue"}},["unShow"!==e.toolsOptions[0].type?r("div",{attrs:{slot:"top"},slot:"top"},[r("div",{staticClass:"title"},[r("h3",[r("span",[e._v("一级标签("+e._s(e.templateComponent.$object_tools.length)+")")])]),r("Button",{attrs:{type:"primary",disabled:e.toolAddDisabled},on:{click:function(t){return e.showToolModal({type:"add"})}}},[e._v("添加工具")])],1),r("List",{staticClass:"group-content"},[e.templateComponent.$object_tools?[r("draggable",{attrs:{list:e.templateComponent.$object_tools,handle:".move",scroll:!0,"force-fallback":!0},on:{end:e.fetchSubmit}},e._l(e.curGroupObjectTools,(function(t,a){return r("ListItem",{key:t.name,class:{selectedStyle:e.curSelectTool&&e.curSelectTool.name===t.name},nativeOn:{click:function(a){return e.handleSelectToolTag(t)}}},[r("ListItemMeta",{staticStyle:{"word-break":"break-all"},attrs:{description:e.getToolLabel(t.type)+","+t.name}},[r("template",{slot:"title"},[r("span",[e._v(e._s(t.label))]),e.showAIMarker(t.helps)?r("div",{staticClass:"ai-mark"},[e._v("AI")]):e._e()])],2),r("template",{slot:"action"},[r("t-space",{attrs:{size:"small"}},[r("Button",{attrs:{disabled:e.stageMetadata.toolReadonly||e.isStandardize&&e.isFromProject,icon:"ios-trash-outline"},on:{click:function(r){return r.stopPropagation(),e.trashConfig({index:a,item:t,type:"tool"})}}}),r("Button",{attrs:{icon:"ios-create-outline",disabled:e.stageMetadata.toolReadonly},on:{click:function(r){return r.stopPropagation(),e.showToolModal({type:"edit",item:t,index:a})}}}),r("Button",{attrs:{icon:"md-copy"},on:{click:function(a){return e.copyVal({type:"tool",value:t})}}}),r("Button",{staticClass:"move",attrs:{icon:"md-move"}})],1)],1)],2)})),1)]:e._e()],2)],1):e._e(),r("div",{attrs:{slot:"bottom"},slot:"bottom"},[r("div",{staticClass:"title"},[r("div",{staticClass:"title-left"},[r("h3",[r("span",[e._v("二级标签("+e._s(e.objectItemGroupArr[0].length+e.objectItemGroupArr[1].length)+")")])])]),r("Button",{attrs:{type:"primary",disabled:e.isStandardize&&e.isFromProject},on:{click:function(t){return e.showComponentModal({type:"add",range:"local"})}}},[e._v("添加标签")])],1),r("List",{staticClass:"group-content"},[e.templateComponent.$object_items.length>0?[r("ListItem",[r("ListItemMeta",[r("template",{slot:"title"},[r("Checkbox",{attrs:{value:e.allSelected},nativeOn:{click:function(t){return t.preventDefault(),e.handleCheckAll.apply(null,arguments)}}},[e._v("全选")])],1)],2),r("template",{slot:"action"},[e.isStandardize&&e.isFromProject?e._e():r("li",{on:{click:e.handleBatchDelete}},[r("span",[e._v("批量删除")])]),r("li",[r("Tooltip",{attrs:{placement:"left"}},[r("span",{on:{click:e.handleChangeLabelOrder}},[e._v(e._s(e.isPrivateLabelFront?"公共标签在前":"私有标签在前"))]),r("template",{slot:"content"},[r("p",[e._v(e._s(e.isPrivateLabelFront?"将所有公共标签移动到私有标签前面":"将所有私有标签移动到公共标签前面"))])])],2)],1)])],2),r("CheckboxGroup",{on:{"on-change":e.checkAllGroupChange},model:{value:e.objectItemsArr,callback:function(t){e.objectItemsArr=t},expression:"objectItemsArr"}},e._l(e.objectItemGroupArr,(function(t,a){return r("draggable",{attrs:{handle:".move",scroll:!0,"force-fallback":!0,list:t},on:{end:function(t){return e.handleOrderObjectItems(t,a)}}},e._l(t,(function(t,i){return r("ListItem",{key:t.name},[r("ListItemMeta",{attrs:{description:e.getComponentLabel(t.component)+","+t.attributes.name}},["ai"!==e.getComponentType(t.component)?r("template",{slot:"avatar"},[r("Checkbox",{attrs:{label:t.attributes.name}},[r("span")])],1):r("template",{slot:"avatar"},[r("Tooltip",{attrs:{content:"AI辅助工具绑定转写框，不支持删除",placement:"right"}},[r("Checkbox",{attrs:{label:t.attributes.name,disabled:!0}},[r("span")])],1)],1),r("template",{slot:"title"},[r("span",[e._v(e._s(t.attributes.label))]),"ai"===e.getComponentType(t.component)?r("span",[e._v("("+e._s(e.getReferenceTool(t.attributes.reference))+")")]):e._e(),t.attributes.reference&&"all"!==t.attributes.reference?r("Tag",{staticStyle:{marginLeft:"10px"},attrs:{color:"gold"}},[e._v("私有")]):r("Tag",{staticStyle:{marginLeft:"10px"},attrs:{color:"green"}},[e._v("公共")])],1)],2),r("template",{slot:"action"},[r("t-space",{attrs:{size:"small"}},[r("Tooltip",{attrs:{disabled:"ai"!==e.getComponentType(t.component),content:"AI辅助工具绑定转写框，不支持删除",placement:"top"}},[r("Button",{attrs:{disabled:"ai"===e.getComponentType(t.component)||e.isStandardize&&e.isFromProject,icon:"ios-trash-outline"},on:{click:function(t){return e.trashConfig({index:i,scopeIndex:a,type:"component",range:"local"})}}})],1),r("Button",{attrs:{icon:"ios-create-outline"},on:{click:function(r){return e.showComponentModal({type:"edit",item:t,index:i,scopeIndex:a,range:"local"})}}}),r("Tooltip",{attrs:{disabled:"ai"!==e.getComponentType(t.component),content:"AI辅助工具绑定转写框，不支持复制",placement:"top",transfer:""}},[r("Button",{attrs:{disabled:"ai"===e.getComponentType(t.component),icon:"md-copy"},on:{click:function(a){return e.copyVal({type:"local",value:t})}}})],1),r("Button",{staticClass:"move",attrs:{icon:"md-move"}})],1)],1)],2)})),1)})),1)]:e._e()],2)],1)])],1)],2):e._e(),e.stageMetadata.disableGlobalTags?e._e():r("Panel",{staticClass:"label-group",attrs:{name:"labelGroup"}},[r("div",{staticStyle:{display:"inline-block",width:"90%"}},[r("span",[e._v("标注工序（管理各工序可标注的标签")]),r("Tooltip",{staticStyle:{"margin-right":"10px"},attrs:{placement:"top","max-width":300,transfer:""}},[r("template",{slot:"content"},[r("p",[e._v("未配置工序编排时，各工序上的标签均可标注")]),r("p",[e._v("配置工序编排后，任务可指定某一工序上的标签进行标注（其余标签为只读状态）")])]),r("Icon",{staticClass:"help-icon",attrs:{type:"ios-help-circle"}}),r("span",[e._v(")")])],2)],1),r("template",{slot:"content"},[r("LabelGroup",{key:e.labelGroupRenderCounter,ref:"labelGroup",attrs:{templateComponent:e.templateComponent,fetchSubmit:e.fetchSubmit}})],1)],2)],1)],1),r("t-tab-panel",{staticClass:"panel",attrs:{value:"invalid",label:"标注无效界面","destroy-on-hide":!1}},[r("h4",[e._v("无效数据预设标签:")]),r("div",{staticClass:"invalid-component-lists"},[e._l(e.templateComponent.invalid_items,(function(t,a){return["z-single-select"===t.component?[r("draggable",{staticClass:"list-group",attrs:{tag:"ul",list:t.attributes.options,handle:".move","ghost-class":"ghost"}},e._l(t.attributes.options,(function(t,a){return r("li",{key:a,staticClass:"invalid-component-item"},[r("div",{staticClass:"input"},[r("Input",{attrs:{type:"text",placeholder:"输入标签"},on:{"on-blur":function(e){t.label=t.value}},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"option.value"}})],1),r("div",{staticClass:"actions"},[r("span",{on:{click:function(t){return e.deleteInvalidTag(a)}}},[r("Icon",{attrs:{type:"ios-trash"}})],1),r("span",{staticClass:"move"},[r("Icon",{attrs:{type:"md-move"}})],1)])])})),0)]:e._e()]})),r("Button",{staticStyle:{marginBottom:"20px"},attrs:{type:"dashed",long:!0},on:{click:e.addInvalidTag}},[e._v("+ 添加标签")]),e._l(e.templateComponent.invalid_items,(function(t,a){return[r("Form",{directives:[{name:"show",rawName:"v-show",value:"z-single-select"===t.component,expression:"invalid_item.component === 'z-single-select'"}]},[r("FormItem",{attrs:{label:"是否必填",required:""}},[r("i-switch",{model:{value:t.attributes.required,callback:function(a){e.$set(t.attributes,"required",a)},expression:"invalid_item.attributes.required"}},[r("span",{attrs:{slot:"open"},slot:"open"},[e._v("是")]),r("span",{attrs:{slot:"close"},slot:"close"},[e._v("否")])])],1)],1)]}))],2)])],1)],1),r("t-content",{class:e.tab+"-content"},["permission"===e.tab?[r("PermissionManager",{attrs:{objType:"template",objId:e.templateId,obj:e.template}})]:e._e(),"info"===e.tab?[r("Form",{staticClass:"mlm mrm",attrs:{"label-position":"top"}},[r("FormItem",{attrs:{label:"模板ID"}},[r("Input",{attrs:{value:String(e.template.template_id),disabled:"",type:"text"}})],1),e.isStandardize?r("FormItem",{attrs:{label:"标准化ID"}},[r("Input",{attrs:{value:e.template.standardized_id.toString(),disabled:""}})],1):e._e(),r("FormItem",{attrs:{label:"标注场景"}},[r("RadioGroup",{model:{value:e.templateScene,callback:function(t){e.templateScene=t},expression:"templateScene"}},e._l(e.TemplateScenes,(function(t){return r("Radio",{key:t,staticClass:"mrl",attrs:{value:t,label:t,disabled:0!==e.form.template_origin}})})),1)],1),0!==e.form.template_origin?r("FormItem",{staticClass:"mrl",attrs:{label:"模板类型"}},[r("Select",{ref:"select",attrs:{disabled:""},model:{value:e.templateLevel,callback:function(t){e.templateLevel=t},expression:"templateLevel"}},[r("Option",{attrs:{value:e.templateLevel}},[e._v(e._s(e.templateLevel))])],1)],1):r("Row",{staticStyle:{position:"relative"},attrs:{type:"flex",align:"bottom"}},[e.fetchTemplateLevel1s.isPending?r("Spin",{attrs:{fix:""}}):e._e(),r("Col",{attrs:{span:"8"}},[r("FormItem",{staticClass:"mrl",attrs:{label:"模板类型"}},[r("Select",{ref:"select",attrs:{placeholder:"请选择或输入一级分类",clearable:"",filterable:"","allow-create":""},on:{"on-create":e.handleCreateLevel1},model:{value:e.templateLevel1,callback:function(t){e.templateLevel1=t},expression:"templateLevel1"}},e._l(e.templateLevel1s,(function(t){return r("Option",{key:t.template_level1,attrs:{value:t.template_level1}},[e._v(e._s(t.template_level1))])})),1)],1)],1),r("Col",{attrs:{span:"8"}},[r("FormItem",{staticClass:"mrm",attrs:{"label-width":0}},[r("Input",{attrs:{placeholder:"请输入二级分类"},model:{value:e.templateLevel2,callback:function(t){e.templateLevel2=t},expression:"templateLevel2"}})],1)],1)],1),r("FormItem",{attrs:{label:"模板名称"}},[r("Input",{attrs:{maxlength:20},model:{value:e.form.template_name,callback:function(t){e.$set(e.form,"template_name",t)},expression:"form.template_name"}})],1),r("FormItem",{attrs:{label:"模板简介"}},[r("Input",{attrs:{type:"textarea",rows:4},model:{value:e.form.template_desc,callback:function(t){e.$set(e.form,"template_desc",t)},expression:"form.template_desc"}})],1)],1)]:e._e(),"data"===e.tab?["tagset"===e.subTab?r("EditTagset",{attrs:{templateTagsetList:e.templateTagsetList,templateSchema:e.templateSchema,templateId:e.templateId,projectId:e.projectId,fetchTemplate:e.refreshTemplate}}):e._e(),"preProcess"===e.subTab?r("PreProcess",{attrs:{helpers:e.templateComponent.helpers,disabled:["formal-task","bid-task"].includes(e.template.related_object_type)},on:{change:e.handleServiceChange}}):e._e(),"schema"===e.subTab?[r("t-alert",[r("span",[e._v("模板数据列")]),r("b",{staticClass:"mrs mls"},[e._v("KEY值")]),r("span",[e._v("需与待上传文件")]),r("b",{staticClass:"mrs mls"},[e._v("表头名称")]),r("span",[e._v("一致，顺序不限。")])]),r("t-row",{staticClass:"mtm",attrs:{justify:"space-between",align:"center"}},[r("t-space",[r("Button",{attrs:{type:"primary",disabled:!e.isEditSchema||e.isStandardize},on:{click:function(t){return e.showDoFieldModal({item:{},index:-1})}}},[e._v("添加列")]),r("FieldImport",{attrs:{templateSchema:e.templateSchema,disabled:!e.isEditSchema||e.isStandardize},on:{import:e.handleImportFields}})],1),r("div",{staticClass:"data-content-header"},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.isAnswerImport,expression:"isAnswerImport"}],staticClass:"mrm"},[r("span",{staticClass:"mrm"},[e._v("是否支持预标注")]),r("i-switch",{attrs:{disabled:!e.isEditSchema},model:{value:e.isPreAnnotate,callback:function(t){e.isPreAnnotate=t},expression:"isPreAnnotate"}},[r("span",{attrs:{slot:"open"},slot:"open"},[e._v("是")]),r("span",{attrs:{slot:"close"},slot:"close"},[e._v("否")])])],1),r("div",{staticClass:"data-content-header-right"},[r("div",{staticClass:"label"},[e._v("选择主键")]),r("Select",{attrs:{disabled:!e.isEditSchema},on:{"on-change":e.handleSetSchemaPrimaryKey},model:{value:e.schemaPrimaryKey,callback:function(t){e.schemaPrimaryKey=t},expression:"schemaPrimaryKey"}},[e._l(e.templateSchema,(function(t){return[t.key!==e.answerJsonSchemaKey?r("Option",{attrs:{value:t.key}},[e._v(e._s(t.key))]):e._e()]}))],2)],1)])],1),r("Table",{staticClass:"group-content",attrs:{draggable:"","row-key":"id",columns:e.schemaColumns,data:e.templateSchema},on:{"on-drag-drop":e.handleSchemaDrag},scopedSlots:e._u([{key:"desc",fn:function(t){var a=t.row;return[r("Tooltip",{attrs:{placement:"top"}},[r("div",{staticClass:"txt-pre-wrap",attrs:{slot:"content"},slot:"content"},[e._v(" "+e._s(a.desc))]),r("span",[e._v(e._s(e._f("truncate")(a.desc,{length:13})))])])]}},{key:"group",fn:function(t){var a=t.row;return[e._v(e._s(a.group||"-"))]}},{key:"primary",fn:function(t){var a=t.row;return[!0===a.primary?r("Tag",{attrs:{color:"orange"}},[e._v("是")]):!1===a.primary?r("Tag",[e._v("否")]):r("span",[e._v("-")])]}},{key:"required",fn:function(t){var a=t.row;return[a.required?r("Tag",{attrs:{color:"orange"}},[e._v(" 是")]):r("Tag",[e._v("否")])]}},{key:"display",fn:function(t){var a=t.row;return[a.display?r("Tag",{attrs:{color:"orange"}},[e._v(" 是")]):r("Tag",[e._v("否")])]}},{key:"url_type",fn:function(t){var a=t.row;return[e._v(e._s(a.url_type||"-"))]}},{key:"url_dump",fn:function(t){var a=t.row;return[a.url_dump?r("Tag",{attrs:{color:"orange"}},[e._v(" 是")]):r("Tag",[e._v("否")])]}},{key:"element_type",fn:function(t){var a=t.row;return[e._v(e._s(a.element_type||"-"))]}},{key:"action",fn:function(t){var a=t.row,i=t.index;return[r("Button",{attrs:{icon:"ios-trash-outline",disabled:!e.isEditSchema||a.key===e.answerJsonSchemaKey||e.isStandardize},on:{click:function(t){return e.trashSchemaField({index:i,isElement:a.isElement,parentIndex:a.parentIndex})}}}),e._v("  "),r("Button",{attrs:{icon:"ios-create-outline",disabled:!e.isEditSchema&&"task"!==e.$route.query.from},on:{click:function(t){return e.showDoFieldModal({item:a,index:i,isElement:a.isElement,parentIndex:a.parentIndex})}}}),e._v("  "),r("Button",{attrs:{icon:"md-copy",disabled:a.isElement},on:{click:function(t){return e.copyVal({type:"schema",value:a})}}}),e._v("  "),r("Button",{attrs:{icon:"md-move",disabled:a.isElement}}),e._v("  "),"array"===a.type&&"object"===a.element_type?r("Button",{attrs:{icon:"ios-add"},on:{click:function(t){return e.showDoFieldModal({item:{},index:i,isElement:!0,parentIndex:-1})}}}):e._e()]}}],null,!1,1055681054)}),r("div",{staticClass:"mtm mbs"},[r("span",[e._v("按数据列配置")]),r("b",[e._v("单条 JSON 数据样例")]),r("span",[e._v("，即可在模板中查看效果。（")]),r("a",{attrs:{href:"https://www.bejson.com/",target:"_blank"}},[e._v("JSON转换工具")]),r("span",[e._v("）")])]),r("Form",{ref:"dataDemoValidate",attrs:{rules:e.dataDemoValidate,model:e.templateSampleForm}},[r("FormItem",{attrs:{label:"",prop:"templateSample"}},[r("Input",{attrs:{type:"textarea",rows:4},model:{value:e.templateSampleForm.templateSample,callback:function(t){e.$set(e.templateSampleForm,"templateSample",t)},expression:"templateSampleForm.templateSample"}})],1)],1)]:e._e()]:e._e(),r("div",{directives:[{name:"show",rawName:"v-show",value:"component"===e.tab,expression:"tab === 'component'"}],staticStyle:{height:"100%"}},[r("t-row",{staticClass:"component-header",attrs:{align:"center",justify:"space-between"}},[r("span",[e._v("【标注界面预览】")]),r("t-space",{attrs:{size:"small"}},[r("t-button",{staticClass:"square-btn",attrs:{variant:"text"},on:{click:e.showPreviewResult}},[r("div",{staticClass:"btn-content"},[r("t-icon",{attrs:{name:"code",size:"16"}}),r("div",{staticClass:"btn-text"},[e._v("JSON")])],1)]),e.stageMetadata.shortCuts?r("t-popup",{attrs:{placement:"bottom-end",overlayInnerStyle:{maxHeight:"500px",overflow:"auto"}},scopedSlots:e._u([{key:"content",fn:function(){return[r("h3",[e._v("快捷键")]),e._l(e.stageMetadata.shortCuts,(function(t){return r("div",[r("h4",{staticClass:"mbm"},[e._v(e._s(t.label))]),e._l(t.attributes,(function(t){return r("t-row",{staticClass:"mbm",staticStyle:{gap:"4px"},attrs:{align:"center"}},[e._l(t.name,(function(a,i){return r("span",[r("t-button",{staticStyle:{width:"85px"},attrs:{size:"small",variant:"outline",disabled:!t.global}},[e._v(e._s(a))]),i<t.name.length-1?[t.connection?r("span",[e._v(e._s(t.connection))]):r("span",{staticClass:"mrm mlm"},[e._v("+")])]:e._e()],2)})),r("span",[e._v(e._s(t.label))])],2)}))],2)}))]},proxy:!0}],null,!1,4124210032)},[r("t-button",{staticClass:"square-btn",attrs:{variant:"text"}},[r("div",{staticClass:"btn-content"},[r("t-icon",{attrs:{name:"keyboard",size:"16"}}),r("div",{staticClass:"btn-text"},[e._v("快捷键")])],1)])],1):e._e(),r("t-divider",{attrs:{layout:"vertical"}}),r("t-button",{on:{click:e.handleSubmitMock},scopedSlots:e._u([{key:"icon",fn:function(){return[r("t-icon",{attrs:{name:"task-checked"}})]},proxy:!0}],null,!1,1843646141)},[r("span",[e._v("校验")])]),e.isHeplerEnabled&&e.isHelperOk?r("t-button",{attrs:{variant:"outline",theme:"primary",loading:e.mockLoading},on:{click:e.handleHelperMock},scopedSlots:e._u([{key:"icon",fn:function(){return[r("t-icon",{attrs:{name:"filter-2"}})]},proxy:!0}],null,!1,2225018405)},[r("span",[e._v("辅助标注")])]):e._e(),r("t-button",{attrs:{theme:"default"},on:{click:e.handleReset},scopedSlots:e._u([{key:"icon",fn:function(){return[r("t-icon",{attrs:{name:"rollback"}})]},proxy:!0}],null,!1,3884546028)},[r("span",[e._v("重置")])])],1)],1),r("optimus-engine",{key:e.optimusRenderCounter,ref:"mainEngine",attrs:{component:e.templateComponent,context:e.allContext,answer:e.autoLabelAnswer?e.autoLabelAnswer:e.preAnnotatorAnswer,schema:e.templateSchema,active:!0,objectId:e.templateId,objectType:"template",isNeedAutoValidate:!0,debug:"",reference:{watermarkContent:e.userInfo.real_user_id}}})],1),r("EditHelper",{directives:[{name:"show",rawName:"v-show",value:"helper"===e.tab,expression:"tab === 'helper'"}],ref:"helper",attrs:{templateComponent:e.templateComponent,template:e.template,templateFrom:e.templateFrom,context:e.componentContext,disabled:"任务模板"===e.templateFrom}})],2)],1),r("Modal",{staticClass:"config-modal",attrs:{"class-name":""},model:{value:e.componentModal.open,callback:function(t){e.$set(e.componentModal,"open",t)},expression:"componentModal.open"}},[r("p",{attrs:{slot:"header"},slot:"header"},[e._v(e._s("add"===e.componentModal.type?"新增标签":"修改标签"))]),r("ReferenceVariable",{staticClass:"modal-variable",attrs:{variables:e.templateSchema,expressionVariable:e.expressionVariable,tagsetVariable:e.tagsetVariable,objectVariable:e.objectVariable}}),e.componentModal.modal?r("Form",{ref:"componentForm",attrs:{model:e.componentForm}},[r("FormItem",{attrs:{label:"组件类型"}},[r("Select",{attrs:{disabled:"edit"===e.componentModal.type},on:{"on-change":e.changeComponentConfig},model:{value:e.componentModal.component,callback:function(t){e.$set(e.componentModal,"component",t)},expression:"componentModal.component"}},e._l(e.availabelComponents,(function(t){return r("Option",{key:t.name,attrs:{value:t.name,label:t.label}},[e._v(" "+e._s(t.label))])})),1)],1),"local"===e.componentModal.range?r("FormItem",{attrs:{required:"",label:"可见范围",prop:"localLabelScope"}},[r("RadioGroup",{model:{value:e.componentForm.localLabelScope,callback:function(t){e.$set(e.componentForm,"localLabelScope",t)},expression:"componentForm.localLabelScope"}},[r("Radio",{attrs:{label:"all",disabled:e.aiHelpComponent||e.isStandardize&&e.isFromProject}},[e._v("公共(全部一级标签可见)")]),r("Radio",{attrs:{label:"private",disabled:e.aiHelpComponent||e.isStandardize&&e.isFromProject}},[e._v("私有(仅指定的一级标签可见)")])],1)],1):e._e(),"private"===e.componentForm.localLabelScope?r("FormItem",{attrs:{label:"所属一级标签",prop:"scopeArray",rules:{required:!0,message:"所属一级标签未选择"}}},[r("Select",{attrs:{multiple:"",disabled:e.aiHelpComponent||e.isStandardize&&e.isFromProject},model:{value:e.componentForm.scopeArray,callback:function(t){e.$set(e.componentForm,"scopeArray",t)},expression:"componentForm.scopeArray"}},e._l(e.curGroupObjectTools,(function(t){return r("Option",{key:t.name,attrs:{value:t.name}},[e._v(e._s(t.label))])})),1)],1):e._e(),e.textStageLocalTagShow?r("FormItem",{attrs:{label:"是否在划词上方显示"}},[r("i-switch",{attrs:{disabled:e.isStandardize&&e.isFromProject},model:{value:e.componentModal.isShow,callback:function(t){e.$set(e.componentModal,"isShow",t)},expression:"componentModal.isShow"}},[r("span",{attrs:{slot:"open"},slot:"open"},[e._v("是")]),r("span",{attrs:{slot:"close"},slot:"close"},[e._v("否")])])],1):e._e()],1):e._e(),e.componentModal.modal?r("optimus-engine",e._b({key:e.componentModal.component,ref:"componentModalOptimus"},"optimus-engine",e.componentModal.modal.templateComponent,!1),[r("template",{slot:"tab"},[r("t-radio-group",{staticClass:"mbm",on:{change:e.handleLabelTabChange},model:{value:e.componentModal.tab,callback:function(t){e.$set(e.componentModal,"tab",t)},expression:"componentModal.tab"}},[r("t-radio-button",{attrs:{value:"label_config"}},[e._v("标签配置")]),r("t-radio-button",{attrs:{value:"label_helper"}},[e._v("标注智能化配置")]),r("t-radio-button",{attrs:{value:"check_helper"}},[e._v("质检智能化配置")])],1)],1)],2):e._e(),r("template",{slot:"footer"},[r("Button",{on:{click:function(t){e.componentModal.open=!1}}},[e._v("取消")]),r("Button",{attrs:{type:"primary"},on:{click:e.configComponent}},[e._v("确定")])],1)],2),r("Modal",{staticClass:"config-modal",attrs:{"class-name":"",width:"580"},model:{value:e.toolModal.open,callback:function(t){e.$set(e.toolModal,"open",t)},expression:"toolModal.open"}},[r("p",{attrs:{slot:"header"},slot:"header"},[e._v(e._s("add"===e.toolModal.type?"新增工具":"修改工具"))]),r("ReferenceVariable",{staticClass:"modal-variable",attrs:{variables:e.templateSchema,expressionVariable:e.expressionVariable,tagsetVariable:e.tagsetVariable,objectVariable:e.objectVariable}}),e.toolModal.open?r("Form",{ref:"toolForm",attrs:{model:e.toolForm}},[r("FormItem",{attrs:{label:"标注工具",required:e.isDefaultStage}},[r("Select",{attrs:{disabled:"edit"===e.toolModal.type},on:{"on-change":e.changeToolConfig},model:{value:e.toolModal.toolType,callback:function(t){e.$set(e.toolModal,"toolType",t)},expression:"toolModal.toolType"}},e._l(e.toolsOptions,(function(t){return r("Option",{key:t.type,attrs:{value:t.type}},[e._v(" "+e._s(t.label))])})),1)],1),"text/ner"===e.toolModal.toolType?r("FormItem",{attrs:{label:"场景类型",required:""}},[e.sceneEnable?r("RadioGroup",{model:{value:e.toolModal.scene,callback:function(t){e.$set(e.toolModal,"scene",t)},expression:"toolModal.scene"}},[r("Radio",{attrs:{label:"实体词",disabled:!e.sceneEnable}},[e._v("实体词（仅划词标注）")]),r("Radio",{attrs:{label:"长文本划词",disabled:!e.sceneEnable}},[e._v("长文本划词")]),r("Radio",{attrs:{label:"批注",disabled:!e.sceneEnable}},[e._v("批注（划词标注&插入标注）")])],1):r("Tooltip",{attrs:{content:"暂不支持同时配置“实体词”和“批注”场景；如需修改，请先删除再重新添加。",placement:"top-start","max-width":"300"}},[r("RadioGroup",{model:{value:e.toolModal.scene,callback:function(t){e.$set(e.toolModal,"scene",t)},expression:"toolModal.scene"}},[r("Radio",{attrs:{label:"实体词",disabled:!e.sceneEnable}},[e._v("实体词（仅划词标注）")]),r("Radio",{attrs:{label:"长文本划词",disabled:!e.sceneEnable}},[e._v("长文本划词")]),r("Radio",{attrs:{label:"批注",disabled:!e.sceneEnable}},[e._v("批注（划词标注&插入标注）")])],1)],1)],1):e._e(),e.textStageIsToolSelectedShow?r("FormItem",{attrs:{label:"是否默认选中",required:""}},[r("i-switch",{attrs:{disabled:e.isStandardize&&e.isFromProject},model:{value:e.toolModal.isToolSelected,callback:function(t){e.$set(e.toolModal,"isToolSelected",t)},expression:"toolModal.isToolSelected"}},[r("span",{attrs:{slot:"open"},slot:"open"},[e._v("是")]),r("span",{attrs:{slot:"close"},slot:"close"},[e._v("否")])]),r("span",{staticStyle:{marginLeft:"20px"}}),e._v("("+e._s(e.toolModal.isToolSelected?"默认选中，每次先选标签再划词":"默认不选中，每次先划词再选工具标签")+")")],1):e._e(),e.isTextStage?r("FormItem",{attrs:{label:"搜索引擎",required:""}},[r("i-switch",{attrs:{disabled:e.isStandardize&&e.isFromProject},model:{value:e.toolModal.searchTool,callback:function(t){e.$set(e.toolModal,"searchTool",t)},expression:"toolModal.searchTool"}},[r("span",{attrs:{slot:"open"},slot:"open"},[e._v("是")]),r("span",{attrs:{slot:"close"},slot:"close"},[e._v("否")])]),e.toolModal.searchTool?r("span",{staticStyle:{marginLeft:"20px"}},[e._v("(搜索引擎为百度、google、搜狗)")]):e._e()],1):e._e(),e.isTextStage?r("FormItem",{attrs:{label:"翻译工具",required:""}},[r("i-switch",{attrs:{disabled:e.isStandardize&&e.isFromProject},model:{value:e.toolModal.translateTool,callback:function(t){e.$set(e.toolModal,"translateTool",t)},expression:"toolModal.translateTool"}},[r("span",{attrs:{slot:"open"},slot:"open"},[e._v("是")]),r("span",{attrs:{slot:"close"},slot:"close"},[e._v("否")])]),e.toolModal.translateTool?r("span",{staticStyle:{marginLeft:"20px"}},[e._v("(英译中，翻译工具为百度、google、搜狗)")]):e._e()],1):e._e(),e.isTextStage?r("FormItem",{attrs:{label:"字数统计",required:""}},[r("i-switch",{attrs:{disabled:e.isStandardize&&e.isFromProject},model:{value:e.toolModal.wordCount,callback:function(t){e.$set(e.toolModal,"wordCount",t)},expression:"toolModal.wordCount"}},[r("span",{attrs:{slot:"open"},slot:"open"},[e._v("是")]),r("span",{attrs:{slot:"close"},slot:"close"},[e._v("否")])])],1):e._e(),[r("Row",{attrs:{type:"flex",justify:"space-between"}},[r("p",[e._v("添加标签")]),"add"!==e.toolModal.type||e.toolModal.multipleAdd.open?e._e():r("a",{attrs:{href:"javascript:;"},on:{click:function(t){e.toolModal.multipleAdd.open=!0}}},[e._v("批量添加")])]),e.toolModal.multipleAdd.open?e._e():r("div",{staticClass:"label-lists"},[e._l(e.toolModal.toolTags,(function(t){return r("Tag",{key:t.name,attrs:{closable:!t.undeletable,checkable:"",type:"border",checked:!1,color:t.style,name:t.name},on:{"on-close":e.handleDeleteTag,"on-change":e.handleClickTag}},[e._v(e._s(t.label))])})),"add"===e.toolModal.type?r("Button",{attrs:{icon:"ios-add",type:"dashed",size:"small"},on:{click:e.handleAddToolTag}}):e._e(),r("p",[e._v("移动位置")]),r("Button",{attrs:{icon:"ios-arrow-round-back",size:"small",disabled:0===e.toolModal.curTag.index},on:{click:e.left}}),r("Button",{attrs:{icon:"ios-arrow-round-forward",size:"small",disabled:e.toolModal.curTag.index===e.toolModal.toolTags.length-1},on:{click:e.right}})],2)],e.fetchAIHelpList.isResolved&&e.fetchAIHelpConfig.isResolved&&e.toolModal.helps.length>0&&e.head(e.toolModal.curTag.helps)&&!e.toolModal.multipleAdd.open?[r("FormItem",{attrs:{label:e.head(e.toolModal.helps).label}},[r("i-switch",{on:{"on-change":e.changeAIHelpEnable},model:{value:e.head(e.toolModal.curTag.helps).enable,callback:function(t){e.$set(e.head(e.toolModal.curTag.helps),"enable",t)},expression:"head(toolModal.curTag.helps).enable"}}),e.head(e.toolModal.curTag.helps).enable&&"audio/segment"===e.toolModal.toolType?r("Dropdown",{attrs:{placement:"bottom-start",trigger:"click",transfer:!0},on:{"on-click":e.getAsrLang}},[r("a",{staticClass:"hover-hand",staticStyle:{marginLeft:"10px",color:"#515a6e"}},[e._v(e._s(e.head(e.toolModal.curTag.helps).asrLang)),r("Icon",{attrs:{type:"ios-arrow-down",size:"15"}})],1),r("DropdownMenu",{attrs:{slot:"list"},slot:"list"},e._l(e.asrLangLists,(function(t,a){return r("DropdownItem",{key:t,attrs:{name:t,selected:t===e.head(e.toolModal.curTag.helps).asrLang}},[e._v(e._s(t))])})),1)],1):e._e(),e.head(e.toolModal.curTag.helps).enable?r("Select",{staticClass:"aiHelp-select",attrs:{multiple:""},on:{"on-change":e.changeAIHelpList},model:{value:e.toolModal.helpSelected,callback:function(t){e.$set(e.toolModal,"helpSelected",t)},expression:"toolModal.helpSelected"}},e._l(e.toolModal.helps,(function(t){return r("Option",{key:t.id,attrs:{value:t.api_provider}},[e._v(e._s(t.api_provider))])})),1):e._e(),r("div",{staticClass:"help-desc"},[e._v("("+e._s(e.head(e.toolModal.helps).desc)+")")])],1)]:e._e(),e.fetchAIHelpList.isRejected||e.fetchAIHelpConfig.isRejected?[r("span",{staticStyle:{color:"red"}},[e._v("AI辅助服务拉取失败")]),r("Button",{staticStyle:{"margin-left":"10px",color:"#3c96ff"},attrs:{type:"text",size:"small"},on:{click:function(t){return e.retryAIHelps(e.toolModal)}}},[e._v("重试")])]:e._e()],2):e._e(),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.toolModal.multipleAdd.open,expression:"!toolModal.multipleAdd.open"}]},[e.toolModal.open?r("optimus-engine",e._b({ref:"toolModalOptimus"},"optimus-engine",e.toolModal.modal.templateComponent,!1)):e._e()],1),e.toolModal.multipleAdd.open?[r("Input",{staticClass:"mtm mbs",attrs:{type:"textarea",autosize:{minRows:2,maxRows:10},placeholder:"标签之间的分隔符是@_@，单次批量添加上限"+e.toolModal.multipleAdd.max+"个"},model:{value:e.toolModal.multipleAdd.value,callback:function(t){e.$set(e.toolModal.multipleAdd,"value",t)},expression:"toolModal.multipleAdd.value"}}),r("Row",{attrs:{type:"flex",align:"middle"}},[r("Button",{staticClass:"mrs",attrs:{size:"small",type:"primary"},on:{click:e.handleAddToolTagList}},[e._v("导入")]),r("Button",{staticClass:"mrs",attrs:{size:"small"},on:{click:function(t){e.toolModal.multipleAdd.open=!1}}},[e._v("取消")]),r("span",{staticClass:"txt-muted"},[r("Icon",{attrs:{type:"ios-alert-outline",size:"small"}}),r("span",[e._v("标签之间的分隔符是@_@")])],1)],1)]:e._e(),r("template",{slot:"footer"},[r("div",{staticClass:"modalFooter"},[e.toolModal.errorType.required||e.toolModal.errorType.isRepeat||e.toolModal.errorType.isConflict?r("p",{staticClass:"errorMsg"},[e._v("错误提示：")]):e._e(),e.toolModal.errorType.isConflict?r("p",{staticClass:"errorMsg"},[e._v("暂不支持同时配置“实体词”和“批注”场景类型")]):e._e(),e.toolModal.errorType.required?r("p",{staticClass:"errorMsg"},[e._v("标签信息不可为空；")]):e._e(),e.toolModal.errorType.isRepeat?r("p",{staticClass:"errorMsg"},[e.isMultipleGroupsStage||e.isDefaultStage?r("span",[e._v("标签名称/标签标识在容器"+e._s(e.toolModal.errorType.group)+"中已存在")]):r("span",[e._v("标签名称/标签标识不可重复，请检查")])]):e._e()]),r("Button",{on:{click:function(t){e.toolModal.open=!1}}},[e._v("取消")]),r("Button",{attrs:{type:"primary",disabled:e.toolModal.multipleAdd.open},on:{click:e.configTool}},[e._v("确定")])],1),e.fetchAIHelpList.isPending||e.fetchAIHelpConfig.isPending?r("Spin",{attrs:{fix:""}}):e._e()],2),r("Modal",{attrs:{title:"JSON数据查看",width:"45vw"},model:{value:e.answerPreview,callback:function(t){e.answerPreview=t},expression:"answerPreview"}},[r("t-tabs",{staticClass:"json-modal",attrs:{"default-value":"2"}},[r("t-tab-panel",{attrs:{value:"1",label:"标注结果"}},[r("CopyBtn",{staticClass:"copy-btn",attrs:{content:JSON.stringify(e.answerResult,null,2)}}),r("JsonViewer",{attrs:{value:e.answerResult,"expand-depth":5}})],1),r("t-tab-panel",{attrs:{value:"2",label:"题目数据"}},[r("CopyBtn",{staticClass:"copy-btn",attrs:{content:JSON.stringify(e.allContext,null,2)}}),r("JsonViewer",{attrs:{value:e.allContext,"expand-depth":5}})],1)],1)],1)],1):e._e()},i=[],n=(a("f38f"),a("8d0d"),a("0f30"),a("28eb"),a("b0f9")),s=a("22dc"),o=a("dde5");const l=e=>Object(o["c"])("api/helper","listServices",e),c=e=>Object(o["c"])("api/helper","describeService",e);var d=a("9ec3");const u=({str:e,vType:t,schema:a})=>{if(e&&Object(d["isString"])(e)){const r=e.match(/^\${(.+)}$/);if(null!==r){let[,e]=r;e.includes("input")||(e="input."+e);const i=e.replace("input.",""),n=Object(d["find"])(a,{key:i});if(!n)return{isValid:!1,msg:"工具属性配置的表达式不合法"};if(e.includes("output"))return{isValid:!1,msg:"工具属性配置暂不支持含有全局标签的表达式"};const s=["json","string","datetime"].includes(n.type)?"string":n.type;if(!t.includes(s))return{isValid:!1,msg:`工具属性类型和数据列字段类型不一致，请修改数据列${n.key}字段类型`}}}return{isValid:!0}};var h=a("bccd"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("t-layout",{staticClass:"helper-container"},[a("t-aside",{staticClass:"helper-aside"},[a("t-row",{staticClass:"step-header",attrs:{justify:"space-between"}},[a("span",{staticClass:"title"},[e._v("任务步骤"),a("t-icon",{staticClass:"txt-muted pointer",attrs:{name:"help-circle-filled"}})],1),a("span",{staticClass:"txt-grey"},[e._v(e._s(e.currentStep+1)+" / 4")])]),a("t-space",{staticClass:"step",attrs:{direction:"vertical",size:"small"}},e._l(e.steps,(function(t,r){return a("div",{key:r,staticClass:"step-item",class:e.stepAvaliable[r]?"active":"disabled",on:{click:function(t){return e.handleStepChange(r)}}},[t.status===e.CURRENT?a("t-icon",{staticClass:"txt-blue",attrs:{name:"circle"}}):t.status===e.COMPLETED?a("t-icon",{staticClass:"txt-green",attrs:{name:"check"}}):a("t-icon",{staticClass:"txt-grey",attrs:{name:"time"}}),a("span",{class:t.status===e.PENDING?"txt-grey":""},[e._v(e._s(t.label))])],1)})),0)],1),a("t-content",{staticClass:"helper-content"},[a("t-row",{staticClass:"header",attrs:{justify:"space-between",align:"center"}},[a("div",[e._v(e._s(e.currentStep+1)+". "+e._s(e.steps[e.currentStep].label))]),a("t-space",{attrs:{size:"small"}},[0!==e.currentStep?a("t-button",{on:{click:function(t){e.currentStep-=1}}},[e._v("上一步")]):e._e(),3!==e.currentStep?a("t-button",{attrs:{disabled:!e.stepAvaliable[e.currentStep+1]},on:{click:function(t){e.currentStep+=1}}},[e._v("下一步")]):e._e()],1),a("div",[a("t-switch",{attrs:{size:"large",label:["开","关"]},model:{value:e.isOpenHelper,callback:function(t){e.isOpenHelper=t},expression:"isOpenHelper"}}),a("span",[e._v("是否开启智能辅助")])],1)],1),0===e.currentStep?[a("t-row",{staticClass:"step-0",attrs:{gutter:32}},[a("t-col",{attrs:{span:6}},[a("h4",[e._v("请指定全局标签配置辅助标注/辅助质检")]),e.tags.length?e._e():a("div",{staticClass:"txt-grey"},[e._v("暂无标签，请先前往"),a("t-link",{attrs:{theme:"primary",hover:"color"},on:{click:e.handleTagChange}},[e._v("标注工具配置")])],1),a("t-table",{attrs:{columns:e.columns,rowKey:"name",data:e.tags},scopedSlots:e._u([{key:"helperLabel",fn:function(t){var r=t.row;return[a("t-checkbox",{staticStyle:{width:"16px"},attrs:{disabled:e.disabled},model:{value:r.helperLabel,callback:function(t){e.$set(r,"helperLabel",t)},expression:"row.helperLabel"}})]}},{key:"helperCheck",fn:function(t){var r=t.row;return[a("t-tooltip",{attrs:{content:"即将上线，敬请期待"}},[a("t-checkbox",{staticStyle:{width:"16px"},attrs:{disabled:""},model:{value:r.helperCheck,callback:function(t){e.$set(r,"helperCheck",t)},expression:"row.helperCheck"}})],1)]}}],null,!1,169717047)})],1),a("t-col",{attrs:{span:6}},[a("h4",[e._v("【辅助标注】参考样式")]),a("b",{staticClass:"txt-blue mbs"},[e._v("答案是否可用")]),a("t-radio-group",[a("t-radio",{attrs:{value:"1"}},[e._v("可用")]),a("t-radio",{attrs:{value:"0"}},[e._v("不可用")])],1),a("ai-suggest",{attrs:{value:{suggest:"选择［不可用］（置信度66.6％）",reason:"答案不满足长度约束。题目要求不少于1000字，但模型回答的字数未达1000字。"}}}),a("h4",{staticStyle:{"margin-top":"40px"}},[e._v("【辅助质检】参考样式")]),a("b",{staticClass:"txt-blue mbs"},[e._v("约束标签")]),a("t-select",{attrs:{multiple:"",disabled:"","default-value":["内容约束","语言约束"]}}),a("ai-suggest",{attrs:{value:{result:!1,reason:"漏掉了“长度约束”和“风格技巧”"}}})],1)],1)]:e._e(),1===e.currentStep?[a("div",{staticClass:"step-1"},[a("t-row",{staticStyle:{flex:"1"},attrs:{gutter:16}},[a("t-col",{attrs:{span:e.isGuideGenerated?6:12}},[a("h4",[e._v("请输入【原始规则文档】")]),a("t-textarea",{attrs:{placeholder:"请输入",disabled:e.disabled},model:{value:e.ruleDoc,callback:function(t){e.ruleDoc=t},expression:"ruleDoc"}})],1),e.isGuideGenerated?a("t-col",{attrs:{span:6}},[a("h4",[e._v("已生成【精简标注指引】，可编辑优化")]),a("t-textarea",{attrs:{placeholder:"请输入",disabled:e.disabled},model:{value:e.guideline,callback:function(t){e.guideline=t},expression:"guideline"}})],1):e._e()],1),e.isGuideGenerated?a("t-button",{attrs:{variant:"outline",theme:"primary",shape:"round",loading:e.loading,disabled:e.disabled},on:{click:e.createGuidelines}},[e._v("重新生成")]):a("t-button",{attrs:{variant:"outline",theme:"primary",shape:"round",disabled:!e.ruleDoc||e.disabled,loading:e.loading},on:{click:e.createGuidelines}},[e._v("点击生成精简标注指引")])],1)]:e._e(),2===e.currentStep?[a("div",{staticClass:"step-2"},[e.loading?a("h4",[e._v("正在生成【标签辅助prompt】"),a("t-loading",{attrs:{size:"small",text:"加载中"}})],1):[a("h4",[e._v("已生成【标签辅助prompt】，可编辑优化")]),a("t-alert",{scopedSlots:e._u([{key:"close",fn:function(){return[a("t-link",{attrs:{theme:"primary",hover:"color"},on:{click:function(t){t.stopPropagation(),e.expand=!e.expand}}},[e._v(e._s(e.expand?"收起":"展开"))])]},proxy:!0}],null,!1,4247236277)},[e._v("修改给大模型的标签辅助prompt时，需注意："),e.expand?[a("li",{staticClass:"mts"},[e._v("1、评分类标签应避免让模型直接给出分数。")]),a("li",[e._v("2、清晰准确地阐述标签的具体目标和要求，并让模型给出分析原因。")])]:e._e()],2),e._l(e.tags,(function(t){return a("div",{key:t.name,staticClass:"mtm"},[t.label?[a("div",{staticClass:"mbs"},[e._v(e._s(t.label))]),a("t-textarea",{attrs:{disabled:e.disabled},model:{value:"string"===typeof t.prompt?t.prompt:t.prompt["选择结果"],callback:function(a){e.$set((t.prompt,t.prompt),"选择结果",a)},expression:"typeof tag.prompt === 'string'? tag.prompt:tag.prompt['选择结果']"}})]:e._e()],2)}))]],2)]:e._e(),3===e.currentStep?[a("t-empty",{staticClass:"step-3",attrs:{type:"success",size:"large",title:"配置完成，还差最后一步",description:"立即去【题目库】选择此模板上传数据，即可生成智能辅助"},scopedSlots:e._u([{key:"action",fn:function(){return[a("t-space",[a("t-button",{attrs:{theme:"default",disabled:e.disabled},on:{click:e.handleReconfig}},[e._v("重新配置")]),a("t-button",{on:{click:e.goProject}},[e._v("去项目上传数据")])],1)]},proxy:!0}],null,!1,961295514)})]:e._e()],2)],1)},f=[],m=a("9a35"),g=a("6f1e"),_=a("8416");const[v,b,y]=[0,1,2];var k={components:{AiSuggest:m["a"]},props:{templateComponent:Object,template:Object,context:Object,disabled:Boolean},data(){let e=!1;this.templateComponent.label_helpers&&this.templateComponent.label_helpers.length||(this.templateComponent.label_helpers=[],e=!0);const t=this.templateComponent.label_helpers.findIndex(e=>e.key.includes("$answer")),a=-1===t?void 0:this.templateComponent.label_helpers[t],r=this.templateComponent.items.map(t=>{const r=(null===a||void 0===a?void 0:a.params.label_dict)&&Object.keys(a.params.label_dict).find(e=>e===t.attributes.label);return{name:t.attributes.name,label:t.attributes.label,helperLabel:!!e||!!r,helperCheck:!1,prompt:(null===a||void 0===a?void 0:a.params.label_dict[r])||""}}),{extra:{currentStep:i,ruleDoc:n},params:{guideline:s}}=a||{extra:{currentStep:0,ruleDoc:""},params:{guideline:""}};return{COMPLETED:v,CURRENT:b,PENDING:y,labelHelperIndex:t,columns:[{colKey:"label",title:"全局标签"},{colKey:"helperLabel",title:"辅助标注",width:100,align:"center"},{colKey:"helperCheck",title:"辅助质检",width:100,align:"center"}],currentStep:i,ruleDoc:n,guideline:s,isGuideGenerated:!!s,nextDisabled:!1,tags:r,expand:!0,loading:!1,isOpenHelper:!1}},computed:{steps(){const e=e=>3===this.currentStep?v:e===this.currentStep||e===this.currentStep?b:e<this.currentStep?v:y;return[{label:"选择标签配置智能辅助",status:e(0)},{label:"配置精简标注指引",status:e(1)},{label:"配置标签辅助prompt",status:e(2)},{label:"配置完成",status:e(3)}]},stepAvaliable(){const e=this.tags.find(e=>!!e.helperLabel),t=!!this.guideline;return[!0,e,e&&t,e&&t]},isTaskTemplate(){return this.template.related_object_type.includes("task")},targetDict(){const e=this.templateComponent.items.filter(e=>this.tags.find(t=>t.name===e.attributes.name&&t.helperLabel)).map(e=>{const t={};return Object.keys(e.attributes).forEach(a=>{t[a]=Object(_["o"])(e.attributes[a])}),{...e,attributes:t}});return e}},watch:{tags:{deep:!0,handler(){this.handleChange()}},guideline(){this.handleChange()},currentStep(e,t){this.handleChange(),2===e&&e>t&&!this.disabled&&this.createPrompt()},ruleDoc(){this.handleChange()}},methods:{handleChange:Object(d["debounce"])((function(){if(!this.isOpenHelper)return this.$Message.error("请开启智能辅助"),void(this.templateComponent.label_helpers=[]);const e={};this.tags.filter(e=>e.helperLabel).forEach(t=>{e[t.label]=t.prompt});const t={key:"$answer_"+Object(_["j"])(8),label:"辅助标注",function:"/label/tianqiong/v1",params:{add_info:{},guideline:this.guideline,label_dict:e,input_query:"${input}",guideline_num:2},extra:{ruleDoc:this.ruleDoc,currentStep:this.currentStep}},a=this.templateComponent.label_helpers.findIndex(e=>e.key.includes("$answer"));-1!==a?this.templateComponent.label_helpers[a]=t:this.templateComponent.label_helpers.push(t)}),500),handleTagChange(){this.$router.push({query:{...this.$route.query,tab:"component"}})},async createGuidelines(){this.loading=!0;const e={guideline:this.ruleDoc,target_dict:this.targetDict};try{const{data:{error:t,data:a}}=await g["a"].optimizeGuideline(e);a?(this.isGuideGenerated=!0,this.guideline=a):t&&this.$Message.error(t.message)}catch(t){console.error(t)}finally{this.loading=!1}},async createPrompt(){this.loading=!0;const e={guideline:this.guideline,target_dict:this.targetDict};try{const{data:{error:t,data:a}}=await g["a"].labelDict(e);a?this.tags.forEach(e=>{a[e.label]&&(e.prompt=a[e.label])}):t&&this.$Message.error(t.message)}catch(t){console.error(t)}finally{this.loading=!1}},handleReconfig(){this.currentStep=0},goProject(){this.template.template_origin&&this.template.related_object_id?window.open(`/projects/list/${this.template.project_id}?tab=dataset`):window.open("/projects/list")},handleStepChange(e){this.stepAvaliable[e]&&(this.currentStep=e)}}},x=k,w=(a("4bb3"),a("2be6")),S=Object(w["a"])(x,p,f,!1,null,"411b14c1",null),C=S.exports,O=a("30ac"),T=a("0200"),j=a.n(T),I=a("8dc3"),A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{value:e.visible,loading:!0},on:{"on-ok":e.submit}},[a("p",{attrs:{slot:"header"},slot:"header"},[e.model.isElement?[-1===e.model.parentIndex?a("span",[e._v("新增元素字段")]):a("span",[e._v("修改元素字段")])]:[e.model.index>=0?a("span",[e._v("修改字段")]):a("span",[e._v("新增字段")])]],2),a("p",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"text"},on:{click:function(t){e.visible=!1}}},[e._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确定")])],1),a("Form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-position":"left",disabled:e.isDisabled}},[a("FormItem",{attrs:{label:"KEY",prop:"key"}},[a("Input",{attrs:{disabled:e.fieldDisabled("key")},model:{value:e.form.key,callback:function(t){e.$set(e.form,"key",t)},expression:"form.key"}})],1),a("FormItem",{attrs:{label:"名称",required:!0,prop:"name"}},[a("Input",{attrs:{disabled:e.fieldDisabled("name")},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),"z-default-stage"===e.stage?a("FormItem",{attrs:{label:"所属容器",prop:"group"}},[a("Input",{attrs:{disabled:e.fieldDisabled("group")},model:{value:e.form.group,callback:function(t){e.$set(e.form,"group",t)},expression:"form.group"}})],1):e._e(),a("FormItem",{attrs:{label:"类型",required:!0,prop:"type"}},[a("Tooltip",{attrs:{placement:"top-start",content:"如果该字段代表单个 图片/音频/视频/网页资源, 请选择url类型","max-width":"500"}},[a("RadioGroup",{model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[a("Radio",{attrs:{label:"url",disabled:e.fieldDisabled("type")}},[e._v("url")]),a("Radio",{attrs:{label:"json",disabled:e.fieldDisabled("type")}},[e._v("json")]),a("Radio",{attrs:{label:"string",disabled:e.fieldDisabled("type")}},[e._v("string")]),a("Radio",{attrs:{label:"datetime",disabled:e.fieldDisabled("type")}},[e._v("datetime")]),e.model.isElement?e._e():a("Radio",{attrs:{label:"array",disabled:e.fieldDisabled("type")}},[e._v("array")])],1)],1)],1),"json"===e.form.type?a("FormItem",{key:e.form.type,attrs:{label:"jsonSchema",prop:"json_schema"}},[a("div",{staticClass:"json-right-title"},[a("a",{attrs:{href:"https://www.jsonschemavalidator.net/",target:"_blank"}},[a("Icon",{attrs:{type:"ios-link"}}),e._v("在线格式校验")],1),a("Tooltip",{staticClass:"copy-text",attrs:{content:"复制jsonSchema",placement:"top"}},[a("Icon",{attrs:{type:"ios-copy-outline"},on:{click:function(t){return e.copyVal(e.form.json_schema)}}})],1)],1),a("Input",{attrs:{type:"textarea",disabled:e.fieldDisabled("json_schema")},model:{value:e.form.json_schema,callback:function(t){e.$set(e.form,"json_schema",t)},expression:"form.json_schema"}})],1):e._e(),"array"===e.form.type?a("FormItem",{attrs:{"label-width":90,label:"元素类型",required:!0,prop:"element_type"}},[a("Tooltip",{attrs:{placement:"top-start",content:"如果该字段代表单个 图片/音频/视频/网页资源, 请选择url类型","max-width":"500"}},[a("RadioGroup",{attrs:{disabled:e.fieldDisabled("element_type")},model:{value:e.form.element_type,callback:function(t){e.$set(e.form,"element_type",t)},expression:"form.element_type"}},[a("Radio",{attrs:{label:"object"}},[e._v("object")]),a("Radio",{attrs:{label:"url"}},[e._v("url")]),a("Radio",{attrs:{label:"json"}},[e._v("json")]),a("Radio",{attrs:{label:"string"}},[e._v("string")]),a("Radio",{attrs:{label:"datetime"}},[e._v("datetime")])],1)],1)],1):e._e(),"url"===e.form.type||"url"===e.form.element_type?a("FormItem",{attrs:{"label-width":90,label:"媒体类型",required:!0,prop:"url_type"}},[a("RadioGroup",{model:{value:e.form.url_type,callback:function(t){e.$set(e.form,"url_type",t)},expression:"form.url_type"}},[a("Radio",{attrs:{label:"image",disabled:e.fieldDisabled("url_type")}},[e._v("图片")]),a("Radio",{attrs:{label:"audio",disabled:e.fieldDisabled("url_type")}},[e._v("音频")]),a("Radio",{attrs:{label:"video",disabled:e.fieldDisabled("url_type")}},[e._v("视频")]),a("Radio",{attrs:{label:"web",disabled:e.fieldDisabled("url_type")}},[e._v("网页")]),a("Radio",{attrs:{label:"model",disabled:e.fieldDisabled("url_type")}},[e._v("3D")]),a("Radio",{attrs:{label:"mixed",disabled:e.fieldDisabled("url_type")}},[e._v("混合类型")])],1),"model"===e.form.url_type?a("div",{staticClass:"txt-muted"},[e._v("支持扩展名: .glb、.gltf、.obj、.fbx、.stl、.dae、.ply、.blend、usdz")]):e._e()],1):e._e(),a("Tooltip",{attrs:{placement:"top-start","max-width":"500"},scopedSlots:e._u([{key:"content",fn:function(){return[a("p",[e._v("是否允许平台缓存资源并对访问进行安全加固， 支持清理缓存。")]),a("p",[e._v("如果链接不支持外网访问或者有效期较短，请选择允许缓存。")]),a("p",[e._v("缓存涉及到文件下载，会导致上传速度变慢，请留意。")])]},proxy:!0}])},[["image","audio","video","model","mixed"].includes(e.form.url_type)?a("FormItem",{attrs:{"label-width":90,label:"允许缓存",required:!0,prop:"url_dump"}},[a("i-switch",{staticClass:"mrs",attrs:{disabled:e.fieldDisabled("url_dump")},model:{value:e.form.url_dump,callback:function(t){e.$set(e.form,"url_dump",t)},expression:"form.url_dump"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v("是")]),a("span",{attrs:{slot:"close"},slot:"close"},[e._v("否")])]),e.form.url_dump?a("span",[e._v("允许平台缓存资源")]):a("span",[e._v("不允许平台缓存资源")])],1):e._e()],1),"string"===e.form.type||"string"===e.form.element_type?a("FormItem",{attrs:{"label-width":90,label:"文本类型",required:!0,prop:"string_type"}},[a("RadioGroup",{model:{value:e.form.string_type,callback:function(t){e.$set(e.form,"string_type",t)},expression:"form.string_type"}},[a("Radio",{attrs:{label:"text",disabled:e.fieldDisabled("string_type")}},[e._v("text")]),a("Radio",{attrs:{label:"html",disabled:e.fieldDisabled("string_type")}},[e._v("html")]),a("Radio",{attrs:{label:"markdown",disabled:e.fieldDisabled("string_type")}},[e._v("markdown")])],1)],1):e._e(),e.model.isElement?e._e():a("FormItem",{attrs:{label:"主键",required:!0,prop:"primary"}},[a("i-switch",{attrs:{disabled:e.fieldDisabled("primary")},model:{value:e.form.primary,callback:function(t){e.$set(e.form,"primary",t)},expression:"form.primary"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v("是")]),a("span",{attrs:{slot:"close"},slot:"close"},[e._v("否")])])],1),a("FormItem",{attrs:{label:"必填",required:!0,prop:"required"}},[a("i-switch",{attrs:{disabled:e.form.primary||e.fieldDisabled("required")},model:{value:e.form.required,callback:function(t){e.$set(e.form,"required",t)},expression:"form.required"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v("是")]),a("span",{attrs:{slot:"close"},slot:"close"},[e._v("否")])])],1),a("FormItem",{attrs:{label:"展示",required:!0,prop:"display"}},[a("i-switch",{staticClass:"mrs",attrs:{disabled:e.fieldDisabled("display")},model:{value:e.form.display,callback:function(t){e.$set(e.form,"display",t)},expression:"form.display"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v("是")]),a("span",{attrs:{slot:"close"},slot:"close"},[e._v("否")])]),e.form.display?a("span",[e._v("辅助标注信息展示")]):a("span",[e._v("辅助标注信息隐藏")])],1),"z-text-multiple-stage"===e.stage?a("FormItem",{attrs:{label:"是否展示在标注区域",required:!0,prop:"isLabelDisplay"}},[a("i-switch",{staticClass:"mrs",attrs:{disabled:e.fieldDisabled("display")},model:{value:e.form.isLabelDisplay,callback:function(t){e.$set(e.form,"isLabelDisplay",t)},expression:"form.isLabelDisplay"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v("是")]),a("span",{attrs:{slot:"close"},slot:"close"},[e._v("否")])])],1):e._e(),a("FormItem",{attrs:{label:"备注",prop:"desc"}},[a("Input",{attrs:{type:"textarea",disabled:e.fieldDisabled("desc")},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1)],1)],1)},D=[],M={props:{model:Object,fieldRange:[Boolean,Array],stage:String},data(){const e={key:"",name:"",type:"url",string_type:"string"===this.model.item.type?"text":"",group:"",json_schema:"",element_type:"",url_type:"url"===this.model.item.type?"mixed":"",url_dump:"url"===this.model.item.type,required:!0,desc:"",isElement:!1,display:!1,height:"",isLabelDisplay:!1};this.model.isElement||(e.primary=!1);const t=Object.assign(e,Object(d["pick"])(this.model.item,Object.keys(e))),a=(e,t,a)=>{const r=/^[a-zA-Z0-9_]+$/;r.test(t)?a():a(new Error('只支持英文大小写字母、数字及"_"'))};return{visible:!0,sync:t.name===t.key,form:t,rules:{key:[{required:!0,message:"key is required",trigger:"blur,change"},{validator:a,trigger:"blur,change"}]}}},computed:{isDisabled(){return"$answer"===this.form.key},fieldDisabled(){return function(e){const{fieldRange:t}=this;return"boolean"===typeof t?!t:"object"===typeof t?!t.includes(e):void 0}}},watch:{"form.primary"(e){e&&(this.form.required=!0)},"form.key"(e){this.sync&&(this.form.name=e)},"form.name"(e){e!==this.form.key&&(this.sync=!1),"z-default-stage"===this.stage&&(this.form.group=e)},"form.type":{handler(e){"json"!==e&&(this.form.json_schema=""),"array"!==e&&(this.form.element_type=""),"url"!==e&&"url"!==this.form.element_type&&(this.form.url_type=""),"string"!==e&&"string"!==this.form.element_type&&(this.form.string_type=""),"url"!==e||this.form.url_type||(this.form.url_type="mixed"),"string"!==e||this.form.string_type||(this.form.string_type="text")}},"form.element_type"(e){"url"!==e&&"url"!==this.form.type&&(this.form.url_type=""),"string"!==e&&"string"!==this.form.type&&(this.form.string_type=""),"url"!==e||this.form.url_type||(this.form.url_type="mixed"),"string"!==e||this.form.string_type||(this.form.string_type="text")},"form.url_type":{handler(e){this.form.url_dump=["image","audio","video","mixed"].includes(e)}}},methods:{copyVal(e){const t=e;this.$copyText(t).then(()=>{this.$Message.success("复制成功")},e=>{this.$Message.error(e)})},submit(){return this.$refs.form.validate(e=>{e&&(this.$emit("on-save-field",this.model.index,{...this.form,isElement:this.model.isElement},this.model.parentIndex),this.visible=!1)})}}},E=M,R=(a("7038"),Object(w["a"])(E,A,D,!1,null,"0d5142a1",null)),B=R.exports,P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"variable-card"},[a("a",{staticClass:"help",attrs:{href:"https://iwiki.woa.com/pages/viewpage.action?pageId=882436709",target:"_blank"}},[a("Icon",{staticClass:"help-icon",attrs:{type:"ios-help-circle"}}),e._v("帮助")],1),a("Poptip",{attrs:{placement:"bottom",width:"700",trigger:"hover",transfer:""}},[a("span",{staticClass:"title-text"},[e._v("引用变量"),a("Icon",{attrs:{type:"ios-arrow-down"}})],1),a("div",{staticClass:"variable-table",staticStyle:{"max-height":"80vh","overflow-y":"auto"},attrs:{slot:"content"},slot:"content"},[a("div",[e._v("注：当只使用全局变量时，可以省略 input.")]),a("Table",{attrs:{columns:e.columns,data:e.expressionVariableTable,size:"small","no-data-text":"暂无可引用变量，请先在数据区域进行配置",border:""},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.row;return[a("Icon",{staticClass:"copy-icon",attrs:{type:"ios-copy-outline"},on:{click:function(t){return e.copyVar(r.key)}}})]}}])})],1)])],1)},L=[],F={props:{variables:{type:Array,default:()=>[]},expressionVariable:{type:Array,default:()=>[]},tagsetVariable:{type:Array,default:()=>[]},objectVariable:{type:Array,default:()=>[]}},data(){return{columns:[{title:"类型",key:"variable_type",width:100,tooltip:!0},{title:"名称",key:"name",width:250,tooltip:!0},{title:"键",key:"key",width:250,tooltip:!0},{title:"操作",slot:"action",width:"auto",align:"center"}],hover:!1}},computed:{variableTable(){return this.variables.map(e=>{const{children:t,...a}=e;return t&&Array.isArray(t)?{...a,variable_type:"全局变量"}:{...e,variable_type:"全局变量"}})},expressionVariableTable(){const e=/^[a-zA-Z_$][a-zA-Z0-9_$]*$/;return[...this.variableTable.map(e=>({...e,name:""+e.name,key:"input."+e.key})),...this.tagsetVariable.map(e=>({...e,name:""+e.label,key:"input."+e.name,variable_type:"标签集"})),...this.expressionVariable.map(t=>({...t,name:""+t.label,key:e.test(t.name)?"output."+t.name:`output['${t.name}']`,variable_type:"全局标签"})),...this.objectVariable.map(e=>({...e,name:e.attributes.label,key:`objOutput.${e.group}.${e.attributes.name}`,variable_type:"元素标签"}))]}},methods:{copyVar(e){const t=e;this.$copyText(t).then(()=>{this.$Message.success("复制成功")},e=>{this.$Message.error(e)})}}},N=F,$=(a("25a9"),Object(w["a"])(N,P,L,!1,null,"270b259f",null)),z=$.exports,V=a("2289"),U=a("6e12"),H=a.n(U),G=e=>({name:"fittingType",label:"拟合结果",component:"z-single-select",type:String,attributes:{basicMode:!0,exhibit:"dropdown",options:e?[{value:"most",label:"众数拟合（置信度）"},{value:"average",label:"平均数拟合（分差）"}]:[{value:"most",label:"众数拟合（置信度）"}]},value:"most",required:!1}),W={name:"calDistanceScore",label:"是否计入编辑距离计算",component:"z-switch",type:Boolean,value:!1},q={name:"calCheckPassRatio",label:"单独统计批次抽检正确率",component:"z-switch",type:Boolean,value:!1,attributes:{enableExpression:!1}},X=[{label:"辅助标注配置",name:"autoLabel",component:"z-input",value:"",attributes:{required:!1}},{label:"作为预标注值直接填充",name:"autoLabelValueEnabled",component:"z-switch",type:Boolean,value:!0,attributes:{enableExpression:!1}},{label:"展示辅助建议和辅助说明",name:"autoLabelSuggestEnabled",component:"z-switch",type:Boolean,value:!0,attributes:{enableExpression:!1}},{label:"是否开启标注检查",name:"autoValidatorEnabled",component:"z-switch",type:Boolean,value:!1,attributes:{enableExpression:!1}},{label:"标注检查配置",name:"autoValidator",component:"z-input",attributes:{isVisible:"${output.autoValidatorEnabled}"},required:"${output.autoValidatorEnabled}"},{label:"是否开启辅助质检",name:"autoCheckEnabled",component:"z-switch",type:Boolean,value:!1,attributes:{disabled:!0,enableExpression:!1,disabledTip:"即将上线，敬请期待"}}],Y=a("f9b0"),K=a.n(Y),Z=a("c495"),J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tagset"},[a("Table",{attrs:{columns:e.columns,data:e.templateTagsetList},scopedSlots:e._u([{key:"tagset_key",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.tagset_key))])]}},{key:"tagset_id",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.tagset_id))])]}},{key:"tagset_title",fn:function(t){var r=t.row;return[a("div",{staticClass:"ellipsis pointer",attrs:{title:r.tagset_title},on:{click:function(t){return e.handleEdit(r)}}},[e._v(e._s(r.tagset_title))])]}},{key:"tagset_content",fn:function(t){var r=t.row;return[a("div",{staticClass:"ellipsis pointer",attrs:{title:JSON.parse(r.tagset_content).map((function(e){return e.value})).join("/")},on:{click:function(t){return e.handleEdit(r)}}},[e._v(e._s(JSON.parse(r.tagset_content).map((function(e){return e.value})).join("/")))])]}},{key:"tagset_num",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(JSON.parse(r.tagset_content).length))])]}},{key:"action",fn:function(t){var r=t.row;return[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),a("Divider",{attrs:{type:"vertical"}}),a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.handleDelete(r)}}},[e._v("删除")])]}}])}),a("div",{staticClass:"group-action"},[a("Button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("添加标签集")])],1),a("EditTagsetModal",{attrs:{modalData:e.modalData,templateTagsetList:e.templateTagsetList,refreshTemplateTagsetList:e.refreshTemplateTagsetList,templateSchema:e.templateSchema,templateId:e.templateId,projectId:e.projectId},on:{"update:modalData":function(t){e.modalData=t},"update:modal-data":function(t){e.modalData=t}}})],1)},Q=[],ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{value:e.currentModalData.visible,width:"800"},on:{"on-ok":e.handleSave,"on-cancel":e.handleCancel}},[e.isSelectPage?[a("h4",[e._v("选择标签集")]),a("Form",{key:"selectTagset",staticStyle:{"margin-top":"30px"},attrs:{inline:"","label-width":100,"label-colon":!0}},[a("FormItem",{attrs:{label:"标签集ID"}},[a("Input",{staticStyle:{width:"180px"},attrs:{type:"text",placeholder:"输入标签集ID"},model:{value:e.queryParams.tagset_id,callback:function(t){e.$set(e.queryParams,"tagset_id",t)},expression:"queryParams.tagset_id"}})],1),a("FormItem",{attrs:{label:"标签集名称"}},[a("Input",{staticStyle:{width:"180px"},attrs:{type:"text",placeholder:"输入标签集名称"},model:{value:e.queryParams.tagset_title,callback:function(t){e.$set(e.queryParams,"tagset_title",t)},expression:"queryParams.tagset_title"}})],1),a("Button",{attrs:{type:"primary",loading:e.loading},on:{click:e.handleSearch}},[e._v("查询")]),a("Button",{staticClass:"mlm",on:{click:e.handleReset}},[e._v("重置")])],1),a("Table",{attrs:{loading:e.loading,columns:e.columns,data:e.tagsetList},scopedSlots:e._u([{key:"tagset_id",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.tagset_id))])]}},{key:"tagset_title",fn:function(t){var r=t.row;return[a("div",{staticClass:"ellipsis pointer",attrs:{title:r.tagset_title}},[e._v(e._s(r.tagset_title))])]}},{key:"tagset_content",fn:function(t){var r=t.row;return[a("div",{staticClass:"ellipsis pointer",attrs:{title:JSON.parse(r.tagset_content).map((function(e){return e.value})).join("/")}},[e._v(e._s(JSON.parse(r.tagset_content).map((function(e){return e.value})).join("/")))])]}},{key:"tagset_num",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(JSON.parse(r.tagset_content).length))])]}},{key:"action",fn:function(t){var r=t.row;return[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.handleSelect(r)}}},[e._v("选中")])]}}],null,!1,1615397115)}),a("Page",{staticClass:"page",attrs:{current:e.queryParams.pageIndex,total:e.pageTotal,"page-size":e.queryParams.pageSize,"show-total":"","show-elevator":""},on:{"on-change":e.handlePageChange}})]:[a("Form",{key:"editTagset",ref:"editForm",attrs:{model:e.currentModalData.currentTagset,"label-position":"top"}},[a("FormItem",{attrs:{label:"KEY",prop:"tagset_key",rules:[{required:!0,message:"KEY不能为空"},e.ruleVariableRegExp]}},[a("Input",{attrs:{placeholder:"请填写标签集的KEY"},model:{value:e.currentModalData.currentTagset.tagset_key,callback:function(t){e.$set(e.currentModalData.currentTagset,"tagset_key",t)},expression:"currentModalData.currentTagset.tagset_key"}})],1),a("FormItem",{attrs:{label:"标签集名称",prop:"tagset_title",rules:{required:!0,message:"名称不能为空"}}},[a("Input",{attrs:{placeholder:"请填写标签集的名称"},model:{value:e.currentModalData.currentTagset.tagset_title,callback:function(t){e.$set(e.currentModalData.currentTagset,"tagset_title",t)},expression:"currentModalData.currentTagset.tagset_title"}})],1),a("FormItem",{attrs:{label:"标签集内容",prop:"options",rules:{required:!0,validator:e.validateRequired,message:"内容不能为空"}}},[a("TagsetEditContent",{attrs:{options:e.currentModalData.currentTagset.options},on:{"update:options":function(t){return e.$set(e.currentModalData.currentTagset,"options",t)}}})],1)],1)],a("p",{attrs:{slot:"header"},slot:"header"},[e._v(e._s("add"===this.currentModalData.action?"添加":"编辑")+"标签集")]),a("p",{attrs:{slot:"footer"},slot:"footer"},[e.isSelectPage?e._e():[a("Button",{attrs:{type:"text"},on:{click:e.handleBack}},[e._v(e._s("add"===this.currentModalData.action?"返回上一步":"取消"))]),a("Button",{attrs:{type:"primary",loading:e.editLoading},on:{click:e.handleSave}},[e._v("确定")])]],2)],2)},te=[],ae=a("7cdd"),re=a("196a"),ie=a("4718"),ne={components:{TagsetEditContent:ie["a"]},props:{modalData:Object,templateTagsetList:{type:Array},refreshTemplateTagsetList:{type:Function},templateSchema:{type:Array},templateId:{type:String},projectId:{type:String}},data(){return{currentModalData:this.modalData,columns:[{title:"标签集ID",slot:"tagset_id",width:200},{title:"标签集名称",slot:"tagset_title",width:200},{title:"标签集内容",slot:"tagset_content",width:200},{title:"数量",slot:"tagset_num",width:100},{title:"操作",slot:"action"}],tagsetList:[],loading:!1,editLoading:!1,pageTotal:0,queryParams:{tagset_id:"",tagset_title:"",pageIndex:1,pageSize:10},ruleVariableRegExp:{pattern:/^[a-zA-Z\\$_][a-zA-Z\d_]*$/,message:"请输入由字母、数字、下划线、$组成并不能以数字开头"}}},computed:{isSelectPage(){var e;return"add"===this.currentModalData.action&&!(null!==(e=this.currentModalData.currentTagset)&&void 0!==e&&e.tagset_id)}},watch:{modalData:{deep:!0,handler(e){this.currentModalData=e}},currentModalData:{deep:!0,handler(e){this.$emit("update:modalData",e)}}},mounted(){this.handleSearch()},methods:{handleReset(){this.queryParams={tagset_id:"",tagset_title:"",pageIndex:1,pageSize:10},this.handleSearch()},handlePageChange(e){this.queryParams.pageIndex=e,this.handleSearch()},async handleSearch(){const{tagset_id:e,tagset_title:t,pageIndex:a,pageSize:r}=this.queryParams;if(!/^[0-9]*$/.test(e))return void this.$Message.error("标签集ID只能是数字");const i=[{page:{start:(a-1)*r,size:r,return_total:1},tagset_id:e,tagset_title:t}];this.loading=!0;try{const e=await re["a"].ListTagsets(i);this.tagsetList=e.data.result.data,this.pageTotal=e.data.result.total,this.loading=!1}catch(n){console.log(n),this.loading=!1}},handleSelect(e){this.currentModalData.currentTagset={...e,options:e.tagset_content&&JSON.parse(e.tagset_content).map(e=>({...e,id:Object(ae["v4"])()}))}},handleCancel(){this.currentModalData={currentTagset:{},action:"add",visible:!1}},handleBack(){"add"===this.currentModalData.action?this.currentModalData.currentTagset={}:this.currentModalData.visible=!1},handleSave(){const{currentTagset:e,action:t}=this.currentModalData,a="add"===t;this.$refs.editForm.validate(t=>{if(t){if(this.templateSchema.find(t=>t.key===e.tagset_key))return void this.$Message.warning({content:"当前KEY在数据列字段配置已存在！",duration:3});if(this.templateTagsetList.find(t=>t.tagset_key===e.tagset_key&&t.tagset_id!==e.tagset_id))return void this.$Message.warning({content:"当前KEY已存在！",duration:3});const t={tagset_total:1,tagset_title:e.tagset_title.trim(),tagset_content:JSON.stringify(Object(d["uniqBy"])(e.options.filter(e=>""!==Object(d["trim"])(e.value)).map(e=>({value:e.value,label:e.label})),"value")),tagset_key:e.tagset_key,related_template_id:this.templateId,project_id:this.projectId||""};this.editLoading=!0,re["a"][a?"CreateTagsetForTemplate":"UpdateTagsetForTemplate"](a?{...t,refer_tagset_id:e.tagset_id}:{...t,tagset_id:e.tagset_id}).then(()=>{this.$Message.success(a?"创建成功":"编辑成功"),this.refreshTemplateTagsetList(),this.editLoading=!1}).catch(e=>{console.log(e),this.$Message.error(`${a?"创建失败":"编辑失败"}：${e.message}`),this.editLoading=!1})}else this.$Message.error((a?"创建失败":"编辑失败")+"，请查看是否有遗漏项")})},validateRequired(e,t,a){0===Object(d["uniqBy"])(t.filter(e=>""!==Object(d["trim"])(e.value)).map(e=>({value:e.value,label:e.label})),"value").length&&a(new Error("内容不能为空")),a()}}},se=ne,oe=(a("f875"),Object(w["a"])(se,ee,te,!1,null,"288da7c8",null)),le=oe.exports,ce={name:"EditTagset",components:{EditTagsetModal:le},props:{templateTagsetList:{type:Array},templateSchema:{type:Array},templateId:{type:String},projectId:{type:String},fetchTemplate:{type:Function}},data(){return{columns:[{title:"KEY",slot:"tagset_key",width:100},{title:"标签集ID",slot:"tagset_id",width:200},{title:"标签集名称",slot:"tagset_title",width:150},{title:"标签集内容",slot:"tagset_content",width:200},{title:"数量",slot:"tagset_num",width:80},{title:"操作",slot:"action"}],modalData:{currentTagset:{},action:"add",visible:!1}}},methods:{handleAdd(){this.modalData={currentTagset:{},action:"add",visible:!0}},handleEdit(e){const t=Object(d["cloneDeep"])(e);this.modalData={currentTagset:{...t,options:t.tagset_content&&JSON.parse(t.tagset_content).map(e=>({...e,id:Object(ae["v4"])()}))},action:"edit",visible:!0}},handleDelete(e){const t={tagset_id:e.tagset_id,project_id:this.projectId||"",related_template_id:this.templateId};this.$Modal.confirm({title:"确定要删除这个标签集吗？",content:`\n          <p>名称：${e.tagset_title}</p>\n          <p style="white-space:nowrap;overflow:hidden;text-overflow:ellipsis;">内容：${JSON.parse(e.tagset_content).map(e=>e.value).join("/")}</p>\n        `,okText:"确认删除",loading:!0,onOk:()=>{re["a"].DeleteTagsetForTemplate(t).then(e=>{e?(this.$Message.success("删除成功！"),this.refreshTemplateTagsetList()):this.$Message.error("删除失败"),this.$Modal.remove()}).catch(e=>{console.log(e),this.$Message.error("删除失败"),this.$Modal.remove()})}})},refreshTemplateTagsetList(){this.fetchTemplate(),this.modalData.visible=!1}}},de=ce,ue=(a("8647"),Object(w["a"])(de,J,Q,!1,null,"c7186f9c",null)),he=ue.exports,pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.formData?a("div",{staticClass:"pre-process"},[a("Table",{attrs:{columns:e.columns,data:e.helpers},scopedSlots:e._u([{key:"function",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(e.functions[r.function]))])]}},{key:"params",fn:function(t){var r=t.row;return[a("div",{staticClass:"ellipsis"},[a("Tooltip",{attrs:{placement:"right","max-width":"400",theme:"light",transfer:!0,content:JSON.stringify(r.params,null,"\t")}},[a("div",{staticClass:"ellipsis"},[e._v(e._s(r.params))])])],1)]}},{key:"action",fn:function(t){var r=t.index;return[a("a",{attrs:{disabled:e.disabled},on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),a("Divider",{attrs:{type:"vertical"}}),a("a",{attrs:{disabled:e.disabled},on:{click:function(t){return e.handleDelete(r)}}},[e._v("删除")])]}}],null,!1,2275112827)}),a("div",{staticClass:"group-action"},[a("Button",{attrs:{type:"primary",disabled:e.disabled},on:{click:e.handleAdd}},[e._v("添加服务")])],1),a("Modal",{attrs:{title:"添加服务",transfer:""},scopedSlots:e._u([{key:"footer",fn:function(){return[a("Button",{on:{click:e.onClose}},[e._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确定")])]},proxy:!0}],null,!1,3453380746),model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("Form",{ref:"formData",attrs:{model:e.formData,"label-position":"top"}},[a("FormItem",{attrs:{prop:"key",label:"服务KEY",rules:e.emptyValidator}},[a("Input",{model:{value:e.formData.key,callback:function(t){e.$set(e.formData,"key",t)},expression:"formData.key"}})],1),a("FormItem",{attrs:{prop:"label",label:"服务名称",rules:e.emptyValidator}},[a("Input",{model:{value:e.formData.label,callback:function(t){e.$set(e.formData,"label",t)},expression:"formData.label"}})],1),a("FormItem",{attrs:{prop:"function",label:"服务类型",rules:e.emptyValidator}},[a("Select",{model:{value:e.formData.function,callback:function(t){e.$set(e.formData,"function",t)},expression:"formData.function"}},e._l(e.functionOptions,(function(t){return a("Option",{attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1),a("FormItem",{attrs:{prop:"params",label:"参数",rules:e.emptyValidator}},[a("Input",{attrs:{type:"textarea",rows:4},model:{value:e.formData.params,callback:function(t){e.$set(e.formData,"params",t)},expression:"formData.params"}})],1)],1)],1)],1):e._e()},fe=[],me={name:"PreProcess",props:{helpers:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1}},data(){const e={required:!0,message:"此项必填",trigger:"blur"};return{columns:[{title:"服务KEY",key:"key"},{title:"服务名称",key:"label"},{title:"服务类型",slot:"function"},{title:"参数",slot:"params",width:240},{title:"操作",slot:"action"}],visible:!1,formData:void 0,emptyValidator:e,editRowIndex:-1,functions:{"/llm/score":"critique四档评分","/llm/classify":"分类服务","/llm/errortype":"critic错误类型"}}},computed:{functionOptions(){return Object.keys(this.functions).map(e=>({value:e,label:this.functions[e]}))}},created(){this.initFormData()},methods:{initFormData(){this.formData={key:"",label:"",function:"",params:""}},handleAdd(){this.initFormData(),this.editRowIndex=-1,this.visible=!0},onClose(){this.visible=!1},handleEdit(e){this.editRowIndex=e,this.formData={...this.helpers[e],params:JSON.stringify(this.helpers[e].params)},this.visible=!0},handleDelete(e){const t=this.helpers[e];this.$Modal.confirm({title:"确定要删除这个服务吗？",content:`\n          <p>服务Key：${t.key}</p>\n          <p>服务名称：${t.label}</p>\n        `,okText:"确认删除",loading:!0,onOk:()=>{const t=Object(d["cloneDeep"])(this.helpers);t.splice(e,1),this.$emit("change",t),this.$Modal.remove()}})},onSubmit(){this.$refs.formData.validate(e=>{if(!e)return void this.$Message.error("提交失败，请检查表单是否有遗漏");const t=Object(d["cloneDeep"])(this.helpers),a={...this.formData,params:JSON.parse(this.formData.params)};-1===this.editRowIndex?t.push(a):t[this.editRowIndex]=a,this.$emit("change",t),this.onClose()})}}},ge=me,_e=(a("99d8"),Object(w["a"])(ge,pe,fe,!1,null,"f74962ca",null)),ve=_e.exports,be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Form",{ref:"form",attrs:{model:e.form,"label-position":"top"}},[a("FormItem",{attrs:{rules:"固定值"===e.typeMode?[]:[e.ruleRegExp],prop:"isVisible"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("容器是否隐藏")]),a("div",{staticClass:"list-mode"},[a("expression-dropdown",{attrs:{typeMode:e.typeMode},on:{updateTypeMode:e.updateTypeMode}})],1),"固定值"===e.typeMode?[a("i-switch",{attrs:{size:"large"},model:{value:e.form.isVisible,callback:function(t){e.$set(e.form,"isVisible",t)},expression:"form.isVisible"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v("显示")]),a("span",{attrs:{slot:"close"},slot:"close"},[e._v("隐藏")])])]:[a("Input",{attrs:{type:"textarea",autosize:!0,placeholder:"请输入格式如${xxx}的表达式"},model:{value:e.form.isVisible,callback:function(t){e.$set(e.form,"isVisible",t)},expression:"form.isVisible"}})]],2),e.form.isVisible?[a("FormItem",{attrs:{label:"左侧展示字段名称"}},[a("i-switch",{attrs:{size:"large"},model:{value:e.form.isTitleVisible,callback:function(t){e.$set(e.form,"isTitleVisible",t)},expression:"form.isTitleVisible"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v("展示")]),a("span",{attrs:{slot:"close"},slot:"close"},[e._v("隐藏")])])],1),a("FormItem",{attrs:{label:"元素是否必须标注"}},[a("i-switch",{model:{value:e.form.required,callback:function(t){e.$set(e.form,"required",t)},expression:"form.required"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v("是")]),a("span",{attrs:{slot:"close"},slot:"close"},[e._v("否")])])],1),"web"===e.form.objectType?a("FormItem",{attrs:{label:"网页是否展示"}},[a("i-switch",{model:{value:e.form.isWebShow,callback:function(t){e.$set(e.form,"isWebShow",t)},expression:"form.isWebShow"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v("是")]),a("span",{attrs:{slot:"close"},slot:"close"},[e._v("否")])])],1):e._e(),a("FormItem",{attrs:{label:"容器高度"}},[a("RadioGroup",{model:{value:e.form.heightType,callback:function(t){e.$set(e.form,"heightType",t)},expression:"form.heightType"}},[a("Radio",{attrs:{label:"default"}},[e._v("自适应")]),a("Radio",{attrs:{label:"custom"}},[e._v("指定")])],1),"custom"===e.form.heightType?[a("InputNumber",{model:{value:e.form.height,callback:function(t){e.$set(e.form,"height",t)},expression:"form.height"}}),e._v("px")]:e._e()],2),a("FormItem",{attrs:{label:"容器计时锁定"}},[a("i-switch",{on:{"on-change":e.handleTimingChange},model:{value:e.form.isTiming,callback:function(t){e.$set(e.form,"isTiming",t)},expression:"form.isTiming"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v("是")]),a("span",{attrs:{slot:"close"},slot:"close"},[e._v("否")])])],1),e.form.isTiming?[a("FormItem",{attrs:{label:"最低标注时间（s）"}},[a("InputNumber",{attrs:{min:0,precision:0},model:{value:e.form.time,callback:function(t){e.$set(e.form,"time",t)},expression:"form.time"}})],1),a("FormItem",{attrs:{label:"锁定模块"}},[a("Select",{attrs:{options:e.options,clearable:""},model:{value:e.form.lockedName,callback:function(t){e.$set(e.form,"lockedName",t)},expression:"form.lockedName"}},e._l(e.options,(function(t){return a("Option",{key:t.name,attrs:{value:t.name,disabled:t.name===e.name}},[e._v(e._s(t.title))])})),1)],1)]:e._e(),a("FormItem",{attrs:{label:"文本字数统计"}},[a("i-switch",{model:{value:e.form.isCount,callback:function(t){e.$set(e.form,"isCount",t)},expression:"form.isCount"}},[a("span",{attrs:{slot:"open"},slot:"open"},[e._v("是")]),a("span",{attrs:{slot:"close"},slot:"close"},[e._v("否")])])],1),a("FormItem",{attrs:{label:"控件大小"}},[a("RadioGroup",{model:{value:e.form.objectSizeType,callback:function(t){e.$set(e.form,"objectSizeType",t)},expression:"form.objectSizeType"}},[a("Radio",{attrs:{label:"default"}},[e._v("默认")]),a("Radio",{attrs:{label:"custom"}},[e._v("指定")])],1),"custom"===e.form.objectSizeType?[e._v("w "),a("InputNumber",{model:{value:e.form.objectWidth,callback:function(t){e.$set(e.form,"objectWidth",t)},expression:"form.objectWidth"}}),e._v(" H "),a("InputNumber",{model:{value:e.form.objectHeight,callback:function(t){e.$set(e.form,"objectHeight",t)},expression:"form.objectHeight"}})]:e._e()],2)]:e._e()],2)},ye=[],ke=a("d010"),xe={components:{ExpressionDropdown:ke["a"]},props:{form:{type:Object,default:()=>({isVisible:!0,isTitleVisible:!0,required:!0,objectShowType:"expand",heightType:"default",height:"",objectSizeType:"default",objectWidth:"",objectHeight:"",isTiming:!1,time:0,lockedName:"",isCount:!1,isWebShow:!0,objectType:"string"})},name:{type:String},groups:{type:Array}},data(){return{typeMode:"固定值",ruleRegExp:{pattern:/^\$\{.*\}$/,message:"请输入格式如${xxx}的表达式",trigger:"change"}}},computed:{options(){return this.groups.map(e=>e.attributes)}},mounted(){Object(d["isString"])(this.form.isVisible)&&this.form.isVisible.match(/^\$\{.*\}$/)&&(this.typeMode="表达式")},methods:{updateTypeMode(e){this.typeMode=e,this.form.isVisible="固定值"===e||"${}"},handleTimingChange(){this.form.isTiming||(this.form.time=0,this.form.lockedName="")}}},we=xe,Se=(a("1727"),Object(w["a"])(we,be,ye,!1,null,"7dd6e832",null)),Ce=Se.exports,Oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Form",{ref:"form",attrs:{model:e.form,"label-position":"top"}},[a("FormItem",{attrs:{label:"包含数据字段"}},e._l(e.schema,(function(t,r){return a("span",{key:t.key},[a("span",[e._v(e._s(t.name)+"("+e._s(t.type))]),t.url_type?a("span",[e._v("-"+e._s(t.url_type))]):e._e(),a("span",[e._v(")")]),r!==e.schema.length-1?a("span",[e._v("、")]):e._e()])})),0),a("FormItem",{attrs:{label:"行高",prop:"height"}},[a("RadioGroup",{on:{"on-change":e.handleChangeHeight},model:{value:e.form.heightType,callback:function(t){e.$set(e.form,"heightType",t)},expression:"form.heightType"}},[a("Radio",{attrs:{label:"自适应"}}),a("Radio",{attrs:{label:"指定"}})],1),"指定"===this.form.heightType?a("Input",{staticStyle:{width:"100px",marginRight:"10px"},attrs:{type:"number"},scopedSlots:e._u([{key:"suffix",fn:function(){return[a("div",{staticClass:"suffix"},[e._v("px")])]},proxy:!0}],null,!1,2794420895),model:{value:e.form.height,callback:function(t){e.$set(e.form,"height",t)},expression:"form.height"}}):e._e()],1),a("FormItem",{attrs:{label:"标注组件"}},[a("t-cascader",{attrs:{options:e.options,filterable:""},model:{value:e.form.component,callback:function(t){e.$set(e.form,"component",t)},expression:"form.component"}})],1)],1),e.showDivider?a("t-divider"):e._e(),[a("optimus-engine",e._b({ref:"groupConfigTemplate",attrs:{schema:e.schema,context:e.context}},"optimus-engine",e.groupConfigTemplate,!1))]],2)},Te=[],je=a("7b40"),Ie={props:{component:{type:String,default:"default"},name:{type:String},attributes:{type:Object},schema:{type:Array},context:Object,disabled:Boolean},data(){var e,t,a,r;return{form:{component:"default"===this.component?je["a"].getDefaultComponent(this.schema[0].type,this.schema[0].url_type):this.component,height:(null===(e=this.attributes)||void 0===e?void 0:e.height)||(null===(t=this.schema)||void 0===t?void 0:t[0].height)||"",heightType:null!==(a=this.attributes)&&void 0!==a&&a.height||null!==(r=this.schema)&&void 0!==r&&r[0].height?"指定":"自适应"},typeSet:new Set}},computed:{showDivider(){return["z-default-text","z-default-image","z-default-web","z-default-model","z-text-tool","z-audio-tool"].includes(this.form.component)},groupConfigTemplate(){const e=Object(d["chain"])(this.$OptimusComponentMetadata).find({name:this.form.component}).value(),{attributes:t}=e,a=this.attributes,r=Object(d["map"])(t,e=>{const t={component:e.component||"z-input",attributes:Object.assign({name:e.name,label:e.label,required:!1,disabled:!(null===e||void 0===e||!e.isNeedDisabled)&&this.disabled},e.attributes)};return Object(d["has"])(a,e.name)||(t.attributes.value=Object(d["isFunction"])(e.value)?e.value.call(this):e.value),t});let i={};return Object(d["isEmpty"])(a)||(i=a),{component:{component:"z-form-stage",items:r},context:{},answer:i}},options(){const e=Object(d["chain"])(this.$OptimusComponentMetadata).filter({type:"container_component"}).groupBy("scene").value(),t=Object.keys(e).map(t=>({value:t,label:t,children:e[t].map(e=>({value:e.name,label:e.label}))}));return t}},watch:{"form.component"(){this.$emit("component-update",this.name,this.form.component)},schema(e,t){var a,r;const i=e.length&&(e[0].type!==(null===(a=t[0])||void 0===a?void 0:a.type)||e[0].url_type!==(null===(r=t[0])||void 0===r?void 0:r.url_type));i&&(this.form.component=je["a"].getDefaultComponent(this.schema[0].type,this.schema[0].url_type))}},methods:{handleChangeHeight(){"自适应"===this.form.heightType&&(this.form.height="")},getGroupConfig(){if(this.$refs.groupConfigTemplate){const{formData:e}=this.$refs.groupConfigTemplate;return Object(d["forEach"])(e,(t,a)=>{(Object(d["isNil"])(t)||Object(d["isString"])(t)&&(Object(d["isEmpty"])(t)||Object(d["isEmpty"])(Object(d["trim"])(t))))&&delete e[a]}),{group:this.name,component:this.form.component,formData:{...e,height:this.form.height}}}return null}}},Ae=Ie,De=(a("7814"),Object(w["a"])(Ae,Oe,Te,!1,null,"173c17c2",null)),Me=De.exports,Ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("List",{staticClass:"group-content"},[e.templateComponent.$label_group?e._l(e.templateComponent.$label_group,(function(t,r){return a("ListItem",{key:r},[a("div",{staticStyle:{width:"100%"}},[a("div",{staticClass:"list-item-top"},[a("Input",{staticStyle:{width:"30%"},attrs:{placeholder:"请输入工序名称"},model:{value:t.label,callback:function(a){e.$set(t,"label",a)},expression:"labelGroup.label"}}),a("Icon",{staticStyle:{cursor:"pointer"},attrs:{type:"ios-trash",size:"20"},on:{click:function(a){return e.handleTrashLabelGroup(t,r)}}})],1),a("Select",{attrs:{placeholder:"请选择标签",multiple:""},on:{"on-change":function(a){return e.handleChange(t)}},model:{value:e.labelGroupsListMap[t.name],callback:function(a){e.$set(e.labelGroupsListMap,t.name,a)},expression:"labelGroupsListMap[labelGroup.name]"}},e._l(e.options,(function(t){return a("Option",{key:t.attributes.name,attrs:{value:t.attributes.name}},[e._v(e._s(t.attributes.label))])})),1)],1)])})):e._e(),a("ListItem",{staticClass:"group-action"},[a("Button",{attrs:{type:"primary"},on:{click:e.addLabelGroup}},[e._v("新增工序")])],1)],2)},Re=[],Be={props:{templateComponent:Object,fetchSubmit:Function},data(){return{labelGroupsListMap:{}}},computed:{options(){const{items:e}=this.templateComponent;return e.filter(e=>e.attributes&&!e.attributes.hidden&&"z-container-stage"!==e.component)}},watch:{labelGroupsListMap:{deep:!0,handler(){console.log("---------------------watch--------------------"),this.templateComponent.items.forEach(e=>{const t=[];Object.keys(this.labelGroupsListMap).forEach(a=>{this.labelGroupsListMap[a].includes(e.attributes.name)&&t.push(a)}),Object.assign(e.attributes,{labelGroup:t})})}}},created(){this.getLabelGroupsListMap()},methods:{getLabelGroupsListMap(){const{items:e,$label_group:t}=this.templateComponent;t&&t.forEach(t=>{const{name:a}=t,r=e.filter(e=>{var t,r;return null===e||void 0===e||null===(t=e.attributes)||void 0===t||null===(r=t.labelGroup)||void 0===r?void 0:r.includes(a)}).map(e=>e.attributes.name);this.$set(this.labelGroupsListMap,a,r)})},addLabelGroup(){Object(d["has"])(this.templateComponent,"$label_group")||this.$set(this.templateComponent,"$label_group",[]);const e={name:"label_group_"+(new Date).getTime(),label:"工序"+(this.templateComponent.$label_group.length+1)};this.templateComponent.$label_group.push(e),this.$set(this.labelGroupsListMap,e.name,[])},handleTrashLabelGroup(e,t){this.$Modal.confirm({title:e.label,content:"确定要删除该工序",onOk:()=>{this.templateComponent.$label_group.splice(t,1),delete this.labelGroupsListMap[e.name]}})},handleChange(e){console.log(e.label,this.labelGroupsListMap)},validate(){const{$label_group:e}=this.templateComponent;return!e||!e.some(e=>!e.label||0===this.labelGroupsListMap[e.name].length)||(this.$Message.error("保存失败，请完善标注工序"),!1)}}},Pe=Be,Le=(a("9356"),Object(w["a"])(Pe,Ee,Re,!1,null,"2e139190",null)),Fe=Le.exports,Ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"keyword-highlight"},[a("Form",{ref:"form",attrs:{model:e.form}},[a("FormItem",{attrs:{prop:"relation"}},[a("Row",{attrs:{type:"flex",align:"middle"}},[a("span",[e._v("关键词高亮")]),a("i-switch",{staticClass:"mlm",attrs:{size:"large"},on:{"on-change":e.onOpen},scopedSlots:e._u([{key:"open",fn:function(){return[e._v("启用")]},proxy:!0},{key:"close",fn:function(){return[e._v("禁用")]},proxy:!0}]),model:{value:e.form.open,callback:function(t){e.$set(e.form,"open",t)},expression:"form.open"}})],1),e.form.open?a("div",{staticClass:"mts"},[a("Select",{attrs:{multiple:"",filterable:"",placeholder:"请选择要引入的标签集（必填）","not-found-text":"暂无数据，请前往模板【数据配置-标签集配置】添加"},on:{"on-change":e.onChangeRelation},model:{value:e.form.relation,callback:function(t){e.$set(e.form,"relation",t)},expression:"form.relation"}},e._l(e.options,(function(t){return a("Option",{key:t.value,attrs:{value:t.value,label:t.value+"（"+t.label+"）"},scopedSlots:e._u([{key:"tag",fn:function(){return[a("span",{staticStyle:{"white-space":"normal"}},[e._v(e._s(t.value)+"（"+e._s(t.label)+"）")])]},proxy:!0}],null,!0)},[a("span",{staticStyle:{"white-space":"normal"}},[e._v(e._s(t.value)+"（"+e._s(t.label)+"）")])])})),1),a("small",{staticClass:"help"},[a("span",[e._v("说明：支持引入多个")]),a("b",[e._v("标签集")]),a("span",[e._v("作为关键词检索；检索范围为")]),a("b",[e._v("<标注文本区>")]),a("span",[e._v("和")]),a("b",[e._v("<标注辅助信息区>")]),a("span",[e._v("；暂仅对")]),a("b",[e._v("“实体词/长文本划词场景”")]),a("span",[e._v("生效。")])])],1):e._e()],1)],1)],1)},$e=[],ze={props:{templateComponent:Object,fetchSubmit:Function,tagsets:Array},data(){return{form:{open:!1,relation:[]}}},computed:{options(){const{tagsets:e}=this;return e.length?e.map(({tagset_title:e,tagset_key:t})=>({label:e,value:t})):[]}},mounted(){const{$keyword_highlight:e}=this.templateComponent;e&&this.$nextTick(()=>{Object.assign(this.form,e)})},methods:{onOpen(e){Object(d["has"])(this.templateComponent,"$keyword_highlight")?(this.$set(this.templateComponent.$keyword_highlight,"open",e),this.$set(this.templateComponent.$keyword_highlight,"relation",e?this.form.relation:[])):this.$set(this.templateComponent,"$keyword_highlight",{open:e,relation:[]})},onChangeRelation(){Object(d["has"])(this.templateComponent,"$keyword_highlight")||this.onOpen(!0),this.$set(this.templateComponent.$keyword_highlight,"relation",this.form.relation)},validate(){const{$keyword_highlight:e}=this.templateComponent;return!(null!==e&&void 0!==e&&e.open&&(null===e||void 0===e||!e.relation.length))||(this.$Message.error("保存失败，请完善关键词高亮的关联标签集"),!1)}}},Ve=ze,Ue=(a("bf25"),Object(w["a"])(Ve,Ne,$e,!1,null,"f6557452",null)),He=Ue.exports,Ge=a("4a16"),We=a("c099"),qe=a("b2b7"),Xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("t-button",{attrs:{disabled:e.disabled},on:{click:function(t){e.visible=!0}}},[e._v("导入列")]),a("t-dialog",{attrs:{visible:e.visible,header:"批量导入列","on-confirm":e.handleImport,closeOnOverlayClick:!1},on:{"update:visible":function(t){e.visible=t}}},[a("t-form",{ref:"formRef",attrs:{data:e.formData,rules:e.rules,labelAlign:"top"},on:{validate:e.handleValidate}},[a("t-form-item",{attrs:{label:"导入方式",name:"importType"}},[a("t-space",{attrs:{direction:"vertical"}},[a("t-radio-group",{model:{value:e.formData.importType,callback:function(t){e.$set(e.formData,"importType",t)},expression:"formData.importType"}},[a("t-radio",{attrs:{value:"upload"}},[e._v("上传文件导入")]),a("t-radio",{attrs:{value:"copy"}},[e._v("粘贴表头导入")])],1),"upload"===e.formData.importType?a("t-upload",{attrs:{accept:".jsonl,.xlsx,.xls,.csv","before-upload":e.handleFileChange,"request-method":e.customRequest,placeholder:"支持拓展名：.jsonl, .xlsx, .xls, .csv"}}):e._e(),"copy"===e.formData.importType?a("t-textarea",{attrs:{placeholder:"请输入"},on:{change:e.handleTextareaChange}},[a("t-row",{attrs:{slot:"tips"},slot:"tips"},[a("div",{staticStyle:{color:"var(--td-text-color-placeholder)"}},[e._v("支持粘贴excel表头或单条json来快速导入列字段（")]),a("t-tooltip",[a("pre",{staticStyle:{"white-space":"pre-wrap"},attrs:{slot:"content"},slot:"content"},[e._v('【excel表头示例】\nid img audio video text web\n\n【单条json示例】\n{"id": "1", "img": "url1", "audio": "url2", "video": "url3", "text": "url4", "web": "url5"}')]),a("t-link",{attrs:{hover:"color",theme:"primary"}},[e._v("查看示例")])],1),a("div",{staticStyle:{color:"var(--td-text-color-placeholder)"}},[e._v("）")])],1)],1):e._e()],1)],1),a("t-form-item",{attrs:{label:e.formData.importFields.length?"待导入字段（共"+e.formData.importFields.length+"个）":"待导入字段",name:"importFields"}},[a("div",[e._v(e._s(e.formData.importFields.join("；")||"无"))])]),a("t-form-item",{attrs:{label:"导入效果",name:"importEffect"}},[a("t-radio-group",{model:{value:e.formData.importEffect,callback:function(t){e.$set(e.formData,"importEffect",t)},expression:"formData.importEffect"}},[a("t-radio",{attrs:{value:"add"}},[e._v("导入并新增列")]),a("t-radio",{attrs:{value:"cover"}},[e._v("导入并覆盖已有列")])],1)],1)],1)],1)],1)},Ye=[],Ke=(a("dc28"),a("e890"),a("f465"),a("81ee"),a("fd5b")),Ze=a.n(Ke),Je=a("28e0"),Qe=a.n(Je),et={props:{disabled:{type:Boolean,default:!1},templateSchema:{type:Array,required:!0}},data(){return{formData:{importType:"upload",importFields:[],importEffect:"add"},visible:!1,rules:{importType:[{required:!0,message:"请选择导入方式"}],importFields:[{required:!0,message:"暂无待导入字段"}],importEffect:[{required:!0,message:"请选择导入效果"}]}}},methods:{customRequest(){return new Promise(e=>{e({status:"success",response:{url:""}})})},async handleFileChange(e){try{const{headers:t,firstDataRow:a}=await this.readFileHeaders(e.raw),r=t.filter(e=>e);if(!this.validateFields(r))return;this.formData.importFields=r,console.log("首行数据示例:",a)}catch(t){console.error("读取文件失败:",t),this.$message.error("文件读取失败，请检查文件格式")}},async readFileHeaders(e){const t=e.name.split(".").pop().toLowerCase();switch(t){case"csv":return this.readCsvHeaders(e);case"xlsx":case"xls":return this.readExcelHeaders(e);case"jsonl":return this.readJsonlHeaders(e);default:throw new Error("不支持的文件类型")}},handleTextareaChange(e){try{const t=e.trim();let a=[];if(t.startsWith("{")&&t.endsWith("}")){const e=JSON.parse(t);a=Object.keys(e)}else{const e=/[\s;,]+/;a=t.split(e).map(e=>e.trim()).filter(e=>e)}if(a.length>0){if(!this.validateFields(a))return;this.formData.importFields=a}else this.formData.importFields=[]}catch(t){console.error("解析失败:",t),this.formData.importFields=[],this.$message.error("解析失败，请检查输入格式是否正确")}},validateFields(e){const t=e.filter(e=>!/^[A-Za-z0-9_]+$/.test(e));if(t.length>0)return this.$message.error(`无效字段格式：${t.join("/")}，只支持英文、数字及下划线`),this.formData.importFields=[],!1;const a=Object(d["chain"])(e).countBy().pickBy(e=>e>1).keys().value();return!(a.length>0)||(this.$message.error(`重复字段名：${a.join("/")}，请修改后重试`),this.formData.importFields=[],!1)},handleValidate({validateResult:e,firstError:t}){if(!0===e){const e=this.formData.importFields.map(e=>({key:e,name:e,type:"string",string_type:"text",group:e,json_schema:"",element_type:"",url_type:"",url_dump:!1,required:!0,desc:"",isElement:!1,display:!1,height:"",isLabelDisplay:!1,primary:!1}));if("add"===this.formData.importEffect){const t=this.templateSchema.map(e=>e.key),a=this.formData.importFields.filter(e=>t.includes(e));if(a.length>0)return void this.$message.error(`已有key值一致的字段名：${a.join("/")}，请修改后重试`);this.$emit("import",[...this.templateSchema,...e])}else e[0].primary=!0,this.$emit("import",e);this.visible=!1}else this.$message.error(t)},handleImport(){this.$refs.formRef.validate()},readCsvHeaders(e){return new Promise((t,a)=>{Qe.a.parse(e,{preview:2,complete:e=>{const a=e.data[0]||[],r=e.data.length>1?e.data[1]:[],i=a.reduce((e,t,a)=>({...e,[t]:r[a]||""}),{});t({headers:a,firstDataRow:i})},error:a})})},readExcelHeaders(e){return new Promise((t,a)=>{const r=new FileReader;r.onload=e=>{try{const a=new Uint8Array(e.target.result),r=Ze.a.read(a,{type:"array"}),i=r.Sheets[r.SheetNames[0]],n=Ze.a.utils.sheet_to_json(i,{header:1}),s=n[0]||[],o=n.length>1?n[1]:[],l=s.reduce((e,t,a)=>({...e,[t]:o[a]||""}),{});t({headers:s,firstDataRow:l})}catch(r){a(r)}},r.onerror=a,r.readAsArrayBuffer(e)})},readJsonlHeaders(e){return new Promise((t,a)=>{const r=new FileReader;r.onload=e=>{try{const a=e.target.result.split("\n").find(e=>e.trim());if(!a)throw new Error("文件为空");const r=JSON.parse(a);t({headers:Object.keys(r),firstDataRow:r})}catch(r){a("JSONL文件解析失败: "+r.message)}},r.onerror=()=>a("文件读取失败"),r.readAsText(e)})}}},tt=et,at=Object(w["a"])(tt,Xe,Ye,!1,null,"57af2faf",null),rt=at.exports,it={components:{ReferenceVariable:z,draggable:H.a,EditTagset:he,PreProcess:ve,GroupForm:Ce,DefaultGroupForm:Me,LabelGroup:Fe,KeywordHighlight:He,StandardizeMark:We["a"],PermissionManager:qe["a"],FieldImport:rt,EditHelper:C,JsonViewer:j.a,CopyBtn:I["a"]},data(){const e=(e,t,a)=>{try{JSON.parse(t);const e=new K.a.Validator,r=e.validate(JSON.parse(this.templateSampleForm.templateSample),this.dataDemoJsonSchema);if(console.log("单条数据校验结果",this.dataDemoJsonSchema,r),!r.valid){let e="";Object(d["forEach"])(r.errors,t=>{const a=`${t.path.join(".")} ${t.message}`;e=e?`${e}、${a}`:""+a}),a(new Error("输入样例校验不通过: "+e))}a()}catch(r){a(new Error("输入样例不是合法的json"))}},t={data:[{label:"数据列字段配置",value:"schema"},{label:"标签集配置",value:"tagset"},{label:"预处理配置",value:"preProcess"}],component:[{label:"主界面",value:"main"},{label:"标注无效界面",value:"invalid"}]};return{head:d["head"],subMenus:t,templateRefs:{},isShowTemplate:!1,TemplateScenes:V["i"],activePanel:"dataConfig",activeDataPanel:"dataConfig",activeGroup:"",curSelectGroup:"",groupsLists:[],containerList:[],splitValue:.5,componentForm:{localLabelScope:"all",scopeArray:[]},componentModal:{type:"",range:"",open:!1,modal:null,component:"",isShow:!1,tab:"label_config"},objectItemsArr:[],allSelected:!1,isPrivateLabelFront:!1,curSelectTool:{},toolForm:{},toolModal:{type:"",multipleAdd:{open:!1,value:"",max:1e3},open:!1,modal:null,toolType:"",toolLabel:"",toolTags:[],curTag:{},errorType:{required:!1,isRepeat:!1,isConflict:!1,group:""},isToolSelected:!1,scene:"实体词",helps:[],helpSelected:[],translateTool:!1,searchTool:!1,wordCount:!1},toolLists:[],templateId:this.$route.params.id,ProjectId:"",tab:"component",subTab:"",form:{},layout:"normal",previewVisible:!1,businessComponentVisible:!1,componentRenderCounter:0,optimusRenderCounter:0,labelGroupRenderCounter:0,configAttributeRenderCounter:0,templateSampleForm:{templateSample:""},dataDemoValidate:{templateSample:[{validator:e,trigger:"blur,change"}]},componentContext:{},tagsetContext:{},templateComponent:null,templateSchema:null,templateSchemaClone:null,schemaPrimaryKey:"",templateScene:"",templateLevel1:"",templateLevel2:"",templateTagsetList:[],componentsMetadata:this.$OptimusComponentMetadata,myAvailabelComponents:[],stagesMetadata:this.$OptimusStageMetadata,optimusConfigs:this.$OptimusConfigs,answerJsonSchemaKey:"$answer",answerResult:{},answerPreview:!1,isPreAnnotate:!1,AIHelpConfigs:{},asrLangLists:["汉语","粤语","英语","维语","藏语","蒙语","哈语","哼唱"],helperChange:!1,isHeplerEnabled:!1,autoLabelAnswer:null,mockLoading:!1,isHelperOk:!1}},computed:{userInfo(){return this.$store.state.userinfo},hasToolContainerList(){return this.containerList.filter(e=>e.tools.length)},schemaColumns(){return[{title:"KEY",key:"key",tree:!0,minWidth:150},{title:"名称",key:"name",minWidth:150},...this.isDefaultStage?[{title:"所属容器",slot:"group",minWidth:100}]:[],{title:"主键",slot:"primary",minWidth:80},{title:"必填",slot:"required",minWidth:80},{title:"展示",slot:"display",minWidth:80},{title:"类型",key:"type",align:"center",minWidth:100},{title:"媒体类型",slot:"url_type",align:"center",minWidth:100},{title:"是否转存",slot:"url_dump",align:"center",minWidth:100},{title:"元素类型",slot:"element_type",align:"center",minWidth:100},{title:"备注",slot:"desc",minWidth:120},{title:"操作",slot:"action",fixed:"right",minWidth:220}]},isStandardize(){var e;return!(null===(e=this.template)||void 0===e||!e.standardized_id)},isRelatedTemplate(){return!!["project","bid-task","formal-task"].includes(this.template.related_object_type)},allContext(){return{...this.tagsetContext,...this.componentContext}},dataDemoJsonSchema(){const e={},t=[];return Object(d["forEach"])(this.templateSchema,a=>{const r={json:["object","array","string","number","boolean","null"],array:"array"};var i;(e[a.key]={type:r[a.type]||"string"},a.required&&t.push(a.key),"array"===a.type)&&(e[a.key].items={type:"object"===a.element_type?"object":"string",required:[]},"object"===a.element_type&&(null===(i=a.children)||void 0===i?void 0:i.length)>0&&Object(d["forEach"])(a.children,t=>{e[a.key].items.properties={[t.key]:{type:"string"}},a.required&&e[a.key].items.required.push(t.key)}))}),{$schema:"https://json-schema.org/draft/2019-09/schema",description:"数据样例格式校验",type:"object",properties:e,required:t}},isAnswerImport(){return["z-audio-stage","z-video-tran-stage","z-image-stage-v2","z-text-multiple-stage","z-text-stage","z-wujie-stage"].includes(this.templateComponent.component)},preAnnotatorAnswer(){return this.componentContext[this.answerJsonSchemaKey]&&this.isPreAnnotate?Object(Z["b"])(this.templateComponent,this.componentContext[this.answerJsonSchemaKey]):{}},isEditSchema(){const{from:e,schema:t}=this.$route.query;if(void 0!==e)switch(e){case"template":return!0;case"project":case"task":return"true"===t||"false"!==t&&t}return!1},isFromProject(){const{from:e}=this.$route.query;if(void 0!==e)switch(e){case"project":case"task":return!0}return!1},expressionVariable(){return Object(d["isArray"])(this.templateComponent.items)&&this.templateComponent.items.map(e=>e.attributes)},tagsetVariable(){return Object(d["isArray"])(this.templateTagsetList)&&this.templateTagsetList.map(e=>({name:e.tagset_key,label:e.tagset_title}))},objectVariable(){let e=[];return this.isDefaultStage?e=this.containerList.map(e=>e.name):this.isMultipleGroupsStage&&(e=this.groupsLists.map(e=>e.attributes.name)),this.templateComponent.$object_items.filter(t=>e.includes(t.group))},toolsOptions(){let e;var t;this.isDefaultStage?e=null===(t=this.containerList.find(e=>e.name===this.curSelectGroup))||void 0===t?void 0:t.tools:e=Object(d["chain"])(this.stagesMetadata).find({name:this.templateComponent.component}).value().tools;return e},availabelComponents(){return"add"===this.componentModal.type?this.myAvailabelComponents.filter(e=>!["ai","deprecated","container_component"].includes(e.type)):this.componentsMetadata},stageMetadata(){return Object(d["chain"])(this.stagesMetadata).find({name:this.templateComponent.component}).value()},curGroupObjectTools(){return this.templateComponent.$object_tools.filter(e=>!e.group||e.group===this.curSelectGroup)},objectItemGroupArr(){const e={all:[],private:[]};return Object(d["forEach"])(this.templateComponent.$object_items,t=>{var a;t.group&&t.group!==this.curSelectGroup||t.attributes.reference&&"all"!==t.attributes.reference?t.attributes.reference===(null===(a=this.curSelectTool)||void 0===a?void 0:a.name)&&e.private.push(t):e.all.push(t)}),this.isPrivateLabelFront?[e.private,e.all]:[e.all,e.private]},configAttributeTemplate(){const{attributes:e}=Object(d["chain"])(this.stagesMetadata).find({name:this.templateComponent.component}).value();if(!e||Object(d["isEmpty"])(e))return null;const{attributes:t}=this.templateComponent,a=Object(d["map"])(e,e=>{const a={component:e.component||"z-input",attributes:Object.assign({name:e.name,label:e.label,required:!1,disabled:!(null===e||void 0===e||!e.isNeedDisabled)&&!this.isEditSchema},e.attributes)};return Object(d["has"])(t,e.name)||(a.attributes.value=Object(d["isFunction"])(e.value)?e.value.call(this):e.value),a}),r={component:{component:"z-form-stage",items:a},context:{}};return Object(d["isEmpty"])(t)||(r.answer=t),r},textStageLocalTagShow(){const{range:e,component:t}=this.componentModal;return["z-text-stage","z-text-multiple-stage"].includes(this.templateComponent.component)&&"local"===e&&("z-input"===t||"z-single-select"===t||"z-multiple-select"===t)},textStageIsToolSelectedShow(){const{toolType:e,scene:t}=this.toolModal;return"text/ner"===e&&"实体词"===t},isTextStage(){const{toolType:e}=this.toolModal;return"text/ner"===e},sceneEnable(){if(this.templateComponent){var e;const{$object_tools:t}=this.templateComponent;return 0===(null===t||void 0===t||null===(e=t.filter(e=>"text/ner"===e.type))||void 0===e?void 0:e.length)}return!1},pageLayoutShow(){var e;return["z-text-stage"].includes(null===(e=this.templateComponent)||void 0===e?void 0:e.component)},isMultipleGroupsStage(){var e;return["z-multiple-groups-stage"].includes(null===(e=this.templateComponent)||void 0===e?void 0:e.component)},isDefaultStage(){var e;return["z-default-stage"].includes(null===(e=this.templateComponent)||void 0===e?void 0:e.component)},isMultipleAiChat(){const{component:e,attributes:{type:t}}=this.templateComponent;return"z-ai-model-stage"===e&&"multiple"===t},pageLayoutEnable(){if(this.templateComponent){const{$object_items:e,$object_tools:t}=this.templateComponent;return Object(d["isArray"])(e)&&0===e.length&&Object(d["isArray"])(t)&&0===t.length}return!1},aiHelpComponent(){return["z-ocr-input","z-asr-input"].includes(this.componentModal.component)},showKeywordHighlight(){var e,t;const{templateComponent:a}=this;return["z-text-stage","z-text-multiple-stage"].includes(a.component)&&(null===(e=a.extra_attributes)||void 0===e?void 0:e.scene)&&["实体词","长文本划词"].includes(a.extra_attributes.scene)&&!(null===(t=a.$object_tools)||void 0===t||!t.length)},toolAddDisabled(){return this.stageMetadata.toolReadonly||this.isMultipleGroupsStage&&this.curGroupObjectTools.length>=1||this.isStandardize&&this.isFromProject},templateFrom(){return this.template.template_origin?this.template.template_origin&&this.template.related_object_id?"project"===this.template.related_object_type?"项目模板":"任务模板":!this.template.template_origin||this.template.business_id||this.template.related_object_id||this.template.standardized_id?"":"我的模板":"通用模板"}},watch:{"templateSampleForm.templateSample"(e){try{const t=JSON.parse(e);this.componentContext=t,this.updateOptimusEngine()}catch(t){}},"$route.query.tab"(e){e&&(this.tab=e,this.initSubTab(),this.componentModal.open=!1)},templateComponent:{deep:!0,handler(e){var t;if(e){const{$object_items:t,$object_tools:a}=e;(Object(d["isArray"])(t)&&t.length>0||Object(d["isArray"])(a)&&a.length>0)&&(this.layout="normal"),this.updateOptimusEngine(),this.$nextTick(()=>{const e=Object(d["find"])(this.templateSchema,{key:this.answerJsonSchemaKey});e&&(e.json_schema=JSON.stringify(this.$refs.mainEngine.answerJsonSchema,null,2))})}const a=null===(t=this.templateComponent.label_helpers)||void 0===t?void 0:t.find(e=>e.key.includes("$answer"));this.isHelperOk=a&&3===a.extra.currentStep}},"templateComponent.items.length":{deep:!0,handler(e,t){var a;const r=null===(a=this.templateComponent.label_helpers)||void 0===a?void 0:a.find(e=>e.key.includes("$answer"));r&&t&&(this.helperChange=!0)}},templateSchema:{deep:!0,immediate:!0,handler(e){if(e){var t,a,r,i;if(this.isMultipleGroupsStage)this.curSelectGroup=null===(a=e[0])||void 0===a?void 0:a.key,this.setMultiplGroupItems();if(this.isDefaultStage)this.setDefaultGroupItems(),this.curSelectGroup=null===(r=this.hasToolContainerList)||void 0===r||null===(i=r[0])||void 0===i?void 0:i.name;this.schemaPrimaryKey=null===(t=Object(d["find"])(e,{primary:!0}))||void 0===t?void 0:t.key,this.updateOptimusEngine()}}},allContext:{deep:!0,handler(e){e&&(this.configAttributeRenderCounter+=1)}},templateScene(){this.templateScene&&0===this.form.template_origin&&this.fetchTemplateLevel1s(this.templateScene)},templateLevel1(){this.templateLevel1||(this.templateLevel2="")},"componentForm.localLabelScope"(e){"all"===e&&(this.componentForm.scopeArray=[])},"toolModal.open"(e){e||(this.toolModal.multipleAdd.open=!1,this.toolModal.multipleAdd.value="")}},async created(){this.template=null,await this.onBusinessComponentVisible(),this.getHelperPremission(),this.getMyAvailabelComponents(),this.fetchTemplate().then(e=>{this.initTemplate(e)}).catch(e=>{console.log(e);let t="获取模板失败："+e.message;e.message.includes("权限")&&(t+="，请联系模板拥有者获取对应权限"),this.$Message.error({content:t,duration:3})})},asyncMethods:{fetchSubmit(){var e,t;const a=Object(d["cloneDeep"])(this.form);var r;this.pageLayoutShow&&this.$set(this.templateComponent,"extra_attributes",{...null===(r=this.templateComponent)||void 0===r?void 0:r.extra_attributes,layout:this.layout});if(!this.templateScene||!this.templateLevel1)return this.$Message.error("保存失败，请完善标注场景和模板类型"),Promise.resolve();const i=Object(d["filter"])(this.templateSchema,{primary:!0});if(1!==i.length)return this.templateSchema=this.templateSchemaClone,this.$Message.error("数据约定必须有且仅有一个主键字段"),Promise.resolve();if(!this.validateSubmit())return this.templateSchema=this.templateSchemaClone,Promise.resolve();if(Object(d["has"])(this.$refs,"configAttributeTemplate")&&(Object(d["forEach"])(this.$refs.configAttributeTemplate.formData,(e,t)=>{Object(d["isNil"])(e)||Object(d["isString"])(e)&&(Object(d["isEmpty"])(e)||Object(d["isEmpty"])(Object(d["trim"])(e)))?delete this.templateComponent.attributes[t]:this.$set(this.templateComponent.attributes,t,e)}),this.isDefaultStage)){const e={},t=Object(d["groupBy"])(this.templateSchema,e=>e.group||e.name);Object(d["forEach"])(Object.keys(t),t=>{const a=Object(d["find"])(this.$refs.defaultGroupForm,e=>t===e.name),r=a&&a.getGroupConfig(),i=r.formData,n={};Object(d["forEach"])(i,(e,t)=>{(Object(d["isNil"])(e)||Object(d["isString"])(e)&&(Object(d["isEmpty"])(e)||Object(d["isEmpty"])(Object(d["trim"])(e))))&&delete n[t],n[t]=e}),e[t]={component:r.component,attributes:n}});const a=this.templateComponent.$object_tools.filter(e=>!e.group||Object.keys(t).includes(e.group)),r=this.templateComponent.$object_items.filter(e=>!e.group||Object.keys(t).includes(e.group));this.$set(this.templateComponent,"$object_tools",a),this.$set(this.templateComponent,"$object_items",r),this.$set(this.templateComponent.attributes,"groupConfig",e)}if(Object(d["has"])(this.templateComponent,"invalid_items")){if(-1!==Object(d["findIndex"])(this.templateComponent.invalid_items,{component:"z-single-select"})){const e=Object(d["findIndex"])(this.templateComponent.invalid_items,{component:"z-single-select"}),{attributes:t}=this.templateComponent.invalid_items[e];t.options=t.options.filter(e=>""!==Object(d["trim"])(e.value)),t.options.length||this.templateComponent.invalid_items.splice(e,1)}}else{const e=[{component:"z-input",attributes:{name:"invalid_reason",label:"无效原因",required:!1}}];this.$set(this.templateComponent,"invalid_items",e)}if(this.stageMetadata.hiddenItems&&this.stageMetadata.hiddenItems.length>0&&this.stageMetadata.hiddenItems.forEach(e=>{Object(d["find"])(this.templateComponent.items,t=>t.attributes.name===e.attributes.name)||this.templateComponent.items.push(e)}),this.$refs.labelGroup&&(null===(e=this.$refs.labelGroup)||void 0===e||!e.validate()))return Promise.resolve();if(this.$refs.keywordHighlight&&(null===(t=this.$refs.keywordHighlight)||void 0===t||!t.validate()))return Promise.resolve();this.onCalDistanceScoreExchange("number");const o=this.templateSchema.map(e=>{const{children:t,isElement:a,_showChildren:r,id:i,...n}=e;if(t&&t.length){const e=t.map(e=>{const{isElement:t,parentIndex:a,id:r,...i}=e;return{...i}});return{...n,element_schema:e}}return{...e,height:""}});return this.templateComponent.$keyword_highlight&&Object.hasOwn(this.templateComponent.attributes,"isKeywordHighlight")&&this.$delete(this.templateComponent,"$keyword_highlight"),a.template_component=JSON.stringify(this.templateComponent),a.template_sample=JSON.stringify(this.componentContext),a.template_schema=JSON.stringify(o),0===this.template.template_origin?(a.template_scene=this.templateScene,a.template_level1=this.templateLevel1,a.template_level2=this.templateLevel2,a.template_id=Object(h["BigNumber"])(this.templateId),delete a.created_at,delete a.created_by,delete a.related_object_id,delete a.related_object_type,delete a.scene,delete a.user_entity,delete a.updated_at,delete a.updated_by,delete a.template_type,delete a.valid_thru,Object(s["u"])(a).then(e=>{this.$Message.success("已保存"),this.template.updated_at=e.updated_at}).catch(e=>{this.$Message.error(e?e.message:"保存出错")})):(a.template_scene=this.templateScene!==this.template.template_scene?this.templateScene:void 0,a.template_level1=this.templateLevel1!==this.template.template_level1?this.templateLevel1:void 0,a.template_level2=this.templateLevel2!==this.template.template_level2?this.templateLevel2:void 0,a.id=this.templateId,Object(n["n"])(a).then(e=>{this.$Message.success("已保存"),this.template.updated_at=e.updated_at,this.onCalDistanceScoreExchange("boolean");try{var t,a;null!==(t=window)&&void 0!==t&&null!==(a=t.opener)&&void 0!==a&&a.origin&&window.opener.postMessage("update-template-validate",window.opener.origin)}catch(r){console.log(r)}}).catch(e=>{this.$Message.error(e?e.message:"保存出错")}))},fetchTemplate(){const e={template_id:Object(h["BigNumber"])(this.templateId)};return Object(n["k"])(e)},fetchTemplateLevel1s(e){const t={template_scene:e};return Object(s["l"])(t).then(e=>Object(d["uniqBy"])(e,"template_level1"))},fetchTemplateLevel2s(){const e={template_scene:this.templateScene,template_level1:this.templateLevel1,template_level2:this.templateLevel2};return Object(s["l"])(e).then(e=>e)},fetchAIHelpList(e){let t="";"image/rect_ocr"===e||"image/rect"===e||"image/polygon"===e?t="OCR辅助标注":"audio/segment"===e&&(t="ASR辅助标注");const a={api_type:t};return t?l(a).then(e=>e):Promise.resolve({})},fetchAIHelpConfig(e){const t={api_id:e};return c(t).then(t=>(this.AIHelpConfigs[e]=t,t))}},mounted(){document.addEventListener("keydown",this.listenKeyboardEvent),this.$route.query.tab&&(this.tab=this.$route.query.tab),this.initSubTab()},methods:{initSubTab(){var e;this.subTab=null===(e=this.subMenus[this.tab])||void 0===e?void 0:e[0].value},handleReset(){this.autoLabelAnswer=null,this.optimusRenderCounter+=1},updateOptimusEngine(){this.componentRenderCounter+=1,"component"===this.tab&&(this.optimusRenderCounter+=1)},handleLabelTabChange(){const{tab:e}=this.componentModal,t=["name","label","tab"],a=["autoLabelValueEnabled","autoLabelSuggestEnabled","autoLabel"],r=["autoValidatorEnabled","autoValidator","autoCheckEnabled","autoCheck"],i=this.$refs.componentModalOptimus.$children[0].$children[0];i.$children.forEach(i=>{var n;if(!i.name||!i.$el)return;const s="label_config"===e&&![...a,...r].includes(i.name)||"label_helper"===e&&[...t,...a].includes(i.name)||"check_helper"===e&&[...t,...r].includes(i.name);null===(n=i.$el.classList)||void 0===n||n.toggle("hidden",!s)})},handleSubmitMock(){const e=this.$refs.mainEngine;e.validate({eventType:"submit"});const{isValid:t}=e;if(!t){const t=null!==e.validateMsg,a=e&&e.validateMsg?e.validateMsg:"请完善必填项";return void(t&&this.$Notice.error({title:"",desc:"提示",render:e=>e("span",[a])}))}const{isAutoValid:a}=e;a?this.$Notice.success({title:"校验成功！"}):this.$Notice.error({title:"",desc:"提示",render:e=>e("span",["机审判定标注结果有误，请检查"])})},async handleHelperMock(){this.mockLoading=!0;const e=this.templateComponent.label_helpers.findIndex(e=>e.key.includes("$answer"));if(-1!==e){const{params:a}=this.templateComponent.label_helpers[e];a.input_query=this.allContext;try{const{data:{data:e}}=await g["a"].getHelper(a);e?(console.log("handleHelperMock",e),this.autoLabelAnswer=Object(d["cloneDeep"])(this.preAnnotatorAnswer),!this.autoLabelAnswer.tags&&(this.autoLabelAnswer.tags=[]),e.tags.forEach(e=>{const t=e.label&&this.templateComponent.items.find(t=>Object(_["o"])(t.attributes.label)===e.label);if(t){var a;const r=null===(a=this.autoLabelAnswer.tags)||void 0===a?void 0:a.findIndex(e=>e.name===t.name),i=Object(_["o"])(t.attributes.value);-1!==r?(this.autoLabelAnswer.tags[r].autoLabel=e.autoLabel,this.autoLabelAnswer.tags[r].value=!1===t.attributes.autoLabelValueEnabled?i:e.autoLabel.value):this.autoLabelAnswer.tags.push({...e,value:!1===t.attributes.autoLabelValueEnabled?i:e.autoLabel.value,name:t.attributes.name})}})):this.$Notice.error({title:"辅助标注暂不可用",desc:"辅助标注暂不可用，请稍后再试。"})}catch(t){console.error(t)}finally{this.mockLoading=!1}}},async getHelperPremission(){const e=await Object(O["e"])({method:"SubmitImportTaskFromURL"});this.isHeplerEnabled=e.is_gray},handleTabChange(e){this.$router.push({query:{...this.$route.query,tab:e}}),this.initSubTab(),"component"===e&&this.optimusRenderCounter!==this.componentRenderCounter&&(this.optimusRenderCounter=this.componentRenderCounter)},handleHelpersReconfig(){this.handleTabChange("helper"),this.$refs.helper.handleReconfig(),this.helperChange=!1},handlePreview(){window.open(`/templates/${this.templateId}/preview`,"_blank")},listenKeyboardEvent:Object(d["throttle"])((async function(e){const{code:t,ctrlKey:a,metaKey:r}=e;if("KeyV"===t&&(a||r)){const e=await navigator.clipboard.readText();console.log("粘贴的文本是：",e);try{const{type:t,value:a}=JSON.parse(e);switch(t){case"global":{if("component"!==this.tab)return;const{component:e,attributes:t}=a;this.templateComponent.items.push({component:e,attributes:{...t,label:"副本-"+t.label,name:`${e}_${(new Date).getTime()}${Math.floor(100*Math.random())}`}}),this.$Message.success("粘贴成功");break}case"local":{if("component"!==this.tab)return;const{component:e,attributes:t}=a;this.templateComponent.$object_items.push({component:e,attributes:{...t,label:"副本-"+t.label,name:`${e}_${(new Date).getTime()}${Math.floor(100*Math.random())}`}}),this.$Message.success("粘贴成功");break}case"tool":{if("component"!==this.tab)return;const{label:e,type:t,helps:r}=a;if(this.toolAddDisabled||!Object(d["find"])(this.toolsOptions,{type:t}))return void this.$Message.warning("当前模板暂不支持粘贴");const i=`${t}_${(new Date).getTime()}${Math.floor(100*Math.random())}`;if(r&&r.length>0){const e=r.map(e=>c({api_id:e.id}).then(t=>{this.AIHelpConfigs[e.id]=t}));Promise.all(e).then(()=>{this.changeAihelpsItems(r,i)})}this.templateComponent.$object_tools.push({...a,name:i,label:"副本-"+e}),this.$Message.success("粘贴成功");break}case"schema":{if("data"!==this.tab)return;const{children:e,key:t,name:r}=a;let i=0;this.templateSchema.forEach(e=>{const a=e.key.match(new RegExp("copy(.*?)_"+t));if(a){const e=Number(a[1]);e>i&&(i=e)}});const n=i+1;this.templateSchema.push({...a,id:`copy${n}_${t}`,key:`copy${n}_${t}`,name:`copy${n}_${r}`,primary:!1,children:e?e.map(e=>({...e,id:`copy${n}_${t}/${e.key}`})):[]}),this.$Message.success("粘贴成功");break}}}catch(i){console.log(i)}}}),200),handleServiceChange(e){this.templateComponent.helpers=e,this.fetchSubmit()},handleOrderObjectItems(){const e=this.templateComponent.$object_items.filter(e=>!["all",this.curSelectTool.name].includes(e.attributes.reference));this.templateComponent.$object_items=[...this.objectItemGroupArr[0],...this.objectItemGroupArr[1],...e],this.fetchSubmit()},handleSchemaDrag(e,t){if(console.log(e,t),e===t)return;const a=[...this.templateSchema],[r]=a.splice(e,1);a.splice(t,0,r),this.templateSchema=a,this.fetchSubmit()},copyVal(e){const t=JSON.stringify(e);this.$copyText(t).then(()=>{this.$Message.success("已复制到粘贴板，请使用快捷键 ⌘+V/Ctrl+V 进行粘贴")},e=>{this.$Message.error(e)})},async getMyAvailabelComponents(){const e=[];this.componentsMetadata.forEach(async t=>{if(!["ai","deprecated","container_component"].includes(t.type))if(t.permission){var a;let r=await Object(Ge["b"])(t.permission,!0);"error_correction_input"===(null===(a=t.permission.extra)||void 0===a?void 0:a.name)&&(r=!!this.businessComponentVisible),r&&e.push(t)}else e.push(t)}),this.myAvailabelComponents=e},handleSetSchemaPrimaryKey(e){Object(d["forEach"])(this.templateSchema,t=>{this.$set(t,"primary",t.key===e),t.key===e&&this.$set(t,"required",!0)}),this.fetchSubmit()},refreshTemplate(){this.fetchTemplate().then(e=>{this.initTemplate(e)})},initTemplate(e){try{const t=JSON.parse(e.template_schema);if(this.templateSchema=t.map((e,t)=>{const{element_schema:a,...r}=e;let i;if(a&&a.length){const n=a.map(a=>{const r={...a,isElement:!0,parentIndex:t,id:`${e.key}/${a.key}`};return void 0===r.url_dump&&(r.url_dump="url"===r.type),r});return i={...r,children:n,isElement:!1,_showChildren:!0,id:""+e.key},void 0===i.url_dump&&(i.url_dump="url"===i.type),i}return i={...e,isElement:!1,id:""+e.key},void 0===i.url_dump&&(i.url_dump="url"===i.type||"url"===i.element_type),"url"!==i.element_type||i.url_type||(i.url_type="mixed"),i}),this.templateSchemaClone=Object(d["cloneDeep"])(this.templateSchema),this.templateComponent=JSON.parse(e.template_component),this.templateComponent.$keyword_highlight){console.log("关键词高亮使用了兼容性渲染");const{$keyword_highlight:e}=this.templateComponent;if(this.$set(this.templateComponent.attributes,"isKeywordHighlight",!!e.open),e.relation){const t=e.relation.map(e=>({tagset:e,color:""}));this.$set(this.templateComponent.attributes,"keywordHighlightRelation",t)}}this.onCalDistanceScoreExchange("boolean"),this.templateTagsetList=e.template_tagset||[];const a={};this.templateTagsetList.forEach(e=>{a[e.tagset_key]=JSON.parse(e.tagset_content)}),this.tagsetContext=a,this.projectId="project"===e.related_object_type&&String(e.related_object_id)||"",this.initMultipleGroupStage(),this.setFontSizeEdit(),this.initDefaultTemplate(),this.parseExtraAttributes(),this.handleSortObjectItems(),this.curSelectTool=this.templateComponent.$object_tools.length>0?Object(d["head"])(this.templateComponent.$object_tools):{}}catch(t){throw this.$Message.config({content:"模板解析出错，请联系管理员",duration:3}),console.error("JSON parse template出错",t),"无法解析配置异常"}this.templateSampleForm.templateSample=e.template_sample,this.templateScene=e.template_scene,this.templateLevel1=e.template_level1,this.templateLevel2=e.template_level2,this.templateLevel=`${e.template_level1}${e.template_level2?" / "+e.template_level2:""}`,this.form=e,this.isShowTemplate=!0,this.isPreAnnotate=!!Object(d["find"])(this.templateSchema,{key:this.answerJsonSchemaKey}),this.$watch("isPreAnnotate",this.handleWatchIsPreAnnotate)},handleWatchIsPreAnnotate(e){if(e)Object(d["find"])(this.templateSchema,{key:this.answerJsonSchemaKey})||this.templateSchema.push({key:this.answerJsonSchemaKey,name:"标注结果",type:"json",required:!1,primary:!1,url_dump:!1,display:!1,json_schema:JSON.stringify(this.$refs.mainEngine.answerJsonSchema,null,2),desc:"",isElement:!1,element_type:"",url_type:""});else{const e=Object(d["findIndex"])(this.templateSchema,{key:this.answerJsonSchemaKey});-1!==e&&this.templateSchema.splice(e,1)}this.fetchSubmit()},changeGroup(){this.curGroupObjectTools.length>0&&([this.curSelectTool]=this.curGroupObjectTools)},initMultipleGroupStage(){this.isMultipleGroupsStage&&!Object(d["find"])(this.templateComponent.items,{component:"z-container-stage"})&&this.templateComponent.items.push({component:"z-container-stage",slot:"main",attributes:{},items:[]})},getObjectType(e){const{type:t,children:a}=e;if("array"===t){if(!a)return"url"!==e.element_type?"string":e.url_type;const t=Object(d["find"])(a,{key:"object_url"});return"url"!==t.type?"string":t.url_type}return"string"},setMultiplGroupItems(){const e=Object(d["find"])(this.templateComponent.items,{component:"z-container-stage"}),t=[],a=e.items.filter(e=>e.attributes.lockedName).map(e=>({lockedName:e.attributes.lockedName,lockedBy:e.attributes.title,lockedTime:e.attributes.time}));Object(d["forEach"])(this.templateSchema,(r,i)=>{const{key:n,name:s}=r,o=Object(d["find"])(e.items,e=>e.attributes.name===n),l=o?o.attributes:{isVisible:!0,isTitleVisible:!0,required:!0,objectShowType:"expand",heightType:"default",height:"",objectSizeType:"default",objectWidth:"",objectHeight:"",isWebShow:!0};l.locked=a.find(e=>e.lockedName===o.attributes.name),t.push({component:"z-group",attributes:Object.assign(l,{name:n,label:s,title:`容器${i+1}: ${r.name}(${r.type}${r.element_type&&"-"+r.element_type}${r.url_type&&"-"+r.url_type})`,objectType:this.getObjectType(r)})})}),e.items=t,this.groupsLists=e.items,console.log(e)},setDefaultGroupItems(){const e=Object(d["groupBy"])(this.templateSchema,e=>e.group||e.name),t=Object.keys(e).map((t,a)=>{var r;const i=e[t],n=null===(r=this.templateComponent.attributes.groupConfig)||void 0===r?void 0:r[t],s=n&&n.component&&"default"!==n.component?n.component:je["a"].getDefaultComponent(i[0].type,i[0].url_type),o=this.$OptimusComponentMetadata.find(e=>e.name===s),l=[...(null===o||void 0===o?void 0:o.tools)||[],...(null===o||void 0===o?void 0:o.defaultTools)||[]];return{name:t,title:`容器${a+1}：${t}`,schema:i,component:o.name,attributes:{...["imageConfig","modelConfig","isSandbox"].reduce((e,t)=>(o.attributes.find(e=>e.name===t)&&(e[t]=this.templateComponent.attributes[t]),e),{}),...n?n.attributes:{}},tools:l}});this.containerList=t},handleUpdate(e,t){this.templateComponent.attributes.groupConfig[e].component=t,this.setDefaultGroupItems()},initDefaultTemplate(){this.stageMetadata.defaultTools&&this.templateComponent.$object_tools.length<this.stageMetadata.defaultTools.length&&Object(d["forEach"])(this.stageMetadata.defaultTools,e=>{const t=Object(d["findIndex"])(this.templateComponent.$object_tools,{name:e.name});-1===t&&this.templateComponent.$object_tools.push(e)}),this.isDefaultStage&&(this.templateComponent.attributes.groupConfig&&Object.keys(this.templateComponent.attributes.groupConfig).forEach(e=>{const t=this.templateComponent.attributes.groupConfig[e],a=this.componentsMetadata.find(e=>e.name===t.component&&e.defaultTools);a&&a.defaultTools.forEach(t=>{const a={...t,group:e},r=this.templateComponent.$object_tools.find(e=>e.name===a.name);!r&&this.templateComponent.$object_tools.push(a)})}),this.templateComponent.$object_tools=this.templateComponent.$object_tools.filter(e=>e.group))},setFontSizeEdit(){Object(d["forEach"])(this.templateComponent.items,e=>{e.attributes.editFontSize=!0}),Object(d["forEach"])(this.templateComponent.$object_items,e=>{e.attributes.editFontSize=!0})},handleSortObjectItems(){let e=!1,t=!1;const a={all:[],private:[]};if(Object(d["forEach"])(this.templateComponent.$object_items,r=>{r.attributes.reference&&"all"!==r.attributes.reference?(t=!0,a.private.push(r)):(e=!0,a.all.push(r))}),e&&t){const e=Object(d["head"])(this.templateComponent.$object_items);e&&(e.attributes.reference&&"all"!==e.attributes.reference?this.isPrivateLabelFront=!0:this.isPrivateLabelFront=!1)}this.templateComponent.$object_items=this.isPrivateLabelFront?[...a.private,...a.all]:[...a.all,...a.private]},getToolLabel(e){const t=Object(d["find"])(this.toolsOptions,{type:e});return t?t.label:""},parseExtraAttributes(){var e,t,a;this.toolModal.isToolSelected=(null===(e=this.templateComponent.extra_attributes)||void 0===e?void 0:e.isToolSelected)||!0,this.toolModal.scene=(null===(t=this.templateComponent.extra_attributes)||void 0===t?void 0:t.scene)||"实体词",this.layout=(null===(a=this.templateComponent.extra_attributes)||void 0===a?void 0:a.layout)||"normal"},handleSelectToolTag(e){this.curSelectTool=e,this.allSelected=!1,this.objectItemsArr=[]},showPreviewResult(){this.answerPreview=!0,this.answerResult=this.$refs.mainEngine.result},left(){const{curTag:e,toolTags:t}=this.toolModal,a=Object(d["findIndex"])(t,{name:e.name});if(0===a)return;const r=t[a-1],i=t[a];t.splice(a-1,2,i,r),e.index=e.index-1},right(){const{curTag:e,toolTags:t}=this.toolModal,a=Object(d["findIndex"])(t,{name:e.name});if(a===t.length-1)return;const r=t[a+1],i=t[a];t.splice(a,2,r,i),e.index=e.index+1},modifyChildIndex(e,t){const{children:a}=e,{children:r}=t;let i=[],n=[];return a&&a.length&&(i=a.map(e=>{const{parentIndex:t,...a}=e;return{...a,parentIndex:t+1}})),r&&r.length&&(n=r.map(e=>{const{parentIndex:t,...a}=e;return{...a,parentIndex:t-1}})),{forUp:i,forDown:n}},trashSchemaField({index:e,isElement:t=!1,parentIndex:a}){this.$Modal.confirm({title:"提醒",content:"确定要删除该字段？",onOk:()=>{if(t){const{children:t}=this.templateSchema[a];t.splice(e,1)}else this.templateSchema.splice(e,1);this.fetchSubmit()}})},showDoFieldModal({item:e,index:t,isElement:a=!1,parentIndex:r}){this.templateSchemaClone=Object(d["cloneDeep"])(this.templateSchema);let i=!!this.isEditSchema||["display"];this.isStandardize&&(i=["display","required","height"]),this.$FastModal.show(B,{model:{item:{...e},index:t,isElement:a,parentIndex:r},stage:this.templateComponent.component,fieldRange:i},{"on-save-field":(e,t,a)=>{const{isElement:r}=t;if(this.templateTagsetList.map(e=>e.tagset_key).includes(t.key))this.$Message.error("当前KEY在标签集配置已存在！");else{if(r){if(-1===a){const{children:a,...r}=this.templateSchema[e];if(!this.checkValidKey(a,t.key))return void this.$Message.error("KEY值不能重复");const i={...t,parentIndex:e,id:`${this.templateSchema[e].key}/${t.key}`};a&&Array.isArray(a)&&a.push(i),this.templateSchema.splice(e,1,{...r,children:a||[i],_showChildren:!0,id:this.templateSchema[e].key})}else if(a>=0){const{children:r}=this.templateSchema[a];if(!this.checkValidKey(r,t.key,e))return void this.$Message.error("KEY值不能重复");r.splice(e,1,{...t,parentIndex:a,id:`${this.templateSchema[a].key}/${t.key}`})}}else if(e>=0){if(!this.checkValidKey(this.templateSchema,t.key,e))return void this.$Message.error("KEY值不能重复");const{children:a}=this.templateSchema[e],{type:r,element_type:i,...n}=t;"array"!==r&&(a||"object"===i)||"array"===r&&"object"!==i?this.templateSchema.splice(e,1,{...n,type:r,id:""+t.key,element_type:"array"===r?i:""}):a&&a.length?this.templateSchema.splice(e,1,{...t,children:a,_showChildren:!0,id:""+t.key}):this.templateSchema.splice(e,1,{...t,id:""+t.key})}else{if(!this.checkValidKey(this.templateSchema,t.key))return void this.$Message.error("KEY值不能重复");this.templateSchema.push({...t,id:""+t.key})}this.$nextTick(()=>{this.fetchSubmit()})}}})},checkValidKey(e,t,a){if(void 0===e||0===e.length)return!0;const r=Object(d["cloneDeep"])(e);return void 0!==a&&r.splice(a,1),!r.some(e=>e.key===t)},handleCheckAll(){this.allSelected=!this.allSelected;const e=[...this.objectItemGroupArr[0],...this.objectItemGroupArr[1]].filter(e=>"ai"!==this.getComponentType(e.component)),t=Object(d["map"])(e,e=>e.attributes.name);this.objectItemsArr=this.allSelected?t:[]},checkAllGroupChange(e){const t=[...this.objectItemGroupArr[0],...this.objectItemGroupArr[1]].filter(e=>"ai"!==this.getComponentType(e.component));t.length===e.length?this.allSelected=!0:this.allSelected=!1},handleChangeLabelOrder(){this.isPrivateLabelFront=!this.isPrivateLabelFront;const e={all:[],private:[]};Object(d["forEach"])(this.templateComponent.$object_items,t=>{t.attributes.reference&&"all"!==t.attributes.reference?e.private.push(t):e.all.push(t)}),this.templateComponent.$object_items=this.isPrivateLabelFront?[...e.private,...e.all]:[...e.all,...e.private],this.fetchSubmit()},handleBatchDelete(){0!==this.objectItemsArr.length?this.$Modal.confirm({title:"提醒",content:"确定要删除所选二级标签？",onOk:()=>{Object(d["forEach"])(this.objectItemsArr,e=>{Object(d["forEach"])(this.objectItemGroupArr,(t,a)=>{t.some((t,r)=>{if(t.attributes.name===e){const e=this.getObjectItemIndex(this.objectItemGroupArr[a][r]);return this.templateComponent.$object_items.splice(e,1),!0}return!1})})}),this.allSelected=!1,this.objectItemsArr=[],this.fetchSubmit()}}):this.$Message.info("请选择需要删除的二级标签")},showModal({name:e,modal:t,type:a}={}){t&&(this[e].modal=null),this.$nextTick(()=>{this[e].modal=t,this[e].open=!0,this.$nextTick(()=>{if("toolModal"===e){var t;if(this.toolForm=this.$refs.toolModalOptimus.formData,"add"===a)this.toolModal.toolTags=[],this.toolModal.toolTags.push({style:"",...this.$refs.toolModalOptimus.formData,helps:[]}),this.handleSelectTag(null===(t=Object(d["head"])(this.toolModal.toolTags))||void 0===t?void 0:t.name);this.getAIHelps(this.toolModal.toolType)}})})},showToolModal({type:e,item:t,index:a}={}){this.toolModal.errorType={required:!1,isRepeat:!1},this.toolModal.helpSelected=[],this.toolModal.type=e;const r=this.genToolConfigModal({name:"toolModal",item:t,index:a});this.showModal({name:"toolModal",modal:r,type:e,item:t})},handleAddToolTag(){this.toolModal.modal=this.genToolConfigModal(),this.$nextTick(()=>{this.toolForm=this.$refs.toolModalOptimus.formData,this.toolModal.toolTags.push({style:"",...this.$refs.toolModalOptimus.formData,helps:[]}),this.handleClickTag(!0,Object(d["last"])(this.toolModal.toolTags).name)})},handleAddToolTagList(){const{open:e,value:t,max:a}=this.toolModal.multipleAdd;if(!e||!t)return;this.toolModal.multipleAdd.open=!1;const r=[];let i=t.split("@_@");i=i.length>a?Object(d["take"])(i,a):i,i.forEach(e=>{if(Object(d["last"])(this.toolModal.toolTags).label){var t,a,i,n;this.toolModal.modal=this.genToolConfigModal();const{items:s}=null===(t=this.toolModal.modal)||void 0===t||null===(a=t.templateComponent)||void 0===a?void 0:a.component,o=s.find(e=>{var t;return"name"===(null===(t=e.attributes)||void 0===t?void 0:t.name)}),l=s.find(e=>{var t;return"color"===(null===(t=e.attributes)||void 0===t?void 0:t.name)}),c={style:"",...this.$refs.toolModalOptimus.formData,label:e,name:(null===o||void 0===o||null===(i=o.attributes)||void 0===i?void 0:i.value)||"",color:(null===l||void 0===l||null===(n=l.attributes)||void 0===n?void 0:n.value)||"",helps:[]};this.toolForm=c,r.push(c)}else Object(d["last"])(this.toolModal.toolTags).label=e}),this.toolModal.multipleAdd.value="",this.$nextTick(()=>{this.toolForm=this.$refs.toolModalOptimus.formData,this.toolModal.toolTags.push(...r),this.handleClickTag(!0,Object(d["last"])(this.toolModal.toolTags).name)})},handleSelectTag(e){const t=Object(d["findIndex"])(this.toolModal.toolTags,{name:e});this.toolModal.curTag=this.toolModal.toolTags[t],this.toolModal.curTag.index=t,this.$refs.toolModalOptimus.formData=this.toolModal.curTag,this.handleChangeTagStyle(e),this.toolForm=this.$refs.toolModalOptimus.formData},handleChangeTagStyle(e){Object(d["forEach"])(this.toolModal.toolTags,t=>{t.style="",e===t.name&&(t.style="primary")})},handleClickTag(e,t){this.handleSelectTag(t),this.getCurToolAIHelp(this.toolModal.curTag)},handleDeleteTag(e,t){if(this.toolModal.toolTags.length>1){const e=Object(d["findIndex"])(this.toolModal.toolTags,{name:t});this.toolModal.toolTags.splice(e,1),this.toolModal.curTag.name===t&&this.toolModal.toolTags.length&&this.handleClickTag(!0,Object(d["last"])(this.toolModal.toolTags).name)}else this.$Message.error("只有一个标签，无法删除")},showComponentModal({type:e,range:t,scopeIndex:a,item:r,index:i}={}){this.componentModal.type=e,this.componentModal.range=t,this.componentModal.scopeIndex=a;const n=this.genComponentConfigModal({item:r,index:i}),s=n.templateComponent.component.items.findIndex(e=>"name"===e.attributes.name);-1!==s&&(n.templateComponent.component.items[s].attributes.readOnly="edit"===e),this.showModal({name:"componentModal",modal:n,type:e,range:t}),setTimeout(()=>{this.handleLabelTabChange()},1)},genConfigModal({name:e,attributes:t,editItem:a}={}){const{isStandardize:r,isFromProject:i}=this,n={component:"z-slot",name:"tab",label:"标签配置tab"};X.forEach(e=>{"autoLabel"===e.name&&(this.isHeplerEnabled?e.attributes.help={template:'<span class="label-help">\n          未配置时，优先读取【智能辅助】生成的值（需先<a @click="handleClick">前往完成配置</a>）,\n          或读取导入数据的$answer值（<a href="https://iwiki.woa.com/p/4014887435" target="_blank">查看指引</a>）\n        </span>',methods:{handleClick(){this.$router.replace({query:{...this.$route.query,tab:"helper"}})}}}:e.attributes.help={template:'<span class="label-help">未配置时，优先读取导入数据的$answer值（<a href="https://iwiki.woa.com/p/4014887435" target="_blank">查看指引</a>)</span>'})});const s=[...t,...e?[]:X],o=s.findIndex(e=>"label"===e.name);s.splice(o+1,0,n);const l=Object(d["map"])(s,e=>{const t=["name","label","exhibit","isMutuallyExclusive","options","exclusiveOptions","value","fittingType","calDistanceScore","direction","lang","defaultFontSize","wordCount"],n={component:e.component||"z-input",attributes:Object.assign({name:e.name,label:e.label,required:void 0===e.required||e.required,options:void 0!==e.options?e.options:[],disabled:!!(r&&i&&t.includes(e.name))||void 0,readOnly:!!(r&&i&&t.includes(e.name))||void 0},e.attributes)};if(a){const{attributes:t}=a;Object(d["has"])(t,e.name)||(n.attributes.value=Object(d["isFunction"])(e.value)?e.value.call(this):e.value)}else n.attributes.value=Object(d["isFunction"])(e.value)?e.value.call(this):e.value;return n}),c={templateComponent:{component:{component:"z-form-stage",attributes:{positionStyle:"left"},items:l},context:{}}};return a&&(c.index=a.index,c.templateComponent.answer=a.attributes),c},genToolConfigModal({name:e,item:t,index:a}={}){let r;var i;t?(r=t.type,this.toolModal.searchTool=t.searchTool,this.toolModal.translateTool=t.translateTool,this.toolModal.wordCount=t.wordCount,this.toolModal.toolType=r,this.toolModal.curTag=Object(d["cloneDeep"])(t)):(this.toolModal.searchTool=!1,this.toolModal.translateTool=!1,this.toolModal.wordCount=!1,r=null===(i=Object(d["head"])(this.toolsOptions))||void 0===i?void 0:i.type,this.toolModal.toolType=r);const n=Object(d["find"])(this.toolsOptions,{type:r});this.toolModal.toolLabel=n.label;const{attributes:s}=n,o=this.genConfigModal({name:e,attributes:s,editItem:t?{index:a,attributes:t}:null});return o},genComponentConfigModal({item:e,index:t}={}){let a;const r=this.availabelComponents.map(e=>e.name);console.log(r),e?(a=e.component,this.componentModal.component=a):this.componentModal.component&&this.availabelComponents.map(e=>e.name).includes(this.componentModal.component)?a=this.componentModal.component:(a=this.componentsMetadata[0].name,this.componentModal.component=a),["z-text-stage","z-text-multiple-stage"].includes(this.templateComponent.component)&&(this.componentModal.isShow=!(!e||!e.isShow)&&e.isShow),this.componentForm={localLabelScope:e&&e.attributes.reference&&"all"!==e.attributes.reference?"private":"all",scopeArray:e&&e.attributes.reference&&"all"!==e.attributes.reference?[e.attributes.reference]:[]};const{attributes:i}=Object(d["find"])(this.componentsMetadata,{name:a}),n="local"===this.componentModal.range&&this.templateComponent.component.startsWith("z-ai"),s="global"===this.componentModal.range;let o=s||n?[...i,G(["z-input","z-input-number","z-single-select","z-multiple-select"].includes(a))]:i;o=this.businessComponentVisible?[...o,W]:o,o=["z-multiple-select"].includes(a)?[...o,q]:o;const l=this.genConfigModal({attributes:o,editItem:e?{index:t,attributes:e.attributes}:null});return l},changeComponentConfig(){this.componentModal.modal=this.genComponentConfigModal()},changeToolConfig(){this.toolModal.modal=this.genToolConfigModal(),this.$nextTick(()=>{this.toolForm=this.$refs.toolModalOptimus.formData,this.toolModal.toolTags=[],this.toolModal.toolTags.push({style:"",...this.$refs.toolModalOptimus.formData,helps:[]}),this.handleSelectTag(Object(d["last"])(this.toolModal.toolTags).name),this.getAIHelps(this.toolModal.toolType)})},getComponentLabel(e){const t=Object(d["find"])(this.componentsMetadata,{name:e});return t.label},getComponentType(e){const t=Object(d["find"])(this.componentsMetadata,{name:e});return t.type},getReferenceTool(e){const t=this.templateComponent.$object_tools,a=t.find(t=>t.name===e);return a?a.label:""},checkSameLabel(){const{items:e,$object_items:t}=this.templateComponent,{formData:a}=this.$refs.componentModalOptimus;let r=!1;return e.forEach(e=>{const{label:t,name:i}=e.attributes;t===a.label&&i!==a.name&&(this.$Message.error({content:`名为【${a.label}】的全局标签已存在，请修改字段名称`,duration:3}),r=!0)}),t.forEach(e=>{const{label:t,name:i}=e.attributes;t===a.label&&i!==a.name&&e.group===this.curSelectGroup&&(this.$Message.error({content:`名为【${a.label}】的二级标签已存在，请修改字段名称`,duration:3}),r=!0)}),r},checkReadOnly(){const{formData:{readOnly:e,required:t,value:a}}=this.$refs.componentModalOptimus;return!(!0!==e||!0!==t||!(Object(d["isUndefined"])(a)||Object(d["isString"])(a)&&!a.length))&&(this.$Message.error({content:"当“是否只读”勾选为“是”&&“是否必填”勾选为“是”时，“默认值”不为空!",duration:3}),!0)},checkOptionsAndValue(){const{formData:{options:e,value:t,selectType:a}}=this.$refs.componentModalOptimus,r=e&&a&&Object(d["isArray"])(e)&&!!e.length&&!!t&&!(Object(d["isString"])(t)&&t.match(/^\$\{.*\}$/));if(r){const a=e.map(e=>e.value);if(["string","number"].includes(typeof t)){if(!a.includes(t))return this.$Message.error({content:"默认值不存在在选项内，请修改默认值",duration:3}),!0}else if(["object"].includes(typeof t)&&t.length){let e=!1;if(t.forEach(t=>{a.includes(t)&&(e=!0)}),!e)return this.$Message.error({content:"默认值不存在在选项内，请修改默认值",duration:3}),!0}}return!1},checkSingleSelectWithAverage(){const{formData:{fittingType:e,options:t}}=this.$refs.componentModalOptimus;return!("average"!==e||null===t||void 0===t||!t.find(e=>!/^(-|\+)?\d+(\.\d+)?$/.test(e.value)))&&(this.$Message.error({content:"拟合结果勾选了“平均数”时，选项仅支持正数、负数和小数!",duration:3}),!0)},configComponent(){const{type:e,range:t,modal:{index:a}}=this.componentModal,{componentModalOptimus:r}=this.$refs;r.validate(),this.$refs.componentForm.validate(i=>{if(!(this.checkSameLabel()||this.checkReadOnly()||this.checkOptionsAndValue()||this.checkSingleSelectWithAverage()))if(i&&r.isValid){if("local"===t&&this.checkObjectItemsName())return void this.$Message.error({content:"当前二级标签字段标识存在重复，请重新修改",duration:3});if("global"===t&&this.checkItemsName({index:a,target:r.formData}))return void this.$Message.error({content:"[全局标签配置]标签字段标识不能重复",duration:3});"edit"===e?this.updateComponent():"add"===e&&this.addComponent(),this.fetchSubmit(),this.componentModal.open=!1}else this.$Message.error("您有必填项未填")}),this.$nextTick(()=>{this.handleLabelTabChange()})},checkItemsName({index:e,target:t}){if(!Object(d["has"])(this.templateComponent,"items"))return!0;const{items:a}=Object(d["cloneDeep"])(this.templateComponent);void 0!==e&&a.splice(e,1);const{name:r}=t,i=Object(d["map"])(a,e=>e.attributes.name);return!!Object(d["includes"])(i,r)},checkObjectItemsName(){if(!Object(d["has"])(this.templateComponent,"$object_items"))return!0;const{scopeIndex:e,type:t,modal:{index:a}}=this.componentModal,{$object_items:r,$object_tools:i}=Object(d["cloneDeep"])(this.templateComponent);if("edit"===t){const t=this.getObjectItemIndex(this.objectItemGroupArr[e][a]);r.splice(t,1)}const{localLabelScope:n,scopeArray:s}=this.componentForm,o="all"===n?Object(d["map"])(i,e=>e.name):s,{name:l}=this.$refs.componentModalOptimus.formData;return o.some(e=>{const t=r.filter(t=>{const{attributes:{reference:a}}=t;return a===e||!a||"all"===a}),a=Object(d["map"])(t,e=>e.attributes.name);return!!Object(d["includes"])(a,l)})},updateComponent(){const{range:e,component:t,isShow:a,scopeIndex:r}=this.componentModal,{index:i}=this.componentModal.modal,n={component:t,attributes:this.$refs.componentModalOptimus.formData};if("global"===e)this.templateComponent.items.splice(i,1,n),this.labelGroupRenderCounter=this.labelGroupRenderCounter+1;else if("local"===e){["z-text-stage","z-text-multiple-stage"].includes(this.templateComponent.component)&&(n.isShow=a);const e=this.getObjectItemIndex(this.objectItemGroupArr[r][i]),{localLabelScope:t,scopeArray:s}=this.componentForm;(this.isMultipleGroupsStage||this.isDefaultStage)&&(n.group=this.curSelectGroup),"all"===t?(n.attributes.reference="all",this.templateComponent.$object_items.splice(e,1,n)):(this.templateComponent.$object_items.splice(e,1),Object(d["forEach"])(s,t=>{n.attributes.reference=t,this.templateComponent.$object_items.splice(e,0,Object(d["cloneDeep"])(n))}))}},addComponent(){const{range:e,component:t,isShow:a}=this.componentModal,r={component:t,attributes:this.$refs.componentModalOptimus.formData};if("z-input"===t&&(r.attributes.editFontSize=!0),Object(d["has"])(this.templateComponent,"items")||this.$set(this.templateComponent,"items",[]),Object(d["has"])(this.templateComponent,"$object_items")||this.$set(this.templateComponent,"$object_items",[]),"global"===e)r.labelGroup=[],this.templateComponent.items.push(r);else if("local"===e){["z-text-stage","z-text-multiple-stage"].includes(this.templateComponent.component)&&(r.isShow=a);const{localLabelScope:e,scopeArray:t}=this.componentForm;if((this.isMultipleGroupsStage||this.isDefaultStage)&&(r.group=this.curSelectGroup),"all"===e){r.attributes.reference="all";const e=Object(d["findLastIndex"])(this.templateComponent.$object_items,e=>!e.attributes.reference||"all"===e.attributes.reference);this.templateComponent.$object_items.splice(e+1,0,r)}else{const e=Object(d["findLastIndex"])(this.templateComponent.$object_items,e=>e.attributes.reference&&"all"!==e.attributes.reference);Object(d["forEach"])(t,t=>{r.attributes.reference=t,this.templateComponent.$object_items.splice(e+1,0,Object(d["cloneDeep"])(r))})}}},getObjectItemIndex(e){const{attributes:{name:t,reference:a}}=e;let r=0;return this.templateComponent.$object_items.some((e,i)=>e.attributes.name===t&&e.attributes.reference===a&&(r=i,!0)),r},trashConfig({index:e,item:t,type:a,scopeIndex:r,range:i}={}){const{$object_tools:n,$object_items:s,items:o}=this.templateComponent;this.$Modal.confirm({title:"提醒",content:"确定要删除该组件？",onOk:()=>{if("component"===a){if("global"===i)o.splice(e,1),this.labelGroupRenderCounter=this.labelGroupRenderCounter+1;else if("local"===i){const t=this.getObjectItemIndex(this.objectItemGroupArr[r][e]);s.splice(t,1)}}else if("tool"===a){var l;const e=Object(d["findIndex"])(n,{name:t.name}),a=n[e];n.splice(e,1),this.trashReferObjectItems(a),(null===(l=this.curSelectTool)||void 0===l?void 0:l.name)===(null===a||void 0===a?void 0:a.name)&&(this.curSelectTool=Object(d["head"])(n)),n.length<=0&&this.$set(this.templateComponent,"$keyword_highlight",{open:!1,relation:[]})}this.fetchSubmit()}})},trashReferObjectItems(e){const{name:t,group:a}=e;if(0===this.curGroupObjectTools.length)return void(this.templateComponent.$object_items=a?Object(d["cloneDeep"])(this.templateComponent.$object_items).filter(e=>e.group!==a):[]);const r=[...this.templateComponent.$object_items];this.templateComponent.$object_items=r.filter(e=>{const{attributes:{reference:a}}=e;return a!==t})},checkToolType(e){if(!Object(d["has"])(this.templateComponent,"$object_tools"))return!0;const{$object_tools:t}=Object(d["cloneDeep"])(this.templateComponent),a=Object(d["uniqBy"])([...e,...t],"name");return!a.find(e=>"实体词"===e.scene)||!a.find(e=>"批注"===e.scene)||(this.toolModal.errorType.isConflict=!0,!1)},checkToolLabelAndName({type:e,tag:t}={}){if(!Object(d["has"])(this.templateComponent,"$object_tools"))return!0;const a=Object(d["cloneDeep"])(this.templateComponent).$object_tools.filter(e=>!this.isDefaultStage||e.group===this.curSelectGroup);if("edit"===e){const e=Object(d["findIndex"])(a,{name:t.name});a.splice(e,1)}let r=!0;const{name:i,label:n}=t,s=Object(d["map"])(a,e=>({name:e.name,group:e.group})),o=Object(d["map"])(a,e=>({label:e.label,group:e.group}));var l,c,u;(i&&n||(this.toolModal.errorType.required=!0,r=!1,t.style="error"),Object(d["find"])(s,{name:i})||Object(d["find"])(o,{label:n}))&&(this.toolModal.errorType.isRepeat=!0,this.toolModal.errorType.group=null!==(l=null===(c=Object(d["find"])(s,{name:i}))||void 0===c?void 0:c.group)&&void 0!==l?l:null===(u=Object(d["find"])(o,{label:n}))||void 0===u?void 0:u.group,r=!1,t.style="error");return r},configTool(){const{type:e}=this.toolModal,{toolModalOptimus:t}=this.$refs;if(t.validate(),t.isValid){const{toolType:t,toolTags:a,isToolSelected:r,scene:i}=this.toolModal,n=Object(d["cloneDeep"])({type:t,...this.toolForm});if(this.$set(this.templateComponent,"extra_attributes",{...this.templateComponent.extra_attributes,isToolSelected:r,scene:i}),"edit"===e){const e=this.checkToolLabelAndName({type:"edit",tag:n});if(!e)return;this.updateTool()}else if("add"===e){let e=a.reduce((e,t)=>e&&this.checkToolLabelAndName({type:"add",tag:t}),!0);const t=()=>{const e={};for(let t=0;t<a.length;t++){const{name:r}=a[t];if(void 0!==e[r])return{name:r,indexes:[e[r],t]};e[r]=t}return null},r=t();if(r&&(a.forEach(e=>{e.name===r.name&&this.$set(e,"style","error")}),this.toolModal.errorType.isRepeat=!0),e&=!r,!e)return;this.addTool()}this.fetchSubmit(),this.toolModal.open=!1}else this.$Message.error("您有必填项未填")},addTool(){const{toolType:e,toolTags:t,searchTool:a,translateTool:r,wordCount:i}=this.toolModal;Object(d["has"])(this.templateComponent,"$object_tools")||this.$set(this.templateComponent,"$object_tools",[]),Object(d["forEach"])(t,t=>{delete t.style;const n={type:e,searchTool:a,translateTool:r,wordCount:i,...t};(this.isMultipleGroupsStage||this.isDefaultStage)&&(n.group=this.curSelectGroup),this.templateComponent.$object_tools.push(n),t.helps&&t.helps.length>0&&this.changeAihelpsItems(t.helps,n.name)})},updateTool(){const{toolType:e,searchTool:t,translateTool:a,wordCount:r,curTag:{name:i,helps:n}}=this.toolModal,s=Object(d["findIndex"])(this.templateComponent.$object_tools,{name:i}),o={type:e,...this.$refs.toolModalOptimus.formData,searchTool:t,translateTool:a,wordCount:r,helps:n};this.isMultipleGroupsStage&&(o.group=this.curSelectGroup);const l=this.templateComponent.$object_tools[s];this.templateComponent.$object_tools.splice(s,1,o),Object(d["forEach"])(this.templateComponent.$object_items,e=>{l.name===e.attributes.reference&&(e.attributes.reference=this.$refs.toolModalOptimus.formData.name)}),n&&n.length>0&&this.changeAihelpsItems(n,o.name)},handleCreateLevel1(e){this.templateLevel1s.push({template_level1:e})},getAIHelps(e){const t=Object(d["find"])(this.toolsOptions,{type:e}),{helps:a}=t;a&&this.fetchAIHelpList(e).then(e=>{const{api_info_list:t}=e;this.toolModal.helps=t?t.map(e=>{const{api_id:t,api_name:a,api_desc:r,api_provider:i}=e;this.fetchAIHelpConfig(t);const n={id:t,label:a,desc:r,api_provider:i};return n}):[],this.getCurToolAIHelp(this.toolModal.curTag)}).catch(e=>{this.$Message.error(e.message)})},retryAIHelps(e){const{toolType:t}=e;this.getAIHelps(t)},getAsrLang(e){Object(d["forEach"])(this.toolModal.curTag.helps,t=>{t.asrLang=e})},changeAIHelpEnable(e){Object(d["forEach"])(this.toolModal.curTag.helps,t=>{t.enable=e})},changeAIHelpList(e){const{curTag:t,helps:a,toolType:r}=this.toolModal;var i;0===e.length&&(this.$Message.error({content:"开启辅助标注时至少选择一种服务，如果不需要则关闭它",duration:3}),this.toolModal.helpSelected=[null===(i=Object(d["head"])(a))||void 0===i?void 0:i.api_provider]);const{enable:n,asrLang:s}=Object(d["head"])(t.helps);t.helps=[],Object(d["forEach"])(this.toolModal.helpSelected,e=>{const i={...Object(d["find"])(a,{api_provider:e}),enable:n};"audio/segment"===r&&(i.asrLang=s),t.helps.push(i)})},getCurToolAIHelp(e){const{toolType:t}=this.toolModal,a=Object(d["find"])(this.toolsOptions,{type:t});if(!a.helps)return;const{helps:r=[]}=e;let i=[];i=r.length>0?r:[this.toolModal.helps[0]];const n=!Object(d["cloneDeep"])(r).length,s=Object.fromEntries(r.map(e=>{const{id:t,enable:a,asrLang:r}=e;return[t,{enable:a,asrLang:r}]}));this.toolModal.helpSelected=[],e.helps=Object(d["map"])(i,e=>{var a;const{id:r}=e,i=Object(d["cloneDeep"])(Object.assign(e,{enable:void 0===s[r]||s[r].enable,api_provider:e.api_provider?e.api_provider:null===(a=Object(d["find"])(this.toolModal.helps,{id:r}))||void 0===a?void 0:a.api_provider}));return this.toolModal.helpSelected.push(i.api_provider),"audio/segment"===t&&(i.asrLang=s[r]&&s[r].asrLang?s[r].asrLang:"汉语","edit"===this.toolModal.type&&n&&(i.enable=!1)),i})},changeAihelpsItems(e,t){Object(d["has"])(this.templateComponent,"$object_items")||this.$set(this.templateComponent,"$object_items",[]);const a=Object(d["cloneDeep"])(this.templateComponent.$object_items),{helpConfig:{helpComponents:r}}=this.optimusConfigs,i={};Object(d["forEach"])(Object(d["cloneDeep"])(e),e=>{const{id:t}=e,a=r[t].component;i[a]?i[a].push(e):i[a]=[e]}),Object(d["forEach"])(i,(e,i)=>{const n=a.findIndex(e=>{const{component:a,attributes:{reference:r}}=e;return a===i&&r===t}),{enable:s,id:o}=Object(d["head"])(e);if(s){let a={};if(-1===n){const{component:e,attributes:{label:i,name:n,required:s,direction:l,lang:c,defaultFontSize:u,editFontSize:h}}=r[o],p={component:e,attributes:{label:i,required:s,reference:t,direction:l,lang:c,defaultFontSize:u,editFontSize:h,helps:[]}};p.attributes.name=Object(d["isFunction"])(n)?n.call(this):n,this.templateComponent.$object_items.push(p),a=p}else a=this.templateComponent.$object_items[n];a.attributes.helps=[],Object(d["forEach"])(e,e=>{const{id:t,api_provider:r}=e,{request_config:i,response_config:n}=this.AIHelpConfigs[t],s={},o={};i.forEach(e=>{const{name:t,...a}=e;"api_id"!==t&&(s[t]={...a})}),n.forEach(e=>{const{name:t,...a}=e;o[t]={...a}}),a.attributes.helps.push({id:t,api_provider:r,request:s,response:o})})}else s||-1===n||this.templateComponent.$object_items.splice(n,1)})},showAIMarker(e){return!!e&&e.some(e=>e.enable)},addInvalidTag(){if(Object(d["has"])(this.templateComponent,"invalid_items"))-1===Object(d["findIndex"])(this.templateComponent.invalid_items,{component:"z-single-select"})&&this.templateComponent.invalid_items.push({component:"z-single-select",attributes:{name:"invalid_tag",label:"无效标签",required:!1,options:[],basicMode:!0}});else{const e=[{component:"z-input",attributes:{name:"invalid_reason",label:"无效原因",required:!1}},{component:"z-single-select",attributes:{name:"invalid_tag",label:"无效标签",required:!1,options:[],basicMode:!0}}];this.$set(this.templateComponent,"invalid_items",e)}const{attributes:{options:e}}=Object(d["find"])(this.templateComponent.invalid_items,{component:"z-single-select"});e.length&&!Object(d["last"])(e).value?this.$Message.warning({content:"请先完善当前标签值 "}):e.push({label:"",value:""})},deleteInvalidTag(e){this.$Modal.confirm({title:"提醒",content:"确定要删除该标签？",onOk:()=>{const t=Object(d["findIndex"])(this.templateComponent.invalid_items,{component:"z-single-select"}),{options:a}=this.templateComponent.invalid_items[t].attributes;a.splice(e,1),0===a.length&&this.templateComponent.invalid_items.splice(t,1),this.fetchSubmit()}})},handlePreviewClose(){this.previewVisible=!1},async onBusinessComponentVisible(){const[e]=await Object(n["f"])({label_names:["error_correction_input"]});if(e){const t=await Object(Ge["b"])({domain:"label",action:"view",extra:{business:Object(h["BigNumber"])(e.business_id)}},!0);t&&(this.businessComponentVisible=!0)}},onCalDistanceScoreExchange(e){Object(d["forEach"])(this.templateComponent.$object_items,t=>{t.attributes&&Object.hasOwn(t.attributes,"calDistanceScore")&&("number"===e&&this.$set(t.attributes,"calDistanceScore",t.attributes.calDistanceScore?1:0),"boolean"===e&&this.$set(t.attributes,"calDistanceScore",!!t.attributes.calDistanceScore))}),Object(d["forEach"])(this.templateComponent.items,t=>{t.attributes&&Object.hasOwn(t.attributes,"calDistanceScore")&&("number"===e&&this.$set(t.attributes,"calDistanceScore",t.attributes.calDistanceScore?1:0),"boolean"===e&&this.$set(t.attributes,"calDistanceScore",!!t.attributes.calDistanceScore))})},onChangeComponentVisible({visible:e,item:t,range:a}){const{templateComponent:r}=this,i=(e,t,a)=>{if(!r[e])return;const i=r[e].findIndex(e=>{var t,r;return(null===(t=e.attributes)||void 0===t?void 0:t.name)===(null===(r=a.attributes)||void 0===r?void 0:r.name)||e.name===a.name});-1!==i&&(!r[t]&&this.$set(r,t,[]),r[t].push(a),r[e].splice(i,1))};["global"].includes(a)&&(e?i("$items","items",t):i("items","$items",t))},validateSubmit(){if(!this.configAttributeTemplate)return!0;const{attributes:e}=this.stageMetadata,{formData:t}=this.$refs.configAttributeTemplate;return Object.keys(t).every(a=>{const r=Object(d["find"])(e,{name:a}),i=null!==r&&void 0!==r&&r.vType?r.vType:["string"],n=u({str:t[a],vType:i,schema:this.templateSchema});return!!n.isValid||(this.$Message.error({content:"保存失败，"+n.msg,duration:4}),!1)})},saveSubmit(){this.fetchSubmit()},handleImportFields(e){this.templateSchema=e,this.$nextTick(()=>{this.fetchSubmit()})},jumpToProject(){"project"===this.template.related_object_type?window.open("/projects/list/"+this.template.related_object_id):window.open("/projects/list/"+this.template.project_id)}}},nt=it,st=(a("8852"),a("8fd1"),Object(w["a"])(nt,r,i,!1,null,"02b74427",null));t["default"]=st.exports},"196a":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a("dde5");class i extends r["b"]{constructor(){super()}ListTagsets(e){return this.post({method:"listTagsets",url:"api/tagset",params:e})}CreateTagset(e){return this.post({method:"createTagset",url:"api/tagset",params:e})}UpdateTagset(e){return this.post({method:"updateTagset",url:"api/tagset",params:e})}DeleteTagset(e){return this.post({method:"deleteTagset",url:"api/tagset",params:e})}CreateTagsetForTemplate(e){return this.post({method:"createTagsetForTemplate",url:"api/tagset",params:e})}UpdateTagsetForTemplate(e){return this.post({method:"updateTagsetForTemplate",url:"api/tagset",params:e})}DeleteTagsetForTemplate(e){return this.post({method:"deleteTagsetForTemplate",url:"api/tagset",params:e})}}const n=new i},"1c78":function(e,t,a){"use strict";a("657b")},"1cdb":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{width:1e3,"mask-closable":!1,"footer-hide":""},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[e.showAlert?a("t-alert",{staticStyle:{margin:"20px 0px"},scopedSlots:e._u([{key:"default",fn:function(){return[a("span",[e._v("已经支持导入数据集文件")]),a("a",{staticStyle:{"margin-left":"12px"},attrs:{href:"https://iwiki.woa.com/p/4015603530",target:"_blank"}},[e._v("参考文档")])]},proxy:!0}],null,!1,1826145911)}):e._e(),a("Row",[a("Col",{attrs:{span:"4"}},[a("Menu",{attrs:{"active-name":e.menu,width:"120px"},on:{"on-select":e.handleMenu}},[e._l(e.menuOptions,(function(t,r){return[t.noShow?e._e():a("MenuItem",{key:r,staticClass:"center",attrs:{name:r}},[a("div",{staticClass:"icon",class:e.menu===r?"inactive":""},[a("img",{staticClass:"active",attrs:{src:t.icon}})]),a("p",[e._v(e._s(t.title))])])]}))],2)],1),a("Col",{attrs:{span:"20"}},[a("div",{staticClass:"margin"},[e.fetchDataset.isPending||e.fetchProject.isPending?a("Spin",{attrs:{fix:""}}):e._e(),a("Form",{ref:"formName",attrs:{model:e.form}},[e.isCreate?[a("FormItem",{attrs:{label:"数据集名称",prop:"dataset_name",rules:e.emptyValidator("名称")}},[a("Input",{attrs:{placeholder:"请输入数据集名称，最多25个字符",maxlength:25},model:{value:e.form.dataset_name,callback:function(t){e.$set(e.form,"dataset_name",t)},expression:"form.dataset_name"}})],1),a("FormItem",{attrs:{label:"选择模板",prop:"template_id"}},[e.fetchTemplates.isResolved?a("Select",{attrs:{filterable:"",clearable:""},model:{value:e.form.upload_template_id,callback:function(t){e.$set(e.form,"upload_template_id",t)},expression:"form.upload_template_id"}},e._l(e.templates,(function(t){return a("Option",{key:t.template_id,attrs:{value:String(t.id),label:t.template_name}},[a("span",[e._v(e._s(t.template_name))]),a("span",{staticClass:"txt-muted"},[e._v("（"+e._s(t.id)+"）")])])})),1):e._e()],1)]:["project"===e.origin?a("h4",[e._v(e._s(e.project.project_name+"的题目库"))]):e._e(),"dataset"===e.origin?a("h4",[e._v(e._s(e.dataset.dataset_name))]):e._e()]],2),a("Divider"),a("div",{staticClass:"content"},["local"===e.menu?[a("h4",{staticClass:"title"},[e._v(e._s(e.stepOptions[e.step]))]),1===e.step?["project"===e.origin?a("p",{staticClass:"hint"},[a("a",{on:{click:e.exportJsonlExample}},[e._v("json示例")]),a("span",[e._v("，")]),a("a",{on:{click:e.exportExcelExample}},[e._v("xlsx示例")]),a("span",[e._v("；若涉及资源文件，请前往")]),a("a",{on:{click:e.routeToDatahouse}},[e._v("数据集模块")]),a("span",[e._v("上传处理")])]):e._e(),"dataset"===e.origin?a("p",{staticClass:"hint"},[a("span",[e._v("若导入后提示解析失败，请使用tar压缩，或将压缩包名及文件名改为英文名后重试")])]):e._e(),a("fileArea",{ref:"fileArea",attrs:{fileList:e.fileList},on:{"update:fileList":function(t){e.fileList=t},"update:file-list":function(t){e.fileList=t}}})]:e._e(),2===e.step?[a("div",{staticClass:"hint"},[a("span",[e._v("请为所选的 "+e._s(e.fileList.length)+" 个数据包配置数据列字段，")]),a("span",{staticClass:"red"},[e._v("务必上传前完成确认，上传后无法再改！")])]),a("fieldArea",{ref:"fieldArea",attrs:{project:e.project,fileList:e.fileList},on:{"update:form":function(t){return Object.assign(e.form,t)}}})]:e._e()]:e._e(),"url"===e.menu?[a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.step,expression:"step === 1"}]},[a("p",[e._v(e._s(e.menuOptions[e.menu].title))]),a("p",{staticClass:"hint",domProps:{innerHTML:e._s(e.menuOptions[e.menu].desc)}}),a("br"),a("Form",{ref:"formUrl",attrs:{model:e.form}},[a("FormItem",{attrs:{"label-width":0,prop:"dataset_url",rules:[e.emptyValidator("url"),{type:"url",message:"url不符合规则"}]}},[a("Input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:50},placeholder:"请输入url路径，如：http://www.qq.com/tx?query=123"},model:{value:e.form.dataset_url,callback:function(t){e.$set(e.form,"dataset_url",t)},expression:"form.dataset_url"}})],1)],1)],1),2===e.step?a("div",[a("p",[e._v(e._s(e.stepOptions[e.step]))]),a("p",{staticClass:"hint"},[e._v("请为所选的 资源文件 配置数据列字段")]),a("fieldArea",{ref:"fieldArea",attrs:{project:e.project,fileList:e.fileList},on:{"update:form":function(t){return Object.assign(e.form,t)}}})],1):e._e()]:e._e(),"tdw"===e.menu?[e.loading?a("Spin",{attrs:{fix:""}}):e._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.step,expression:"step === 1"}]},[a("p",[e._v(e._s(e.menuOptions[e.menu].title))]),a("p",{staticClass:"hint",domProps:{innerHTML:e._s(e.menuOptions[e.menu].desc)}}),a("br"),e.tdwAuth?[a("Form",{ref:"tdw",attrs:{model:e.form,"label-position":"top"}},[a("FormItem",{attrs:{label:"数据包名称",prop:"dataset_name",rules:e.emptyValidator("数据包名称")}},[a("Input",{attrs:{placeholder:"请为数据包命名"},model:{value:e.form.dataset_name,callback:function(t){e.$set(e.form,"dataset_name",t)},expression:"form.dataset_name"}})],1)],1),a("RadioGroup",{staticClass:"mbb",attrs:{type:"button"},on:{"on-change":function(t){return e.$refs.tdw.resetFields()}},model:{value:e.tdwType,callback:function(t){e.tdwType=t},expression:"tdwType"}},[a("Radio",{attrs:{label:"图形化模式"}}),a("Radio",{attrs:{label:"SQL模式"}})],1),["图形化模式"].includes(e.tdwType)?a("Form",{ref:"tdw",attrs:{model:e.form,"label-position":"top"}},[a("FormItem",{attrs:{label:"数据库名",prop:"database",rules:e.emptyValidator("数据库名")}},[a("Select",{attrs:{filterable:""},on:{"on-open-change":function(t){t&&e.fetchTdwDbs()},"on-change":function(t){t&&(e.fetchTdwTables(),e.onSelectAll(!1,"form.field"))}},model:{value:e.form.database,callback:function(t){e.$set(e.form,"database",t)},expression:"form.database"}},e._l(e.tdwDbs,(function(t){return a("Option",{key:t,attrs:{value:t}},[e._v(e._s(t))])})),1)],1),a("FormItem",{attrs:{label:"数据表名",prop:"table",rules:e.emptyValidator("数据表名")}},[a("Select",{attrs:{filterable:"",placeholder:"请先选择数据库"},on:{"on-change":function(t){t&&(e.fetchTdwTableInfo(),e.onSelectAll(!1,"form.field"))}},model:{value:e.form.table,callback:function(t){e.$set(e.form,"table",t)},expression:"form.table"}},e._l(e.tdwTables,(function(t){return a("Option",{key:t,attrs:{value:t}},[e._v(e._s(t))])})),1)],1),a("FormItem",{attrs:{label:"选择字段",prop:"field",rules:e.emptyValidator("字段")}},[a("Row",{attrs:{type:"flex",justify:"start"}},[a("Select",{staticStyle:{"max-width":"90%"},attrs:{filterable:"",multiple:"",placeholder:"请先选择数据表"},model:{value:e.form.field,callback:function(t){e.$set(e.form,"field",t)},expression:"form.field"}},e._l(e.tdwTableInfo,(function(t){return a("Option",{key:t,attrs:{value:t}},[e._v(e._s(t))])})),1),a("a",{staticClass:"mlm",on:{click:function(t){e.onSelectAll(!e.isSelectAll(e.form.field,e.tdwTableInfo),"form.field",e.tdwTableInfo)}}},[a("span",[e._v(e._s(e.isSelectAll(e.form.field,e.tdwTableInfo)?"取消全选":"全选"))])])],1)],1),a("FormItem",{attrs:{label:"查询方式",prop:"module",rules:e.emptyValidator("查询方式")}},[a("RadioGroup",{on:{"on-change":function(t){e.form.limit="slight"===t?2e4:null}},model:{value:e.form.module,callback:function(t){e.$set(e.form,"module",t)},expression:"form.module"}},[a("Radio",{attrs:{label:"slight"}},[a("span",[e._v("轻量查询")]),a("span",{staticClass:"txt-muted"},[e._v("（查询快，限制最多2w条）")])]),a("Radio",{attrs:{label:"full"}},[a("span",[e._v("全量查询")]),a("span",{staticClass:"txt-muted"},[e._v("（查询较慢）")])])],1)],1),a("FormItem",{attrs:{label:"限制最大数据量",prop:"limit",rules:"slight"===e.form.module?e.emptyValidator("限制最大数据量"):{required:!1}}},[a("InputNumber",{staticStyle:{width:"100%"},attrs:{min:e.tdwLimit.min,max:"slight"===e.form.module?e.tdwLimit.maxSlight:e.tdwLimit.maxFull,precision:.1,placeholder:"非必填，仅支持填写正整数"},model:{value:e.form.limit,callback:function(t){e.$set(e.form,"limit",t)},expression:"form.limit"}})],1)],1):a("Form",{ref:"tdw",attrs:{model:e.form}},[a("FormItem",{attrs:{"label-width":0,prop:"sql",rules:[e.emptyValidator("SQL语句"),e.sqlValidator("SQL语句")]}},[a("Input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:30},placeholder:"请输入SQL语句，格式：SELECT 字段名 FROM 数据库名::数据表名 LIMIT 限制数量"},model:{value:e.form.sql,callback:function(t){e.$set(e.form,"sql",t)},expression:"form.sql"}})],1)],1)]:[a("div",{staticStyle:{"text-align":"center"}},[a("Icon",{attrs:{type:"ios-alert",color:"orange",size:"30"}}),a("p",[e._v("暂无权限")]),a("small",{staticClass:"txt-muted"},[a("span",[e._v("请先前往")]),a("a",{attrs:{href:e.tdwAuthLink,target:"_blank"}},[e._v("TDW【安全中心】")]),a("span",[e._v("为Qlabel平台授权")]),a("p",[e._v("因TDW权限存在延迟，授权后请等待几分钟再操作上传")])])],1)]],2),2===e.step?a("div",[a("p",[e._v(e._s(e.stepOptions[e.step]))]),"tdw"===e.menu?a("p",{staticClass:"hint"},[e._v("请为查询到的 TDW表 配置数据列字段，请确保TDW字段和下方“字段预览”一致！")]):a("p",{staticClass:"hint"},[e._v("请为所选的 资源文件 配置数据列字段")]),a("fieldArea",{ref:"fieldArea",attrs:{project:e.project,fileList:e.fileList},on:{"update:form":function(t){return Object.assign(e.form,t)}}})],1):e._e()]:e._e(),2===e.step?[a("h4",{staticClass:"title"},[e._v("配置服务（可选）")]),a("div",{staticClass:"hint"},[a("span",[e._v("按所选模板服务配置处理数据，")]),a("span",{staticClass:"red"},[e._v("务必上传前完成确认，上传后无法再改！")])]),a("div",{staticClass:"hint"},[a("a",{attrs:{target:"_blank",href:"/templates/"+e.form.template_id+"/edit?from=project&schema=true"}},[e._v("前往模板")]),a("span",[e._v("确认【预处理/预标注/智能辅助/标注检查】等配置")])]),a("Table",{attrs:{border:"",size:"small",columns:e.columns,data:e.$refs.fieldArea?e.$refs.fieldArea.helpers:[],loading:e.loading,"row-key":"key","indent-size":0}})]:e._e()],2),a("Row",{attrs:{type:"flex",justify:"space-between",align:"top"}},[a("div",{staticClass:"left"}),a("div",{staticClass:"right"},[e.originOptions[e.origin].step.includes("2")&&1===e.step?[a("Button",{attrs:{type:"primary",disabled:!["tdw"].includes(e.menu)&&!e.isFileOk||["tdw"].includes(e.menu)&&!e.isTdwFormOk},on:{click:e.handleStep}},[e._v("下一步")])]:[e.originOptions[e.origin].step.includes("2")?a("a",{staticClass:"mrm",on:{click:function(t){e.step=1}}},[e._v("返回上一步")]):e._e(),a("Button",{staticClass:"mls",attrs:{type:"primary",disabled:!e.isSubmitOk,loading:e.loading},on:{click:function(t){return e.handleSubmit(e.menu)}}},[e._v("开始上传")]),e.isCreate?a("p",{staticClass:"hint mts"},[e.disableUploadFile?a("span",[e._v("输入数据集名称并上传文件之后可以导入")]):a("span",[e._v("点击开始导入以上文件并创建一个新数据集")])]):e._e()]],2)]),a("br")],1)])],1)],1)},i=[],n=(a("8d0d"),a("f38f"),a("9ec3")),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("br"),e.fileList.length>0?[a("CellGroup",e._l(e.fileList,(function(t,r){return a("Cell",{key:r},[a("Icon",{staticClass:"mrs",attrs:{slot:"icon",type:"md-attach",size:"16"},slot:"icon"}),a("div",{staticClass:"ellipsis"},[e._v(e._s(t.name))]),a("template",{slot:"extra"},[a("Icon",{attrs:{type:"md-close",size:"16"},on:{click:function(t){return e.deleteFile(r)}}})],1)],2)})),1),a("br"),a("Upload",{attrs:{action:"",accept:e.accept,"show-upload-list":!1,"default-file-list":e.fileList,"before-upload":e.handleCheckUploadFile}},[e.fileList.length>0?a("Button",{staticClass:"mbs",attrs:{icon:"md-add",type:"primary",ghost:"",shape:"circle"}},[e._v("继续上传文件")]):e._e()],1)]:[a("Upload",{ref:"upload",attrs:{multiple:"",type:"drag",accept:e.accept,"show-upload-list":!1,"default-file-list":e.fileList,"before-upload":e.handleCheckUploadFile,action:""}},[a("div",{staticStyle:{padding:"20px 0"}},[a("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"52"}}),a("p",[e._v("选择本地文件")]),a("p",{staticClass:"hint"},[e._v("支持扩展名："+e._s(e.accept?e.accept.split(",").join(" "):"无限制"))])],1)])],a("br")],2)},o=[],l={inject:["origin","status","accept"],props:{fileList:Array,menu:String},data(){return{step:0,stepOptions:{0:"本地上传",1:"字段配置"},sizeRules:{".xlsx":209715200,".xls":209715200,".csv":419430400,".jsonl":419430400}}},mounted(){console.log(this.origin,this.status)},methods:{fileSuffix(e){return e.substring(e.lastIndexOf("."),e.length)},fileSizeLimit(e){const{fileSuffix:t,sizeRules:a}=this;return a[t(e)]},fileSizeFormat(e){if(e<1024)return e+"B";if(e<1048576){let t=e/1024;return t=t.toFixed(2),t+"KB"}if(e<1073741824){let t=e/1048576;return t=t.toFixed(2),t+"MB"}let t=e/1073741824;return t=t.toFixed(2),t+"GB"},deleteFile(e){this.fileList.splice(e,1),this.$emit("update:fileList",this.fileList)},handleCheckUploadFile(e){return e?this.fileSizeLimit(e.name)&&e.size>this.fileSizeLimit(e.name)?(this.$Message.error({content:`${e.name}文件的大小为${this.fileSizeFormat(e.size)}，超过了上传限制大小${this.fileSizeFormat(this.fileSizeLimit(e.name))}`,duration:2}),!1):(this.fileList.length>0?this.fileSuffix(e.name)===this.fileSuffix(this.fileList[0].name)?(this.fileList.push(e),this.$emit("update:fileList",this.fileList)):this.$Message.error("文件格式不统一，请检查再试"):-1!==this.accept.indexOf(this.fileSuffix(e.name))?(this.fileList.push(e),this.$emit("update:fileList",this.fileList)):this.$Message.error("暂不支持的文件格式，请检查再试"),!1):(this.$Message.error("文件不能为空"),!1)}}},c=l,d=(a("e042"),a("2be6")),u=Object(d["a"])(c,s,o,!1,null,"8c298b30",null),h=u.exports,p=a("b392"),f=a("a06e"),m=a("30ac"),g=a("b0f9"),_=a("2c88"),v=a("fd5b"),b=a.n(v),y={provide(){return{origin:this.origin,status:this.status,accept:this.accept}},components:{fileArea:h,fieldArea:p["a"]},props:{showAlert:{type:Boolean,default:!1},dataset_import_id:String,project_id:String,dataset_code:String,accept:String},data(){const e=this.project_id?"project":"dataset",t="https://security.tianqiong.woa.com/user/auth?platform=qlabel&etime=36";return{visible:!0,isCreate:!this.project_id&&!this.dataset_code,origin:e,status:this.project_id||this.dataset_code?"update":"create",menu:"local",menuOptions:{local:{title:"本地上传",icon:a("6fce")},url:{title:"URL上传",icon:a("4327"),desc:"可输入网盘URL，请确保URL地址指向一个资源文件"},tdw:{title:"TDW上传",icon:a("e2f5"),desc:`支持查询TDW表数据上传，请务必先前往<a href="${t}" target="_blank">TDW【安全中心】</a>为Qlabel平台授权！`,noShow:!["project"].includes(e)}},originOptions:{dataset:{status:"create, update",step:"1"},project:{status:"update",step:"1, 2"}},step:1,stepOptions:{1:"本地上传",2:"配置数据字段"},form:{dataset_name:"",dataset_url:"",tag_key:"",template_id:"",database:"",table:"",field:[],module:"slight",limit:2e4,sql:"",upload_template_id:null},tdwAuth:!1,tdwAuthLink:t,tdwType:"图形化模式",tdwLimit:{min:1,maxSlight:2e4,maxFull:99999999},fileList:[],project:{},dataset:{},columns:[{key:"key",title:"Key"},{key:"label",title:"名称"},{key:"status",title:"状态"}]}},computed:{loading(){return this.fetchCreateDatasetTask.isPending||this.fetchCreateDatasetUrlTask.isPending||this.fetchAppendDatasetTask.isPending||this.fetchAppendDatasetUrlTask.isPending||this.fetchSubmitImportTask.isPending||this.fetchTdwAuth.isPending},disableUploadFile(){var e;return this.isCreate&&this.form.dataset_name?"local"===this.menu?this.fileList.length<=0:!this.form.dataset_url:!(this.project_id&&null!==(e=this.project)&&void 0!==e&&e.project_name||this.dataset_code&&this.dataset&&this.dataset.dataset_name)||("local"===this.menu?this.fileList.length<=0:!this.form.dataset_url)},isFileOk(){const{menu:e,origin:t,status:a,fileList:r,form:i}=this;return("dataset"===t&&"create"===a&&i.dataset_name||"update"===a)&&("local"===e?r.length>0:i.dataset_url)},isTdwFormOk(){let e=!0;if("图形化模式"===this.tdwType){const t=["dataset_name","database","table","field"];t.forEach(t=>{switch(typeof this.form[t]){case"string":!this.form[t]&&(e=!1);break;case"object":this.form[t].length<=0&&(e=!1);break;default:break}})}return"SQL模式"===this.tdwType&&(e=!!this.form.dataset_name&&!!this.form.sql),e},isFieldOk(){return 1===this.step||this.form.template_id},isSubmitOk(){const{menu:e,isFileOk:t,isTdwFormOk:a,isFieldOk:r}=this;return!(!["tdw"].includes(e)&&!t||["tdw"].includes(e)&&!a||!r)}},watch:{menu(e){["tdw"].includes(e)&&!this.tdwAuth&&this.fetchTdwAuth()}},mounted(){this.fetchTemplates(),this.project_id&&this.fetchProject(),this.dataset_code&&this.fetchDataset()},methods:{async exportJsonlExample(){var e;let t="{";const a=(null===(e=this.project)||void 0===e?void 0:e.template_ids[0].toString())||"";if(!a)return this.$Message.error("没有获取到项目模板，生成示例失败"),Promise.resolve();const r=await this.fetchTemplate(a);if(r){const e=JSON.parse(r.template_schema);for(let r=0;r<e.length;r++)t+=`"${e[r].key}": "示例值${r+1}"`,r+1<e.length&&(t+=", ");t+="}\n";const a=document.createElement("a");a.href="data:text/plain;charset=utf-8,"+encodeURIComponent(t),a.download="jsonl示例.jsonl",document.body.appendChild(a),a.click(),document.body.removeChild(a)}},async exportExcelExample(){var e;const t=[],a=(null===(e=this.project)||void 0===e?void 0:e.template_ids[0].toString())||"";if(!a)return this.$Message.error("没有获取到项目模板，生成示例失败"),Promise.resolve();const r=await this.fetchTemplate(a);if(r){const e=JSON.parse(r.template_schema);t.push(Object(n["map"])(e,e=>e.key)),t.push(Object(n["map"])(e,(e,t)=>"示例值"+(t+1)));const a=b.a.utils.aoa_to_sheet(t),i=b.a.utils.book_new();b.a.utils.book_append_sheet(i,a),b.a.writeFile(i,"xlsx示例.xlsx")}},routeToDatahouse(){this.visible=!1,this.$emit("RouteToDatahouse")},handleMenu(e){this.step=1,this.menu=e},async handleStep(){if("url"===this.menu){const e=await this.$refs.formUrl.validate(e=>e);if(!e)return this.$Message.error("请检查是否有遗漏"),Promise.resolve()}if("tdw"===this.menu){var e,t;const a=await(null===(e=this.$refs)||void 0===e||null===(t=e.tdw)||void 0===t?void 0:t.validate(e=>e));if(!a)return this.$Message.error("请检查表单"),Promise.resolve()}this.step=2},async handleSubmit(e){var t;if((null===(t=this.$refs.fieldArea)||void 0===t?void 0:t.helpers.length)>0){var a;const e=null===(a=this.$refs.fieldArea)||void 0===a?void 0:a.helpers.every(e=>"完成"===e.status);if(!e)return void this.$Message.error("请检查智能辅助服务配置")}const r=this.isCreate?this.$refs.formName.validate(e=>e):Promise.resolve(!0),i="url"===e?this.$refs.formUrl.validate(e=>e):Promise.resolve(!0);return new Promise(e=>{r.then(t=>e(t))}).then(e=>e?i.then(e=>e):Promise.resolve(!1)).then(t=>{if(t)switch(e){case"local":this.project_id&&this.project?this.fetchSubmitImportTask():this.dataset_code?this.fetchAppendDatasetTask():this.isCreate&&this.fetchCreateDatasetTask();break;case"url":this.project_id&&this.project?this.fetchSubmitImportTask():this.dataset_code?this.fetchAppendDatasetUrlTask():this.isCreate&&this.fetchCreateDatasetUrlTask();break;case"tdw":this.fetchSubmitImportTask();break}})},emptyValidator(e){return{required:!0,message:e+"不能为空"}},isSelectAll(e,t){return t&&e.length===t.length},onSelectAll(e,t,a){Object(n["set"])(this,t,e&&a?[...a]:[])},sqlValidator(e){const t=(t,a,r)=>/INSERT|UPDATE|DELETE/i.test(a)?r(new Error(e+"包含有不被允许的关键词")):r();return{validator:t,trigger:"blur"}}},asyncMethods:{fetchSubmitImportTask(){const{project_id:e,menu:t,fileList:a,form:r,tdwType:i}=this,s={project_id:e,template_id:r.template_id};if(r.tag_key&&(s.tag_key=r.tag_key),"local"===t)s.file_list=Object(n["map"])(a,e=>({file_name:e.name,file_size:e.size}));else if("url"===t)s.url=r.dataset_url;else if("tdw"===t){let{sql:e}=r;if("图形化模式"===i)e=`SELECT ${r.field.join(",")} FROM ${r.database}::${r.table}${r.limit?" LIMIT "+r.limit:""}`;else if("SQL模式"===i){const t=/FROM(.+?)::/i,a=e.match(t);a&&a[1]&&(r.database=a[1].trim());const i=/LIMIT\s+(\d+)/i,n=e.match(i);n&&n[1]&&(r.module=Number(n[1].trim())>2e4?"full":"slight")}s.tdw_sql={sql:e,database:r.database,filename:r.dataset_name,module:r.module}}return Object(m["h"])(s).then(e=>{console.log(e),this.visible=!1,setTimeout(()=>{this.$Message.success("提交成功！数据正在导入中，请稍后刷新查看"),this.$emit("StartUploadFile","local"===t?a:void 0)},500)}).catch(e=>{console.log(e),this.$Message.error("提交失败："+e.message)})},fetchCreateDatasetTask(){const e={dataset_name:this.form.dataset_name,file_list:Object(n["map"])(this.fileList,e=>({file_name:e.name,file_size:e.size})),template_id:this.form.upload_template_id};return _["d"](e).then(e=>{console.log(e),this.visible=!1,setTimeout(()=>{this.$Message.success("提交成功！数据正在导入中"),this.$emit("StartUploadFile",{dataset_code:e.dataset_code,dataset_name:e.dataset_name},this.fileList)},500)}).catch(e=>{console.log(e),this.$Message.error("提交失败："+e.message)})},fetchCreateDatasetUrlTask(){const e={dataset_name:this.form.dataset_name,url:this.form.dataset_url,template_id:this.form.upload_template_id};return _["e"](e).then(e=>{console.log(e),this.visible=!1,setTimeout(()=>{this.$Message.success("提交成功！数据正在导入中"),this.$emit("StartUploadFile",{dataset_code:e.dataset_code,dataset_name:e.dataset_name})},500)}).catch(e=>{console.log(e),this.$Message.error("提交失败："+e.message)})},fetchAppendDatasetTask(){const e={dataset_code:this.dataset_code,file_list:Object(n["map"])(this.fileList,e=>({file_name:e.name,file_size:e.size}))};return _["a"](e).then(e=>{console.log(e),this.visible=!1,setTimeout(()=>{this.$Message.success("提交成功！数据正在导入中"),this.$emit("StartUploadFile",{dataset_code:e.dataset_code,dataset_name:e.dataset_name},this.fileList)},500)}).catch(e=>{console.log(e),this.$Message.error("提交失败："+e.message)})},fetchAppendDatasetUrlTask(){const e={dataset_import_id:this.dataset_import_id,dataset_code:this.dataset_code,url:this.form.dataset_url};return _["b"](e).then(e=>{console.log(e),this.visible=!1,setTimeout(()=>{this.$Message.success("提交成功！数据正在导入中"),this.$emit("StartUploadFile",{dataset_code:e.dataset_code,dataset_name:e.dataset_name})},500)}).catch(e=>{console.log(e),this.$Message.error("提交失败："+e.message)})},fetchDataset(){const e={dataset_code:this.dataset_code,page:{start:0,size:1,return_total:0}};return _["j"](e).then(e=>e.data[0])},fetchProject(){const e={project_id:this.project_id};return Object(f["i"])(e).then(e=>e).catch(e=>this.$Message.error("获取数据失败："+e.message))},fetchTemplate(e){const t={template_id:e};return Object(g["k"])(t).then(e=>e).catch(e=>{console.log(e),this.$Message.error("获取模板详情失败："+e.message)})},fetchTdwAuth(){return Object(f["l"])({}).then(e=>e).catch(e=>(console.log(e),!1))},fetchTdwDbs(){return Object(f["r"])({}).then(e=>e).catch(e=>{console.log(e),this.$Message.error("获取数据库列表失败："+e.message)})},fetchTdwTables(){const{database:e}=this.form;if(e)return Object(f["s"])({database:e}).then(e=>e).catch(e=>{console.log(e),this.$Message.error("获取数据表列表失败："+e.message)})},fetchTdwTableInfo(){const{database:e,table:t}=this.form;if(e&&t)return Object(f["k"])({database:e,table:t}).then(e=>e).catch(e=>{console.log(e),this.$Message.error("获取数据表字段失败："+e.message)})},fetchTemplates(){const e={page:{start:0,size:1e3,return_total:1}};return Object(g["l"])(e).then(e=>e.data).catch(e=>{console.log(e),this.$Message.error("模板获取失败: "+e.message)})}}},k=y,x=(a("c030"),Object(d["a"])(k,r,i,!1,null,"2d257f0f",null));t["a"]=x.exports},"1d12":function(e,t,a){"use strict";a("49c3")},"1dd8":function(e,t,a){"use strict";a("c4df")},"1ea5":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("LimitErrorPage",{attrs:{isErrorShow:!1}})},i=[],n=a("4304"),s={components:{LimitErrorPage:n["a"]},mounted(){var e,t;null!==(e=this.$store.state)&&void 0!==e&&null!==(t=e.companyinfo)&&void 0!==t&&t.company_id||this.$router.push({path:"/personal-center/my-company"})}},o=s,l=a("2be6"),c=Object(l["a"])(o,r,i,!1,null,null,null);t["default"]=c.exports},"1ff0":function(e,t,a){"use strict";a("27f2")},"202b":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"oauth"},[a("div",{staticClass:"oauth-area"},[e._m(0),a("div",{staticClass:"oauth-content"},[e.loading?a("Card",{staticClass:"normal",attrs:{bordered:!1}},[a("Spin",{attrs:{fix:""}})],1):e.isAuthSuccess?a("Card",{attrs:{bordered:!1}},[e._v("获取授权信息失败，请联系管理员")]):a("Card",{staticClass:"normal",attrs:{bordered:!1}},[null===e.sudoApp?[a("div",{staticClass:"oauth-info"},[a("Row",{attrs:{type:"flex",justify:"center",align:"middle"}},[a("div",{staticClass:"oauth-avatar"},[e.appInfo.app_icon?a("div",{staticClass:"custom",style:e.avatarCustomStyle({avatarSrc:e.appInfo.app_icon})}):a("Avatar",{staticClass:"default",attrs:{size:e.avatarSize}},[e._v(e._s(e.appInfo.app_label||"未知用户"))])],1),a("h1",{staticStyle:{padding:"0 30px",color:"#ccc"}},[e._v(">>")]),a("div",{staticClass:"oauth-avatar"},[a("div",{staticClass:"custom",style:e.avatarCustomStyle(e.appOptions.qlabel)})])]),a("p",{staticClass:"mtb mbb"},[a("span",[e._v("授权")]),a("b",[e._v(" "+e._s(e.appInfo.app_label||"未知用户")+" ")]),a("span",[e._v("访问您在")]),a("b",[e._v(" Qlabel ")]),a("span",[e._v("的数据")])]),a("br")],1),a("div",{staticClass:"oauth-action"},[a("Row",{attrs:{type:"flex",justify:"center",align:"middle"}},[a("Button",{attrs:{type:"primary",loading:e.fetchSudoApp.isPending},on:{click:e.onSudoApp}},[e._v("确认授权")])],1)],1)]:[a("div",{staticClass:"oauth-info"},[e.sudoApp?a("Icon",{attrs:{type:"ios-checkmark-circle",size:"100",color:"#19be6b"}}):a("Icon",{attrs:{type:"md-close-circle",size:"100",color:"#ed3f14"}}),a("h2",{staticClass:"mtb mbb"},[e._v("授权"+e._s(e.sudoApp?"成功":"失败"))]),a("p",[e._v(e._s(e.redirectTimer)+"秒后自动"+e._s(e.redirectUri?"跳转":"关闭"))])],1)]],2)],1)])])},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"oauth-header"},[r("img",{attrs:{src:a("a82e")}}),r("h3",[e._v("授权认证")])])}],n=a("c833");a("f38f");function s(e){if("string"!==typeof e)return"";const t=new URL(e);return t.hostname}function o(e){const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!t.test(e))throw new Error("无效的邮箱格式");return e.split("@")[0]}var l={data(){const{app_id:e,redirect_uri:t}=this.$route.query;return{appId:e,redirectUri:t,redirectTimer:3,appOptions:{qlabel:{avatarSrc:"/static/img/logo.e68c14b2.png",avatarSize:"contain"}},avatarSize:100}},computed:{loading(){return this.fetchAppInfo.isPending||this.fetchSudoApp.isPending},avatarCustomStyle(){return function(e){const{avatarSize:t}=this;return{width:t+"px",height:t+"px",backgroundImage:`url(${null===e||void 0===e?void 0:e.avatarSrc})`,backgroundSize:""+(null===e||void 0===e?void 0:e.avatarSize)}}},isAuthSuccess(){return!this.appInfo||s(this.appInfo.base_url)!==s(this.redirectUri)}},mounted(){var e,t,a,r;const{grant_type:i}=this.$route.query,n=o(null===(e=this.$store)||void 0===e||null===(t=e.state)||void 0===t||null===(a=t.userinfo)||void 0===a||null===(r=a.user)||void 0===r?void 0:r.email);n!==i&&this.$router.replace({query:{...this.$route.query,grant_type:n}}),this.appId&&this.fetchAppInfo()},methods:{async onSudoApp(){const e=await this.fetchSudoApp();var t;e&&this.onRedirect(null===(t=this.appInfo)||void 0===t?void 0:t.base_url)},onRedirect(e){const{redirectUri:t}=this;switch(!0){case!!t:new URL(e).origin!==new URL(t).origin&&(this.$Message.warning(`重定向地址校验不通过，即将${e?"跳转到指定":"关闭"}页面……`),this.redirectUri=e||null);break;case!!e:this.redirectUri=e;break;default:break}let a=null;a=setInterval(()=>{this.redirectTimer-=1,this.redirectTimer<=1&&(clearInterval(a),this.redirectUri?window.location.href=this.redirectUri:(window.opener=null,window.open(" ","_self"),window.close(),window.location.href="about:blank"))},1e3)}},asyncMethods:{fetchAppInfo(){const e={app_id:this.appId};return Object(n["d"])(e).then(e=>e)},fetchSudoApp(){const e={app_id:this.appId};return Object(n["p"])(e).then(e=>e)}}},c=l,d=(a("72b8"),a("2be6")),u=Object(d["a"])(c,r,i,!1,null,"7bec5424",null);t["default"]=u.exports},"202d":function(e,t,a){var r=a("7e33"),i=a("5ff4");function n(e,t,a){var n=t&&a||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null),e=e||{};var s=e.random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var o=0;o<16;++o)t[n+o]=s[o];return t||i(s)}e.exports=n},"208a":function(e,t,a){},"224c":function(e,t,a){},"22b4":function(e,t,a){},"236b":function(e,t,a){"use strict";a("527f")},"23ef":function(e,t,a){"use strict";a("0f52")},2557:function(e,t,a){},"25a9":function(e,t,a){"use strict";a("6af9")},"261f":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{width:"700","mask-closable":!1,scrollable:!0},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("div",{staticClass:"header",attrs:{slot:"header"},slot:"header"},[a("h3",{staticClass:"mts mbs"},[e._v("将"+e._s(e.objectTypeOptions[e.objectType])+"分享给……")])]),a("div",{staticClass:"content"},[a("Form",{ref:"form",attrs:{"label-width":0}},[a("Row",{attrs:{gutter:10}},[a("Col",{attrs:{span:"3"}},[a("FormItem",[a("Select",{model:{value:e.userType,callback:function(t){e.userType=t},expression:"userType"}},[e._l(e.userTypeOptions,(function(t,r){return[!e.userTypeFilter||e.userTypeFilter.includes(r)?a("Option",{key:r,attrs:{value:r}},[e._v(e._s(t.label))]):e._e()]}))],2)],1)],1),"user"===e.userType?a("Col",{attrs:{span:"17"}},["application"!==e.objectType?a("FormItem",{attrs:{prop:"user"}},[a("Select",{attrs:{"label-in-value":"","remote-method":e.debounce,loading:e.loading,filterable:"",multiple:"",transfer:"",placeholder:"请输入用户名称或邮箱关键字，以搜索相关用户"},on:{"on-change":function(t){e.usersMap=t}},model:{value:e.users,callback:function(t){e.users=t},expression:"users"}},e._l(e.userOptions,(function(t){return a("Option",{key:t.user_id,attrs:{value:t.user_id,label:t.nick_name+t.email,tag:t.nick_name}},[a("p",[e._v(e._s(t.nick_name))]),a("p",{staticClass:"txt-muted"},[e._v(e._s(t.email||"无邮箱"))])])})),1)],1):a("FormItem",{attrs:{prop:"user"}},[a("auth-view",{attrs:{perm:{domain:"system",action:"manage",extra:{}}}},[a("Select",{attrs:{slot:"forbidden",transfer:"",placeholder:"请输入用户名称或邮箱关键字，以搜索相关用户"},slot:"forbidden"}),a("Select",{attrs:{"label-in-value":"","remote-method":e.debounce,loading:e.loading,filterable:"",multiple:"",transfer:"",placeholder:"请输入用户名称，以搜索相关用户"},on:{"on-change":function(t){e.usersMap=t}},model:{value:e.users,callback:function(t){e.users=t},expression:"users"}},e._l(e.adminUserOptions,(function(t){return a("Option",{key:t.user_id,attrs:{value:t.user_id,label:t.nick_name+t.email,tag:t.nick_name}},[a("p",[e._v(e._s(t.nick_name))]),a("p",{staticClass:"txt-muted"},[e._v(e._s(t.email||"无邮箱"))])])})),1)],1)],1)],1):e._e(),"app"===e.userType?a("Col",{attrs:{span:"17"}},[a("FormItem",{attrs:{prop:"app"}},[a("Select",{attrs:{"label-in-value":"","remote-method":e.debounce,loading:e.loading,filterable:"",multiple:"",transfer:"",placeholder:"请输入应用ID或应用名称，以搜索相关应用"},on:{"on-change":function(t){e.usersMap=t}},model:{value:e.users,callback:function(t){e.users=t},expression:"users"}},e._l(e.appOptions,(function(t,r){return a("Option",{key:r,attrs:{value:t.app_id.toString(),label:t.app_name+t.app_id,tag:t.app_name}},[a("p",[e._v(e._s(t.app_name))]),a("p",{staticClass:"txt-muted"},[e._v(e._s(t.app_id))])])})),1)],1)],1):e._e(),a("Col",{attrs:{span:"4"}},[a("Button",{attrs:{type:"primary",loading:e.loading},on:{click:e.submit}},[e._v("添加")])],1)],1)],1),a("Table",{staticStyle:{"min-height":"350px"},attrs:{loading:e.fetchShareList.isPending,columns:e.columns,data:e.shareList},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.row;return[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.fetchDeleteRoleUser(r)}}},[e._v("删除")])]}}])}),a("Page",{staticClass:"right mtm",attrs:{current:e.page.index,total:e.page.total,"page-size":e.page.size,"show-total":"","show-elevator":""},on:{"on-change":e.changePage}})],1),a("div",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[a("Button",{on:{click:function(t){e.visible=!1}}},[e._v("关闭")])],1)])},i=[],n=(a("8d0d"),a("9ec3")),s=a("22dc"),o=a("e3fa"),l={props:{objectId:[Object,String,Number],objectType:String,userTypeFilter:[String,Array],companyinfo:Object},data(){return{visible:!0,userOptions:[],userType:"",users:[],usersMap:[],userTypeOptions:{user:{value:0,label:"用户"},app:{value:2,label:"应用"}},objectTypeOptions:{project:"项目",template:"模板",dataset:"数据集",tagset:"标签集",application:"应用"},columnsOptions:{user:{nick_name:"用户名称",role_name:"权限",action:"操作"},app:{app_name:"应用名称",role_name:"权限",action:"操作"}},shareList:[],page:{index:1,size:5,total:0}}},computed:{columns(){const{userType:e,columnsOptions:t}=this;return Object(n["map"])(t[e],(e,t)=>{const a={title:e,key:t};return t.includes("action")&&(delete a.key,this.$set(a,"slot",t)),a})},loading(){return this.fetchShareList.isPending||this.fetchUserOptions.isPending||this.fetchAppOptions.isPending||this.fetchAdminUserOptions.isPending||this.fetchShareObject.isPending||this.fetchDeleteRoleUser.isPending},queryParams(){return function(e){const t={page:{start:0,size:100,return_total:0},query:e};return t}},submitParams(){const{objectId:e,userType:t,users:a}=this,r={object_id:e,user_list:a,user_type:t};return r}},watch:{userType(){this.reset()}},mounted(){this.userType="user"},methods:{reset(){this.users=[],this.fetchShareList()},debounce:Object(n["debounce"])((function(e){"application"===this.objectType?this.fetchAdminUserOptions(e):("user"===this.userType&&this.fetchUserOptions(e),"app"===this.userType&&this.fetchAppOptions(e))}),500),async submit(){const{label:e}=this.userTypeOptions[this.userType];if(this.users.length<=0)this.$Message.error("添加失败，请先选择"+e);else{const t=await this.fetchRole(this.objectType);if(t){const a=[];for(let i=0;i<this.users.length;i++){const r=this.users[i],s=await this.fetchShareObject(r,t.role_id);if(s&&a.push(s),!0!==s){const t=Object(n["find"])(this.usersMap,e=>e.value===r).tag||"";this.$Message.error(`分享失败：${e}${t}：${s.message}`)}}const r=Object(n["countBy"])(a,e=>!0===e).true;r===this.users.length&&this.$Message.success(`成功分享给${r}个${e}`),this.reset()}}},changePage(e){this.page.index=e,this.reset()}},asyncMethods:{fetchShareList(){const{objectId:e,objectType:t,userType:a,page:r}=this,i={object_id:e,object_type:t,user_type:a,page:{start:(r.index-1)*r.size,size:r.size,return_total:1}};return Object(o["r"])(i).then(e=>(r.total=e.total,e.data||[])).catch(e=>{console.log(e),this.$Message.error("列表数据获取失败，请刷新页面重试")})},fetchUserOptions(e){if(""!==e)return Object(o["t"])(this.queryParams(e)).then(e=>e.data)},fetchAppOptions(e){if(""!==e)return Object(o["l"])(this.queryParams(e)).then(e=>(this.appOptions=e.data,this.appOptions))},fetchAdminUserOptions(e){if(""!==e)return Object(o["t"])(this.queryParams(e)).then(e=>e.data)},fetchRole(e){const t={object_id:this.objectId,object_type:e,role_type:"owner"};return Object(o["j"])(t)},fetchShareObject(e,t){const{objectId:a,userType:r}=this,i={user_id_list:[e],object_id:a,role_id:t,user_type:r};return Object(o["a"])(i).then(e=>e).catch(e=>e)},fetchDeleteRoleUser(e){const t={user_role_id:e.user_role_id};return Object(s["j"])(t).then(e=>{e?(this.$Message.success("删除成功！"),this.reset()):this.$Message.error("删除失败")}).catch(e=>{this.$Message.error("删除失败："+e.message)})}}},c=l,d=(a("f607"),a("2be6")),u=Object(d["a"])(c,r,i,!1,null,"efae4070",null);t["a"]=u.exports},"27f2":function(e,t,a){},2839:function(e,t,a){},"28e0":function(e,t,a){var r,i,n;
/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/((a,s)=>{i=[],r=s,n="function"===typeof r?r.apply(t,i):r,void 0===n||(e.exports=n)})(0,(function e(){var t,a="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==a?a:{},r=!a.document&&!!a.postMessage,i=a.IS_PAPA_WORKER||!1,n={},s=0,o={};function l(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=b(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new p(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,t){var r=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<r){let t=this._config.newline;t||(n=this._config.quoteChar||'"',t=this._handle.guessLineEndings(e,n)),e=[...e.split(t).slice(r)].join(t)}this.isFirstChunk&&k(this._config.beforeFirstChunk)&&void 0!==(n=this._config.beforeFirstChunk(e))&&(e=n),this.isFirstChunk=!1,this._halted=!1;r=this._partialLine+e;var n=(this._partialLine="",this._handle.parse(r,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(e=n.meta.cursor,this._finished||(this._partialLine=r.substring(e-this._baseIndex),this._baseIndex=e),n&&n.data&&(this._rowCount+=n.data.length),r=this._finished||this._config.preview&&this._rowCount>=this._config.preview,i)a.postMessage({results:n,workerId:o.WORKER_ID,finished:r});else if(k(this._config.chunk)&&!t){if(this._config.chunk(n,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=n=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(n.data),this._completeResults.errors=this._completeResults.errors.concat(n.errors),this._completeResults.meta=n.meta),this._completed||!r||!k(this._config.complete)||n&&n.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),r||n&&n.meta.paused||this._nextChunk(),n}this._halted=!0},this._sendError=function(e){k(this._config.error)?this._config.error(e):i&&this._config.error&&a.postMessage({workerId:o.WORKER_ID,error:e,finished:!1})}}function c(e){var t;(e=e||{}).chunkSize||(e.chunkSize=o.RemoteChunkSize),l.call(this,e),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),r||(t.onload=y(this._chunkLoaded,this),t.onerror=y(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var e,a=this._config.downloadRequestHeaders;for(e in a)t.setRequestHeader(e,a[e])}var i;this._config.chunkSize&&(i=this._start+this._config.chunkSize-1,t.setRequestHeader("Range","bytes="+this._start+"-"+i));try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}r&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize||t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(e=>null!==(e=e.getResponseHeader("Content-Range"))?parseInt(e.substring(e.lastIndexOf("/")+1)):-1)(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){e=t.statusText||e,this._sendError(new Error(e))}}function d(e){(e=e||{}).chunkSize||(e.chunkSize=o.LocalChunkSize),l.call(this,e);var t,a,r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,a=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=y(this._chunkLoaded,this),t.onerror=y(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input,i=(this._config.chunkSize&&(i=Math.min(this._start+this._config.chunkSize,this._input.size),e=a.call(e,this._start,i)),t.readAsText(e,this._config.encoding));r||this._chunkLoaded({target:{result:i}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function u(e){var t;l.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){var e,a;if(!this._finished)return e=this._config.chunkSize,t=e?(a=t.substring(0,e),t.substring(e)):(a=t,""),this._finished=!t,this.parseChunk(a)}}function h(e){l.call(this,e=e||{});var t=[],a=!0,r=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):a=!0},this._streamData=y((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),a&&(a=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=y((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=y((function(){this._streamCleanUp(),r=!0,this._streamData("")}),this),this._streamCleanUp=y((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function p(e){var t,a,r,i,n=Math.pow(2,53),s=-n,l=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,c=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,d=this,u=0,h=0,p=!1,g=!1,_=[],v={data:[],errors:[],meta:{}};function y(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function x(){if(v&&r&&(S("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+o.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines&&(v.data=v.data.filter((function(e){return!y(e)}))),w()){if(v)if(Array.isArray(v.data[0])){for(var t=0;w()&&t<v.data.length;t++)v.data[t].forEach(a);v.data.splice(0,1)}else v.data.forEach(a);function a(t,a){k(e.transformHeader)&&(t=e.transformHeader(t,a)),_.push(t)}}function i(t,a){for(var r=e.header?{}:[],i=0;i<t.length;i++){var o=i,d=t[i];d=((t,a)=>(t=>(e.dynamicTypingFunction&&void 0===e.dynamicTyping[t]&&(e.dynamicTyping[t]=e.dynamicTypingFunction(t)),!0===(e.dynamicTyping[t]||e.dynamicTyping)))(t)?"true"===a||"TRUE"===a||"false"!==a&&"FALSE"!==a&&((e=>{if(l.test(e)&&(e=parseFloat(e),s<e&&e<n))return 1})(a)?parseFloat(a):c.test(a)?new Date(a):""===a?null:a):a)(o=e.header?i>=_.length?"__parsed_extra":_[i]:o,d=e.transform?e.transform(d,o):d);"__parsed_extra"===o?(r[o]=r[o]||[],r[o].push(d)):r[o]=d}return e.header&&(i>_.length?S("FieldMismatch","TooManyFields","Too many fields: expected "+_.length+" fields but parsed "+i,h+a):i<_.length&&S("FieldMismatch","TooFewFields","Too few fields: expected "+_.length+" fields but parsed "+i,h+a)),r}var d;v&&(e.header||e.dynamicTyping||e.transform)&&(d=1,!v.data.length||Array.isArray(v.data[0])?(v.data=v.data.map(i),d=v.data.length):v.data=i(v.data,0),e.header&&v.meta&&(v.meta.fields=_),h+=d)}function w(){return e.header&&0===_.length}function S(e,t,a,r){e={type:e,code:t,message:a},void 0!==r&&(e.row=r),v.errors.push(e)}k(e.step)&&(i=e.step,e.step=function(t){v=t,w()?x():(x(),0!==v.data.length&&(u+=t.data.length,e.preview&&u>e.preview?a.abort():(v.data=v.data[0],i(v,d))))}),this.parse=function(i,n,s){var l=e.quoteChar||'"';e.newline||(e.newline=this.guessLineEndings(i,l)),r=!1,e.delimiter?k(e.delimiter)&&(e.delimiter=e.delimiter(i),v.meta.delimiter=e.delimiter):((l=((t,a,r,i,n)=>{var s,l,c,d;n=n||[",","\t","|",";",o.RECORD_SEP,o.UNIT_SEP];for(var u=0;u<n.length;u++){for(var h,p=n[u],f=0,g=0,_=0,v=(c=void 0,new m({comments:i,delimiter:p,newline:a,preview:10}).parse(t)),b=0;b<v.data.length;b++)r&&y(v.data[b])?_++:(h=v.data[b].length,g+=h,void 0===c?c=h:0<h&&(f+=Math.abs(h-c),c=h));0<v.data.length&&(g/=v.data.length-_),(void 0===l||f<=l)&&(void 0===d||d<g)&&1.99<g&&(l=f,s=p,d=g)}return{successful:!!(e.delimiter=s),bestDelimiter:s}})(i,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess)).successful?e.delimiter=l.bestDelimiter:(r=!0,e.delimiter=o.DefaultDelimiter),v.meta.delimiter=e.delimiter),l=b(e);return e.preview&&e.header&&l.preview++,t=i,a=new m(l),v=a.parse(t,n,s),x(),p?{meta:{paused:!0}}:v||{meta:{paused:!1}}},this.paused=function(){return p},this.pause=function(){p=!0,a.abort(),t=k(e.chunk)?"":t.substring(a.getCharIndex())},this.resume=function(){d.streamer._halted?(p=!1,d.streamer.parseChunk(t,!0)):setTimeout(d.resume,3)},this.aborted=function(){return g},this.abort=function(){g=!0,a.abort(),v.meta.aborted=!0,k(e.complete)&&e.complete(v),t=""},this.guessLineEndings=function(e,t){e=e.substring(0,1048576);t=new RegExp(f(t)+"([^]*?)"+f(t),"gm");var a=(e=e.replace(t,"")).split("\r");t=e.split("\n"),e=1<t.length&&t[0].length<a[0].length;if(1===a.length||e)return"\n";for(var r=0,i=0;i<a.length;i++)"\n"===a[i][0]&&r++;return r>=a.length/2?"\r\n":"\r"}}function f(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(e){var t=(e=e||{}).delimiter,a=e.newline,r=e.comments,i=e.step,n=e.preview,s=e.fastMode,l=null,c=!1,d=null==e.quoteChar?'"':e.quoteChar,u=d;if(void 0!==e.escapeChar&&(u=e.escapeChar),("string"!=typeof t||-1<o.BAD_DELIMITERS.indexOf(t))&&(t=","),r===t)throw new Error("Comment character same as delimiter");!0===r?r="#":("string"!=typeof r||-1<o.BAD_DELIMITERS.indexOf(r))&&(r=!1),"\n"!==a&&"\r"!==a&&"\r\n"!==a&&(a="\n");var h=0,p=!1;this.parse=function(o,m,g){if("string"!=typeof o)throw new Error("Input must be a string");var _=o.length,v=t.length,b=a.length,y=r.length,x=k(i),w=[],S=[],C=[],O=h=0;if(!o)return F();if(s||!1!==s&&-1===o.indexOf(d)){for(var T=o.split(a),j=0;j<T.length;j++){if(C=T[j],h+=C.length,j!==T.length-1)h+=a.length;else if(g)return F();if(!r||C.substring(0,y)!==r){if(x){if(w=[],R(C.split(t)),N(),p)return F()}else R(C.split(t));if(n&&n<=j)return w=w.slice(0,n),F(!0)}}return F()}for(var I=o.indexOf(t,h),A=o.indexOf(a,h),D=new RegExp(f(u)+f(d),"g"),M=o.indexOf(d,h);;)if(o[h]===d)for(M=h,h++;;){if(-1===(M=o.indexOf(d,M+1)))return g||S.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:w.length,index:h}),P();if(M===_-1)return P(o.substring(h,M).replace(D,d));if(d===u&&o[M+1]===u)M++;else if(d===u||0===M||o[M-1]!==u){-1!==I&&I<M+1&&(I=o.indexOf(t,M+1));var E=B(-1===(A=-1!==A&&A<M+1?o.indexOf(a,M+1):A)?I:Math.min(I,A));if(o.substr(M+1+E,v)===t){C.push(o.substring(h,M).replace(D,d)),o[h=M+1+E+v]!==d&&(M=o.indexOf(d,h)),I=o.indexOf(t,h),A=o.indexOf(a,h);break}if(E=B(A),o.substring(M+1+E,M+1+E+b)===a){if(C.push(o.substring(h,M).replace(D,d)),L(M+1+E+b),I=o.indexOf(t,h),M=o.indexOf(d,h),x&&(N(),p))return F();if(n&&w.length>=n)return F(!0);break}S.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:w.length,index:h}),M++}}else if(r&&0===C.length&&o.substring(h,h+y)===r){if(-1===A)return F();h=A+b,A=o.indexOf(a,h),I=o.indexOf(t,h)}else if(-1!==I&&(I<A||-1===A))C.push(o.substring(h,I)),h=I+v,I=o.indexOf(t,h);else{if(-1===A)break;if(C.push(o.substring(h,A)),L(A+b),x&&(N(),p))return F();if(n&&w.length>=n)return F(!0)}return P();function R(e){w.push(e),O=h}function B(e){var t=0;return-1!==e&&(e=o.substring(M+1,e))&&""===e.trim()?e.length:t}function P(e){return g||(void 0===e&&(e=o.substring(h)),C.push(e),h=_,R(C),x&&N()),F()}function L(e){h=e,R(C),C=[],A=o.indexOf(a,h)}function F(r){if(e.header&&!m&&w.length&&!c){var i=w[0],n={},s=new Set(i);let t=!1;for(let a=0;a<i.length;a++){let r=i[a];if(n[r=k(e.transformHeader)?e.transformHeader(r,a):r]){let e,o=n[r];for(;e=r+"_"+o,o++,s.has(e););s.add(e),i[a]=e,n[r]++,t=!0,(l=null===l?{}:l)[e]=r}else n[r]=1,i[a]=r;s.add(r)}t&&console.warn("Duplicate headers found and renamed."),c=!0}return{data:w,errors:S,meta:{delimiter:t,linebreak:a,aborted:p,truncated:!!r,cursor:O+(m||0),renamedHeaders:l}}}function N(){i(F()),w=[],S=[]}},this.abort=function(){p=!0},this.getCharIndex=function(){return h}}function g(e){var t=e.data,a=n[t.workerId],r=!1;if(t.error)a.userError(t.error,t.file);else if(t.results&&t.results.data){var i={abort:function(){r=!0,_(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:v,resume:v};if(k(a.userStep)){for(var s=0;s<t.results.data.length&&(a.userStep({data:t.results.data[s],errors:t.results.errors,meta:t.results.meta},i),!r);s++);delete t.results}else k(a.userChunk)&&(a.userChunk(t.results,i,t.file),delete t.results)}t.finished&&!r&&_(t.workerId,t.results)}function _(e,t){var a=n[e];k(a.userComplete)&&a.userComplete(t),a.terminate(),delete n[e]}function v(){throw new Error("Not implemented.")}function b(e){if("object"!=typeof e||null===e)return e;var t,a=Array.isArray(e)?[]:{};for(t in e)a[t]=b(e[t]);return a}function y(e,t){return function(){e.apply(t,arguments)}}function k(e){return"function"==typeof e}return o.parse=function(t,r){var i=(r=r||{}).dynamicTyping||!1;if(k(i)&&(r.dynamicTypingFunction=i,i={}),r.dynamicTyping=i,r.transform=!!k(r.transform)&&r.transform,!r.worker||!o.WORKERS_SUPPORTED)return i=null,o.NODE_STREAM_INPUT,"string"==typeof t?(t=(e=>65279!==e.charCodeAt(0)?e:e.slice(1))(t),i=new(r.download?c:u)(r)):!0===t.readable&&k(t.read)&&k(t.on)?i=new h(r):(a.File&&t instanceof File||t instanceof Object)&&(i=new d(r)),i.stream(t);(i=(()=>{var t;return!!o.WORKERS_SUPPORTED&&(t=(()=>{var t=a.URL||a.webkitURL||null,r=e.toString();return o.BLOB_URL||(o.BLOB_URL=t.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",r,")();"],{type:"text/javascript"})))})(),(t=new a.Worker(t)).onmessage=g,t.id=s++,n[t.id]=t)})()).userStep=r.step,i.userChunk=r.chunk,i.userComplete=r.complete,i.userError=r.error,r.step=k(r.step),r.chunk=k(r.chunk),r.complete=k(r.complete),r.error=k(r.error),delete r.worker,i.postMessage({input:t,config:r,workerId:i.id})},o.unparse=function(e,t){var a=!1,r=!0,i=",",n="\r\n",s='"',l=s+s,c=!1,d=null,u=!1,h=((()=>{if("object"==typeof t){if("string"!=typeof t.delimiter||o.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(i=t.delimiter),"boolean"!=typeof t.quotes&&"function"!=typeof t.quotes&&!Array.isArray(t.quotes)||(a=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(c=t.skipEmptyLines),"string"==typeof t.newline&&(n=t.newline),"string"==typeof t.quoteChar&&(s=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");d=t.columns}void 0!==t.escapeChar&&(l=t.escapeChar+s),t.escapeFormulae instanceof RegExp?u=t.escapeFormulae:"boolean"==typeof t.escapeFormulae&&t.escapeFormulae&&(u=/^[=+\-@\t\r].*$/)}})(),new RegExp(f(s),"g"));if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return p(null,e,c);if("object"==typeof e[0])return p(d||Object.keys(e[0]),e,c)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||d),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),p(e.fields||[],e.data||[],c);throw new Error("Unable to serialize unrecognized input");function p(e,t,a){var s="",o=("string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t)),Array.isArray(e)&&0<e.length),l=!Array.isArray(t[0]);if(o&&r){for(var c=0;c<e.length;c++)0<c&&(s+=i),s+=m(e[c],c);0<t.length&&(s+=n)}for(var d=0;d<t.length;d++){var u=(o?e:t[d]).length,h=!1,p=o?0===Object.keys(t[d]).length:0===t[d].length;if(a&&!o&&(h="greedy"===a?""===t[d].join("").trim():1===t[d].length&&0===t[d][0].length),"greedy"===a&&o){for(var f=[],g=0;g<u;g++){var _=l?e[g]:g;f.push(t[d][_])}h=""===f.join("").trim()}if(!h){for(var v=0;v<u;v++){0<v&&!p&&(s+=i);var b=o&&l?e[v]:v;s+=m(t[d][b],v)}d<t.length-1&&(!a||0<u&&!p)&&(s+=n)}}return s}function m(e,t){var r,n;return null==e?"":e.constructor===Date?JSON.stringify(e).slice(1,25):(n=!1,u&&"string"==typeof e&&u.test(e)&&(e="'"+e,n=!0),r=e.toString().replace(h,l),(n=n||!0===a||"function"==typeof a&&a(e,t)||Array.isArray(a)&&a[t]||((e,t)=>{for(var a=0;a<t.length;a++)if(-1<e.indexOf(t[a]))return!0;return!1})(r,o.BAD_DELIMITERS)||-1<r.indexOf(i)||" "===r.charAt(0)||" "===r.charAt(r.length-1))?s+r+s:r)}},o.RECORD_SEP=String.fromCharCode(30),o.UNIT_SEP=String.fromCharCode(31),o.BYTE_ORDER_MARK="\ufeff",o.BAD_DELIMITERS=["\r","\n",'"',o.BYTE_ORDER_MARK],o.WORKERS_SUPPORTED=!r&&!!a.Worker,o.NODE_STREAM_INPUT=1,o.LocalChunkSize=10485760,o.RemoteChunkSize=5242880,o.DefaultDelimiter=",",o.Parser=m,o.ParserHandle=p,o.NetworkStreamer=c,o.FileStreamer=d,o.StringStreamer=u,o.ReadableStreamStreamer=h,a.jQuery&&((t=a.jQuery).fn.parse=function(e){var r=e.config||{},i=[];return this.each((function(e){if("INPUT"!==t(this).prop("tagName").toUpperCase()||"file"!==t(this).attr("type").toLowerCase()||!a.FileReader||!this.files||0===this.files.length)return!0;for(var n=0;n<this.files.length;n++)i.push({file:this.files[n],inputElem:this,instanceConfig:t.extend({},r)})})),n(),this;function n(){if(0===i.length)k(e.complete)&&e.complete();else{var a,r,n,l,c=i[0];if(k(e.before)){var d=e.before(c.file,c.inputElem);if("object"==typeof d){if("abort"===d.action)return a="AbortError",r=c.file,n=c.inputElem,l=d.reason,void(k(e.error)&&e.error({name:a},r,n,l));if("skip"===d.action)return void s();"object"==typeof d.config&&(c.instanceConfig=t.extend(c.instanceConfig,d.config))}else if("skip"===d)return void s()}var u=c.instanceConfig.complete;c.instanceConfig.complete=function(e){k(u)&&u(e,c.file,c.inputElem),s()},o.parse(c.file,c.instanceConfig)}}function s(){i.splice(0,1),n()}}),i&&(a.onmessage=function(e){e=e.data,void 0===o.WORKER_ID&&e&&(o.WORKER_ID=e.workerId),"string"==typeof e.input?a.postMessage({workerId:o.WORKER_ID,results:o.parse(e.input,e.config),finished:!0}):(a.File&&e.input instanceof File||e.input instanceof Object)&&(e=o.parse(e.input,e.config))&&a.postMessage({workerId:o.WORKER_ID,results:e,finished:!0})}),(c.prototype=Object.create(l.prototype)).constructor=c,(d.prototype=Object.create(l.prototype)).constructor=d,(u.prototype=Object.create(u.prototype)).constructor=u,(h.prototype=Object.create(l.prototype)).constructor=h,o}))},"29ab":function(e,t,a){"use strict";a("95a0")},"2a6b":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("TableFilter",{attrs:{searchLoading:e.fetchProjects.isPending},on:{search:function(t){return e.fetchProjects(e.pageIndex=1)},reset:function(t){return e.reset(e.pageIndex=1)}}},[a("Form",{attrs:{"label-width":90,"label-colon":!0}},[a("Row",[a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"项目编号"}},[a("Input",{attrs:{type:"text",placeholder:"输入项目编号"},on:{"on-enter":function(t){return e.fetchProjects(e.pageIndex=1)}},model:{value:e.project_form.project_id,callback:function(t){e.$set(e.project_form,"project_id",t)},expression:"project_form.project_id"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"项目名称"}},[a("Input",{attrs:{type:"text",placeholder:"输入项目名称的关键字"},on:{"on-enter":function(t){return e.fetchProjects(e.pageIndex=1)}},model:{value:e.project_form.project_name,callback:function(t){e.$set(e.project_form,"project_name",t)},expression:"project_form.project_name"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"创建时间"}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"datetimerange",format:"yyyy-MM-dd HH:mm:ss",placeholder:"选择创建时间范围"},on:{"on-change":e.handleChange}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"创建人"}},[a("user-select",{ref:"userSelect",attrs:{remote:"",showEmail:""},on:{"update:user":function(t){e.project_form.created_by=t}}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"项目状态"}},[a("Select",{model:{value:e.project_form.project_status,callback:function(t){e.$set(e.project_form,"project_status",t)},expression:"project_form.project_status"}},[e._l(e.projectStatus,(function(t,r){return[e.Config.PRIVATIZATION&&"已关闭"===t.text?e._e():a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.text))])]}))],2)],1)],1),a("Col",{attrs:{span:"8"}},[e.Config.PRIVATIZATION?e._e():[a("FormItem",{attrs:{label:"项目类型"}},[a("Select",{model:{value:e.project_form.project_type,callback:function(t){e.$set(e.project_form,"project_type",t)},expression:"project_form.project_type"}},[a("Option",{attrs:{value:"1"}},[e._v("外部标注项目")]),a("Option",{attrs:{value:"0"}},[e._v("内部标注项目")])],1)],1)]],2)],1)],1)],1),a("div",{staticClass:"mbb"},[a("auth-view",{attrs:{perm:{domain:"project",action:"create"}}},[a("Button",{attrs:{type:"primary",icon:"md-add",to:"list/create"}},[e._v("新建项目")])],1)],1),a("Table",{attrs:{loading:e.fetchProjects.isPending,columns:e.columns,data:e.projects},scopedSlots:e._u([{key:"project_name",fn:function(t){var r=t.row;return[a("t-space",{staticStyle:{padding:"10px 0"},attrs:{direction:"vertical",size:5}},[a("t-row",{staticStyle:{display:"flex","flex-wrap":"nowrap","align-items":"center"}},[1===r.project_type?a("span",{staticClass:"tag green mrs"},[e._v("外")]):a("span",{staticClass:"tag orange mrs"},[e._v("内")]),a("t-link",{attrs:{hover:"color",theme:"primary"},on:{click:function(t){return e.$router.push("list/"+r.project_id)}}},[e._v(e._s(r.project_name))])],1),a("p",{staticClass:"txt-muted"},[e._v(e._s(r.project_id))])],1)]}},{key:"project_status",fn:function(t){var r=t.row;return[a("project-status-render",{attrs:{value:r.project_status}}),r.archive_status>0?a("Tag",{attrs:{color:"default"}},[e._v("已归档")]):e._e()]}},{key:"task_count",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(e.$FormatNumber(r.task_count)||"-"))])]}},{key:"comp_task_count",fn:function(t){var r=t.row;return[0===r.task_count?a("span",[e._v("-")]):a("span",{attrs:{title:"已完成子任务数量（已完成子任务占任务总数的百分比）"}},[a("Progress",{staticStyle:{width:"40%"},attrs:{percent:r.comp_task_count/r.task_count*100,"stroke-width":5,"hide-info":""}}),a("span",{staticClass:"mlm"},[e._v(e._s(r.comp_task_count))]),a("span",[e._v(" ("+e._s((r.comp_task_count/r.task_count*100).toFixed(0))+"%)")])],1)]}},{key:"creator",fn:function(t){var r=t.row;return[a("t-space",{attrs:{direction:"vertical",size:5}},[a("span",[e._v(e._s(r.creator))]),a("span",{staticClass:"txt-muted"},[e._v(e._s(r.created_at))])])]}},{key:"business_name",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.business_name||"-"))])]}},{key:"action",fn:function(t){var r=t.row;return[a("router-link",{attrs:{to:{path:"list/"+r.project_id}}},[e._v("详情")]),e.fetchProjects.isResolved&&r.archive_status<=0?[a("span",{directives:[{name:"permissions",rawName:"v-permissions",value:{domain:"role-user",action:"view",extra:{objectType:"project",objectId:r.project_id}},expression:"{domain: 'role-user', action: 'view', extra: {objectType: 'project', objectId: row.project_id}}"}]},[a("Divider",{attrs:{type:"vertical"}}),a("router-link",{attrs:{to:{path:"list/"+r.project_id+"?tab=permission"}}},[e._v("权限")])],1),20===r.project_status?a("span",{directives:[{name:"permissions",rawName:"v-permissions",value:{domain:"project",action:"close",extra:{company:e.companyinfo.company_id,project:r.project_id}},expression:"{domain: 'project', action: 'close', extra: {company: companyinfo.company_id, project: row.project_id}}"}]},[a("Divider",{attrs:{type:"vertical"}}),a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.closeProject(r)}}},[e._v("关闭项目")])],1):e._e()]:e._e()]}}])}),a("br"),a("Page",{staticClass:"right",attrs:{current:e.pageIndex,total:e.pageTotal,"page-size":e.pageSize,"show-total":"","show-elevator":""},on:{"on-change":e.changePage}}),a("close",{ref:"close"})],1)},i=[],n=a("9ec3"),s=a.n(n),o=a("8859"),l=a("261f"),c=a("1542"),d=a("f227"),u=a("a06e"),h=a("3fb9"),p=a("312d"),f=a("db49"),m=a("c605"),g={components:{Share:l["a"],Close:c["a"],ProjectStatusRender:h["a"],UserSelect:d["a"],TableFilter:m["a"]},mixins:[o["a"]],data(){return{Config:f["a"],project:{},objectType:"project",pageIndex:1,pageSize:10,pageTotal:0,project_form:{project_id:"",project_name:"",project_status:"",start_date:"",end_date:"",created_by:"",project_type:""},projectStatus:p["o"],columns:[{title:"项目名称/编号",slot:"project_name",minWidth:300},{title:"创建人/时间",slot:"creator",minWidth:200},{title:"状态",slot:"project_status",width:150,align:"center"},{title:"任务总数",slot:"task_count",width:100,align:"right"},{title:"完成进度",slot:"comp_task_count",width:250},{title:"项目交付时间",key:"project_expect_date",minWidth:250},{title:"业务名称",slot:"business_name",minWidth:250},{title:"操作",slot:"action",width:200,fixed:"right"}],projects:[]}},computed:{userinfo(){return this.$store.state.userinfo.user},companyinfo(){return this.$store.state.companyinfo},readonly(){return function(e){return this.userinfo.nick_name!==e.creator&&"read"===e.perm}}},watch:{"project_form.created_by"(e){var t;null===(t=this.$refs.userSelect)||void 0===t||t.updateUser(e)}},created(){this.fetchProjects(),f["a"].PRIVATIZATION&&s.a.remove(this.columns,e=>"完成进度"===e.title)},methods:{reset(){s.a.forIn(this.project_form,(e,t)=>{this.project_form[t]=""}),this.fetchProjects()},changePage(e){this.pageIndex=e,this.fetchProjects()},handleChange(e){this.project_form.start_date=e[0],this.project_form.end_date=e[1]},shareProject(e){this.$FastModal.show(l["a"],{objectId:e.project_id,objectType:"project",companyinfo:this.companyinfo},{})},closeProject(e){return this.$refs.close.FinishProject(e).then(()=>{this.fetchProjects()}).catch(e=>{console.log(e)})}},asyncMethods:{fetchProjects(){const e=[{page:{start:(this.pageIndex-1)*this.pageSize+1,size:this.pageSize},return_total:1}];return s.a.forIn(this.project_form,(t,a)=>{""!==this.project_form[a]&&(e[0][a]=this.project_form[a])}),Object(u["j"])(e).then(e=>(this.projects=e.data,this.pageTotal=e.total,this.projects)).catch(e=>{console.log(e)})}}},_=g,v=(a("d71f"),a("2be6")),b=Object(v["a"])(_,r,i,!1,null,"028a8d30",null);t["default"]=b.exports},"2cb0":function(e,t,a){},"2f50":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Layout",[r("Header",{staticClass:"app-header"},[r("div",{staticClass:"app-header__logo"},[r("img",{attrs:{src:a("9d64")}})]),r("div",{staticClass:"app-header__extra"},[r("Poptip",{attrs:{trigger:"click",transfer:"",placement:"bottom-end"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[r("div",{staticClass:"avatar"},[r("Avatar",{staticStyle:{"margin-right":"5px"},attrs:{icon:"ios-person"}}),r("span",[e._v(e._s(e.nickName))]),r("Icon",{attrs:{type:"md-arrow-dropdown"}})],1),r("div",{staticClass:"change-user",attrs:{slot:"content"},slot:"content"},[r("div",{staticClass:"header"},[e.userinfo.user&&e.userinfo.user.oa_staffname?r("Avatar",{staticClass:"mbs",attrs:{src:"https://rhrc.woa.com/photo/150/"+e.userinfo.user.oa_staffname+".png"}}):r("Avatar",{staticClass:"mbs",attrs:{icon:"ios-person"}}),r("div",{staticClass:"black mbs"},[e._v(e._s(e.nickName))]),r("div",{staticClass:"txt-muted mbs"},[e._v("待加入公司")])],1),r("div",{staticClass:"content"},[r("div",{staticClass:"txt-muted mbm"},[e._v("切换账号")]),e.isNUll?r("div",{staticClass:"txt-muted mbm",staticStyle:{"text-align":"center"}},[e._v("暂无其他账号")]):e._l(e.userinfo.users,(function(t){return t.user_id!==(e.userinfo.user?e.userinfo.user.user_id:"")?r("div",{staticClass:"user-list cursor",on:{click:function(a){return e.switchUser(t)}}},[r("Avatar",{staticClass:"mrs",attrs:{icon:"ios-person"}}),r("span",{staticClass:"txt-muted"},[e._v(e._s(t.nick_name||"昵称丢失，请联系管理员"))]),r("span",{staticClass:"txt-muted right"},[e._v(e._s(t.company_name||"待加入公司"))])],1):e._e()}))],2),r("div",{staticClass:"footer mtm right"},[r("Button",{attrs:{size:"small"},on:{click:e.logout}},[e._v("退出登录")])],1)])])],1)]),r("Layout",{staticClass:"layout"},[r("div",{staticClass:"container"},[r("div",{staticClass:"header"},[r("Steps",{attrs:{current:e.step}},[r("Step",{attrs:{content:"填写邮箱"}}),r("Step",{attrs:{content:"邮箱激活"}}),r("Step",{attrs:{content:"注册"}})],1)],1),0===e.step?r("div",{staticClass:"content"},[r("Form",{ref:"form",staticClass:"form",attrs:{model:e.info,rules:e.ruleValidate,"label-width":100,"label-position":"left"}},[r("FormItem",{attrs:{label:"昵称：",prop:"name"}},[r("Input",{attrs:{placeholder:"请输入昵称"},model:{value:e.info.name,callback:function(t){e.$set(e.info,"name",t)},expression:"info.name"}})],1),r("FormItem",{attrs:{label:"邮箱：",prop:"email"}},[r("Input",{attrs:{placeholder:"请输入邮箱",type:"email"},model:{value:e.info.email,callback:function(t){e.$set(e.info,"email",t)},expression:"info.email"}})],1)],1)],1):e._e(),1===e.step?r("div",{staticClass:"content"},[r("div",{staticClass:"form"},[r("div",{staticClass:"circle"},[r("Icon",{staticClass:"circle",attrs:{type:"ios-mail-outline",size:"65"}})],1),r("div",{staticClass:"message"},[r("p",{staticClass:"mbm",staticStyle:{"font-size":"17px","padding-top":"10px",display:"block"}},[e._v("确认邮件已发送至您的邮箱:"+e._s(e.info.email))]),r("p",{staticStyle:{"font-size":"14px",color:"#999"}},[e._v("请进入邮箱查看邮件，并激活账号。")])]),r("div",{staticClass:"prompt"},[r("p",[e._v("没有收到邮件？")]),r("p",[e._v("0、邮件发送需要时间，请稍等片刻")]),r("p",[e._v("1、请检查邮箱填写是否正确，您可以返回-"),r("a",{on:{click:function(t){e.step=0}}},[e._v("重新填写")])]),r("p",[e._v("2、检查您的邮件垃圾箱")]),r("p",[e._v("3、若仍未收到激活邮件，请尝试-"),r("a",{on:{click:e.fetchVerifyEmail}},[e._v("重新发送")])])])])]):e._e(),2===e.step?r("div",{staticClass:"content"},[r("div",{staticClass:"form"},[e.isSuccess?r("div",{staticClass:"card"},[r("Spin",{attrs:{fix:"",size:"large"}},[r("Icon",{staticClass:"demo-spin-icon-load",attrs:{type:"ios-loading",size:"50"}}),r("div",{staticClass:"size"},[e._v(e._s(e.info.email||"-")+"注册中")])],1)],1):r("div",{staticClass:"card"},[r("Icon",{staticClass:"close",attrs:{type:"md-close",size:"55"}}),r("h2",{staticStyle:{color:"tomato","margin-bottom":"20px"}},[e._v("注册失败")]),r("p",{staticStyle:{color:"tomato","margin-bottom":"20px","font-size":"16px",width:"600px","overflow-wrap":"break-word"}},[e._v(e._s(e.errMessage||"-"))]),r("Button",{staticClass:"mrm",attrs:{type:"primary",loading:e.fetchVerifyEmail.isPending,ghost:""},on:{click:e.fetchVerifyEmail}},[e._v("重新发送邮件")]),r("span",[e._v("或")]),r("Button",{staticClass:"mlm",attrs:{type:"primary",ghost:""},on:{click:function(t){e.step=0}}},[e._v("重新填写邮箱")])],1)])]):e._e(),0===e.step?r("Divider",{staticClass:"footer"},[r("Button",{staticClass:"footer_button",attrs:{type:"primary",loading:e.fetchVerifyEmail.isPending},on:{click:e.activation}},[e._v("下一步")])],1):e._e()],1)])],1)},i=[],n=a("dde5"),s=a("dd82"),o={data(){return{visible:!1,errMessage:"",companyName:"",isSuccess:!0,token:"",tokenObj:{},step:0,info:{email:"",name:"",invite_nember:"",invite_decs:""},ruleValidate:{email:[{required:!0,message:"邮箱不能为空",trigger:"blur"},{type:"email",message:"请输入正确的邮箱",trigger:"blur"}],name:{required:!0,message:"昵称不能为空",trigger:"blur"}}}},computed:{nickName(){var e,t,a,r;const i=(null===(e=this.userinfo)||void 0===e||null===(t=e.wx_user)||void 0===t?void 0:t.nick_name)||(null===(a=this.userinfo)||void 0===a||null===(r=a.oa_user)||void 0===r?void 0:r.nick_name)||"";return this.info.name=i,i},userinfo(){return this.$store.state.userinfo},isNUll(){var e,t,a;return 0===(null===(e=this.userinfo.users)||void 0===e?void 0:e.length)||1===(null===(t=this.userinfo.users)||void 0===t?void 0:t.length)&&this.userinfo.users[0].user_id===(null===(a=this.userinfo.user)||void 0===a?void 0:a.user_id)}},created(){this.$route.query.token&&(this.step=2,this.token=this.$route.query.token,this.isSuccess=!0,this.fetchRegister())},asyncMethods:{fetchVerifyEmail(){const e={email:this.info.email,nick_name:this.info.name};return Object(s["b"])(e).then(e=>{e.data.result?this.step=1:(e.data.error.message?this.$Message.error({content:""+e.data.error.message,duration:5}):this.$Message.error({content:"激活邮件发送失败！请重新发送激活邮件",duration:5}),this.step=0)}).catch(e=>{console.log(e)})},fetchRegister(){const e={token:this.token};return Object(s["a"])(e).then(e=>{e.data.result?this.getLoginStatus(!0):(this.isSuccess=!1,this.errMessage=e.data.error.message)}).catch(e=>{console.log(e),this.isSuccess=!1})}},methods:{logout(){Object(n["d"])({method:"get",url:"passport/logout"}).then(e=>{e.data.result&&this.getLoginStatus()})},switchUser(e){n["d"].post("passport/switchAccount",{account_user_id:e.user_id}).then(e=>{e.data.result?window.location.href="personal-center/my-company?success=true":this.$Message.error("切换账号失败: "+e.data.error.message)}).catch(e=>{this.$Message.error("切换账号失败: "+e.message)})},getLoginStatus(e){Object(n["d"])({method:"get",url:"passport/profile"}).then(t=>{if(t.data.result)if(this.$store.commit("setUserInfo",t.data.result),e)this.$router.push({path:"/personal-center"}).catch(e=>{console.log(e)});else{const{origin:e}=window.location;window.location.replace(e+"/v2/login")}}).catch(e=>{console.log(e)})},activation(){this.$refs.form.validate(e=>{e&&this.fetchVerifyEmail()})}}},l=o,c=(a("a033"),a("2be6")),d=Object(c["a"])(l,r,i,!1,null,"0cb029c4",null);t["default"]=d.exports},"30a1":function(e,t,a){},"30de":function(e,t,a){"use strict";a("fa43")},"31ca":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Dropdown",{attrs:{trigger:"click",placement:"bottom-start"},on:{"on-visible-change":function(t){t&&(!e.templates.project||!e.templates.task)&&e.fetchTemplates()}},scopedSlots:e._u([{key:"list",fn:function(){return[a("DropdownMenu",{staticClass:"select-width select-height"},[e.form.template_name?[e.templates.project.length||e.templates.task.length?e._e():a("DropdownItem",{attrs:{disabled:""}},[e._v("暂无数据")]),e._l(e.templates.project,(function(t){return a("DropdownItem",{key:t.template_id.toString(),attrs:{selected:e.form.template_id===t.template_id}},[a("Row",{staticStyle:{"white-space":"nowrap"},attrs:{type:"flex",justify:"space-between"},nativeOn:{click:function(a){return e.selectTemplate(t,"project")}}},[a("div",{staticClass:"ellipsis space",staticStyle:{width:"100%"}},[a("div",{staticClass:"ellipsis"},[e._v("项目模板/"),a("span",{domProps:{innerHTML:e._s(e.highlightFirstMatch(t.template_name||t.name,e.form.template_name))}}),a("div",{staticClass:"ellipsis txt-muted"},[e._v(e._s("模板ID: "+t.template_id))])]),a("a",[e._v("选中")])])])],1)})),e._l(e.templates.task,(function(t){return a("DropdownItem",{key:t.template_id.toString(),attrs:{selected:e.form.template_id===t.template_id}},[a("Row",{staticStyle:{"white-space":"nowrap"},attrs:{type:"flex",justify:"space-between"},nativeOn:{click:function(a){return e.selectTemplate(t,"task")}}},[a("div",{staticClass:"ellipsis space",staticStyle:{width:"100%"}},[a("div",{staticClass:"ellipsis"},[e._v("历史任务模板/"),a("span",{domProps:{innerHTML:e._s(e.highlightFirstMatch(t.template_name||t.name,e.form.template_name))}}),a("div",{staticClass:"ellipsis txt-mute"},[e._v(e._s("任务名称: "+t.name))])]),a("a",[e._v("保存为项目模板并选中")])])])],1)}))]:e._l(e.templates,(function(t,r){return a("Dropdown",{key:r,attrs:{placement:"right-start"},scopedSlots:e._u([{key:"list",fn:function(){return[a("DropdownMenu",{staticClass:"select-height"},[t.length<1?a("DropdownItem",{attrs:{disabled:""}},[e._v("暂无数据")]):e._l(t,(function(t){return a("DropdownItem",{key:t.template_id.toString(),attrs:{selected:e.form.template_id===t.template_id}},[a("Row",{staticStyle:{"white-space":"nowrap"},attrs:{type:"flex",justify:"space-between"},nativeOn:{click:function(a){return e.selectTemplate(t,r)}}},[a("div",{staticClass:"ellipsis"},[a("div",{staticClass:"ellipsis"},[e._v(e._s(t.template_name||t.name))]),a("div",{staticClass:"ellipsis txt-muted"},[e._v(e._s("project"===r?"模板ID: "+t.template_id:"任务名称: "+t.name))])]),a("a",[e._v(e._s("task"===r?"保存为项目模板并":"")+"选中")])])],1)}))],2)]},proxy:!0}],null,!0)},[a("DropdownItem",[a("Row",{attrs:{type:"flex",justify:"space-between"}},[a("span",[e._v(e._s(e.templateTypeOptions[r]))]),a("Icon",{attrs:{type:"ios-arrow-forward"}})],1)],1)],1)}))],2)]},proxy:!0}])},[a("Input",{staticClass:"select-pointer select-width",attrs:{icon:e.isOpen?"ios-arrow-up":"ios-arrow-down",placeholder:"请选择"},on:{"on-focus":function(t){e.isOpen=!0},"on-blur":function(t){e.isOpen=!1},"on-change":e.handleTemplateNameChange},model:{value:e.form.template_name,callback:function(t){e.$set(e.form,"template_name",t)},expression:"form.template_name"}})],1)],1)},i=[],n=a("b0f9"),s=a("0d73"),o={props:{project:Object},data(){return{form:{},templates:{},templateTypeOptions:{project:"项目模板",task:"历史任务模板"},isOpen:!1}},watch:{form:{deep:!0,handler(e){this.$emit("update:template",e)}}},methods:{highlightFirstMatch(e,t){return Object(s["a"])(e,t)},selectTemplate(e,t){e?"project"!==t?"task"===t&&this.fetchAddProjectTemplate(e).then(()=>{this.fetchTemplates().then(e=>{const t=e.project[0];this.form=t})}):this.form=e:this.form={}},handleTemplateNameChange(){this.fetchTemplates()}},asyncMethods:{fetchTemplates(){const e={project_id:this.project.project_id,template_name:this.form.template_name,page:{start:0,size:1e3,return_total:1}};return Promise.allSettled([Object(n["g"])({...e,template_type:"project"}),Object(n["g"])({...e,template_type:"task"})]).then(e=>{var t,a;const r={};return null!==(t=e[0].value)&&void 0!==t&&t.data?r.project=e[0].value.data:this.$Message.error("获取项目模板失败"),null!==(a=e[1].value)&&void 0!==a&&a.data?r.task=e[1].value.data:this.$Message.error("获取历史任务模板失败"),r})},fetchAddProjectTemplate(e){const t={project_id:this.project.project_id,template_id:e.template_id,template_name:e.template_name};return Object(n["a"])(t).then(()=>{this.$Message.success("已保存为项目模板")}).catch(e=>{console.log(e),this.$Message.error("保存项目模板失败："+e.message)})}}},l=o,c=(a("73b8"),a("2be6")),d=Object(c["a"])(l,r,i,!1,null,null,null);t["a"]=d.exports},3787:function(e,t,a){},"3a38":function(e,t,a){},"3a9e":function(e,t,a){},"3c31":function(e,t,a){},"3fb9":function(e,t,a){"use strict";var r=a("312d"),i=a("9ec3");t["a"]={props:["value"],render(e){const{value:t}=this,a=Object(i["find"])(Object(i["values"])(r["o"]),{value:t});if(a)switch(t){case r["o"].DRAFT.value:return e("Tag",{attrs:{color:"default"}},a.text);case r["o"].WAIT_APPROVE.value:return e("Tag",{attrs:{color:"orange"}},a.text);case r["o"].REJECT.value:return e("Tag",{attrs:{color:"orange"}},a.text);case r["o"].PROCESSING.value:return e("Tag",{attrs:{color:"green"}},a.text);case r["o"].CLOSED.value:return e("Tag",{attrs:{color:"red"}},a.text);case r["o"].WAIT_SUPPLIER.value:return e("Tag",{attrs:{color:"blue"}},a.text);default:return e("Tag",{props:{color:"default"}},a.text)}return e("Badge",{props:{}},"其他")}}},4052:function(e,t,a){},4095:function(e,t,a){"use strict";a("e5f4")},"40f1":function(e,t,a){},4320:function(e,t,a){"use strict";a("647c")},4327:function(e,t,a){e.exports=a.p+"static/img/url-upload.99e2c53e.png"},"43c99":function(e,t,a){},"442d":function(e,t,a){"use strict";a("da28")},4609:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Breadcrumb",[e.projectId?[a("BreadcrumbItem",{attrs:{to:{path:"/projects/list/"+e.projectId,query:{tab:"template"}}}},[e._v("模板管理")]),a("BreadcrumbItem",[e._v("创建模板")])]:[a("BreadcrumbItem",[e._v("标注模板")]),a("BreadcrumbItem",{attrs:{to:"/projects/templates"}},[e._v("我的模板")]),a("BreadcrumbItem",[e._v(e._s(e.template_id?"编辑模板":"创建模板"))])]],2),a("t-divider",{attrs:{align:"left"}},[a("h3",[e._v(e._s(e.template_id?"编辑模板":"创建模板"))])]),a("div",{staticStyle:{margin:"0 30px"}},[a("Form",{ref:"createForm",staticClass:"form-width",attrs:{model:e.form,"label-position":"top"}},[a("FormItem",{attrs:{label:"标注场景",prop:"templateScene",rules:{required:!0,message:"标注场景不能为空"}}},[a("RadioGroup",{model:{value:e.form.templateScene,callback:function(t){e.$set(e.form,"templateScene",t)},expression:"form.templateScene"}},e._l(e.TemplateScenes,(function(e){return a("Radio",{key:e,staticClass:"mrl",attrs:{value:e,label:e}})})),1)],1),a("FormItem",{staticStyle:{position:"relative","white-space":"nowrap"},attrs:{label:"模板类型",prop:"templateLevel",rules:{required:!0,message:"模板类型不能为空"}}},[e.fetchTemplateLevels.isPending?a("Spin",{attrs:{fix:""}}):e._e(),a("Select",{ref:"select",staticStyle:{width:"100%","margin-right":"20px"},attrs:{placeholder:"请选择模板类型",filterable:"",clearable:""},model:{value:e.form.templateLevel,callback:function(t){e.$set(e.form,"templateLevel",t)},expression:"form.templateLevel"}},e._l(e.templateLevels,(function(e){return a("Option",{key:e.template_id,attrs:{value:e.template_id,label:e.template_level1+(e.template_level2?" / "+e.template_level2:"")}})})),1),a("span",{staticStyle:{color:"#2d8cf0",cursor:"pointer"},attrs:{target:"_blank"},on:{click:e.previewTemplate}},[e._v("预览模板")])],1),a("FormItem",{attrs:{label:"模板名称",prop:"templateName",rules:{required:!0,message:"模板名称不能为空"}}},[a("Input",{attrs:{placeholder:"请输入模板名称"},model:{value:e.form.templateName,callback:function(t){e.$set(e.form,"templateName",t)},expression:"form.templateName"}})],1),a("FormItem",{attrs:{label:"模板描述",prop:"templateDesc",rules:{required:!0,message:"模板描述不能为空"}}},[a("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"请输入描述"},model:{value:e.form.templateDesc,callback:function(t){e.$set(e.form,"templateDesc",t)},expression:"form.templateDesc"}})],1)],1),a("div",{staticClass:"action-btn"},[a("t-button",{attrs:{type:"success"},on:{click:e.submit}},[e._v(" 确认提交")]),a("t-button",{staticStyle:{"margin-left":"8px"},attrs:{theme:"default",variant:"base"},on:{click:e.reset}},[e._v("取消")])],1)],1)],1)},i=[],n=a("b0f9"),s=a("cb78"),o=a("2289"),l={data(){return{TemplateScenes:o["i"],form:{templateName:"",templateDesc:"",templateScene:"图片标注",templateLevel:"",isPublic:1,templateSchema:"[]",origin:"自建",component:"",scene:[],templateSample:"{}",stage:""},msg:"新增模板成功！请继续完善模板",template_id:this.$route.query.id,isCopy:this.$route.query.isCopy,data:[],stageMetadata:this.$OptimusStageMetadata}},computed:{projectId(){return this.$route.params.id}},watch:{"form.templateScene"(){this.fetchTemplateLevels(),this.$refs.select.clearSingleSelect(),this.form.templateLevel=""}},created(){(this.template_id||this.isCopy)&&(this.msg="修改模板成功",this.isCopy&&(this.msg="复制模板成功"),this.getEditTemplate())},mounted(){this.fetchTemplateLevels()},methods:{getEditTemplate(){const e={id:Number(this.template_id)},t=s["a"].getTemplateDescribe(e);t.then(e=>{const t=e.data.result;this.form={templateName:t.template_name,templateDesc:t.template_desc,isPublic:t.is_public,templateSchema:t.template_schema,origin:t.template_origin,component:t.template_component,scene:JSON.parse(t.template_scene),templateSample:t.template_sample}})},submit(){this.$refs.createForm.validate(e=>{if(e){const e=this.form.templateSchema.replace(/\r|\n|\s+/g,""),t={template_name:this.form.templateName,template_desc:this.form.templateDesc,is_public:this.form.isPublic,template_schema:e,template_scene:this.form.templateScene,template_sample:this.form.templateSample};let a;console.log(t),this.template_id&&!this.isCopy?(a=s["a"].updateTemplate(t),t.id=this.template_id):this.fetchBasicTemplate().then(e=>{e&&e.template_component?(t.template_origin=e.template_id,t.template_component=e.template_component,t.template_schema=e.template_schema,t.template_sample=e.template_sample,t.template_level1=e.template_level1,t.template_level2=e.template_level2,this.projectId?(t.related_object_id=this.projectId,s["a"].createProjectTemplate(t).then(e=>{e.data.result&&(this.$Message.success(""+this.msg),this.$router.push({path:"/projects/list/"+this.projectId,query:{tab:"template"}}))}).catch(e=>{this.$Message.error("创建失败："+e.message)})):s["a"].createTemplate(t).then(e=>{e.data.result&&(this.$Message.success(""+this.msg),this.$router.push({path:`/templates/${e.data.result}/edit?from=template`}))}).catch(e=>{this.$Message.error("创建失败："+e.message)})):this.$Message.error("所选的通用模板无效")}),a.then(e=>{console.log(e),e.data.result&&(this.$Message.success(""+this.msg),this.$router.push({path:`/templates/${e.data.result}/edit?from=template`}))}).catch(e=>{this.$Message.error("提交失败："+e.message)})}else this.$Message.error("提交失败，请检查是否有遗漏")})},reset(){const e=this.projectId?`/projects/list/${this.projectId}?tab=template`:"/projects/templates";this.$router.push({path:e})},previewTemplate(){this.form.templateLevel?window.open(`/templates/${this.form.templateLevel}/preview`):this.$Message.error("请先选择模板")}},asyncMethods:{fetchBasicTemplate(){const e={template_origin:0,template_scene:this.form.templateScene,template_id:this.form.templateLevel};return Object(n["k"])(e).then(e=>e)},fetchTemplateLevels(){const e={template_scene:this.form.templateScene};return Object(n["e"])(e).then(e=>e)}}},c=l,d=(a("7f25"),a("2be6")),u=Object(d["a"])(c,r,i,!1,null,"e54fd14e",null);t["default"]=u.exports},4718:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},["普通输入"===e.listMode?[a("RecycleScroller",{staticClass:"list-group",attrs:{items:e.listOptions,"item-size":40,"key-field":"id"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.item,i=t.index;return[a("div",{staticClass:"list-group-item"},[a("div",{staticClass:"input"},[a("Input",{attrs:{type:"text",placeholder:"输入选项"},on:{"on-change":function(e){r.label=r.value}},model:{value:r.value,callback:function(t){e.$set(r,"value",t)},expression:"item.value"}})],1),a("div",{staticClass:"actions"},[a("span",{on:{click:function(t){return e.del(i)}}},[a("Icon",{attrs:{type:"ios-trash"}})],1),a("span",{attrs:{disabled:0===i},on:{click:function(t){return e.up(i)}}},[a("Icon",{attrs:{type:"ios-arrow-up"}})],1),a("span",{attrs:{disabled:i===e.listOptions.length-1},on:{click:function(t){return e.down(i)}}},[a("Icon",{attrs:{type:"ios-arrow-down"}})],1)])])]}}],null,!1,1441365316)}),a("div",{staticClass:"list-actions"},[a("Button",{staticClass:"mrs",attrs:{size:"small",type:"primary"},on:{click:e.add}},[e._v("添加选项")]),a("Button",{staticClass:"mrs",attrs:{size:"small",type:"primary"},on:{click:e.handleBatchInput}},[e._v("批量导入")])],1)]:[a("Input",{attrs:{type:"textarea",placeholder:"选项之间的分割符是@_@"},on:{"on-focus":function(t){e.tipMessage=!1}},model:{value:e.importOptions,callback:function(t){e.importOptions=t},expression:"importOptions"}}),"批量导入"===e.listMode?a("Button",{staticClass:"mrs",attrs:{size:"small",type:"primary"},on:{click:function(t){return e.changeListMode("普通输入")}}},[e._v("导入")]):e._e(),"批量导入"===e.listMode?a("Button",{attrs:{size:"small"},on:{click:e.cancel}},[e._v("取消")]):e._e(),"批量导入"===e.listMode?a("Tooltip",{attrs:{placement:"bottom-start",transfer:!0,theme:"light"}},[a("a",{staticStyle:{margin:"0px 3px"}},[a("Icon",{attrs:{type:"ios-alert-outline"}})],1),a("div",{attrs:{slot:"content"},slot:"content"},[a("b",[e._v("输入指引")]),a("p",[e._v("示例、a@_@b@_@c@_@d@_@e")])])]):e._e(),e.tipMessage?a("span",{staticClass:"txt-red",staticStyle:{"font-size":"12px"}},[e._v("导入数据不能为空")]):a("span",{staticStyle:{"font-size":"12px"}},[e._v("选项之间的分割符是@_@”")])]],2)},i=[],n=(a("f38f"),a("9ec3")),s=a("f3b2"),o=a("7cdd"),l=(a("577d"),{components:{RecycleScroller:s["a"]},props:{options:[Array],default:[]},data(){return{listMode:"普通输入",importOptions:"",listOptions:[],tipMessage:!1}},watch:{options:{deep:!0,immediate:!0,handler(e){this.listMode="普通输入",this.listOptions=e,this.importOptions=""}},listOptions:{deep:!0,handler(e){this.$emit("update:options",e)}}},methods:{resolveString(e){return Object(n["uniq"])(e.replace(/[\r\n]/g,"").split("@_@")).map(e=>({value:e,label:e}))},add(){this.listOptions.push({value:"",label:"",id:Object(o["v4"])()}),setTimeout(()=>{const e=this.$el.querySelector(".list-group");e.scrollTop=e.scrollHeight},100)},del(e){this.listOptions.splice(e,1)},up(e){if(0===e)return!1;[this.listOptions[e]]=this.listOptions.splice(e-1,1,this.listOptions[e])},down(e){if(e===this.listOptions.length-1)return!1;[this.listOptions[e]]=this.listOptions.splice(e+1,1,this.listOptions[e])},handleBatchInput(){this.listMode="批量导入",this.importOptions=this.listOptions.map(e=>e.value).join("@_@")},changeListMode(e){0===this.importOptions.length?this.tipMessage=!0:(this.listMode=e,this.tipMessage=!1,this.listOptions=this.resolveString(this.importOptions),this.listOptions=this.listOptions.map(e=>({...e,id:Object(o["v4"])()})))},cancel(){this.listMode="普通输入",this.tipMessage=!1},validateRequired(e,t,a){0===Object(n["uniqBy"])(t.filter(e=>""!==Object(n["trim"])(e.value)).map(e=>({value:e.value,label:e.label})),"value").length&&a(new Error("内容不能为空")),a()}}}),c=l,d=(a("8b9d"),a("2be6")),u=Object(d["a"])(c,r,i,!1,null,"53372394",null);t["a"]=u.exports},"48d4":function(e,t,a){},"49c3":function(e,t,a){},"4bb3":function(e,t,a){"use strict";a("d7b9")},"4c36":function(e,t,a){"use strict";a("e60b")},"4e19":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:3===e.companyStatus,expression:"companyStatus === 3"}],staticClass:"content"},[e.getCompany.isPending?a("Spin",{attrs:{size:"large"}}):e._e()],1),0===e.companyStatus?a("h3",{staticClass:"center mt"},[e._v("HI，"+e._s(e.nickName)+"！你暂未加入一家公司，你可以:")]):e._e(),0===e.companyStatus?a("div",{staticClass:"content"},[a("Card",{staticClass:"card1 ml"},[a("div",{staticClass:"icon"},[a("Icon",{attrs:{type:"ios-home",size:"88"}})],1),a("Button",{staticClass:"center",attrs:{type:"primary",ghost:""},on:{click:function(t){return e.edit(!0)}}},[e._v("加入公司")])],1)],1):e._e(),1===e.companyStatus?a("div",{staticStyle:{padding:"0 20px"}},[a("Alert",{attrs:{"show-icon":"",closable:""}},[e._v("您当前还未关联任何公司，请耐心等待审核通过或接受邀请")]),e.applyDatas.length>0?a("div",{staticClass:"mt"},[a("h3",{staticClass:"mbm"},[e._v(" 我的加入公司申请/受邀")]),a("Table",{attrs:{columns:e.applyColumns,data:e.applyDatas},scopedSlots:e._u([{key:"invited_by",fn:function(t){var r=t.row;return[0===r.invited_by?a("span",[e._v("主动申请")]):a("span",[e._v("被邀请")])]}},{key:"apply_status",fn:function(e){var t=e.row;return[a("company-status-render",{attrs:{value:t.apply_status}})]}},{key:"action",fn:function(t){var r=t.row;return[0===r.invited_by?[a("span",[e._v("-")])]:[1===r.apply_status?a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.fetchJoinCompany(r.apply_id)}}},[e._v("同意")]):a("span",[e._v("-")])]]}}],null,!1,1206577215)})],1):e._e(),e.createDatas.length>0?a("div",{staticClass:"mt"},[a("h3",{staticClass:"mbm mtm"},[e._v("我的创建公司申请")]),a("Table",{attrs:{columns:e.createColumns,data:e.createDatas},scopedSlots:e._u([{key:"company_status",fn:function(e){var t=e.row;return[a("company-status-render",{attrs:{value:t.company_status}})]}},{key:"action",fn:function(t){var r=t.row;return[1===r.company_status?a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.fetchCancelRegisterCompany(r.company_id)}}},[e._v("取消申请")]):a("span",[e._v("-")])]}}],null,!1,3856648747)})],1):e._e()],1):e._e(),2===e.companyStatus?a("div",{staticStyle:{padding:"10px 20px"}},[a("Form",{attrs:{"label-position":"left","label-width":140}},[a("FormItem",{attrs:{label:"公司名称:"}},[a("span",[e._v(e._s(e.companyObj.company_name||"-"))])]),a("FormItem",{directives:[{name:"permissions",rawName:"v-permissions",value:{domain:"company",action:"edit",extra:{company:e.userinfo.company_id}},expression:"{ domain: 'company', action: 'edit', extra: { company: userinfo.company_id } }"}],attrs:{label:"公司成立时间:"}},[a("span",[e._v(e._s(e.companyObj.company_created_at||"-"))])]),a("FormItem",{attrs:{label:"公司所在地:"}},[a("span",[e._v(e._s(e.companyObj.company_city||"-"))])]),a("FormItem",{directives:[{name:"permissions",rawName:"v-permissions",value:{domain:"company",action:"edit",extra:{company:e.userinfo.company_id}},expression:"{ domain: 'company', action: 'edit', extra: { company: userinfo.company_id } }"}],attrs:{label:"创建人："}},[a("span",[e._v(e._s(e.companyObj.nick_name||"-"))])]),a("FormItem",{directives:[{name:"permissions",rawName:"v-permissions",value:{domain:"company",action:"edit",extra:{company:e.userinfo.company_id}},expression:"{ domain: 'company', action: 'edit', extra: { company: userinfo.company_id } }"}],attrs:{label:"创建人邮箱:"}},[a("span",[e._v(e._s(e.companyObj.email||"-"))])]),a("FormItem",{attrs:{label:"公司简介:"}},[a("span",[e._v(e._s(e.companyObj.company_desc||"-"))])])],1),a("Button",{directives:[{name:"permissions",rawName:"v-permissions",value:{domain:"company",action:"edit",extra:{company:e.userinfo.company_id}},expression:"{ domain: 'company', action: 'edit', extra: { company: userinfo.company_id } }"}],staticClass:"mtm mrm",attrs:{type:"primary",ghost:""},on:{click:function(t){return e.goCompanyManager(1)}}},[e._v("公司管理")]),a("Button",{directives:[{name:"permissions",rawName:"v-permissions",value:{domain:"system",action:"manage"},expression:"{ domain: 'system', action: 'manage' }"}],staticClass:"mtm mrm",attrs:{type:"primary",ghost:""},on:{click:function(t){return e.goCompanyManager(0)}}},[e._v("后台管理")]),e.changeStatus?a("Button",{directives:[{name:"permissions",rawName:"v-permissions",value:{domain:"user",action:"run-as"},expression:"{domain: 'user', action: 'run-as'}"}],staticClass:"mtm",attrs:{type:"warning",ghost:""},on:{click:e.changeUser}},[e._v("切换用户")]):a("Button",{staticClass:"mtm",attrs:{type:"warning",ghost:"",loading:e.fetchCencelChange.isPending},on:{click:e.fetchCencelChange}},[e._v("取消切换")])],1):e._e()])},i=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{width:"500",transfer:!1},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[!0===e.isAdd?[a("div",{attrs:{slot:"header"},slot:"header"},[a("h3",[e._v("加入公司")])]),a("Form",{ref:"addCompanyInfo",attrs:{model:e.addCompanyInfo,rules:e.addRules,"label-position":"left"}},[a("FormItem",{attrs:{label:"公司邀请码:",prop:"invite_code"}},[a("Input",{staticClass:"invite_code",attrs:{placeholder:"请输入公司邀请码"},on:{"on-change":e.getInviteCode},model:{value:e.addCompanyInfo.invite_code,callback:function(t){e.$set(e.addCompanyInfo,"invite_code",t)},expression:"addCompanyInfo.invite_code"}})],1),a("FormItem",{attrs:{label:"公司名称："}},[a("p",[e._v(e._s(e.company_name||"-"))])]),a("FormItem",{attrs:{label:"加入说明:"}},[a("Input",{staticClass:"memo",attrs:{placeholder:"请输入加入说明",type:"textarea"},model:{value:e.addCompanyInfo.memo,callback:function(t){e.$set(e.addCompanyInfo,"memo",t)},expression:"addCompanyInfo.memo"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{staticClass:"mrm",on:{click:function(t){e.visible=!1}}},[e._v("取消")]),a("Button",{staticClass:"add-submit",attrs:{type:"primary",loading:e.loading},nativeOn:{click:function(t){return e.addSubmit.apply(null,arguments)}}},[e._v("提交申请")])],1)]:[a("div",{attrs:{slot:"header"},slot:"header"},[a("h3",[e._v("创建公司")])]),a("Form",{ref:"createCompanyInfo",attrs:{model:e.createCompanyInfo,rules:e.createRules,"label-position":"left"}},[a("FormItem",{attrs:{label:"创建人："}},[a("b",[e._v(e._s(e.userinfo.nick_name||"-"))])]),a("FormItem",{attrs:{label:"创建人邮箱:"}},[a("b",[e._v(e._s(e.userinfo.email||"-"))])]),a("FormItem",{attrs:{label:"公司名称:",prop:"company_name"}},[a("Input",{staticClass:"company_name",attrs:{placeholder:"请输入公司名称"},model:{value:e.createCompanyInfo.company_name,callback:function(t){e.$set(e.createCompanyInfo,"company_name",t)},expression:"createCompanyInfo.company_name"}})],1),a("FormItem",{attrs:{label:"公司成立时间:"}},[a("DatePicker",{attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"请选择公司成立时间"},on:{"on-change":e.changeTime}})],1),a("FormItem",{attrs:{label:"公司所在地:"}},[a("Select",{attrs:{multiple:"",filterable:""},model:{value:e.createCompanyInfo.company_city,callback:function(t){e.$set(e.createCompanyInfo,"company_city",t)},expression:"createCompanyInfo.company_city"}},e._l(e.cityList,(function(t){return a("OptionGroup",{key:t.province,attrs:{label:t.province}},e._l(t.citys,(function(r){return a("Option",{key:r.city,attrs:{value:t.province+r.city,label:t.province+r.city}},[e._v(e._s(r.city))])})),1)})),1)],1),a("FormItem",{attrs:{label:"公司简介:"}},[a("Input",{staticClass:"company_desc",attrs:{placeholder:"请输入公司简介",type:"textarea"},model:{value:e.createCompanyInfo.company_desc,callback:function(t){e.$set(e.createCompanyInfo,"company_desc",t)},expression:"createCompanyInfo.company_desc"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{staticClass:"mrm",on:{click:function(t){e.visible=!1}}},[e._v("取消")]),a("Button",{staticClass:"create-submit",attrs:{type:"primary",loading:e.loading},nativeOn:{click:function(t){return e.createSubmit.apply(null,arguments)}}},[e._v("提交申请")])],1)]],2)},s=[];const o=[{citys:[{city:"石家庄市"},{city:"邯郸市"},{city:"唐山市"},{city:"保定市"},{city:"秦皇岛市"},{city:"邢台市"},{city:"张家口市"},{city:"承德市"},{city:"沧州市"},{city:"廊坊市"},{city:"衡水市"},{city:"辛集市"},{city:"晋州市"},{city:"新乐市"},{city:"遵化市"},{city:"迁安市"},{city:"霸州市"},{city:"三河市"},{city:"定州市"},{city:"涿州市"},{city:"安国市"},{city:"高碑店市"},{city:"泊头市"},{city:"任丘市"},{city:"黄骅市"},{city:"河间市"},{city:"冀州市"},{city:"深州市"},{city:"南宫市"},{city:"沙河市"},{city:"武安市"}],province:"河北省"},{citys:[{city:"太原市"},{city:"大同市"},{city:"朔州市"},{city:"阳泉市"},{city:"长治市"},{city:"晋城市"},{city:"忻州市"},{city:"吕梁市"},{city:"晋中市"},{city:"临汾市"},{city:"运城市"},{city:"古交市"},{city:"潞城市"},{city:"高平市"},{city:"原平市"},{city:"孝义市"},{city:"汾阳市"},{city:"介休市"},{city:"侯马市"},{city:"霍州市"},{city:"永济市"},{city:"河津市"}],province:"山西省"},{citys:[{city:"呼和浩特市"},{city:"包头市"},{city:"乌海市"},{city:"赤峰市"},{city:"呼伦贝尔市"},{city:"通辽市"},{city:"乌兰察布市"},{city:"鄂尔多斯市"},{city:"巴彦淖尔市"},{city:"满洲里市"},{city:"扎兰屯市"},{city:"牙克石市"},{city:"根河市"},{city:"额尔古纳市"},{city:"乌兰浩特市"},{city:"阿尔山市"},{city:"霍林郭勒市"},{city:"锡林浩特市"},{city:"二连浩特市"},{city:"丰镇市"}],province:"内蒙古自治区"},{citys:[{city:"沈阳市"},{city:"大连市"},{city:"朝阳市"},{city:"阜新市"},{city:"铁岭市"},{city:"抚顺市"},{city:"本溪市"},{city:"辽阳市"},{city:"鞍山市"},{city:"丹东市"},{city:"营口市"},{city:"盘锦市"},{city:"锦州市"},{city:"葫芦岛市"},{city:"新民市"},{city:"瓦房店市"},{city:"庄河市"},{city:"北票市"},{city:"凌源市"},{city:"调兵山市"},{city:"开原市"},{city:"灯塔市"},{city:"海城市"},{city:"凤城市"},{city:"东港市"},{city:"大石桥市"},{city:"盖州市"},{city:"凌海市"},{city:"北镇市"},{city:"兴城市"}],province:"辽宁省"},{citys:[{city:"长春市"},{city:"吉林市"},{city:"白城市"},{city:"松原市"},{city:"四平市"},{city:"辽源市"},{city:"通化市"},{city:"白山市"},{city:"德惠市"},{city:"榆树市"},{city:"磐石市"},{city:"蛟河市"},{city:"桦甸市"},{city:"舒兰市"},{city:"洮南市"},{city:"大安市"},{city:"双辽市"},{city:"公主岭市"},{city:"梅河口市"},{city:"集安市"},{city:"临江市"},{city:"延吉市"},{city:"图们市"},{city:"敦化市"},{city:"珲春市"},{city:"龙井市"},{city:"和龙市"},{city:"扶余市"}],province:"吉林省"},{citys:[{city:"哈尔滨市"},{city:"齐齐哈尔市"},{city:"黑河市"},{city:"大庆市"},{city:"伊春市"},{city:"鹤岗市"},{city:"佳木斯市"},{city:"双鸭山市"},{city:"七台河市"},{city:"鸡西市"},{city:"牡丹江市"},{city:"绥化市"},{city:"尚志市"},{city:"五常市"},{city:"讷河市"},{city:"北安市"},{city:"五大连池市"},{city:"铁力市"},{city:"同江市"},{city:"富锦市"},{city:"虎林市"},{city:"密山市"},{city:"绥芬河市"},{city:"海林市"},{city:"宁安市"},{city:"安达市"},{city:"肇东市"},{city:"海伦市"},{city:"穆棱市"},{city:"东宁市"},{city:"抚远市"}],province:"黑龙江省"},{citys:[{city:"南京市"},{city:"徐州市"},{city:"连云港市"},{city:"宿迁市"},{city:"淮安市"},{city:"盐城市"},{city:"扬州市"},{city:"泰州市"},{city:"南通市"},{city:"镇江市"},{city:"常州市"},{city:"无锡市"},{city:"苏州市"},{city:"常熟市"},{city:"张家港市"},{city:"太仓市"},{city:"昆山市"},{city:"江阴市"},{city:"宜兴市"},{city:"溧阳市"},{city:"扬中市"},{city:"句容市"},{city:"丹阳市"},{city:"如皋市"},{city:"海门市"},{city:"启东市"},{city:"高邮市"},{city:"仪征市"},{city:"兴化市"},{city:"泰兴市"},{city:"靖江市"},{city:"东台市"},{city:"邳州市"},{city:"新沂市"}],province:"江苏省"},{citys:[{city:"杭州市"},{city:"宁波市"},{city:"湖州市"},{city:"嘉兴市"},{city:"舟山市"},{city:"绍兴市"},{city:"衢州市"},{city:"金华市"},{city:"台州市"},{city:"温州市"},{city:"丽水市"},{city:"临安市"},{city:"建德市"},{city:"慈溪市"},{city:"余姚市"},{city:"平湖市"},{city:"海宁市"},{city:"桐乡市"},{city:"诸暨市"},{city:"嵊州市"},{city:"江山市"},{city:"兰溪市"},{city:"永康市"},{city:"义乌市"},{city:"东阳市"},{city:"临海市"},{city:"温岭市"},{city:"瑞安市"},{city:"乐清市"},{city:"龙泉市"}],province:"浙江省"},{citys:[{city:"合肥市"},{city:"芜湖市"},{city:"蚌埠市"},{city:"淮南市"},{city:"马鞍山市"},{city:"淮北市"},{city:"铜陵市"},{city:"安庆市"},{city:"黄山市"},{city:"滁州市"},{city:"阜阳市"},{city:"宿州市"},{city:"六安市"},{city:"亳州市"},{city:"池州市"},{city:"宣城市"},{city:"巢湖市"},{city:"桐城市"},{city:"天长市"},{city:"明光市"},{city:"界首市"},{city:"宁国市"}],province:"安徽省"},{citys:[{city:"厦门市"},{city:"福州市"},{city:"南平市"},{city:"三明市"},{city:"莆田市"},{city:"泉州市"},{city:"漳州市"},{city:"龙岩市"},{city:"宁德市"},{city:"福清市"},{city:"长乐市"},{city:"邵武市"},{city:"武夷山市"},{city:"建瓯市"},{city:"永安市"},{city:"石狮市"},{city:"晋江市"},{city:"南安市"},{city:"龙海市"},{city:"漳平市"},{city:"福安市"},{city:"福鼎市"}],province:"福建省"},{citys:[{city:"南昌市"},{city:"九江市"},{city:"景德镇市"},{city:"鹰潭市"},{city:"新余市"},{city:"萍乡市"},{city:"赣州市"},{city:"上饶市"},{city:"抚州市"},{city:"宜春市"},{city:"吉安市"},{city:"瑞昌市"},{city:"共青城市"},{city:"乐平市"},{city:"瑞金市"},{city:"德兴市"},{city:"丰城市"},{city:"樟树市"},{city:"高安市"},{city:"井冈山市"},{city:"贵溪市"}],province:"江西省"},{citys:[{city:"济南市"},{city:"青岛市"},{city:"聊城市"},{city:"德州市"},{city:"东营市"},{city:"淄博市"},{city:"潍坊市"},{city:"烟台市"},{city:"威海市"},{city:"日照市"},{city:"临沂市"},{city:"枣庄市"},{city:"济宁市"},{city:"泰安市"},{city:"莱芜市"},{city:"滨州市"},{city:"菏泽市"},{city:"胶州市"},{city:"即墨市"},{city:"平度市"},{city:"莱西市"},{city:"临清市"},{city:"乐陵市"},{city:"禹城市"},{city:"安丘市"},{city:"昌邑市"},{city:"高密市"},{city:"青州市"},{city:"诸城市"},{city:"寿光市"},{city:"栖霞市"},{city:"海阳市"},{city:"龙口市"},{city:"莱阳市"},{city:"莱州市"},{city:"蓬莱市"},{city:"招远市"},{city:"荣成市"},{city:"乳山市"},{city:"滕州市"},{city:"曲阜市"},{city:"邹城市"},{city:"新泰市"},{city:"肥城市"}],province:"山东省"},{citys:[{city:"郑州市"},{city:"开封市"},{city:"洛阳市"},{city:"平顶山市"},{city:"安阳市"},{city:"鹤壁市"},{city:"新乡市"},{city:"焦作市"},{city:"濮阳市"},{city:"许昌市"},{city:"漯河市"},{city:"三门峡市"},{city:"南阳市"},{city:"商丘市"},{city:"周口市"},{city:"驻马店市"},{city:"信阳市"},{city:"荥阳市"},{city:"新郑市"},{city:"登封市"},{city:"新密市"},{city:"偃师市"},{city:"孟州市"},{city:"沁阳市"},{city:"卫辉市"},{city:"辉县市"},{city:"林州市"},{city:"禹州市"},{city:"长葛市"},{city:"舞钢市"},{city:"义马市"},{city:"灵宝市"},{city:"项城市"},{city:"巩义市"},{city:"邓州市"},{city:"永城市"},{city:"汝州市"},{city:"济源市"}],province:"河南省"},{citys:[{city:"武汉市"},{city:"十堰市"},{city:"襄阳市"},{city:"荆门市"},{city:"孝感市"},{city:"黄冈市"},{city:"鄂州市"},{city:"黄石市"},{city:"咸宁市"},{city:"荆州市"},{city:"宜昌市"},{city:"随州市"},{city:"丹江口市"},{city:"老河口市"},{city:"枣阳市"},{city:"宜城市"},{city:"钟祥市"},{city:"汉川市"},{city:"应城市"},{city:"安陆市"},{city:"广水市"},{city:"麻城市"},{city:"武穴市"},{city:"大冶市"},{city:"赤壁市"},{city:"石首市"},{city:"洪湖市"},{city:"松滋市"},{city:"宜都市"},{city:"枝江市"},{city:"当阳市"},{city:"恩施市"},{city:"利川市"},{city:"仙桃市"},{city:"天门市"},{city:"潜江市"}],province:"湖北省"},{citys:[{city:"长沙市"},{city:"衡阳市"},{city:"张家界市"},{city:"常德市"},{city:"益阳市"},{city:"岳阳市"},{city:"株洲市"},{city:"湘潭市"},{city:"郴州市"},{city:"永州市"},{city:"邵阳市"},{city:"怀化市"},{city:"娄底市"},{city:"耒阳市"},{city:"常宁市"},{city:"浏阳市"},{city:"津市市"},{city:"沅江市"},{city:"汨罗市"},{city:"临湘市"},{city:"醴陵市"},{city:"湘乡市"},{city:"韶山市"},{city:"资兴市"},{city:"武冈市"},{city:"洪江市"},{city:"冷水江市"},{city:"涟源市"},{city:"吉首市"}],province:"湖南省"},{citys:[{city:"广州市"},{city:"深圳市"},{city:"清远市"},{city:"韶关市"},{city:"河源市"},{city:"梅州市"},{city:"潮州市"},{city:"汕头市"},{city:"揭阳市"},{city:"汕尾市"},{city:"惠州市"},{city:"东莞市"},{city:"珠海市"},{city:"中山市"},{city:"江门市"},{city:"佛山市"},{city:"肇庆市"},{city:"云浮市"},{city:"阳江市"},{city:"茂名市"},{city:"湛江市"},{city:"英德市"},{city:"连州市"},{city:"乐昌市"},{city:"南雄市"},{city:"兴宁市"},{city:"普宁市"},{city:"陆丰市"},{city:"恩平市"},{city:"台山市"},{city:"开平市"},{city:"鹤山市"},{city:"四会市"},{city:"罗定市"},{city:"阳春市"},{city:"化州市"},{city:"信宜市"},{city:"高州市"},{city:"吴川市"},{city:"廉江市"},{city:"雷州市"}],province:"广东省"},{citys:[{city:"南宁市"},{city:"桂林市"},{city:"柳州市"},{city:"梧州市"},{city:"贵港市"},{city:"玉林市"},{city:"钦州市"},{city:"北海市"},{city:"防城港市"},{city:"崇左市"},{city:"百色市"},{city:"河池市"},{city:"来宾市"},{city:"贺州市"},{city:"岑溪市"},{city:"桂平市"},{city:"北流市"},{city:"东兴市"},{city:"凭祥市"},{city:"宜州市"},{city:"合山市"},{city:"靖西市"}],province:"广西壮族自治区"},{citys:[{city:"海口市"},{city:"三亚市"},{city:"三沙市"},{city:"儋州市"},{city:"文昌市"},{city:"琼海市"},{city:"万宁市"},{city:"东方市"},{city:"五指山市"}],province:"海南省"},{citys:[{city:"成都市"},{city:"广元市"},{city:"绵阳市"},{city:"德阳市"},{city:"南充市"},{city:"广安市"},{city:"遂宁市"},{city:"内江市"},{city:"乐山市"},{city:"自贡市"},{city:"泸州市"},{city:"宜宾市"},{city:"攀枝花市"},{city:"巴中市"},{city:"达州市"},{city:"资阳市"},{city:"眉山市"},{city:"雅安市"},{city:"崇州市"},{city:"邛崃市"},{city:"都江堰市"},{city:"彭州市"},{city:"江油市"},{city:"什邡市"},{city:"广汉市"},{city:"绵竹市"},{city:"阆中市"},{city:"华蓥市"},{city:"峨眉山市"},{city:"万源市"},{city:"简阳市"},{city:"西昌市"},{city:"康定市"},{city:"马尔康市"}],province:"四川省"},{citys:[{city:"贵阳市"},{city:"六盘水市"},{city:"遵义市"},{city:"安顺市"},{city:"毕节市"},{city:"铜仁市"},{city:"清镇市"},{city:"赤水市"},{city:"仁怀市"},{city:"凯里市"},{city:"都匀市"},{city:"兴义市"},{city:"福泉市"}],province:"贵州省"},{citys:[{city:"昆明市"},{city:"曲靖市"},{city:"玉溪市"},{city:"丽江市"},{city:"昭通市"},{city:"普洱市"},{city:"临沧市"},{city:"保山市"},{city:"安宁市"},{city:"宣威市"},{city:"芒市"},{city:"瑞丽市"},{city:"大理市"},{city:"楚雄市"},{city:"个旧市"},{city:"开远市"},{city:"蒙自市"},{city:"弥勒市"},{city:"景洪市"},{city:"文山市"},{city:"香格里拉市"},{city:"腾冲市"}],province:"云南省"},{citys:[{city:"西安市"},{city:"延安市"},{city:"铜川市"},{city:"渭南市"},{city:"咸阳市"},{city:"宝鸡市"},{city:"汉中市"},{city:"榆林市"},{city:"商洛市"},{city:"安康市"},{city:"韩城"},{city:"华阴"},{city:"兴平"}],province:"陕西省"},{citys:[{city:"兰州市"},{city:"嘉峪关市"},{city:"金昌市"},{city:"白银市"},{city:"天水市"},{city:"酒泉市"},{city:"张掖市"},{city:"武威市"},{city:"庆阳市"},{city:"平凉市"},{city:"定西市"},{city:"陇南市"},{city:"玉门市"},{city:"敦煌市"},{city:"临夏市"},{city:"合作市"}],province:"甘肃省"},{citys:[{city:"西宁市"},{city:"海东市"},{city:"格尔木市"},{city:"德令哈市"},{city:"玉树市"}],province:"青海省"},{citys:[{city:"拉萨市"},{city:"日喀则市"},{city:"昌都市"},{city:"林芝市"},{city:"山南市"}],province:"西藏自治区"},{citys:[{city:"银川市"},{city:"石嘴山市"},{city:"吴忠市"},{city:"中卫市"},{city:"固原市"},{city:"灵武市"},{city:"青铜峡市"}],province:"宁夏回族自治区"},{citys:[{city:"台北市"},{city:"新北市"},{city:"桃园市"},{city:"台中市"},{city:"台南市"},{city:"高雄市"},{city:"基隆市"},{city:"新竹市"},{city:"嘉义市"}],province:"台湾"},{citys:[{city:"北京市"}],province:"北京市"},{citys:[{city:"天津市"}],province:"天津市"},{citys:[{city:"上海市"}],province:"上海市"},{citys:[{city:"重庆市"}],province:"重庆市"},{citys:[{city:"香港特别行政区"}],province:"香港"},{citys:[{city:"澳门特别行政区"}],province:"澳门"},{citys:[{city:"乌鲁木齐市"},{city:"克拉玛依市"},{city:"吐鲁番市"},{city:"哈密市"},{city:"喀什市"},{city:"阿克苏市"},{city:"和田市"},{city:"阿图什市"},{city:"阿拉山口市"},{city:"博乐市"},{city:"昌吉市"},{city:"阜康市"},{city:"库尔勒市"},{city:"伊宁市"},{city:"奎屯市"},{city:"塔城市"},{city:"乌苏市"},{city:"阿勒泰市"},{city:"霍尔果斯市"},{city:"石河子市"},{city:"阿拉尔市"},{city:"图木舒克市"},{city:"五家渠市"},{city:"北屯市"},{city:"铁门关市"},{city:"双河市"},{city:"可克达拉市"},{city:"昆玉市"}],province:"新疆维吾尔自治区"}];var l=o,c=a("c833"),d={props:{isAdd:Boolean,userinfo:Object},data(){return{cityList:l,loading:!1,company_name:"",visible:!0,addCompanyInfo:{invite_code:"",memo:""},createCompanyInfo:{company_name:"",company_created_at:"",company_city:[],company_desc:""},addRules:{invite_code:[{required:!0,message:"公司邀请码不能为空",trigger:"blur"}]},createRules:{company_name:[{required:!0,message:"公司名称不能为空",trigger:"blur"}]}}},methods:{changeTime(e){this.createCompanyInfo.company_created_at=e},getInviteCode(){const e={invite_code:this.addCompanyInfo.invite_code};8===this.addCompanyInfo.invite_code.length&&Object(c["n"])(e).then(e=>{e.company_name?this.company_name=e.company_name:this.company_name="-"}).catch(e=>{console.log(e),this.company_name="-"})},addSubmit(){this.$refs.addCompanyInfo.validate(e=>{if(e)return this.loading=!0,Object(c["a"])(this.addCompanyInfo).then(e=>{e.company_id&&(this.visible=!1,this.$emit("onOk",1),setTimeout(()=>{this.loading=!1},500))}).catch(e=>{console.log(e),this.loading=!1,this.$Message.error(e.message)})})},createSubmit(){this.$refs.createCompanyInfo.validate(e=>{if(e){this.loading=!0;const e=this.createCompanyInfo;return e.company_city=this.createCompanyInfo.company_city.join(","),Object(c["o"])(e).then(e=>{e&&(this.visible=!1,this.$emit("onOk",2),setTimeout(()=>{this.loading=!1},500))}).catch(e=>{this.loading=!1,console.log(e),this.$Message.error(e.message)})}})}}},u=d,h=(a("8d46"),a("2be6")),p=Object(h["a"])(u,n,s,!1,null,"745c44b8",null),f=p.exports,m=a("dde5"),g=a("6cc8"),_=a("82ad"),v=a("e3fa"),b={components:{CompanyStatusRender:g["a"]},data(){return{changeStatus:1,tab:"myCompany",status:0,applyColumns:[{title:"公司名称",key:"company_name"},{title:"主动或被邀请",slot:"invited_by"},{title:"申请状态",slot:"apply_status"},{title:"操作",slot:"action"}],applyDatas:[],createColumns:[{title:"公司名称",key:"company_name"},{title:"申请状态",slot:"company_status"},{title:"操作",slot:"action"}],createDatas:[],companyObj:{},createInfo:{},companyStatus:3,userinfo:{},ruleValidate:{name:[{required:!0,message:"昵称不能为空",trigger:"blur"}]}}},computed:{nickName(){const e=this.$store.state.userinfo.user?this.$store.state.userinfo.user.nick_name:"";return e}},created(){const{state:e}=this.$store;this.userinfo=e.userinfo.user,this.userinfo&&0===this.userinfo.company_id?(this.listApplications(1),this.listMyCompanies(1)):this.getCompany(),this.userinfo&&this.userinfo.user_id&&e.userinfo.real_user_id&&(this.changeStatus=JSON.stringify(e.userinfo.real_user_id)===JSON.stringify(this.userinfo.user_id)?1:0)},asyncMethods:{fetchCencelChange(){const e={};return Object(v["x"])(e).then(e=>{e.data.result?(this.$Message.success("取消切换成功"),location.reload()):this.$Message.success("取消切换失败")}).catch(e=>{console.log(e),this.$Message.error("取消失败："+e)})},fetchCancelRegisterCompany(e){const t={company_id:e};return Object(c["b"])(t).then(e=>{e?(this.$Message.success("取消成功"),this.companyStatus=3,this.listMyCompanies()):this.$Message.error("取消失败")}).catch(e=>{console.log(e),this.$Message.error("取消失败："+e)})},fetchJoinCompany(e){const t={apply_id:e};return Object(c["g"])(t).then(e=>{e&&this.getLoginStatus()}).catch(e=>{console.log(e)})}},methods:{changeUser(){this.$FastModal.show(_["a"],{},{})},getStatus(e){let t=!1;0===this.status&&e?this.status=this.status+e:this.applyDatas.length>0||this.createDatas.length>0?(this.applyDatas.forEach(e=>{1!==e.apply_status||t||(t=!0)}),this.createDatas.forEach(e=>{1!==e.company_status||t||(t=!0)}),this.companyStatus=t?1:0):this.companyStatus=0},getCompany(){const e={company_id:this.userinfo.company_id};return Object(c["e"])(e).then(e=>{e.company_name?(this.companyObj=e,this.companyStatus=2):this.$Message.error("公司信息获取失败，请重新刷新页面")}).catch(e=>{console.log(e)})},listMyCompanies(e){const t={};return Object(c["j"])(t).then(t=>{this.createDatas=t,this.getStatus(e)}).catch(e=>{console.log(e),this.$Message.error("列表数据获取失败，请刷新重试")})},listApplications(e){return Object(c["i"])({}).then(t=>{this.applyDatas=t,this.getStatus(e)}).catch(e=>{console.log(e),this.$Message.error("列表数据获取失败，请刷新重试")})},getLoginStatus(){Object(m["d"])({method:"get",url:"passport/profile"}).then(e=>{e.data.result&&(this.$store.commit("setUserInfo",e.data.result),this.userinfo=this.$store.state.userinfo.user,this.getCompany())}).catch(e=>{console.log(e)})},cancel(){this.companyStatus=0},getApplyInfo(e){0===e?this.joinCompany():1===e?(this.companyStatus=3,this.listApplications()):(this.companyStatus=3,this.listMyCompanies())},goCompanyManager(e){e?this.$router.push({path:"/company"}):this.$router.push({path:"/admin"})},edit(e){this.$FastModal.show(f,{isAdd:e,userinfo:this.userinfo},{onOk:e=>{this.getApplyInfo(e)}})}}},y=b,k=(a("03fe"),Object(h["a"])(y,r,i,!1,null,"becd4ba2",null));t["default"]=k.exports},"4ee9":function(e,t,a){},"4f9a":function(e,t,a){"use strict";a("f891")},5208:function(e,t,a){},"527f":function(e,t,a){},"52cd":function(e,t,a){"use strict";a("2839")},"540a":function(e,t,a){},5557:function(e,t,a){},"56c2":function(e,t,a){},"56f9":function(e,t,a){},"586b":function(e,t,a){},"59d0":function(e,t,a){},"5a14":function(e,t,a){},"5c31":function(e,t,a){"use strict";a("5557")},"5cf5":function(e,t,a){"use strict";a("ba38")},"5f29":function(e,t,a){},"5ff4":function(e,t){for(var a=[],r=0;r<256;++r)a[r]=(r+256).toString(16).substr(1);function i(e,t){var r=t||0,i=a;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}e.exports=i},"605d":function(e,t,a){var r,i,n=a("7e33"),s=a("5ff4"),o=0,l=0;function c(e,t,a){var c=t&&a||0,d=t||[];e=e||{};var u=e.node||r,h=void 0!==e.clockseq?e.clockseq:i;if(null==u||null==h){var p=n();null==u&&(u=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==h&&(h=i=16383&(p[6]<<8|p[7]))}var f=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:l+1,g=f-o+(m-l)/1e4;if(g<0&&void 0===e.clockseq&&(h=h+1&16383),(g<0||f>o)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");o=f,l=m,i=h,f+=122192928e5;var _=(1e4*(268435455&f)+m)%4294967296;d[c++]=_>>>24&255,d[c++]=_>>>16&255,d[c++]=_>>>8&255,d[c++]=255&_;var v=f/4294967296*1e4&268435455;d[c++]=v>>>8&255,d[c++]=255&v,d[c++]=v>>>24&15|16,d[c++]=v>>>16&255,d[c++]=h>>>8|128,d[c++]=255&h;for(var b=0;b<6;++b)d[c+b]=u[b];return t||s(d)}e.exports=c},6381:function(e,t,a){},6428:function(e,t,a){"use strict";a("a2f5")},"647c":function(e,t,a){},"657b":function(e,t,a){},"65b8":function(e,t,a){},6646:function(e,t,a){},"67d6":function(e,t,a){"use strict";a("de3e")},6807:function(e,t,a){"use strict";a("586b")},"6a52":function(e,t,a){"use strict";a("901c")},"6af9":function(e,t,a){},"6c7f":function(e,t,a){"use strict";a("4052")},"6cc8":function(e,t,a){"use strict";var r=a("312d"),i=a("9ec3");t["a"]={props:["value"],render(e){const{value:t}=this,a=Object(i["find"])(Object(i["values"])(r["d"]),{value:t});if(a)switch(t){case r["d"].INIT.value:return e("Tag",{attrs:{color:"blue"}},a.text);case r["d"].SUCCEED.value:return e("Tag",{attrs:{color:"success"}},a.text);case r["d"].CENCEL.value:return e("Tag",{attrs:{color:"orange"}},a.text);case r["d"].FAILED.value:return e("Tag",{attrs:{color:"red"}},a.text);default:return e("Tag",{props:{color:"default"}},a.text)}return e("Badge",{props:{}},"待下发")}}},"6ed6":function(e,t,a){"use strict";a("40f1")},"6efa":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"task-orders-create"},[a("Row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[a("Breadcrumb",[a("BreadcrumbItem",{attrs:{to:{path:"/projects/list/"+e.$route.params.id,query:{tab:"task-orders"}}}},[e._v("需求管理")]),a("BreadcrumbItem",[e._v(e._s(e.titleOptions[e.$route.query.scene]))])],1)],1),a("t-divider",{attrs:{align:"left"}},[a("h3",[e._v(e._s(e.titleOptions[e.$route.query.scene]))])]),a("br"),a("div",{staticClass:"order-content"},[e.loading?a("Spin",{attrs:{fix:""}}):e._e(),e.isView?[a("Row",{staticClass:"mlb",attrs:{gutter:50}},e._l(e.taskOrderOptions,(function(t,r){return a("Col",{key:r,attrs:{span:"9"}},[a("Row",{staticClass:"mbb"},[a("Col",{staticClass:"label",attrs:{span:"4"}},[e._v(e._s(t.title))]),a("Col",{attrs:{span:"20"}},[a("span",[e._v(e._s(e.taskOrder[r]||"无"))]),e.taskOrder[r]&&t.append?a("span",[e._v(e._s(t.append))]):e._e()])],1)],1)})),1),a("Row",{staticClass:"mlb",attrs:{gutter:50}},[a("Col",{attrs:{span:"9"}},[a("Row",{staticClass:"mbb"},[a("Col",{staticClass:"label",attrs:{span:"4"}},[e._v("数据源")]),e.orderId?a("Col",{attrs:{span:"20"}},[a("Attachment",{attrs:{options:["download"],objId:e.orderId,objType:"order",objScene:"source"}})],1):e._e()],1)],1),a("Col",{attrs:{span:"9"}},[a("Row",{staticClass:"mbb"},[a("Col",{staticClass:"label",attrs:{span:"4"}},[e._v("规则文档")]),e.orderId?a("Col",{attrs:{span:"20"}},[a("Attachment",{attrs:{options:["download"],objId:e.orderId,objType:"order",objScene:"rule"}})],1):e._e()],1)],1)],1)]:[a("Form",{ref:"form",attrs:{model:e.formData,"label-position":"right","label-width":80}},[a("Row",{staticClass:"mlb",attrs:{gutter:50}},[["create","edit"].includes(e.$route.query.scene)?a("Col",{attrs:{span:"18"}},[a("Alert",{attrs:{"show-icon":""}},[e.taskOrder.acceptance_status?a("p",[e._v("需求更新后不影响已存在的受理任务。如需求变更较大，请重新下发需求。")]):e._e(),a("p",[e._v("请注意，任务执行过程中不允许新增/删除任务模板标签。")])]),a("br")],1):e._e(),a("Col",{attrs:{span:"9"}},[a("FormItem",{attrs:{label:"需求名称",prop:"order_name",rules:e.emptyValidator}},[a("Input",{attrs:{disabled:!!e.taskOrder.acceptance_status,placeholder:"请填写需求名称"},model:{value:e.formData.order_name,callback:function(t){e.$set(e.formData,"order_name",t)},expression:"formData.order_name"}})],1)],1),a("Col",{attrs:{span:"9"}},[e.isBusiness&&e.businessModels.length?[a("FormItem",{attrs:{label:"关联模块",prop:"model_id",rules:e.emptyValidator}},[e.taskOrder.acceptance_status?[a("Input",{attrs:{value:e.taskOrder.model_name,disabled:""}})]:[a("Cascader",{attrs:{filterable:"",title:e.businessModelValue?e.businessModelValue.join("-"):"",data:e.businessModels,"render-format":function(e){return e.join("-")},disabled:!!e.taskOrder.acceptance_status},on:{"on-change":e.onChangeBusinessModel},model:{value:e.businessModelValue,callback:function(t){e.businessModelValue=t},expression:"businessModelValue"}})]],2)]:e._e()],2),a("Col",{attrs:{span:"9"}},[a("FormItem",{attrs:{label:"需求背景"}},[a("Input",{attrs:{disabled:!!e.taskOrder.acceptance_status,placeholder:"请填写需求背景",type:"textarea",rows:4},model:{value:e.formData.order_desc,callback:function(t){e.$set(e.formData,"order_desc",t)},expression:"formData.order_desc"}})],1)],1),a("Col",{attrs:{span:"9"}},[a("FormItem",{attrs:{label:"物料类型",prop:"materials_type",rules:e.emptyValidator}},[a("Select",{attrs:{disabled:!!e.taskOrder.acceptance_status,placeholder:"请选择物料类型"},model:{value:e.formData.materials_type,callback:function(t){e.$set(e.formData,"materials_type",t)},expression:"formData.materials_type"}},e._l(e.Materials,(function(t){return a("Option",{key:t,attrs:{value:t}},[e._v(e._s(t))])})),1)],1),a("FormItem",{attrs:{label:"预估量",prop:"overall_total",rules:[e.emptyValidator,e.numberValidator]}},[a("Row",{attrs:{type:"flex",justify:"space-between",align:"bottom"}},[a("InputNumber",{staticClass:"flex-grow mrm",staticStyle:{width:"fit-content"},attrs:{placeholder:"请填写预估量"},model:{value:e.formData.overall_total,callback:function(t){e.$set(e.formData,"overall_total",t)},expression:"formData.overall_total"}}),a("FormItem",{staticStyle:{width:"fit-content"},attrs:{label:"","label-width":0,prop:"unit",rules:e.emptyValidator}},[a("Select",{attrs:{placeholder:"单位"},model:{value:e.formData.unit,callback:function(t){e.$set(e.formData,"unit",t)},expression:"formData.unit"}},e._l(e.Units,(function(t){return a("Option",{key:t,attrs:{value:t}},[e._v(e._s(t))])})),1)],1)],1)],1)],1),a("Col",{attrs:{span:"9"}},[a("FormItem",{attrs:{label:"准确率",prop:"passed_rate",rules:e.emptyValidator}},[a("Row",{attrs:{type:"flex",justify:"space-between"}},[a("InputNumber",{staticClass:"flex-grow mrm",attrs:{min:0,max:100,placeholder:"请填写准确率"},model:{value:e.formData.passed_rate,callback:function(t){e.$set(e.formData,"passed_rate",t)},expression:"formData.passed_rate"}}),a("span",[e._v("%")])],1)],1)],1),a("Col",{attrs:{span:"9"}},[a("FormItem",{attrs:{label:"交付时间",prop:"deadline_time",rules:e.emptyValidator}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"请选择交付时间"},model:{value:e.formData.deadline_time,callback:function(t){e.$set(e.formData,"deadline_time",t)},expression:"formData.deadline_time"}})],1)],1),a("Col",{attrs:{span:"9"}},[a("FormItem",{attrs:{label:"数据源",prop:"source_bucket_id",rules:e.emptyValidator}},[a("Row",[a("Col",{attrs:{span:"24"}},[a("Attachment",{attrs:{options:"",objId:e.isEdit?e.orderId:"",objType:e.isEdit?"order":"temporary",objScene:"source"},on:{initTemporaryBucket:function(t){e.formData.source_bucket_id=t},attachments:function(t){e.sourceAttachments=t}}})],1)],1)],1)],1),a("Col",{attrs:{span:"9"}},[a("FormItem",{attrs:{label:"规则文档",prop:"rule_bucket_id",rules:e.emptyValidator}},[a("Row",[a("Col",{attrs:{span:"24"}},[a("Attachment",{attrs:{options:"",objId:e.isEdit?e.orderId:"",objType:e.isEdit?"order":"temporary",objScene:"rule"},on:{initTemporaryBucket:function(t){e.formData.rule_bucket_id=t},attachments:function(t){e.ruleAttachments=t}}})],1)],1)],1)],1)],1)],1)]],2),a("br"),a("Row",{staticClass:"buttons",attrs:{type:"flex",justify:"end"}},[e.isView?e._e():[e.isEdit?a("Button",{staticClass:"mrm",attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("edit")}}},[e._v("确认修改")]):a("Button",{staticClass:"mrm",attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("create")}}},[e._v("下发需求")])],a("Button",{staticClass:"mrm",on:{click:function(t){return e.onRoute("task-orders-list")}}},[e._v("取消")])],2)],1)},i=[],n=(a("8d0d"),a("ad4a")),s=a("2289"),o=a("a06e"),l=a("189e"),c=a("c206"),d=a.n(c),u={components:{Attachment:n["a"]},data(){var e,t;return{titleOptions:{create:"创建需求",edit:"编辑需求",view:"需求详情"},Units:s["j"],Materials:s["e"],QueueType:s["h"],business:"",businessModels:[],businessModelValue:[],sourceAttachments:[],ruleAttachments:[],formData:{order_name:"",model_id:"",order_desc:"",materials_type:"",overall_total:0,unit:"",passed_rate:0,deadline_time:"",source_bucket_id:"",rule_bucket_id:""},emptyValidator:{required:!0,message:"不能为空"},numberValidator:{type:"number",min:1,message:"不能小于1"},orderId:(null===(e=this.$route)||void 0===e||null===(t=e.query)||void 0===t?void 0:t.order_id)||"",taskOrder:{}}},computed:{isEdit(){const{order_id:e,scene:t}=this.$route.query;return!!e&&"edit"===t},isView(){const{order_id:e,scene:t}=this.$route.query;return!!e&&"view"===t},isBusiness(){var e;return!(null===(e=this.business)||void 0===e||!e.business_id)},loading(){return this.fetchProject.isPending||this.fetchTaskOrder.isPending},taskOrderOptions(){const{isBusiness:e,taskOrder:t}=this;return{order_name:{title:"需求名称"},model_name:{title:"关联模块",disabled:!e},order_desc:{title:"需求背景"},materials_type:{title:"物料类型"},passed_rate:{title:"准确率",append:"%"},overall_total:{title:"预估量",append:t.unit},deadline_time:{title:"交付时间"}}}},async mounted(){await this.fetchProject();const{isBusiness:e,isView:t,orderId:a}=this;e&&!t&&this.fetchBusinessModels(),a&&(await this.fetchTaskOrder(),Object.keys(this.formData).forEach(e=>{this.taskOrder[e]&&(this.formData[e]=this.taskOrder[e]),["model_id"].includes(e)&&(this.formData.model_id=this.taskOrder.model_id.toString(),this.businessModelValue=this.taskOrder.model_name.split("-")),["source_bucket_id","rule_bucket_id"].includes(e)&&(this.formData[e]=this.taskOrder.order_id.toString())}))},methods:{async onSubmit(e){const{sourceAttachments:t,ruleAttachments:a}=this,r=await this.$refs.form.validate(e=>e);if(r){if(!t.length)return this.$Message.error("请补充数据源文档"),Promise.resolve({});if(!a.length)return this.$Message.error("请补充规则文档"),Promise.resolve({});"create"===e&&this.fetchCreateTaskOrder(),"edit"===e&&this.fetchUpdateTaskOrder()}else this.$Message.error("提交失败，请检查表单是否有遗漏")},onRoute(e){switch(e){case"task-orders-list":return void this.$router.push({name:"projectDetail",params:{id:this.$route.params.id},query:{tab:"task-orders"}})}},onChangeBusinessModel(e,t){var a,r;this.businessModelValue=e,this.formData.model_id=(null===(a=t[t.length-1])||void 0===a||null===(r=a.model)||void 0===r?void 0:r.model_id)||""},businessModelsHook(e){const t={children:[]},a=(e,t,r)=>{const i="model_name_array",n={label:t[i][r],value:t[i][r]},s=e.children.find(e=>(null===e||void 0===e?void 0:e.value)===t[i][r]);if(s)t[i][r+1]?a(s,t,r+1):e.children.push({...n,model:{...t,model_id:t.model_id.toString()}});else if(t[i][r+1]){const i=e.children.push({...n,children:[]});a(e.children[i-1],t,r+1)}else e.children.push({...n,model:{...t,model_id:t.model_id.toString()}})};return e.data.forEach(e=>{a(t,e,0)}),console.log(t),t.children}},asyncMethods:{fetchProject(){const e={project_id:this.$route.params.id};return Object(o["i"])(e).then(e=>(this.business=(({business_id:e,business_name:t,business_config:a})=>({business_id:e,business_name:t,business_config:a}))(e),e)).catch(e=>this.$Message.error("获取数据失败："+e.message))},fetchBusinessModels(){const e={business_id:this.business.business_id,page:{start:0,size:1e3,return_total:1}};return Object(l["c"])(e).then(e=>this.businessModelsHook(e))},fetchTaskOrder(){const{project:e,orderId:t}=this,a={project_id:e.project_id,order_id:t};return Object(o["h"])(a).then(e=>e).catch(e=>{this.$Message.error("获取需求详情失败："+e.message)})},fetchCreateTaskOrder(){const{project:e,formData:t}=this,a={project_id:e.project_id};return Object.assign(a,t),a.deadline_time=d()(a.deadline_time).format("YYYY-MM-DD HH:mm:ss"),Object(o["c"])(a).then(e=>{console.log(e),this.$Message.success("下发需求成功"),this.onRoute("task-orders-list")}).catch(e=>{console.log(e),this.$Message.error("下发需求失败："+e.message)})},fetchUpdateTaskOrder(){const{project:e,taskOrder:t,formData:a}=this,r={project_id:e.project_id,order_id:t.order_id};return Object.assign(r,a),r.deadline_time=d()(r.deadline_time).format("YYYY-MM-DD HH:mm:ss"),delete r.source_bucket_id,delete r.rule_bucket_id,Object(o["w"])(r).then(e=>{console.log(e),this.$Message.success("修改成功"),this.onRoute("task-orders-list")}).catch(e=>{console.log(e),this.$Message.error("修改失败："+e.message)})}}},h=u,p=(a("a969"),a("2be6")),f=Object(p["a"])(h,r,i,!1,null,"6636df65",null);t["default"]=f.exports},"6f0a":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-team-box"},[a("TableFilter",{attrs:{btnDirection:"horizontal"},on:{search:function(t){return e.fetchListTeams(e.page.index=1)},reset:function(t){return e.fetchListTeams(e.teamName="",e.page.index=1)}}},[a("Form",{attrs:{inline:"","label-width":80,"label-colon":!0},nativeOn:{submit:function(t){return t.preventDefault(),e.fetchListTeams(e.page.index=1)}}},[a("Row",[a("Col",{attrs:{span:"8"}},[a("FormItem",{staticStyle:{width:"100%"},attrs:{label:"小组名称"}},[a("Input",{attrs:{type:"text",placeholder:"请输入小组名称"},model:{value:e.teamName,callback:function(t){e.teamName=t},expression:"teamName"}})],1)],1)],1)],1)],1),e.userinfo&&e.userinfo.company_id?[a("auth-view",{attrs:{perm:{domain:"team",action:"create",extra:{company:e.userinfo.company_id}}}},[a("Button",{staticClass:"mbm",attrs:{type:"primary"},on:{click:e.createTeam}},[e._v("新建小组")]),a("template",{slot:"forbidden"},[a("t-tooltip",{attrs:{content:"请联系系统管理员添加权限"}},[a("Button",{staticClass:"mbm",attrs:{type:"primary",disabled:!0},on:{click:e.createTeam}},[e._v("新建小组")])],1)],1)],2)]:e._e(),a("Table",{attrs:{columns:e.teamColumns,data:e.teamDatas,loading:e.fetchListTeams.isPending},scopedSlots:e._u([{key:"created_at",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.created_at||"-"))])]}},{key:"action",fn:function(t){var r=t.row;return[e.$route.fullPath.startsWith("/personal-center")?a("router-link",{attrs:{to:{path:"/personal-center/my-team/"+r.team_id}}},[e._v("详情")]):a("router-link",{attrs:{to:{path:"/company/my-team/"+r.team_id}}},[e._v("详情")])]}}])}),a("Page",{staticClass:"right mtm",attrs:{current:e.page.index,total:e.page.return_total,"page-size":e.page.size,"show-total":"","show-elevator":""},on:{"on-change":e.changePage}})],2)},i=[],n=a("6cc8"),s=a("9c54"),o=a("91a29"),l=a("c833"),c=a("c605"),d={components:{CompanyStatusRender:n["a"],TeamDetail:s["default"],TableFilter:c["a"]},data(){return{teamName:"",teamColumns:[{title:"小组编号",key:"team_id"},{title:"小组名称",key:"team_name"},{title:"创建人",key:"nick_name"},{title:"创建时间",slot:"created_at"},{title:"操作",slot:"action"}],teamDatas:[],companyObj:{},userinfo:{},page:{index:1,size:10,return_total:1}}},computed:{nickName(){const e=this.$store.state.userinfo.user?this.$store.state.userinfo.user.nick_name:"";return e}},created(){this.userinfo=this.$store.state.userinfo.user,this.fetchListTeams()},asyncMethods:{fetchListTeams(){const e={page:{start:(this.page.index-1)*this.page.size,size:this.page.size,return_total:1},company_id:this.userinfo.company_id};return this.teamName&&(e.team_name=this.teamName),Object(l["l"])(e).then(e=>{e&&e.data&&(this.teamDatas=e.data,this.page.return_total=e.total)}).catch(e=>{console.log(e),this.$Message.error("列表数据获取失败，请刷新重试")})}},methods:{changePage(e){this.page.index=e,this.fetchListTeams()},createTeam(){this.$FastModal.show(o["a"],{userinfo:this.userinfo},{onOk:()=>{this.fetchListTeams()}})}}},u=d,h=(a("09a9"),a("2be6")),p=Object(h["a"])(u,r,i,!1,null,"a55d3824",null);t["default"]=p.exports},"6f84":function(e,t,a){"use strict";a("f0d0")},"6fcb":function(e,t,a){"use strict";a("6646")},"6fce":function(e,t,a){e.exports=a.p+"static/img/local-upload.2c1854ba.png"},7038:function(e,t,a){"use strict";a("f1b1")},"71bc":function(e,t,a){"use strict";a("3a9e")},7237:function(e,t,a){},"72b8":function(e,t,a){"use strict";a("7237")},"738c":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{staticClass:"step",attrs:{transfer:!1,"mask-closable":!1,closable:!1,closable:"",width:"800px"},model:{value:e.saveProjectsModal,callback:function(t){e.saveProjectsModal=t},expression:"saveProjectsModal"}},[a("template",{slot:"header"},[a("div",{staticClass:"step_header"},[a("Icon",{staticStyle:{color:"var(--td-brand-color-6)","font-size":"24px"},attrs:{type:"ios-information-circle"}}),a("h3",{staticClass:"center step_header"},[e._v(e._s(e.message))])],1)]),a("div",{staticClass:"step_content"},[1===e.step?a("h3",[e._v("请尽快完成「配置模板」与「上传题目」两个步骤，完成后即可下发标注任务！")]):e._e(),2===e.step?a("p",{staticClass:"center"},[e._v("尽快完成「上传题目」1个步骤，才能推动项目进展哦！")]):e._e(),3===e.step?a("p",{staticClass:"center"},[e._v("项目进展已达标，快快分配任务哦～")]):e._e(),a("t-steps",{staticStyle:{margin:"20px 30px"},attrs:{current:e.step}},e._l(e.steps,(function(e){return a("t-step-item",{attrs:{title:e.title}})})),1)],1),a("template",{slot:"footer"},[a("t-button",{attrs:{theme:"default",variant:"base"},on:{click:function(t){return e.GotoDatail("跳过")}}},[e._v("跳过")]),a("t-button",{on:{click:e.steps[e.step].click}},[e._v(e._s(e.steps[e.step].operation))])],1)],2)},i=[],n={props:{$router:Object,project:Object,step:Number,message:String},data(){return{saveProjectsModal:!1,steps:[{title:"创建项目",status:"done",operation:"",click:()=>{}},{title:"配置模板",status:"pending",operation:"去配置模板",click:()=>{var e;window.open(`/projects/list/${null===(e=this.project)||void 0===e?void 0:e.project_id}?tab=template`,"_self")}},{title:"上传题目",status:"pending",operation:" 去上传题目",click:()=>{var e;window.open(`/projects/list/${null===(e=this.project)||void 0===e?void 0:e.project_id}?tab=dataset`,"_self")}},{title:"下发任务",status:"pending",operation:"去下发任务",click:()=>{}}]}},created(){this.saveProjectsModal=!0},methods:{GotoDatail(e){this.saveProjectsModal=!1,this.$emit("onOk",e)}}},s=n,o=(a("6f84"),a("2be6")),l=Object(o["a"])(s,r,i,!1,null,"fe9a18c0",null);t["a"]=l.exports},"73b8":function(e,t,a){"use strict";a("2cb0")},"73f4":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("TableFilter",{on:{search:function(t){return e.onPageChange(1)},reset:e.reset}},[a("Form",{attrs:{"label-width":90,"label-colon":!0}},[a("Row",[e.isStandardize?a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"模板ID"}},[a("Input",{attrs:{type:"text",placeholder:"请输入模板ID"},model:{value:e.formData.templateId,callback:function(t){e.$set(e.formData,"templateId",t)},expression:"formData.templateId"}})],1)],1):e._e(),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"模板名称"}},[a("Input",{attrs:{type:"text",placeholder:"请输入模板名称"},model:{value:e.formData.templateName,callback:function(t){e.$set(e.formData,"templateName",t)},expression:"formData.templateName"}})],1)],1),e.isStandardize?a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"模板状态"}},[a("Select",e._b({model:{value:e.formData.templateValidStatus,callback:function(t){e.$set(e.formData,"templateValidStatus",t)},expression:"formData.templateValidStatus"}},"Select",e.selectConfig,!1),e._l(e.options.templateValidStatus,(function(t){return a("Option",e._b({key:t.value},"Option",t,!1))})),1)],1)],1):e._e(),e.isStandardize?a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"关联业务"}},[a("Select",e._b({model:{value:e.formData.businessId,callback:function(t){e.$set(e.formData,"businessId",t)},expression:"formData.businessId"}},"Select",e.selectConfig,!1),e._l(e.options.businesses,(function(t){return a("Option",e._b({key:t.value},"Option",t,!1))})),1)],1)],1):e._e(),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"标注场景"}},[a("Select",e._b({on:{"on-clear":function(t){e.formData.templateScene="",e.formData.templateLevel=""}},model:{value:e.formData.templateScene,callback:function(t){e.$set(e.formData,"templateScene",t)},expression:"formData.templateScene"}},"Select",e.selectConfig,!1),e._l(e.options.templateScenes,(function(t){return a("Option",e._b({key:t.value},"Option",t,!1))})),1)],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"模板类型"}},[a("Select",e._b({attrs:{placeholder:"请先选择标注场景"},on:{"on-clear":function(t){e.formData.templateLevel=""}},model:{value:e.formData.templateLevel,callback:function(t){e.$set(e.formData,"templateLevel",t)},expression:"formData.templateLevel"}},"Select",e.selectConfig,!1),e._l(e.options.templateLevels,(function(t){return a("Option",e._b({key:t.value},"Option",t,!1))})),1)],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"创建人"}},[a("user-select",{ref:"userSelect",attrs:{remote:"",showEmail:"",optionValue:"nick_name"},on:{"update:user":function(t){e.formData.createdBy=t}}})],1)],1)],1)],1)],1),e.isStandardize?[a("Alert",{attrs:{type:"error","show-icon":""}},[e._v("请在【我的模板】中创建模板后，再关联业务生成标准化模板")])]:[a("router-link",{attrs:{to:{path:"/projects/templates/create"}}},[a("Button",{staticClass:"mbb",attrs:{type:"primary",icon:"md-add"}},[e._v("新建模板")])],1)],a("Table",{attrs:{loading:e.fetchTemplateList.isPending,columns:e.columns,data:e.templateList},scopedSlots:e._u([{key:"id",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.id))])]}},{key:"template_name",fn:function(t){var r=t.row;return[e.isStandardize?a("StandardizeMark"):e._e(),a("span",[e._v(e._s(r.template_name))])]}},{key:"template_valid_status",fn:function(t){var r=t.row;return[a("Icon",{attrs:{type:"ios-radio-button-on",color:r.template_valid_status?"#19be6b":"#ed4014"}}),a("span",{staticClass:"mls"},[e._v(e._s(r.template_valid_status?"生效中":"已失效"))])]}},{key:"business_name",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.business_name))])]}},{key:"template_desc",fn:function(t){var r=t.row;return[a("Tooltip",{attrs:{transfer:""}},[a("div",{staticStyle:{"white-space":"normal","word-break":"break-all"},attrs:{slot:"content"},slot:"content"},[e._v(e._s(r.template_desc))]),a("div",{staticClass:"txt-ellipsis2 mts"},[e._v(e._s(r.template_desc))])])]}},{key:"template_level",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.template_level1+(r.template_level2?" / "+r.template_level2:"")||"-"))])]}},{key:"updatetime",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.updated_at))])]}},{key:"creator",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.creator))])]}},{key:"template_scene",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(JSON.parse(r.template_scene).join(" / ")))])]}},{key:"action",fn:function(t){var r=t.row;return[a("router-link",{attrs:{to:{path:"/templates/"+r.id+"/preview",params:{id:r.id}},target:"_blank"}},[e._v("预览")]),!e.isStandardize||r.template_valid_status?[a("Divider",{attrs:{type:"vertical"}}),a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.onEdit(r)}}},[e._v("编辑")]),a("auth-view",{attrs:{perm:{domain:"role-user",action:"view",extra:{objectType:"template",objectId:r.id}}}},[a("Divider",{attrs:{type:"vertical"}}),a("router-link",{attrs:{to:{path:"/templates/"+r.id+"/edit?from=template&tab=permission",params:{id:r.id}},target:"_blank"}},[e._v("权限")])],1),e.isStandardize?[a("Divider",{attrs:{type:"vertical"}}),a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.onRepeal(r)}}},[e._v("失效")])]:[a("auth-view",{attrs:{perm:{domain:"menu",action:"view",extra:{name:"business"}}}},[a("Divider",{attrs:{type:"vertical"}}),a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.onStandardize(r)}}},[e._v("标准化")])],1),a("Divider",{attrs:{type:"vertical"}}),a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.copyNewTemplate(r)}}},[e._v("复制")]),a("Divider",{attrs:{type:"vertical"}}),a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.remove(r)}}},[e._v("删除")])]]:e._e()]}}])}),a("Page",{staticClass:"right mtm",attrs:{current:e.pageIndex,total:e.pageTotal,"page-size":e.pageSize,"show-total":"","show-elevator":""},on:{"on-change":e.onPageChange}})],2)},i=[],n=(a("8d0d"),a("9ec3")),s=a.n(n),o=a("261f"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{value:e.visible},scopedSlots:e._u([{key:"header",fn:function(){return[a("h3",[e._v("生成标准化模板")])]},proxy:!0},{key:"footer",fn:function(){return[a("Button",{on:{click:function(t){e.visible=!1}}},[e._v("取消")]),a("Button",{attrs:{type:"primary",loading:e.fetchCreateStandardizeTemplate.isPending},on:{click:e.onSubmit}},[e._v("确定")])]},proxy:!0}])},[a("p",[e._v("基于当前模板关联业务后生成标准化模板；标准化模板的输入/输出数据格式将不再支持修改，请谨慎操作！")]),a("br"),a("Form",{ref:"form",attrs:{model:e.formData}},[a("FormItem",{attrs:{label:"关联业务",prop:"business_id",rules:e.emptyValidator("关联业务")}},[a("Select",{model:{value:e.formData.business_id,callback:function(t){e.$set(e.formData,"business_id",t)},expression:"formData.business_id"}},e._l(e.options.businesses,(function(t){return a("Option",e._b({key:t.value},"Option",t,!1))})),1)],1)],1)],1)},c=[],d=a("189e"),u={props:{template:Object},data(){return{visible:!0,options:{},formData:{business_id:""}}},mounted(){this.fetchBusinesses()},methods:{emptyValidator(e){return{required:!0,message:e+"不能为空"}},onSubmit(){this.$refs.form.validate(async e=>{if(e)try{const e=await this.fetchCreateStandardizeTemplate();e&&this.submitSuccess()}catch(t){console.log(t),this.$Message.error("提交失败："+t.message)}else this.$Message.error("提交失败，请检查表单是否有遗漏")})},submitSuccess(){const e=this;e.visible=!1,e.$Message.success({render:t=>t("span",["已生成标准化模板，可前往",t("a",{on:{click:()=>{e.toStandardizeTemplates()}}},"【标准化模板】"),"列表查看"]),duration:3})},toStandardizeTemplates(){this.$Message.destroy(),this.visible=!1,setTimeout(()=>{this.$emit("route","/projects/standardize-templates")},500)}},asyncMethods:{fetchCreateStandardizeTemplate(){const{business_id:e}=this.formData,t={template_id:this.template.id,business_id:e};return Object(d["a"])(t)},fetchBusinesses(){const e={page:{start:0,size:1e3,return_total:0}};return Object(d["d"])(e).then(e=>{const t=e.data.map(e=>({label:e.business_name,value:e.business_id}));return this.$set(this.options,"businesses",t),e.data})}}},h=u,p=a("2be6"),f=Object(p["a"])(h,l,c,!1,null,null,null),m=f.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},_=[],v={props:{template:Object},data(){return{visible:!0}},mounted(){this.onModal()},methods:{onModal(){const e=this;this.$Modal.confirm({title:"确认失效",content:"失效后，当前模板不可再被业务使用；已关联当前模板的项目或任务仍可继续使用。",loading:!0,onOk:()=>{e.onSubmit()},onCancel:()=>{e.visible=!1}})},async onSubmit(){try{const e=await this.fetchRepealStandardizeTemplate();e&&(this.$Modal.remove(),this.visible=!1,this.$Message.success("已失效"),this.$emit("refresh"))}catch(e){console.log(e),this.$Message.error("提交失败："+e.message)}}},asyncMethods:{fetchRepealStandardizeTemplate(){const e={template_id:this.template.id};return Object(d["g"])(e)}}},b=v,y=Object(p["a"])(b,g,_,!1,null,null,null),k=y.exports,x=a("c206"),w=a.n(x),S=a("f227"),C=a("c099"),O=a("b0f9"),T=a("2289"),j=a("912f"),I=a("db49"),A=a("c605"),D={components:{share:o["a"],standardize:m,UserSelect:S["a"],StandardizeMark:C["a"],TableFilter:A["a"]},data(){return{Config:I["a"],selectConfig:{clearable:!0,filterable:!0},options:{templateScenes:T["i"].map(e=>({label:e,value:e,key:e})),templateValidStatus:T["l"]},objectType:"template",LabelTypes:this.$OptimusStageMetadata,pageIndex:1,pageSize:10,pageTotal:0,query:"",columns:[{title:"模板ID",slot:"id",fixed:"left",width:185},{title:"模板名称",slot:"template_name",fixed:"left",width:150},{title:"模板简介",slot:"template_desc",minWidth:150},{title:"标注场景",key:"template_scene",minWidth:100},{title:"模板类型",slot:"template_level",minWidth:150},{title:"修改时间",slot:"updatetime",minWidth:180},{title:"创建人",slot:"creator",minWidth:100},{title:"操作",slot:"action",minWidth:260,fixed:"right"}],page:{index:1,size:10,total:0},templateList:[],params:{},formData:{templateId:"",templateName:"",templateValidStatus:"",businessId:"",templateScene:"",templateLevel:"",createdBy:""},origin:"",scene:[],isPublicValue:1}},computed:{companyinfo(){return this.$store.state.companyinfo},isStandardize(){return this.$route.path.includes("standardize")}},watch:{isStandardize(){this.reset(),this.onStandardizeColumns()},scene(e){e.length>0?this.params.template_scene=JSON.stringify(e):this.params.template_scene="",this.page.index=1,this.params.template_name=this.formData.templateName,this.fetchTemplateList(this.params)},origin(e,t){this.page.index=1,this.params.template_name=this.formData.templateName,this.params.template_origin=e,e!==t&&this.fetchTemplateList(this.params)},"formData.templateScene"(){this.formData.templateScene?this.fetchTemplateLevels():this.templateLevels=[]},"formData.createdBy"(e){var t;null===(t=this.$refs.userSelect)||void 0===t||t.updateUser(e)}},async created(){await this.fetchTemplateList(),this.onStandardizeColumns(),this.fetchBusinesses()},methods:{isJSON(e){if("string"===typeof e)try{const t=JSON.parse(e);return!("object"!==typeof t||!t)}catch(t){return!1}},onEdit(e){const t=this,a=this.$router.resolve({name:"template-edit",params:{id:e.id},query:{from:"template"}}),r=()=>{window.open(a.href,"_blank")};t.isStandardize?t.$Modal.confirm({title:"编辑标准化模板风险提示",content:"<p>1、数据列字段不可新增/编辑/删除；只可修改部分配置（是否展示，是否必填等）。</p><p>2、标签/工具/选项的新增/编辑/删除仅对新引用的项目或任务生效；若修改可能会造成已有标注数据格式不一致。</p>",onOk:()=>{t.$Modal.remove(),setTimeout(()=>{r()},100)}}):r()},onShare(e){this.isStandardize?this.$Modal.confirm({title:"标准化模板分享",content:"请前往AIdata的【业务详情页】，将要分享人配置为对应业务的业务管理员。",okText:"立即前往",onOk:()=>{window.open(`${I["a"].EXTERNAL_URL.aidata}/console/business/${e.business_related_id.toString()}/settlement`,"_blank")}}):this.$FastModal.show(o["a"],{objectId:e.id,objectType:"template",companyinfo:this.companyinfo},{})},onStandardize(e){const t=this;this.$FastModal.show(m,{template:e},{route(e){t.$router.push(e)}})},onRepeal(e){const t=this;this.$FastModal.show(k,{template:e},{refresh(){t.fetchTemplateList()}})},remove(e){this.$Modal.confirm({title:"删除确认",content:"删除后不可恢复，确定删除此模板？",cancelText:"取消",closable:!0,onOk:()=>{const t={template_id:e.id};Object(O["j"])(t).then(e=>{e&&(this.$Message.success("删除成功"),this.reset())}).catch(e=>{console.log(e)})}})},onPageChange(e){this.page.index=e,this.fetchTemplateList()},reset(){Object.keys(this.formData).forEach(e=>{this.formData[e]=""}),this.onPageChange(1)},onStandardizeColumns(){const e=[{title:"模板状态",slot:"template_valid_status",minWidth:120},{title:"关联业务",slot:"business_name",minWidth:120}];this.isStandardize?this.columns.splice(2,0,...e):10===this.columns.length&&this.columns.splice(2,2)},copyNewTemplate(e){this.$FastModal.show(j["a"],{template:e,$router:this.$router},{refresh:()=>{this.fetchTemplateList()}})}},asyncMethods:{fetchTemplateList(e){const{page:t,formData:a,templateLevels:r}=this;if(this.params={page:{start:(t.index-1)*t.size,size:t.size},return_total:1},e&&(this.params=e),Object.keys(a).forEach(e=>{""!==a[e]&&this.$set(this.params,s.a.snakeCase(e),a[e])}),a.templateScene&&a.templateLevel){const e=s.a.find(r,["template_id",a.templateLevel]);null!==e&&void 0!==e&&e.template_level1&&(this.params.template_level1=e.template_level1),null!==e&&void 0!==e&&e.template_level2&&(this.params.template_level2=e.template_level2),delete this.params.template_level}else this.params.template_level1=void 0,this.params.template_level2=void 0;return this.isStandardize?this.fetchStandardizeTemplateList():Object(O["l"])(this.params).then(e=>{const t=e.data;for(let a=0;a<t.length;a++){const e=w()(t[a].updated_at).format("YYYY-MM-DD HH:mm:ss");t[a].updated_at=e}return this.pageTotal=e.total,t}).catch(e=>{console.log(e),this.$Message.error("列表数据获取失败，请刷新重试")})},fetchStandardizeTemplateList(){return Object(d["f"])(this.params).then(e=>{const t=e.data;for(let a=0;a<t.length;a++){const e=w()(t[a].updated_at).format("YYYY-MM-DD HH:mm:ss");t[a].updated_at=e}return this.pageTotal=e.total,t}).catch(e=>(console.log(e),this.$Message.error(""+e.message),[]))},fetchTemplateLevels(){const e={template_scene:this.formData.templateScene,is_all:1};return Object(O["e"])(e).then(e=>{const t=e.map(e=>({label:`${e.template_level1}${e.template_level2?" / "+e.template_level2:""}`,value:e.template_id}));return this.$set(this.options,"templateLevels",t),e})},fetchBusinesses(){return Object(d["d"])().then(e=>{const t=e.data.map(e=>({label:e.business_name,value:e.business_id}));return this.$set(this.options,"businesses",t),e.data}).catch(e=>{console.log(e)})}}},M=D,E=(a("6428"),Object(p["a"])(M,r,i,!1,null,"d0ed3400",null));t["default"]=E.exports},"75c9":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[a("Breadcrumb",[a("BreadcrumbItem",[e._v("公司管理")]),a("BreadcrumbItem",[e._v("应用列表")])],1)],1),a("t-divider",{attrs:{align:"left"}},[a("h3",[e._v("应用列表")])]),a("div",{staticClass:"margin"},[a("div",{staticClass:"mtm mbm"},[a("Button",{staticClass:"mrm",attrs:{type:"primary",icon:"md-add"},on:{click:e.handleCreateApp}},[e._v("新增应用")])],1),a("Table",{ref:"apps",attrs:{border:"",columns:e.columns,data:e.apps,loading:e.fetchApps.isPending},scopedSlots:e._u([{key:"action",fn:function(t){t.row;return[a("span",[e._v("-")])]}}])}),a("Page",{staticClass:"right mtm",attrs:{current:e.page.index,total:e.page.total,"page-size":e.page.size,"show-total":"","show-elevator":""},on:{"on-change":e.changePage}})],1)],1)},i=[],n=a("e3fa"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{title:"创建应用",width:600,"mask-closable":!1},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("Form",{ref:"form",attrs:{model:e.form,"label-position":"top"}},[a("FormItem",{attrs:{label:"应用名称",prop:"app_name",rules:{required:!0,message:"名称不能为空"}}},[a("Input",{attrs:{maxlength:20,placeholder:"请输入应用名称"},model:{value:e.form.app_name,callback:function(t){e.$set(e.form,"app_name",t)},expression:"form.app_name"}})],1),a("FormItem",{attrs:{label:"应用描述",prop:"app_desc"}},[a("Input",{attrs:{maxlength:40,placeholder:"请输入应用描述"},model:{value:e.form.app_desc,callback:function(t){e.$set(e.form,"app_desc",t)},expression:"form.app_desc"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{on:{click:function(t){e.visible=!1}}},[e._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("确定")])],1)],1)},o=[],l={data(){return{visible:!0,form:{app_name:"",app_desc:""}}},methods:{handleSubmit(){this.$refs.form.validate(e=>{e?this.fetchApplySecretKey():this.$Message.error("提交失败，请检查是否有遗漏")})}},asyncMethods:{fetchApplySecretKey(){const e={app_name:this.form.app_name,app_desc:this.form.app_desc};return Object(n["b"])(e).then(e=>{console.log(e),this.visible=!1,setTimeout(()=>{this.$Message.success("提交成功"),this.$emit("refresh")})}).catch(e=>{console.log(e),this.$Message.error("提交失败："+e.message)})}}},c=l,d=a("2be6"),u=Object(d["a"])(c,s,o,!1,null,null,null),h=u.exports,p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{title:"应用角色配置",width:600,"mask-closable":!1},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[e.fetchRoleUser.isPending?a("Spin",{attrs:{fix:""}}):e._e(),e.roleUser?[a("div",{staticStyle:{"text-align":"center"}},[a("h3",{staticClass:"mbm"},[e._v(e._s(e.roleUser.app_name||"-"))]),a("p",[e._v(e._s(e.roleUser.app_id||"-"))])]),a("Divider"),a("Form",{ref:"form",staticClass:"mlm mrm",attrs:{model:e.form,"label-width":60,"label-position":"right"}},[a("FormItem",{attrs:{label:"角色：",prop:"role"}},[a("div")])],1)]:[e._v("获取数据失败")],a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{on:{click:e.hideModal}},[e._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:e.Submit}},[e._v("确定")])],1)],2)},f=[],m={props:{model:Object},data(){return{visible:!0}},mounted(){this.fetchRoleUser()},asyncMethods:{fetchRoleUser(){const e={page:{start:0,size:1,return_total:0},object_id:this.model.app_id,object_type:"company",user_type:"app"};return Object(n["r"])(e).then(e=>{console.log(e)})}}},g=m,_=Object(d["a"])(g,p,f,!1,null,null,null),v=_.exports,b={data(){return{columns:[{title:"应用ID",key:"app_id"},{title:"应用名称",key:"app_name"},{title:"创建人",key:"nick_name"},{title:"操作",slot:"action"}],apps:[],page:{index:1,size:10,total:0}}},mounted(){this.fetchApps()},methods:{changePage(e){this.page.index=e,this.fetchApps()},handleCreateApp(){const e=this;e.$FastModal.show(h,{},{refresh(){e.fetchApps()}})},handleRoleUser(e){const t=this;t.$FastModal.show(v,{model:e},{})}},asyncMethods:{fetchApps(){const e={page:{start:(this.page.index-1)*this.page.size,size:this.page.size,return_total:1}};return Object(n["l"])(e).then(e=>(this.page.total=e.total,e.data)).catch(e=>{console.log(e),this.$Message.error("列表数据获取失败，请刷新重试")})}}},y=b,k=(a("8cc4"),Object(d["a"])(y,r,i,!1,null,"4c83de30",null));t["default"]=k.exports},7604:function(e,t,a){},7637:function(e,t,a){"use strict";a("e0bc")},7814:function(e,t,a){"use strict";a("65b8")},7961:function(e,t,a){},"7c4f":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Tabs",{attrs:{name:"deliver",animated:!1},on:{"on-click":e.changeTab},model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},[a("TabPane",{attrs:{label:"全部批次",name:"all",tab:"deliver"}}),a("TabPane",{attrs:{label:e.customLabel,name:"30",tab:"deliver"}}),a("TabPane",{attrs:{label:"验收通过",name:"60",tab:"deliver"}}),a("TabPane",{attrs:{label:"验收驳回",name:"70",tab:"deliver"}})],1),a("TableFilter",{on:{reset:e.handleReset,search:e.handleSearch}},[a("Form",{attrs:{"label-width":90,"label-colon":!0}},[a("Row",{attrs:{gutter:12}},[a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"批次ID"}},[a("Input",{attrs:{type:"text",placeholder:"请输入批次ID"},model:{value:e.form.deliver_id,callback:function(t){e.$set(e.form,"deliver_id",t)},expression:"form.deliver_id"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"任务ID"}},[a("Input",{attrs:{type:"text",placeholder:"请输入所属任务ID"},model:{value:e.form.task_id,callback:function(t){e.$set(e.form,"task_id",t)},expression:"form.task_id"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"任务名称"}},[a("Input",{attrs:{type:"text",placeholder:"请输入所属任务名称"},model:{value:e.form.task_name,callback:function(t){e.$set(e.form,"task_name",t)},expression:"form.task_name"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"交付时间"}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"datetimerange",format:"yyyy-MM-dd HH:mm:ss",placeholder:"请选择交付时间区间"},on:{"on-ok":e.handleSearch,"on-change":function(t){(!t||!t[0])&&e.handleSearch()}},model:{value:e.form.deliver_time,callback:function(t){e.$set(e.form,"deliver_time",t)},expression:"form.deliver_time"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"需求提出人"}},[a("user-select",{ref:"userSelectOrder",attrs:{placeholder:"请输入需求提出人",showEmail:""},on:{"update:user":function(t){e.form.order_initiated_by=t}}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"任务创建人"}},[a("user-select",{ref:"userSelectTask",attrs:{placeholder:"请输入任务创建人",showEmail:""},on:{"update:user":function(t){e.form.task_created_by=t}}})],1)],1),"all"===e.currentTab?a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"批次状态"}},[a("Select",{attrs:{multiple:""},model:{value:e.deliver_status,callback:function(t){e.deliver_status=t},expression:"deliver_status"}},[e._l(Object.values(e.batchStatus),(function(t,r){return[a("Option",{attrs:{value:t.value}},[e._v(e._s(t.text))])]}))],2)],1)],1):e._e()],1)],1)],1),a("div",{staticClass:"mbb"},[e.isSelect?[a("Button",{staticClass:"mrs",attrs:{type:"primary",ghost:"",icon:"md-build"},on:{click:function(t){e.isSelect=!1,e.isSelectAll=!1}}},[e._v("退出批量操作")]),a("Button",{staticClass:"mrs",attrs:{type:"success",ghost:"",disabled:!e.isSelectAll&&e.selection.length<1},on:{click:function(t){return e.approveDeliver("pass",e.selection)}}},[e._v("验收通过")]),a("Tooltip",{attrs:{content:"试标任务不支持驳回，如需供应商重新交付，请重新下发试标任务",placement:"top",trigger:"hover","max-width":300,disabled:!e.hasbidTask}},[a("Button",{staticClass:"mrb",attrs:{type:"error",ghost:"",disabled:e.hasbidTask||!e.isSelectAll&&e.selection.length<1},on:{click:function(t){return e.approveDeliver("reject",e.selection)}}},[e._v("验收驳回")])],1)]:[a("auth-view",{attrs:{perm:{domain:"project",action:"edit"}}},[e.fetchDelivers.isResolved&&"30"===e.currentTab?a("Button",{staticClass:"mrb",attrs:{type:"primary",icon:"md-build"},on:{click:function(t){e.isSelect=!0}}},[e._v("批量操作批次")]):e._e()],1)]],2),a("Table",{ref:"delivers",attrs:{columns:e.columns,data:e.delivers,loading:e.fetchDelivers.isPending},on:{"on-selection-change":function(t){return e.selectDeliver(t,!0)},"on-select-cancel":function(t){e.isSelectAll=!1},"on-select-all-cancel":function(t){e.isSelectAll=!1}},scopedSlots:e._u([{key:"deliver_id",fn:function(t){var r=t.row;return[a("t-space",{staticStyle:{padding:"10px 0"},attrs:{direction:"vertical",size:5}},[a("t-link",{attrs:{hover:"color",theme:"primary"},on:{click:function(t){return e.goDeliver(r)}}},[e._v(e._s(r.deliver_name))]),a("p",{staticClass:"txt-muted"},[e._v(e._s(r.deliver_id))])],1)]}},{key:"task_id",fn:function(t){var r=t.row;return[a("t-space",{staticStyle:{padding:"10px 0"},attrs:{direction:"vertical",size:5}},[a("t-link",{attrs:{hover:"color",theme:"primary"},on:{click:function(t){return e.goDeliver(r)}}},[e._v(e._s(r.task_name))]),a("p",{staticClass:"txt-muted"},[e._v(e._s(r.task_id))])],1)]}},{key:"task_name",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.task_name||"-"))])]}},{key:"deliver_time",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.deliver_time||"-"))])]}},{key:"order_initiator",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.order_initiator||"-"))])]}},{key:"task_creator",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.task_creator||"-"))])]}},{key:"deliver_num",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(e.$FormatNumber(r.deliver_num)||0))])]}},{key:"status",fn:function(e){var t=e.row;return[a("DeliverStatusRender",{attrs:{value:t.status}})]}},{key:"checked_num",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(e.$FormatNumber(r.deliver_task_stat.checked_num)||0))])]}},{key:"checked_percent",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.deliver_task_stat.checked_percent+"%"))])]}},{key:"first_pass_percent",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.deliver_task_stat.first_pass_percent+"%"))])]}},{key:"pass_percent",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.deliver_task_stat.pass_percent+"%"))])]}},{key:"action",fn:function(t){var r=t.row,i=t.index;return[e.fetchDelivers.isResolved&&30===r.status?a("div",[a("a",{on:{click:function(t){return e.goDeliver(r)}}},[e._v("详情")]),a("auth-view",{attrs:{perm:{domain:"project",action:"export",extra:{company:e.companyInfo.company_id,project:r.project_id.toString()}}}},[a("Divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(t){return e.handleDownloadDeliver(r)}}},[e._v("导出")])],1),a("auth-view",{attrs:{perm:{domain:"project",action:"edit",extra:{company:e.companyInfo.company_id,project:r.project_id.toString()}}}},[a("Divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(t){e.isSelect=!1,e.isSelectAll=!1,e.approveDeliver("pass",r)}}},[e._v("通过")]),a("Divider",{attrs:{type:"vertical"}}),1===r.task_type?a("Tooltip",{attrs:{content:"试标任务不支持驳回，如需供应商重新交付，请重新下发试标任务",placement:i<4?"bottom":"top",trigger:"hover","max-width":300}},[a("span",{staticStyle:{cursor:"not-allowed",color:"rgba(0, 0, 0, .25)"}},[e._v("驳回")])]):a("a",{on:{click:function(t){e.isSelect=!1,e.isSelectAll=!1,e.approveDeliver("reject",r)}}},[e._v("驳回")])],1)],1):e.fetchDelivers.isResolved&&60===r.status?a("div",[a("a",{on:{click:function(t){return e.goDeliver(r)}}},[e._v("详情"),a("Divider",{attrs:{type:"vertical"}})],1),a("auth-view",{attrs:{perm:{domain:"project",action:"export",extra:{company:e.companyInfo.company_id,project:r.project_id.toString()}}}},[a("a",{on:{click:function(t){return e.handleDownloadDeliver(r)}}},[e._v("导出"),a("Divider",{attrs:{type:"vertical"}})],1)]),a("a",{on:{click:function(t){return e.approveDeliver("deliver",r)}}},[e._v("重新验收")])],1):e.fetchDelivers.isResolved&&70===r.status?a("div",[a("a",{on:{click:function(t){return e.goDeliver(r)}}},[e._v("详情"),a("Divider",{attrs:{type:"vertical"}})],1),a("auth-view",{attrs:{perm:{domain:"project",action:"export",extra:{company:e.companyInfo.company_id,project:r.project_id.toString()}}}},[a("a",{on:{click:function(t){return e.handleDownloadDeliver(r)}}},[e._v("导出")])])],1):e.fetchDelivers.isResolved&&20===r.status?a("div",[a("a",{on:{click:function(t){return e.goDeliver(r)}}},[e._v("详情")]),a("auth-view",{attrs:{perm:{domain:"project",action:"export",extra:{company:e.companyInfo.company_id,project:r.project_id.toString()}}}},[a("Divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(t){return e.handleDownloadDeliver(r)}}},[e._v("导出")]),a("span",{directives:[{name:"permissions",rawName:"v-permissions",value:{domain:"project",action:"edit",extra:{project:r.project_id,company:e.companyInfo.company_id}},expression:"{domain: 'project', action: 'edit', extra: {project: row.project_id, company: companyInfo.company_id}}"}]},[a("a",{staticClass:"mlm",attrs:{type:"primary",ghost:""},on:{click:function(t){return e.submitDeliver(r)}}},[e._v("提交")])]),a("Divider",{attrs:{type:"vertical"}}),1===r.task_type?a("Tooltip",{attrs:{content:"试标任务不支持驳回，如需供应商重新交付，请重新下发试标任务",placement:i<4?"bottom":"top",trigger:"hover","max-width":300}},[a("span",{staticStyle:{cursor:"not-allowed",color:"rgba(0, 0, 0, .25)"}},[e._v("驳回")])]):a("a",{on:{click:function(t){e.isSelect=!1,e.isSelectAll=!1,e.approveDeliver("reject",r)}}},[e._v("驳回")])],1)],1):e.fetchDelivers.isResolved&&10===r.status?a("div",[a("a",{on:{click:function(t){return e.goDeliver(r)}}},[e._v("详情")]),a("auth-view",{attrs:{perm:{domain:"project",action:"export",extra:{company:e.companyInfo.company_id,project:r.project_id.toString()}}}},[a("Divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(t){return e.handleDownloadDeliver(r)}}},[e._v("导出")])],1)],1):a("span",[e._v("-")])]}}])}),a("Page",{staticClass:"mtm right",attrs:{current:e.page.index,total:e.page.total,"page-size":e.page.size,"show-total":"","show-elevator":""},on:{"on-change":e.handleChangePage}})],1)},i=[],n=(a("8d0d"),a("9ec3")),s=a("c206"),o=a.n(s),l=a("2339"),c=a("312d"),d=a("a638"),u=a("4463"),h=a("cb78"),p=a("b92b"),f=a("a06e"),m=a("4932"),g=a("f227"),_=a("e9fa"),v=a("c605"),b={components:{DeliverStatusRender:d["a"],UserSelect:g["a"],TableFilter:v["a"]},mixins:[_["a"]],data(){return{batchStatus:c["b"],form:{deliver_id:"",task_id:"",task_name:"",deliver_user:"",begin_date:"",end_date:"",order_initiated_by:"",task_created_by:""},deliver_status:[],currentTab:"30",columnsOptions:{deliver_id:"批次名称/ID",task_id:"所属任务名称/ID",deliver_time:"交付时间",deliver_num:"批次数量",status:"批次状态",checked_num:"已质检",checked_percent:"已质检占比",first_pass_percent:"抽检通过率",pass_percent:"校正后通过率",action:"操作",order_initiator:"需求提出人",task_creator:"任务创建人"},delivers:[],page:{index:1,size:10,total:0},isSelect:!1,isSelectAll:!1,selection:[],hasbidTask:!1,acceptanceTotal:0,customLabel:e=>e("div",[e("span","待验收"),e("Badge",{props:{count:this.acceptanceTotal}})])}},computed:{userinfo(){return this.$store.state.userinfo.user},companyInfo(){return this.$store.state.companyinfo},columns(){return Object(n["map"])(this.columnsOptions,(e,t)=>{let a={title:e,slot:t};return t.includes("id")&&(a.minWidth=250),t.includes("deliver_id")&&(a.fixed="left"),t.includes("time")&&(a.width=180),t.includes("order_initiator")&&(a.width=120),t.includes("task_creator")&&(a.width=120),t.includes("action")&&(a.width=250,a.fixed="right"),t.includes("status")&&(a.width=140,a.align="center"),(t.includes("num")||t.includes("percent"))&&(a.width=120,a.align="right"),t.includes("selection")&&(a={type:"selection",fixed:"left",align:"center",width:60}),a})},searchParams(){const e={};return Object(n["forIn"])(this.form,(t,a)=>{t&&(e[a]=this.form[a]),"deliver_time"===a&&(delete e.deliver_time,t.length>1&&(t[0]&&(e.begin_time=o()(t[0]).format("YYYY-MM-DD HH:mm:ss")),t[1]&&(e.end_time=o()(t[1]).format("YYYY-MM-DD HH:mm:ss"))))}),e}},watch:{isSelect(e){if(e){const{companyInfo:e}=this;Object(n["map"])(this.delivers,(t,a)=>{const r=window.AuthCache[JSON.stringify({domain:"project",action:"edit",extra:{company:e.company_id,project:t.project_id.toString()}})];"boolean"===typeof r&&this.$set(this.delivers[a],"_disabled",!r)}),this.columnsOptions={selection:"",...this.columnsOptions}}else this.selection=[],this.isSelectAll=!1,this.$refs.delivers.selectAll(!1),this.$delete(this.columnsOptions,"selection")},"form.task_created_by"(e){var t;null===(t=this.$refs.userSelectTask)||void 0===t||t.updateUser(e)},"form.order_initiated_by"(e){var t;null===(t=this.$refs.userSelectOrder)||void 0===t||t.updateUser(e)}},created(){this.fetchDelivers()},methods:{async submitDeliver(e){const t=await this.fetchTask(e.task_id),a=this;this.$FastModal.show(p["a"],{task:t,deliverId:e.deliver_id,isAudit:20===e.status,disabled:20===e.status,isWorkbench:this.isWorkbench},{refresh(){a.fetchDelivers()}})},selectDeliver(e,t){t?this.selection=e:this.isSelect=!1,this.hasbidTask=!!this.selection.find(e=>1===e.task_type)},selectDeliverAll(e){this.isSelectAll=e,this.$refs.delivers.selectAll(e),this.$Message.success(e?`已选中全部 ${this.page.total} 个批次`:"已取消全选")},async approveDeliver(e,t){const a=await this.fetchTask(t.task_id),r=this;this.$FastModal.show(m["a"],{task:a,approveResult:e,selection:Object(n["isArray"])(t)?t:[t],isSelectAll:r.isSelectAll,isSelect:r.isSelect,fetchPath:1,status:t.status,searchParams:r.searchParams},{refresh(){r.fetchDelivers()}})},handleChangePage(e){this.page.index=e,this.fetchDelivers()},handleSearch(){this.page.index=1,this.fetchDelivers()},handleReset(){Object(n["forIn"])(this.form,(e,t)=>{this.form[t]=""}),this.deliver_status=[],this.handleSearch()},async handleDownloadDeliver(e){const t=await this.fetchTask(e.task_id);if(t){const a=await this.fetchProject(t.project_id);if(a){const r=`projectId=${t.project_id}&taskId=${e.task_id}&deliverId=${e.deliver_id}`;this.$FastModal.show(l["a"],{title:e.deliver_name,obj:e,objType:"deliver",jqueryPre:r,projectId:t.project_id,project:a},{})}}},async goDeliver(e){const t=await this.fetchTask(e.task_id);t&&this.$router.push({name:"task",params:{id:t.project_id,taskId:e.task_id},query:{tab:"delivers",deliver_id:e.deliver_id}})},changeTab(){this.fetchDelivers()}},asyncMethods:{fetchDelivers(){this.selectDeliver("",!1);const{page:e,searchParams:t}=this;let a=[];a="all"===this.currentTab?this.deliver_status.length?this.deliver_status:[30,60,70,10,20]:[this.currentTab];const r={page:{start:(e.index-1)*e.size,size:e.size,return_total:1},from:1,deliver_status_list:a};return Object.assign(r,t),Object(u["j"])(r).then(a=>(e.total=a.total,"30"===this.currentTab&&0===Object.keys(t).length&&(this.acceptanceTotal=a.total),a.data)).catch(e=>{console.log(e),this.$Message.error("列表数据获取失败，请刷新重试")})},fetchTask(e){const t={task_id:e};return h["a"].GetTask(t).then(e=>{var t;return null===(t=e.data)||void 0===t?void 0:t.result}).catch(e=>{console.log(e),this.$Message.error("获取批次信息失败")})},fetchProject(e){const t={project_id:e};return Object(f["i"])(t).then(e=>e)}}},y=b,k=(a("6a52"),a("2be6")),x=Object(k["a"])(y,r,i,!1,null,"2e886fff",null);t["default"]=x.exports},"7cdd":function(e,t,a){var r=a("605d"),i=a("202d"),n=i;n.v1=r,n.v4=i,e.exports=n},"7dd9":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("TableFilter",{attrs:{searchLoading:e.loading,btnDirection:"horizontal"},on:{search:function(t){return e.Search()},reset:e.handleReset}},[a("Form",{attrs:{inline:"","label-width":100,"label-colon":!0}},[a("FormItem",{attrs:{label:"标签集ID"}},[a("Input",{staticStyle:{width:"300px"},attrs:{type:"text",placeholder:"输入标签集名称的ID进行搜索"},model:{value:e.queryParams.tagset_id,callback:function(t){e.$set(e.queryParams,"tagset_id",t)},expression:"queryParams.tagset_id"}})],1),a("FormItem",{attrs:{label:"标签集名称"}},[a("Input",{staticStyle:{width:"300px"},attrs:{type:"text",placeholder:"输入标签集名称的关键字进行搜索"},model:{value:e.queryParams.tagset_title,callback:function(t){e.$set(e.queryParams,"tagset_title",t)},expression:"queryParams.tagset_title"}})],1)],1)],1),a("Button",{staticClass:"mbb",attrs:{type:"primary",icon:"md-add"},on:{click:function(t){return e.showModal("tagsetEdit")}}},[e._v("新建标签集")]),a("Table",{attrs:{loading:e.loading,columns:e.columns,data:e.tagsetData},scopedSlots:e._u([{key:"tagset_id",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.tagset_id))])]}},{key:"tagset_title",fn:function(t){var r=t.row;return[a("div",{staticClass:"ellipsis pointer",attrs:{title:r.tagset_title},on:{click:function(t){return e.showModal("tagsetEdit",r)}}},[e._v(e._s(r.tagset_title))])]}},{key:"tagset_content",fn:function(t){var r=t.row;return[a("div",{staticClass:"ellipsis pointer",attrs:{title:JSON.parse(r.tagset_content).map((function(e){return e.value})).join("/")},on:{click:function(t){return e.showModal("tagsetEdit",r)}}},[e._v(e._s(JSON.parse(r.tagset_content).map((function(e){return e.value})).join("/")))])]}},{key:"tagset_num",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(JSON.parse(r.tagset_content).length))])]}},{key:"created_at",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.created_at))])]}},{key:"updated_at",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.updated_at))])]}},{key:"creator",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.creator))])]}},{key:"action",fn:function(t){var r=t.row;return[e.readonly(r)?e._e():[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.showModal("tagsetEdit",r)}}},[e._v("编辑")]),a("Divider",{attrs:{type:"vertical"}}),a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.shareTagset(r)}}},[e._v("分享")]),a("Divider",{attrs:{type:"vertical"}}),a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.Delete(r)}}},[e._v("删除")])]]}}])}),a("br"),a("Page",{staticClass:"right",attrs:{current:e.queryParams.pageIndex,total:e.pageTotal,"page-size":e.queryParams.pageSize,"show-total":"","show-elevator":""},on:{"on-change":e.toPage}}),a("tagset-edit",{staticStyle:{"z-index":"999"},attrs:{visible:e.tagsetEditModal,model:e.tagsetEditModel},on:{hideModal:e.hideAllModal}})],1)},i=[],n=a("8859"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{width:"600",title:e.model?"编辑标签集":"新建标签集","mask-closable":!1},on:{"on-cancel":function(t){return e.hideModal()}},model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[a("Form",{ref:"editForm",attrs:{model:e.formModel,"label-position":"top"}},[a("FormItem",{attrs:{label:"标签集名称",prop:"name",rules:{required:!0,message:"名称不能为空"}}},[a("Input",{attrs:{placeholder:"请填写标签集的名称"},model:{value:e.formModel.name,callback:function(t){e.$set(e.formModel,"name",t)},expression:"formModel.name"}})],1),a("FormItem",{attrs:{label:"标签集内容",prop:"content",rules:{required:!0,validator:e.validateRequired,message:"内容不能为空"}}},[a("TagsetEditContent",{attrs:{options:e.formModel.content},on:{"update:options":function(t){return e.$set(e.formModel,"content",t)}}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{on:{click:function(t){return e.hideModal()}}},[e._v("取消")]),a("Button",{attrs:{type:"primary",loading:e.loading},on:{click:e.Submit}},[e._v("提交")])],1)],1)},o=[],l=(a("f38f"),a("9ec3")),c=a("196a"),d=a("4718"),u=a("7cdd"),h={components:{TagsetEditContent:d["a"]},props:{visible:Boolean,model:Object},data(){return{modal:this.visible,loading:!1,formModel:{name:"",content:[]}}},watch:{visible(){this.modal=this.visible,this.visible&&this.model&&(this.formModel.name=this.model.tagset_title,this.formModel.content=JSON.parse(this.model.tagset_content).map(e=>({...e,id:Object(u["v4"])()})))}},methods:{Submit(){this.loading=!0;const e=Object(l["uniqBy"])(this.formModel.content.filter(e=>""!==Object(l["trim"])(e.value)).map(e=>({value:e.value,label:e.label})),"value"),t={tagset_total:1,tagset_title:this.formModel.name.trim(),tagset_content:JSON.stringify(e)};this.model&&(t.tagset_id=this.model.tagset_id),this.$refs.editForm.validate(e=>{e?c["a"][this.model?"UpdateTagset":"CreateTagset"](t).then(()=>{this.hideModal("refresh"),this.$Message.success(this.model?"编辑成功！":"创建成功！"),this.loading=!1}).catch(e=>{console.log(e),this.$Message.error(`${this.model?"编辑失败":"创建失败"}：${e.message}`),this.loading=!1}):(this.$Message.error((this.model?"编辑失败":"创建失败")+"，请查看是否有遗漏项"),this.loading=!1)})},hideModal(e){this.$emit("hideModal",e),this.$refs.editForm.resetFields(),this.formModel.content=[]},validateRequired(e,t,a){0===Object(l["uniqBy"])(t.filter(e=>""!==Object(l["trim"])(e.value)).map(e=>({value:e.value,label:e.label})),"value").length&&a(new Error("内容不能为空")),a()}}},p=h,f=a("2be6"),m=Object(f["a"])(p,s,o,!1,null,null,null),g=m.exports,_=a("261f"),v=a("c605"),b={components:{TagsetEdit:g,share:_["a"],TableFilter:v["a"]},mixins:[n["a"]],modals:["tagsetEdit"],data(){return{objectType:"tagset",loading:!1,pageTotal:0,queryParams:{tagset_id:"",tagset_title:"",pageIndex:1,pageSize:10},columns:[{title:"标签集ID",slot:"tagset_id",width:200},{title:"标签集名称",slot:"tagset_title"},{title:"标签集内容",slot:"tagset_content"},{title:"数量",slot:"tagset_num"},{title:"创建时间",slot:"created_at"},{title:"更新时间",slot:"updated_at"},{title:"创建人",slot:"creator"},{title:"操作",slot:"action",width:350}],tagsetData:[],user:[]}},computed:{userinfo(){return this.$store.state.userinfo.user},companyinfo(){return this.$store.state.companyinfo},readonly(){return function(e){return this.userinfo.nick_name!==e.creator&&"read"===e.perm}}},mounted(){this.Search()},methods:{handleReset(){this.queryParams={tagset_id:"",tagset_title:"",pageIndex:1,pageSize:10},this.Search()},async Search(){const{tagset_id:e,tagset_title:t,pageIndex:a,pageSize:r}=this.queryParams;if(!/^[0-9]*$/.test(e))return void this.$Message.error("标签集ID只能是数字");const i=[{page:{start:(a-1)*r,size:r,return_total:1},tagset_id:e,tagset_title:t}];this.loading=!0;try{const e=await c["a"].ListTagsets(i);this.tagsetData=e.data.result.data,this.pageTotal=e.data.result.total}catch(n){console.log(n)}this.loading=!1},shareTagset(e){this.$FastModal.show(_["a"],{objectId:e.tagset_id,objectType:"tagset",companyinfo:this.companyinfo},{})},Delete(e){this.$Modal.confirm({title:"确定要删除这个标签集吗？",content:`\n          <p>名称：${e.tagset_title}</p>\n          <p style="white-space:nowrap;overflow:hidden;text-overflow:ellipsis;">内容：${JSON.parse(e.tagset_content).map(e=>e.value).join("/")}</p>\n        `,okText:"确认删除",loading:!0,onOk:()=>{this.fetchDeleteTagset(e)}})},fetchDeleteTagset(e){const t={tagset_id:e.tagset_id};return c["a"].DeleteTagset(t).then(e=>{e?(this.$Message.success("删除成功！"),this.Search()):this.$Message.error("删除失败"),this.$Modal.remove()}).catch(e=>{console.log(e),this.$Message.error("删除失败"),this.$Modal.remove()})},hideAllModal(e){this.hideModal("tagsetEdit"),"refresh"===e&&this.Search()},toPage(e){this.queryParams.pageIndex=e,this.Search()}}},y=b,k=(a("fb02"),Object(f["a"])(y,r,i,!1,null,"03edc143",null));t["default"]=k.exports},"7e13":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"create_project"},[a("Row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[a("Breadcrumb",[a("BreadcrumbItem",[e._v("项目管理")]),a("BreadcrumbItem",{attrs:{to:"/projects/list"}},[e._v("项目列表")]),a("BreadcrumbItem",[e._v("新建项目")])],1),a("div",[a("Tooltip",{attrs:{content:"关闭页面"}},[a("Button",{staticClass:"mls",attrs:{type:"dashed",icon:"md-close",shape:"circle"},on:{click:function(t){return e.$router.back(-1)}}})],1)],1)],1),a("t-divider",{attrs:{align:"left"}},[a("h3",[e._v("新建项目")])]),a("div",{staticClass:"margin"},[[a("div",{staticClass:"selectedBox"},[a("div",{staticClass:"selectedItem showSelectedTag"},[a("Icon",{staticClass:"iconTag",attrs:{type:"md-checkmark"}}),a("h3",[e._v("创建内部标注项目")]),e._m(0)],1),e._m(1)]),a("Form",{ref:"formBasic",attrs:{model:e.form,"label-position":"top"}},[a("Row",{attrs:{gutter:20}},[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"项目名称",prop:"name",rules:{required:!0,message:"项目名称是必填项"}}},[a("Input",{staticClass:"create_f_name",attrs:{type:"text",placeholder:"请输入项目名称",readonly:e.fetchSubmit.isPending},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{staticStyle:{width:"100%"},attrs:{label:"项目交付时间",prop:"expect_date",rules:{required:!0,message:"请选择项目交付时间"}}},[a("DatePicker",{staticStyle:{"flex-grow":"1",display:"block"},attrs:{value:e.value1,type:"datetime",options:e.dateOptions,"start-date":e.startDate,readonly:e.fetchSubmit.isPending,placeholder:"请选择项目交付时间",format:"yyyy-MM-dd"},on:{"on-change":e.handleChange}})],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"项目说明"}},[a("Input",{staticClass:"create_f_desc",attrs:{type:"textarea",autosize:{minRows:4,maxRows:5},placeholder:"请填写项目说明",readonly:e.fetchSubmit.isPending},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1)],1)],1),a("br"),a("FormItem",{attrs:{"label-width":0}},[e.form.type&&"1"===e.form.type?[a("Button",{staticClass:"mrs create_save",attrs:{type:"primary",loading:e.fetchSubmit.isPending},on:{click:function(t){return e.onSubmit("项目保存草稿成功!")}}},[e._v("保存草稿")]),a("Button",{staticClass:"mrs create_submit",attrs:{type:"primary",loading:e.fetchSubmit.isPending},on:{click:function(t){return e.onSubmit("项目提交成功！")}}},[e._v("提交申请供应商")])]:a("t-button",{staticClass:"mrs create_save",attrs:{loading:e.fetchSubmit.isPending},on:{click:function(t){return e.onSubmit("项目创建成功")}}},[e._v("确认提交")]),a("t-button",{attrs:{theme:"default",variant:"base"},on:{click:function(t){return e.$router.push({path:"/projects/list"})}}},[e._v("取消")])],2)],1)]],2)],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"selectedBoxContent"},[a("span",[e._v("使用公司内部标注团队来完成数据标注任务；无需使用研发费预算")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"selectedItem"},[a("h3",[e._v("创建外部标注项目")]),a("div",{staticClass:"selectedBoxContent"},[a("span",[e._v("使用外部供应商人力来完成数据标注任务；需使用研发费预算。暂不支持直接创建，请先")]),a("a",{attrs:{href:"https://aidata.woa.com/orders/new",target:"_blank"}},[e._v("前往AIdata提单")])])])}],n=a("c206"),s=a.n(n),o=a("a06e"),l=a("738c"),c=a("db49"),d={data(){const e=new Date,t=new Date(e.getTime()+864e5);return{options:{},dateOptions:{disabledDate(e){return e&&e.valueOf()<Date.now()}},Config:c["a"],value1:"",form:{name:"",desc:"",expect_date:"",type:"0"},projectId:"",startDate:t}},computed:{companyinfo(){return this.$store.state.companyinfo}},mounted(){},methods:{changeTime(e){this.form.expect_date=s()(e).hour(23).minute(59).second(59).format("YYYY-MM-DD HH:mm:ss")},handleChange(e){this.form.expect_date=e},gotoDatail(e){"跳过"===e?this.$router.push({path:"/projects/list",query:{alive:!0}}):this.$router.push({path:"/projects/list/"+this.projectId,query:{tab:"template",alive:!0}})},onSubmit(e){this.$refs.formBasic.validate(t=>{if(t)return this.fetchSubmit(e);this.$Message.error("提交失败，请检查表单是否有遗漏")})},changeType(e){console.log(e)}},asyncMethods:{fetchSubmit(e){const t="项目保存草稿成功!"===e?0:1;this.changeTime(this.form.expect_date);const a={project_name:this.form.name,project_desc:this.form.desc,project_type:c["a"].PRIVATIZATION?0:Number(this.form.type),project_expect_date:this.form.expect_date,auto_submit:t};return Object(o["d"])(a).then(t=>{t?(this.projectId=t.project_id,this.$FastModal.show(l["a"],{$router:this.$router,project:t,step:1,message:e},{onOk:this.gotoDatail})):this.$Message.error("创建失败")}).catch(e=>{this.$Message.error("创建失败："+e.message)})}}},u=d,h=(a("6fcb"),a("2be6")),p=Object(h["a"])(u,r,i,!1,null,"352f58b5",null);t["default"]=p.exports},"7e33":function(e,t){var a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(a){var r=new Uint8Array(16);e.exports=function(){return a(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},"7f25":function(e,t,a){"use strict";a("5f29")},8:function(e,t){},8287:function(e,t,a){},8647:function(e,t,a){"use strict";a("ccc0")},"881c":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"operation-export"},[a("Form",{attrs:{"label-width":90,"label-colon":!0}},[a("Row",[a("Col",{attrs:{flex:"300px"}},[a("FormItem",{attrs:{label:"关联业务",prop:"business_id"}},[a("Select",{attrs:{disabled:""},model:{value:e.formData.business_id,callback:function(t){e.$set(e.formData,"business_id",t)},expression:"formData.business_id"}},e._l(e.businesses,(function(t){return a("Option",{key:t.business_id,attrs:{value:t.business_id,disabled:!(t.config&&t.config.enableSettlement)}},[e._v(e._s(t.business_name))])})),1)],1)],1),a("Col",{attrs:{flex:"450px"}},[e.fetchBusinessModels.isPending?a("Spin",{attrs:{fix:""}}):e._e(),a("FormItem",{attrs:{label:"模块名",prop:"model_name"}},[a("Select",{attrs:{filterable:"",multiple:"",placeholder:"请选择一级模块名"},model:{value:e.formData.model_name,callback:function(t){e.$set(e.formData,"model_name",t)},expression:"formData.model_name"}},e._l(e.businessModels,(function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1)],1),a("Col",{attrs:{flex:"450px"}},[a("FormItem",{attrs:{label:"日期范围",prop:"date_range"}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{options:e.dateRangeOptions,clearable:!1,type:"daterange",placeholder:"日期范围是必选"},model:{value:e.formData.date_range,callback:function(t){e.$set(e.formData,"date_range",t)},expression:"formData.date_range"}})],1)],1)],1)],1),a("Row",{attrs:{gutter:20}},[e._l(e.exportOptions,(function(t){return[a("Col",{key:t.title,attrs:{flex:"280px"}},[a("Card",{staticClass:"mbb"},[a("Row",{attrs:{justify:"center"}},[a("Button",{staticClass:"mbm",attrs:{type:"primary",ghost:"",icon:"md-download"},on:{click:t.onClick}},[e._v(e._s(t.title))]),a("div",{staticClass:"txt-muted txt-center"},e._l(t.desc,(function(t){return a("p",[e._v(e._s(t))])})),0)],1)],1)],1)]}))],2)],1)},i=[],n=(a("8d0d"),a("189e")),s=a("175d"),o=a("c206"),l=a.n(o),c={data(){return{dateRangeOptions:{shortcuts:[{text:"最近1天",value(){const e=new Date,t=new Date;return t.setTime(t.getTime()),[t,e]}},{text:"最近7天",value(){const e=new Date,t=new Date;return t.setTime(t.getTime()-5184e5),[t,e]}},{text:"最近30天",value(){const e=new Date,t=new Date;return t.setTime(t.getTime()-25056e5),[t,e]}},{text:"本月",value(){const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1),a=new Date(e.getFullYear(),e.getMonth()+1,0);return[t,a]}},{text:"上个月",value(){const e=new Date,t=new Date(e.getFullYear(),e.getMonth()-1,1),a=new Date(e.getFullYear(),e.getMonth(),0);return[t,a]}}]},formData:{business_id:"",model_name:"",date_range:[]},exportOptions:[{title:"模块分析",desc:["包含“模块维度”相关质效数据","（供应商/标管侧/算法侧）"],onClick:()=>this.fetchExport("model")},{title:"任务分析",desc:["包含“任务维度”相关质效数据","（供应商/标管侧/算法侧）"],onClick:()=>this.fetchExport("task")},{title:"批次分析",desc:["包含“批次维度”相关质效数据","（供应商/标管侧/算法侧）"],onClick:()=>this.fetchExport("deliver")}]}},computed:{isWorkbench(){return this.$route.path.includes("workbench")}},watch:{"formData.business_id"(e){e&&this.fetchBusinessModels()}},async mounted(){this.formData.date_range=[l()(),l()()],await this.fetchBusinesses()},methods:{businessModelsHook(e){const t={children:[]},a=(e,t,r)=>{const i="model_name_array",n={label:t[i][r],value:t[i][r]},s=e.children.find(e=>(null===e||void 0===e?void 0:e.value)===t[i][r]);if(s)t[i][r+1]?a(s,t,r+1):e.children.push({...n,model:{...t,model_id:t.model_id.toString()}});else if(t[i][r+1]){const i=e.children.push({...n,children:[]});a(e.children[i-1],t,r+1)}else e.children.push({...n,model:{...t,model_id:t.model_id.toString()}})};return e.data.forEach(e=>{a(t,e,0)}),console.log("组织三级关联模块",t),t.children},onFetchParams(){const e={},{formData:t}=this;if(Object.keys(t).forEach(a=>{t[a]&&(e[a]=t[a]),"model_name"===a&&(e[a]=t[a].length?t[a].join(";"):"")}),2===e.date_range.length){const[t,a]=e.date_range;Object.assign(e,{start_time:t?l()(t).format("YYYY-MM-DD 00:00:00"):void 0,end_time:a?l()(a).format("YYYY-MM-DD 23:59:59"):void 0})}return Object.keys(e).forEach(t=>{e[t]||delete e[t]}),delete e.business_id,delete e.date_range,e}},asyncMethods:{fetchBusinesses(){return Object(n["d"])().then(e=>{const t=e.data.map(e=>{let t=null;if(e.config)try{t=JSON.parse(e.config)}catch(a){console.log(a)}return{...e,config:t}}),a=t.find(e=>{var t;return null===(t=e.config)||void 0===t?void 0:t.enableSettlement});return a&&this.$set(this.formData,"business_id",a.business_id),t}).catch(e=>{console.log(e)})},fetchBusinessModels(){if(!this.formData.business_id)return Promise.resolve({});const e={business_id:this.formData.business_id,page:{start:0,size:1e3,return_total:1}};return Object(n["c"])(e).then(e=>this.businessModelsHook(e))},fetchExport(e){let t=null;switch(e){case"model":t=s["l"];break;case"task":t=s["m"];break;case"deliver":t=s["k"];break}const a=this.onFetchParams();try{t(a,e=>{const t=document.createElement("div");t.innerHTML=e;const{message:a}=JSON.parse(t.innerText).error;this.$Message.error("下载失败："+a)})}catch(r){console.log(r),this.$Message.error("下载失败："+r.message)}}}},d=c,u=(a("bb06"),a("2be6")),h=Object(u["a"])(d,r,i,!1,null,"4d5bbd9e",null);t["default"]=h.exports},8852:function(e,t,a){"use strict";a("540a")},"8b9d":function(e,t,a){"use strict";a("9488")},"8c51":function(e,t,a){e.exports=a.p+"static/img/list-preview.446020e5.png"},"8cc4":function(e,t,a){"use strict";a("9119")},"8d46":function(e,t,a){"use strict";a("8ee3")},"8dbf":function(e,t,a){"use strict";a("48d4")},"8ee3":function(e,t,a){},"8eea":function(e,t,a){},"8f1f":function(e,t,a){},"8fd1":function(e,t,a){"use strict";a("0a70")},9:function(e,t){},"901c":function(e,t,a){},9047:function(e,t,a){(function(a,r,i){var n,s,o,l;(function(a){if("undefined"==typeof DO_NOT_EXPORT_JSZIP)e.exports=a();else if("undefined"==typeof DO_NOT_EXPORT_JSZIP)JSZipSync=a(),s=[],n=a,o="function"===typeof n?n.apply(t,s):n,void 0===o||(e.exports=o);else{var l;"undefined"!=typeof globalThis?l=globalThis:"undefined"!=typeof window?l=window:"undefined"!=typeof r?l=r:"undefined"!=typeof i&&i.global?l=i.global:"undefined"!=typeof self&&(l=self),l.JSZipSync=a()}})((function(){return function e(t,a,r){function i(s,o){if(!a[s]){if(!t[s]){var c="function"==typeof l&&l;if(!o&&c)return l(s,!0);if(n)return n(s,!0);throw new Error("Cannot find module '"+s+"'")}var d=a[s]={exports:{}};t[s][0].call(d.exports,(function(e){var a=t[s][1][e];return i(a||e)}),d,d.exports,e,t,a,r)}return a[s].exports}for(var n="function"==typeof l&&l,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,a){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(e,t){var a,i,n,s,o,l,c,d="",u=0;while(u<e.length)a=e.charCodeAt(u++),i=e.charCodeAt(u++),n=e.charCodeAt(u++),s=a>>2,o=(3&a)<<4|i>>4,l=(15&i)<<2|n>>6,c=63&n,isNaN(i)?l=c=64:isNaN(n)&&(c=64),d=d+r.charAt(s)+r.charAt(o)+r.charAt(l)+r.charAt(c);return d},a.decode=function(e,t){var a,i,n,s,o,l,c,d="",u=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(u<e.length)s=r.indexOf(e.charAt(u++)),o=r.indexOf(e.charAt(u++)),l=r.indexOf(e.charAt(u++)),c=r.indexOf(e.charAt(u++)),a=s<<2|o>>4,i=(15&o)<<4|l>>2,n=(3&l)<<6|c,d+=String.fromCharCode(a),64!=l&&(d+=String.fromCharCode(i)),64!=c&&(d+=String.fromCharCode(n));return d}},{}],2:[function(e,t,a){"use strict";function r(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}r.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},t.exports=r},{}],3:[function(e,t,a){"use strict";a.STORE={magic:"\0\0",compress:function(e){return e},uncompress:function(e){return e},compressInputType:null,uncompressInputType:null},a.DEFLATE=e("./flate")},{"./flate":8}],4:[function(e,t,a){"use strict";var r=e("./utils"),i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];t.exports=function(e,t){if("undefined"===typeof e||!e.length)return 0;var a="string"!==r.getTypeOf(e);"undefined"==typeof t&&(t=0);var n=0,s=0,o=0;t^=-1;for(var l=0,c=e.length;l<c;l++)o=a?e[l]:e.charCodeAt(l),s=255&(t^o),n=i[s],t=t>>>8^n;return-1^t}},{"./utils":21}],5:[function(e,t,a){"use strict";var r=e("./utils");function i(e){this.data=null,this.length=0,this.index=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,a=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)a=(a<<8)+this.byteAt(t);return this.index+=e,a},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1)}},t.exports=i},{"./utils":21}],6:[function(e,t,a){"use strict";a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!1,a.date=null,a.compression=null,a.comment=null},{}],7:[function(e,t,a){"use strict";var r=e("./utils");a.string2binary=function(e){return r.string2binary(e)},a.string2Uint8Array=function(e){return r.transformTo("uint8array",e)},a.uint8Array2String=function(e){return r.transformTo("string",e)},a.string2Blob=function(e){var t=r.transformTo("arraybuffer",e);return r.arrayBuffer2Blob(t)},a.arrayBuffer2Blob=function(e){return r.arrayBuffer2Blob(e)},a.transformTo=function(e,t){return r.transformTo(e,t)},a.getTypeOf=function(e){return r.getTypeOf(e)},a.checkSupport=function(e){return r.checkSupport(e)},a.MAX_VALUE_16BITS=r.MAX_VALUE_16BITS,a.MAX_VALUE_32BITS=r.MAX_VALUE_32BITS,a.pretty=function(e){return r.pretty(e)},a.findCompression=function(e){return r.findCompression(e)},a.isRegExp=function(e){return r.isRegExp(e)}},{"./utils":21}],8:[function(e,t,a){"use strict";var r="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Uint32Array,i=e("pako");a.uncompressInputType=r?"uint8array":"array",a.compressInputType=r?"uint8array":"array",a.magic="\b\0",a.compress=function(e){return i.deflateRaw(e)},a.uncompress=function(e){return i.inflateRaw(e)}},{pako:24}],9:[function(e,t,a){"use strict";var r=e("./base64");function i(e,t){if(!(this instanceof i))return new i(e,t);this.files={},this.comment=null,this.root="",e&&this.load(e,t),this.clone=function(){var e=new i;for(var t in this)"function"!==typeof this[t]&&(e[t]=this[t]);return e}}i.prototype=e("./object"),i.prototype.load=e("./load"),i.support=e("./support"),i.defaults=e("./defaults"),i.utils=e("./deprecatedPublicUtils"),i.base64={encode:function(e){return r.encode(e)},decode:function(e){return r.decode(e)}},i.compressions=e("./compressions"),t.exports=i},{"./base64":1,"./compressions":3,"./defaults":6,"./deprecatedPublicUtils":7,"./load":10,"./object":13,"./support":17}],10:[function(e,t,a){"use strict";var r=e("./base64"),i=e("./zipEntries");t.exports=function(e,t){var a,n,s,o;for(t=t||{},t.base64&&(e=r.decode(e)),n=new i(e,t),a=n.files,s=0;s<a.length;s++)o=a[s],this.file(o.fileName,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileComment.length?o.fileComment:null,createFolders:t.createFolders});return n.zipComment.length&&(this.comment=n.zipComment),this}},{"./base64":1,"./zipEntries":22}],11:[function(e,t,r){(function(e){"use strict";var a=function(){};if("undefined"!==typeof e){var r=!e.from;if(!r)try{e.from("foo","utf8")}catch(i){r=!0}a=r?function(t,a){return a?new e(t,a):new e(t)}:e.from.bind(e),e.alloc||(e.alloc=function(t){return new e(t)})}t.exports=function(t,r){return"number"==typeof t?e.alloc(t):a(t,r)},t.exports.test=function(t){return e.isBuffer(t)}}).call(this,"undefined"!==typeof a?a:void 0)},{}],12:[function(e,t,a){"use strict";var r=e("./uint8ArrayReader");function i(e){this.data=e,this.length=this.data.length,this.index=0}i.prototype=new r,i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.index,this.index+e);return this.index+=e,t},t.exports=i},{"./uint8ArrayReader":18}],13:[function(e,t,a){"use strict";var r=e("./support"),i=e("./utils"),n=e("./crc32"),s=e("./signature"),o=e("./defaults"),l=e("./base64"),c=e("./compressions"),d=e("./compressedObject"),u=e("./nodeBuffer"),h=e("./utf8"),p=e("./stringWriter"),f=e("./uint8ArrayWriter"),m=function(e){if(e._data instanceof d&&(e._data=e._data.getContent(),e.options.binary=!0,e.options.base64=!1,"uint8array"===i.getTypeOf(e._data))){var t=e._data;e._data=new Uint8Array(t.length),0!==t.length&&e._data.set(t,0)}return e._data},g=function(e){var t=m(e),a=i.getTypeOf(t);return"string"===a?!e.options.binary&&r.nodebuffer?u(t,"utf-8"):e.asBinary():t},_=function(e){var t=m(this);return null===t||"undefined"===typeof t?"":(this.options.base64&&(t=l.decode(t)),t=e&&this.options.binary?T.utf8decode(t):i.transformTo("string",t),e||this.options.binary||(t=i.transformTo("string",T.utf8encode(t))),t)},v=function(e,t,a){this.name=e,this.dir=a.dir,this.date=a.date,this.comment=a.comment,this._data=t,this.options=a,this._initialMetadata={dir:a.dir,date:a.date}};v.prototype={asText:function(){return _.call(this,!0)},asBinary:function(){return _.call(this,!1)},asNodeBuffer:function(){var e=g(this);return i.transformTo("nodebuffer",e)},asUint8Array:function(){var e=g(this);return i.transformTo("uint8array",e)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var b=function(e,t){var a,r="";for(a=0;a<t;a++)r+=String.fromCharCode(255&e),e>>>=8;return r},y=function(){var e,t,a={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&"undefined"===typeof a[t]&&(a[t]=arguments[e][t]);return a},k=function(e){return e=e||{},!0!==e.base64||null!==e.binary&&void 0!==e.binary||(e.binary=!0),e=y(e,o),e.date=e.date||new Date,null!==e.compression&&(e.compression=e.compression.toUpperCase()),e},x=function(e,t,a){var r,n=i.getTypeOf(t);if(a=k(a),a.createFolders&&(r=w(e))&&S.call(this,r,!0),a.dir||null===t||"undefined"===typeof t)a.base64=!1,a.binary=!1,t=null;else if("string"===n)a.binary&&!a.base64&&!0!==a.optimizedBinaryString&&(t=i.string2binary(t));else{if(a.base64=!1,a.binary=!0,!n&&!(t instanceof d))throw new Error("The data of '"+e+"' is in an unsupported format !");"arraybuffer"===n&&(t=i.transformTo("uint8array",t))}var s=new v(e,t,a);return this.files[e]=s,s},w=function(e){"/"==e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},S=function(e,t){return"/"!=e.slice(-1)&&(e+="/"),t="undefined"!==typeof t&&t,this.files[e]||x.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]},C=function(e,t){var a,r=new d;return e._data instanceof d?(r.uncompressedSize=e._data.uncompressedSize,r.crc32=e._data.crc32,0===r.uncompressedSize||e.dir?(t=c["STORE"],r.compressedContent="",r.crc32=0):e._data.compressionMethod===t.magic?r.compressedContent=e._data.getCompressedContent():(a=e._data.getContent(),r.compressedContent=t.compress(i.transformTo(t.compressInputType,a)))):(a=g(e),a&&0!==a.length&&!e.dir||(t=c["STORE"],a=""),r.uncompressedSize=a.length,r.crc32=n(a),r.compressedContent=t.compress(i.transformTo(t.compressInputType,a))),r.compressedSize=r.compressedContent.length,r.compressionMethod=t.magic,r},O=function(e,t,a,r){a.compressedContent;var o,l,c,d,u=i.transformTo("string",h.utf8encode(t.name)),p=t.comment||"",f=i.transformTo("string",h.utf8encode(p)),m=u.length!==t.name.length,g=f.length!==p.length,_=t.options,v="",y="",k="";c=t._initialMetadata.dir!==t.dir?t.dir:_.dir,d=t._initialMetadata.date!==t.date?t.date:_.date,o=d.getHours(),o<<=6,o|=d.getMinutes(),o<<=5,o|=d.getSeconds()/2,l=d.getFullYear()-1980,l<<=4,l|=d.getMonth()+1,l<<=5,l|=d.getDate(),m&&(y=b(1,1)+b(n(u),4)+u,v+="up"+b(y.length,2)+y),g&&(k=b(1,1)+b(this.crc32(f),4)+f,v+="uc"+b(k.length,2)+k);var x="";x+="\n\0",x+=m||g?"\0\b":"\0\0",x+=a.compressionMethod,x+=b(o,2),x+=b(l,2),x+=b(a.crc32,4),x+=b(a.compressedSize,4),x+=b(a.uncompressedSize,4),x+=b(u.length,2),x+=b(v.length,2);var w=s.LOCAL_FILE_HEADER+x+u+v,S=s.CENTRAL_FILE_HEADER+"\0"+x+b(f.length,2)+"\0\0\0\0"+(!0===c?"\0\0\0":"\0\0\0\0")+b(r,4)+u+v+f;return{fileRecord:w,dirRecord:S,compressedObject:a}},T={load:function(e,t){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(e){var t,a,r,i,n=[];for(t in this.files)this.files.hasOwnProperty(t)&&(r=this.files[t],i=new v(r.name,r._data,y(r.options)),a=t.slice(this.root.length,t.length),t.slice(0,this.root.length)===this.root&&e(a,i)&&n.push(i));return n},file:function(e,t,a){if(1===arguments.length){if(i.isRegExp(e)){var r=e;return this.filter((function(e,t){return!t.dir&&r.test(e)}))}return this.filter((function(t,a){return!a.dir&&t===e}))[0]||null}return e=this.root+e,x.call(this,e,t,a),this},folder:function(e){if(!e)return this;if(i.isRegExp(e))return this.filter((function(t,a){return a.dir&&e.test(t)}));var t=this.root+e,a=S.call(this,t),r=this.clone();return r.root=a.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!=e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var a=this.filter((function(t,a){return a.name.slice(0,e.length)===e})),r=0;r<a.length;r++)delete this.files[a[r].name];return this},generate:function(e){e=y(e||{},{base64:!0,compression:"STORE",type:"base64",comment:null}),i.checkSupport(e.type);var t,a,r=[],n=0,o=0,d=i.transformTo("string",this.utf8encode(e.comment||this.comment||""));for(var u in this.files)if(this.files.hasOwnProperty(u)){var h=this.files[u],m=h.options.compression||e.compression.toUpperCase(),g=c[m];if(!g)throw new Error(m+" is not a valid compression method !");var _=C.call(this,h,g),v=O.call(this,u,h,_,n);n+=v.fileRecord.length+_.compressedSize,o+=v.dirRecord.length,r.push(v)}var k="";k=s.CENTRAL_DIRECTORY_END+"\0\0\0\0"+b(r.length,2)+b(r.length,2)+b(o,4)+b(n,4)+b(d.length,2)+d;var x=e.type.toLowerCase();for(t="uint8array"===x||"arraybuffer"===x||"blob"===x||"nodebuffer"===x?new f(n+o+k.length):new p(n+o+k.length),a=0;a<r.length;a++)t.append(r[a].fileRecord),t.append(r[a].compressedObject.compressedContent);for(a=0;a<r.length;a++)t.append(r[a].dirRecord);t.append(k);var w=t.finalize();switch(e.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return i.transformTo(e.type.toLowerCase(),w);case"blob":return i.arrayBuffer2Blob(i.transformTo("arraybuffer",w));case"base64":return e.base64?l.encode(w):w;default:return w}},crc32:function(e,t){return n(e,t)},utf8encode:function(e){return i.transformTo("string",h.utf8encode(e))},utf8decode:function(e){return h.utf8decode(e)}};t.exports=T},{"./base64":1,"./compressedObject":2,"./compressions":3,"./crc32":4,"./defaults":6,"./nodeBuffer":11,"./signature":14,"./stringWriter":16,"./support":17,"./uint8ArrayWriter":19,"./utf8":20,"./utils":21}],14:[function(e,t,a){"use strict";a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\b"},{}],15:[function(e,t,a){"use strict";var r=e("./dataReader"),i=e("./utils");function n(e,t){this.data=e,t||(this.data=i.string2binary(this.data)),this.length=this.data.length,this.index=0}n.prototype=new r,n.prototype.byteAt=function(e){return this.data.charCodeAt(e)},n.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)},n.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.index,this.index+e);return this.index+=e,t},t.exports=n},{"./dataReader":5,"./utils":21}],16:[function(e,t,a){"use strict";var r=e("./utils"),i=function(){this.data=[]};i.prototype={append:function(e){e=r.transformTo("string",e),this.data.push(e)},finalize:function(){return this.data.join("")}},t.exports=i},{"./utils":21}],17:[function(e,t,r){(function(e){"use strict";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array,r.nodebuffer="undefined"!==typeof e,r.uint8array="undefined"!==typeof Uint8Array,"undefined"===typeof ArrayBuffer)r.blob=!1;else{var t=new ArrayBuffer(0);try{r.blob=0===new Blob([t],{type:"application/zip"}).size}catch(n){try{var a=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,i=new a;i.append(t),r.blob=0===i.getBlob("application/zip").size}catch(n){r.blob=!1}}}}).call(this,"undefined"!==typeof a?a:void 0)},{}],18:[function(e,t,a){"use strict";var r=e("./dataReader");function i(e){e&&(this.data=e,this.length=this.data.length,this.index=0)}i.prototype=new r,i.prototype.byteAt=function(e){return this.data[e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),a=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),n=this.length-4;n>=0;--n)if(this.data[n]===t&&this.data[n+1]===a&&this.data[n+2]===r&&this.data[n+3]===i)return n;return-1},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.index,this.index+e);return this.index+=e,t},t.exports=i},{"./dataReader":5}],19:[function(e,t,a){"use strict";var r=e("./utils"),i=function(e){this.data=new Uint8Array(e),this.index=0};i.prototype={append:function(e){0!==e.length&&(e=r.transformTo("uint8array",e),this.data.set(e,this.index),this.index+=e.length)},finalize:function(){return this.data}},t.exports=i},{"./utils":21}],20:[function(e,t,a){"use strict";for(var r=e("./utils"),i=e("./support"),n=e("./nodeBuffer"),s=new Array(256),o=0;o<256;o++)s[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;s[254]=s[254]=1;var l=function(e){var t,a,r,n,s,o=e.length,l=0;for(n=0;n<o;n++)a=e.charCodeAt(n),55296===(64512&a)&&n+1<o&&(r=e.charCodeAt(n+1),56320===(64512&r)&&(a=65536+(a-55296<<10)+(r-56320),n++)),l+=a<128?1:a<2048?2:a<65536?3:4;for(t=i.uint8array?new Uint8Array(l):new Array(l),s=0,n=0;s<l;n++)a=e.charCodeAt(n),55296===(64512&a)&&n+1<o&&(r=e.charCodeAt(n+1),56320===(64512&r)&&(a=65536+(a-55296<<10)+(r-56320),n++)),a<128?t[s++]=a:a<2048?(t[s++]=192|a>>>6,t[s++]=128|63&a):a<65536?(t[s++]=224|a>>>12,t[s++]=128|a>>>6&63,t[s++]=128|63&a):(t[s++]=240|a>>>18,t[s++]=128|a>>>12&63,t[s++]=128|a>>>6&63,t[s++]=128|63&a);return t},c=function(e,t){var a;t=t||e.length,t>e.length&&(t=e.length),a=t-1;while(a>=0&&128===(192&e[a]))a--;return a<0||0===a?t:a+s[e[a]]>t?a:t},d=function(e){var t,a,i,n,o=e.length,l=new Array(2*o);for(a=0,t=0;t<o;)if(i=e[t++],i<128)l[a++]=i;else if(n=s[i],n>4)l[a++]=65533,t+=n-1;else{i&=2===n?31:3===n?15:7;while(n>1&&t<o)i=i<<6|63&e[t++],n--;n>1?l[a++]=65533:i<65536?l[a++]=i:(i-=65536,l[a++]=55296|i>>10&1023,l[a++]=56320|1023&i)}return l.length!==a&&(l.subarray?l=l.subarray(0,a):l.length=a),r.applyFromCharCode(l)};a.utf8encode=function(e){return i.nodebuffer?n(e,"utf-8"):l(e)},a.utf8decode=function(e){if(i.nodebuffer)return r.transformTo("nodebuffer",e).toString("utf-8");e=r.transformTo(i.uint8array?"uint8array":"array",e);var t=[],a=0,n=e.length,s=65536;while(a<n){var o=c(e,Math.min(a+s,n));i.uint8array?t.push(d(e.subarray(a,o))):t.push(d(e.slice(a,o))),a=o}return t.join("")}},{"./nodeBuffer":11,"./support":17,"./utils":21}],21:[function(e,t,a){"use strict";var r=e("./support"),i=e("./compressions"),n=e("./nodeBuffer");function s(e){return e}function o(e,t){for(var a=0;a<e.length;++a)t[a]=255&e.charCodeAt(a);return t}function l(e){var t=65536,r=[],i=e.length,s=a.getTypeOf(e),o=0,l=!0;try{switch(s){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,n(0));break}}catch(u){l=!1}if(!l){for(var c="",d=0;d<e.length;d++)c+=String.fromCharCode(e[d]);return c}while(o<i&&t>1)try{"array"===s||"nodebuffer"===s?r.push(String.fromCharCode.apply(null,e.slice(o,Math.min(o+t,i)))):r.push(String.fromCharCode.apply(null,e.subarray(o,Math.min(o+t,i)))),o+=t}catch(u){t=Math.floor(t/2)}return r.join("")}function c(e,t){for(var a=0;a<e.length;a++)t[a]=e[a];return t}a.string2binary=function(e){for(var t="",a=0;a<e.length;a++)t+=String.fromCharCode(255&e.charCodeAt(a));return t},a.arrayBuffer2Blob=function(e){a.checkSupport("blob");try{return new Blob([e],{type:"application/zip"})}catch(i){try{var t=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,r=new t;return r.append(e),r.getBlob("application/zip")}catch(i){throw new Error("Bug : can't construct the Blob.")}}},a.applyFromCharCode=l;var d={};d["string"]={string:s,array:function(e){return o(e,new Array(e.length))},arraybuffer:function(e){return d["string"]["uint8array"](e).buffer},uint8array:function(e){return o(e,new Uint8Array(e.length))},nodebuffer:function(e){return o(e,n(e.length))}},d["array"]={string:l,array:s,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return n(e)}},d["arraybuffer"]={string:function(e){return l(new Uint8Array(e))},array:function(e){return c(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:s,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return n(new Uint8Array(e))}},d["uint8array"]={string:l,array:function(e){return c(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:s,nodebuffer:function(e){return n(e)}},d["nodebuffer"]={string:l,array:function(e){return c(e,new Array(e.length))},arraybuffer:function(e){return d["nodebuffer"]["uint8array"](e).buffer},uint8array:function(e){return c(e,new Uint8Array(e.length))},nodebuffer:s},a.transformTo=function(e,t){if(t||(t=""),!e)return t;a.checkSupport(e);var r=a.getTypeOf(t),i=d[r][e](t);return i},a.getTypeOf=function(e){return"string"===typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&n.test(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(e){var t=r[e.toLowerCase()];if(!t)throw new Error(e+" is not supported by this browser")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(e){var t,a,r="";for(a=0;a<(e||"").length;a++)t=e.charCodeAt(a),r+="\\x"+(t<16?"0":"")+t.toString(16).toUpperCase();return r},a.findCompression=function(e){for(var t in i)if(i.hasOwnProperty(t)&&i[t].magic===e)return i[t];return null},a.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)}},{"./compressions":3,"./nodeBuffer":11,"./support":17}],22:[function(e,t,a){"use strict";var r=e("./stringReader"),i=e("./nodeBufferReader"),n=e("./uint8ArrayReader"),s=e("./utils"),o=e("./signature"),l=e("./zipEntry"),c=e("./support"),d=e("./object");function u(e,t){this.files=[],this.loadOptions=t,e&&this.load(e)}u.prototype={checkSignature:function(e){var t=this.reader.readString(4);if(t!==e)throw new Error("Corrupted zip or bug : unexpected signature ("+s.pretty(t)+", expected "+s.pretty(e)+")")},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2),this.zipComment=this.reader.readString(this.zipCommentLength),this.zipComment=d.utf8decode(this.zipComment)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};var e,t,a,r=this.zip64EndOfCentralSize-44,i=0;while(i<r)e=this.reader.readInt(2),t=this.reader.readInt(4),a=this.reader.readString(t),this.zip64ExtensibleData[e]={id:e,length:t,value:a}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8()},readCentralDir:function(){var e;this.reader.setIndex(this.centralDirOffset);while(this.reader.readString(4)===o.CENTRAL_FILE_HEADER)e=new l({zip64:this.zip64},this.loadOptions),e.readCentralPart(this.reader),this.files.push(e)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(-1===e)throw new Error("Corrupted zip : can't find end of central directory");if(this.reader.setIndex(e),this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),-1===e)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}},prepareReader:function(e){var t=s.getTypeOf(e);"string"!==t||c.uint8array?this.reader="nodebuffer"===t?new i(e):new n(s.transformTo("uint8array",e)):this.reader=new r(e,this.loadOptions.optimizedBinaryString)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=u},{"./nodeBufferReader":12,"./object":13,"./signature":14,"./stringReader":15,"./support":17,"./uint8ArrayReader":18,"./utils":21,"./zipEntry":23}],23:[function(e,t,a){"use strict";var r=e("./stringReader"),i=e("./utils"),n=e("./compressedObject"),s=e("./object");function o(e,t){this.options=e,this.loadOptions=t}o.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},prepareCompressedContent:function(e,t,a){return function(){var r=e.index;e.setIndex(t);var i=e.readData(a);return e.setIndex(r),i}},prepareContent:function(e,t,a,r,n){return function(){var e=i.transformTo(r.uncompressInputType,this.getCompressedContent()),t=r.uncompress(e);if(t.length!==n)throw new Error("Bug : uncompressed data size mismatch");return t}},readLocalPart:function(e){var t,a;if(e.skip(22),this.fileNameLength=e.readInt(2),a=e.readInt(2),this.fileName=e.readString(this.fileNameLength),e.skip(a),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");if(t=i.findCompression(this.compressionMethod),null===t)throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+this.fileName+")");if(this.decompressed=new n,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(e,e.index,this.compressedSize,t),this.decompressed.getContent=this.prepareContent(e,e.index,this.compressedSize,t,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=i.transformTo("string",this.decompressed.getContent()),s.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(e){if(this.versionMadeBy=e.readString(2),this.versionNeeded=e.readInt(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4),this.fileNameLength=e.readInt(2),this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=e.readString(this.fileNameLength),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readString(this.fileCommentLength),this.dir=!!(16&this.externalFileAttributes)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=new r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,a,r,i=e.index;this.extraFields=this.extraFields||{};while(e.index<i+this.extraFieldsLength)t=e.readInt(2),a=e.readInt(2),r=e.readString(a),this.extraFields[t]={id:t,length:a,value:r}},handleUTF8:function(){if(this.useUTF8())this.fileName=s.utf8decode(this.fileName),this.fileComment=s.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();null!==e&&(this.fileName=e);var t=this.findExtraFieldUnicodeComment();null!==t&&(this.fileComment=t)}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=new r(e.value);return 1!==t.readInt(1)||s.crc32(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readString(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=new r(e.value);return 1!==t.readInt(1)||s.crc32(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readString(e.length-5))}return null}},t.exports=o},{"./compressedObject":2,"./object":13,"./stringReader":15,"./utils":21}],24:[function(e,t,a){"use strict";var r=e("./lib/utils/common").assign,i=e("./lib/deflate"),n=e("./lib/inflate"),s=e("./lib/zlib/constants"),o={};r(o,i,n,s),t.exports=o},{"./lib/deflate":25,"./lib/inflate":26,"./lib/utils/common":27,"./lib/zlib/constants":30}],25:[function(e,t,a){"use strict";var r=e("./zlib/deflate.js"),i=e("./utils/common"),n=e("./utils/strings"),s=e("./zlib/messages"),o=e("./zlib/zstream"),l=0,c=4,d=0,u=1,h=-1,p=0,f=8,m=function(e){this.options=i.assign({level:h,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var a=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(a!==d)throw new Error(s[a]);t.header&&r.deflateSetHeader(this.strm,t.header)};function g(e,t){var a=new m(t);if(a.push(e,!0),a.err)throw a.msg;return a.result}function _(e,t){return t=t||{},t.raw=!0,g(e,t)}function v(e,t){return t=t||{},t.gzip=!0,g(e,t)}m.prototype.push=function(e,t){var a,s,o=this.strm,h=this.options.chunkSize;if(this.ended)return!1;s=t===~~t?t:!0===t?c:l,o.input="string"===typeof e?n.string2buf(e):e,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new i.Buf8(h),o.next_out=0,o.avail_out=h),a=r.deflate(o,s),a!==u&&a!==d)return this.onEnd(a),this.ended=!0,!1;(0===o.avail_out||0===o.avail_in&&s===c)&&("string"===this.options.to?this.onData(n.buf2binstring(i.shrinkBuf(o.output,o.next_out))):this.onData(i.shrinkBuf(o.output,o.next_out)))}while((o.avail_in>0||0===o.avail_out)&&a!==u);return s!==c||(a=r.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===d)},m.prototype.onData=function(e){this.chunks.push(e)},m.prototype.onEnd=function(e){e===d&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},a.Deflate=m,a.deflate=g,a.deflateRaw=_,a.gzip=v},{"./utils/common":27,"./utils/strings":28,"./zlib/deflate.js":32,"./zlib/messages":37,"./zlib/zstream":39}],26:[function(e,t,a){"use strict";var r=e("./zlib/inflate.js"),i=e("./utils/common"),n=e("./utils/strings"),s=e("./zlib/constants"),o=e("./zlib/messages"),l=e("./zlib/zstream"),c=e("./zlib/gzheader"),d=function(e){this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var a=r.inflateInit2(this.strm,t.windowBits);if(a!==s.Z_OK)throw new Error(o[a]);this.header=new c,r.inflateGetHeader(this.strm,this.header)};function u(e,t){var a=new d(t);if(a.push(e,!0),a.err)throw a.msg;return a.result}function h(e,t){return t=t||{},t.raw=!0,u(e,t)}d.prototype.push=function(e,t){var a,o,l,c,d,u=this.strm,h=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?s.Z_FINISH:s.Z_NO_FLUSH,u.input="string"===typeof e?n.binstring2buf(e):e,u.next_in=0,u.avail_in=u.input.length;do{if(0===u.avail_out&&(u.output=new i.Buf8(h),u.next_out=0,u.avail_out=h),a=r.inflate(u,s.Z_NO_FLUSH),a!==s.Z_STREAM_END&&a!==s.Z_OK)return this.onEnd(a),this.ended=!0,!1;u.next_out&&(0===u.avail_out||a===s.Z_STREAM_END||0===u.avail_in&&o===s.Z_FINISH)&&("string"===this.options.to?(l=n.utf8border(u.output,u.next_out),c=u.next_out-l,d=n.buf2string(u.output,l),u.next_out=c,u.avail_out=h-c,c&&i.arraySet(u.output,u.output,l,c,0),this.onData(d)):this.onData(i.shrinkBuf(u.output,u.next_out)))}while(u.avail_in>0&&a!==s.Z_STREAM_END);return a===s.Z_STREAM_END&&(o=s.Z_FINISH),o!==s.Z_FINISH||(a=r.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===s.Z_OK)},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},a.Inflate=d,a.inflate=u,a.inflateRaw=h,a.ungzip=u},{"./utils/common":27,"./utils/strings":28,"./zlib/constants":30,"./zlib/gzheader":33,"./zlib/inflate.js":35,"./zlib/messages":37,"./zlib/zstream":39}],27:[function(e,t,a){"use strict";var r="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;a.assign=function(e){var t=Array.prototype.slice.call(arguments,1);while(t.length){var a=t.shift();if(a){if("object"!==typeof a)throw new TypeError(a+"must be non-object");for(var r in a)a.hasOwnProperty(r)&&(e[r]=a[r])}}return e},a.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,a,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(a,a+r),i);else for(var n=0;n<r;n++)e[i+n]=t[a+n]},flattenChunks:function(e){var t,a,r,i,n,s;for(r=0,t=0,a=e.length;t<a;t++)r+=e[t].length;for(s=new Uint8Array(r),i=0,t=0,a=e.length;t<a;t++)n=e[t],s.set(n,i),i+=n.length;return s}},n={arraySet:function(e,t,a,r,i){for(var n=0;n<r;n++)e[i+n]=t[a+n]},flattenChunks:function(e){return[].concat.apply([],e)}};a.setTyped=function(e){e?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,i)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,n))},a.setTyped(r)},{}],28:[function(e,t,a){"use strict";var r=e("./common"),i=!0,n=!0;try{String.fromCharCode.apply(null,[0])}catch(c){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(c){n=!1}for(var s=new r.Buf8(256),o=0;o<256;o++)s[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;function l(e,t){if(t<65537&&(e.subarray&&n||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var a="",s=0;s<t;s++)a+=String.fromCharCode(e[s]);return a}s[254]=s[254]=1,a.string2buf=function(e){var t,a,i,n,s,o=e.length,l=0;for(n=0;n<o;n++)a=e.charCodeAt(n),55296===(64512&a)&&n+1<o&&(i=e.charCodeAt(n+1),56320===(64512&i)&&(a=65536+(a-55296<<10)+(i-56320),n++)),l+=a<128?1:a<2048?2:a<65536?3:4;for(t=new r.Buf8(l),s=0,n=0;s<l;n++)a=e.charCodeAt(n),55296===(64512&a)&&n+1<o&&(i=e.charCodeAt(n+1),56320===(64512&i)&&(a=65536+(a-55296<<10)+(i-56320),n++)),a<128?t[s++]=a:a<2048?(t[s++]=192|a>>>6,t[s++]=128|63&a):a<65536?(t[s++]=224|a>>>12,t[s++]=128|a>>>6&63,t[s++]=128|63&a):(t[s++]=240|a>>>18,t[s++]=128|a>>>12&63,t[s++]=128|a>>>6&63,t[s++]=128|63&a);return t},a.buf2binstring=function(e){return l(e,e.length)},a.binstring2buf=function(e){for(var t=new r.Buf8(e.length),a=0,i=t.length;a<i;a++)t[a]=e.charCodeAt(a);return t},a.buf2string=function(e,t){var a,r,i,n,o=t||e.length,c=new Array(2*o);for(r=0,a=0;a<o;)if(i=e[a++],i<128)c[r++]=i;else if(n=s[i],n>4)c[r++]=65533,a+=n-1;else{i&=2===n?31:3===n?15:7;while(n>1&&a<o)i=i<<6|63&e[a++],n--;n>1?c[r++]=65533:i<65536?c[r++]=i:(i-=65536,c[r++]=55296|i>>10&1023,c[r++]=56320|1023&i)}return l(c,r)},a.utf8border=function(e,t){var a;t=t||e.length,t>e.length&&(t=e.length),a=t-1;while(a>=0&&128===(192&e[a]))a--;return a<0||0===a?t:a+s[e[a]]>t?a:t}},{"./common":27}],29:[function(e,t,a){"use strict";function r(e,t,a,r){var i=65535&e|0,n=e>>>16&65535|0,s=0;while(0!==a){s=a>2e3?2e3:a,a-=s;do{i=i+t[r++]|0,n=n+i|0}while(--s);i%=65521,n%=65521}return i|n<<16|0}t.exports=r},{}],30:[function(e,t,a){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],31:[function(e,t,a){"use strict";function r(){for(var e,t=[],a=0;a<256;a++){e=a;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[a]=e}return t}var i=r();function n(e,t,a,r){var n=i,s=r+a;e^=-1;for(var o=r;o<s;o++)e=e>>>8^n[255&(e^t[o])];return-1^e}t.exports=n},{}],32:[function(e,t,a){"use strict";var r=e("../utils/common"),i=e("./trees"),n=e("./adler32"),s=e("./crc32"),o=e("./messages"),l=0,c=1,d=3,u=4,h=5,p=0,f=1,m=-2,g=-3,_=-5,v=-1,b=1,y=2,k=3,x=4,w=0,S=2,C=8,O=9,T=15,j=8,I=29,A=256,D=A+1+I,M=30,E=19,R=2*D+1,B=15,P=3,L=258,F=L+P+1,N=32,$=42,z=69,V=73,U=91,H=103,G=113,W=666,q=1,X=2,Y=3,K=4,Z=3;function J(e,t){return e.msg=o[t],t}function Q(e){return(e<<1)-(e>4?9:0)}function ee(e){var t=e.length;while(--t>=0)e[t]=0}function te(e){var t=e.state,a=t.pending;a>e.avail_out&&(a=e.avail_out),0!==a&&(r.arraySet(e.output,t.pending_buf,t.pending_out,a,e.next_out),e.next_out+=a,t.pending_out+=a,e.total_out+=a,e.avail_out-=a,t.pending-=a,0===t.pending&&(t.pending_out=0))}function ae(e,t){i._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,te(e.strm)}function re(e,t){e.pending_buf[e.pending++]=t}function ie(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function ne(e,t,a,i){var o=e.avail_in;return o>i&&(o=i),0===o?0:(e.avail_in-=o,r.arraySet(t,e.input,e.next_in,o,a),1===e.state.wrap?e.adler=n(e.adler,t,o,a):2===e.state.wrap&&(e.adler=s(e.adler,t,o,a)),e.next_in+=o,e.total_in+=o,o)}function se(e,t){var a,r,i=e.max_chain_length,n=e.strstart,s=e.prev_length,o=e.nice_match,l=e.strstart>e.w_size-F?e.strstart-(e.w_size-F):0,c=e.window,d=e.w_mask,u=e.prev,h=e.strstart+L,p=c[n+s-1],f=c[n+s];e.prev_length>=e.good_match&&(i>>=2),o>e.lookahead&&(o=e.lookahead);do{if(a=t,c[a+s]===f&&c[a+s-1]===p&&c[a]===c[n]&&c[++a]===c[n+1]){n+=2,a++;do{}while(c[++n]===c[++a]&&c[++n]===c[++a]&&c[++n]===c[++a]&&c[++n]===c[++a]&&c[++n]===c[++a]&&c[++n]===c[++a]&&c[++n]===c[++a]&&c[++n]===c[++a]&&n<h);if(r=L-(h-n),n=h-L,r>s){if(e.match_start=t,s=r,r>=o)break;p=c[n+s-1],f=c[n+s]}}}while((t=u[t&d])>l&&0!==--i);return s<=e.lookahead?s:e.lookahead}function oe(e){var t,a,i,n,s,o=e.w_size;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=o+(o-F)){r.arraySet(e.window,e.window,o,o,0),e.match_start-=o,e.strstart-=o,e.block_start-=o,a=e.hash_size,t=a;do{i=e.head[--t],e.head[t]=i>=o?i-o:0}while(--a);a=o,t=a;do{i=e.prev[--t],e.prev[t]=i>=o?i-o:0}while(--a);n+=o}if(0===e.strm.avail_in)break;if(a=ne(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=a,e.lookahead+e.insert>=P){s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;while(e.insert)if(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+P-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,e.lookahead+e.insert<P)break}}while(e.lookahead<F&&0!==e.strm.avail_in)}function le(e,t){var a=65535;for(a>e.pending_buf_size-5&&(a=e.pending_buf_size-5);;){if(e.lookahead<=1){if(oe(e),0===e.lookahead&&t===l)return q;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+a;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,ae(e,!1),0===e.strm.avail_out))return q;if(e.strstart-e.block_start>=e.w_size-F&&(ae(e,!1),0===e.strm.avail_out))return q}return e.insert=0,t===u?(ae(e,!0),0===e.strm.avail_out?Y:K):(e.strstart>e.block_start&&(ae(e,!1),e.strm.avail_out),q)}function ce(e,t){for(var a,r;;){if(e.lookahead<F){if(oe(e),e.lookahead<F&&t===l)return q;if(0===e.lookahead)break}if(a=0,e.lookahead>=P&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+P-1])&e.hash_mask,a=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==a&&e.strstart-a<=e.w_size-F&&(e.match_length=se(e,a)),e.match_length>=P)if(r=i._tr_tally(e,e.strstart-e.match_start,e.match_length-P),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=P){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+P-1])&e.hash_mask,a=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(ae(e,!1),0===e.strm.avail_out))return q}return e.insert=e.strstart<P-1?e.strstart:P-1,t===u?(ae(e,!0),0===e.strm.avail_out?Y:K):e.last_lit&&(ae(e,!1),0===e.strm.avail_out)?q:X}function de(e,t){for(var a,r,n;;){if(e.lookahead<F){if(oe(e),e.lookahead<F&&t===l)return q;if(0===e.lookahead)break}if(a=0,e.lookahead>=P&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+P-1])&e.hash_mask,a=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=P-1,0!==a&&e.prev_length<e.max_lazy_match&&e.strstart-a<=e.w_size-F&&(e.match_length=se(e,a),e.match_length<=5&&(e.strategy===b||e.match_length===P&&e.strstart-e.match_start>4096)&&(e.match_length=P-1)),e.prev_length>=P&&e.match_length<=e.prev_length){n=e.strstart+e.lookahead-P,r=i._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-P),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=n&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+P-1])&e.hash_mask,a=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=P-1,e.strstart++,r&&(ae(e,!1),0===e.strm.avail_out))return q}else if(e.match_available){if(r=i._tr_tally(e,0,e.window[e.strstart-1]),r&&ae(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return q}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=i._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<P-1?e.strstart:P-1,t===u?(ae(e,!0),0===e.strm.avail_out?Y:K):e.last_lit&&(ae(e,!1),0===e.strm.avail_out)?q:X}function ue(e,t){for(var a,r,n,s,o=e.window;;){if(e.lookahead<=L){if(oe(e),e.lookahead<=L&&t===l)return q;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=P&&e.strstart>0&&(n=e.strstart-1,r=o[n],r===o[++n]&&r===o[++n]&&r===o[++n])){s=e.strstart+L;do{}while(r===o[++n]&&r===o[++n]&&r===o[++n]&&r===o[++n]&&r===o[++n]&&r===o[++n]&&r===o[++n]&&r===o[++n]&&n<s);e.match_length=L-(s-n),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=P?(a=i._tr_tally(e,1,e.match_length-P),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(a=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),a&&(ae(e,!1),0===e.strm.avail_out))return q}return e.insert=0,t===u?(ae(e,!0),0===e.strm.avail_out?Y:K):e.last_lit&&(ae(e,!1),0===e.strm.avail_out)?q:X}function he(e,t){for(var a;;){if(0===e.lookahead&&(oe(e),0===e.lookahead)){if(t===l)return q;break}if(e.match_length=0,a=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,a&&(ae(e,!1),0===e.strm.avail_out))return q}return e.insert=0,t===u?(ae(e,!0),0===e.strm.avail_out?Y:K):e.last_lit&&(ae(e,!1),0===e.strm.avail_out)?q:X}var pe,fe=function(e,t,a,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=a,this.max_chain=r,this.func=i};function me(e){e.window_size=2*e.w_size,ee(e.head),e.max_lazy_match=pe[e.level].max_lazy,e.good_match=pe[e.level].good_length,e.nice_match=pe[e.level].nice_length,e.max_chain_length=pe[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=P-1,e.match_available=0,e.ins_h=0}function ge(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*R),this.dyn_dtree=new r.Buf16(2*(2*M+1)),this.bl_tree=new r.Buf16(2*(2*E+1)),ee(this.dyn_ltree),ee(this.dyn_dtree),ee(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(B+1),this.heap=new r.Buf16(2*D+1),ee(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*D+1),ee(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function _e(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=S,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?$:G,e.adler=2===t.wrap?0:1,t.last_flush=l,i._tr_init(t),p):J(e,m)}function ve(e){var t=_e(e);return t===p&&me(e.state),t}function be(e,t){return e&&e.state?2!==e.state.wrap?m:(e.state.gzhead=t,p):m}function ye(e,t,a,i,n,s){if(!e)return m;var o=1;if(t===v&&(t=6),i<0?(o=0,i=-i):i>15&&(o=2,i-=16),n<1||n>O||a!==C||i<8||i>15||t<0||t>9||s<0||s>x)return J(e,m);8===i&&(i=9);var l=new ge;return e.state=l,l.strm=e,l.wrap=o,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=n+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+P-1)/P),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<n+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=l.lit_bufsize>>1,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=s,l.method=a,ve(e)}function ke(e,t){return ye(e,t,C,T,j,w)}function xe(e,t){var a,r,n,o;if(!e||!e.state||t>h||t<0)return e?J(e,m):m;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||r.status===W&&t!==u)return J(e,0===e.avail_out?_:m);if(r.strm=e,a=r.last_flush,r.last_flush=t,r.status===$)if(2===r.wrap)e.adler=0,re(r,31),re(r,139),re(r,8),r.gzhead?(re(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),re(r,255&r.gzhead.time),re(r,r.gzhead.time>>8&255),re(r,r.gzhead.time>>16&255),re(r,r.gzhead.time>>24&255),re(r,9===r.level?2:r.strategy>=y||r.level<2?4:0),re(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(re(r,255&r.gzhead.extra.length),re(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=s(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=z):(re(r,0),re(r,0),re(r,0),re(r,0),re(r,0),re(r,9===r.level?2:r.strategy>=y||r.level<2?4:0),re(r,Z),r.status=G);else{var g=C+(r.w_bits-8<<4)<<8,v=-1;v=r.strategy>=y||r.level<2?0:r.level<6?1:6===r.level?2:3,g|=v<<6,0!==r.strstart&&(g|=N),g+=31-g%31,r.status=G,ie(r,g),0!==r.strstart&&(ie(r,e.adler>>>16),ie(r,65535&e.adler)),e.adler=1}if(r.status===z)if(r.gzhead.extra){n=r.pending;while(r.gzindex<(65535&r.gzhead.extra.length)){if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(e.adler=s(e.adler,r.pending_buf,r.pending-n,n)),te(e),n=r.pending,r.pending===r.pending_buf_size))break;re(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++}r.gzhead.hcrc&&r.pending>n&&(e.adler=s(e.adler,r.pending_buf,r.pending-n,n)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=V)}else r.status=V;if(r.status===V)if(r.gzhead.name){n=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(e.adler=s(e.adler,r.pending_buf,r.pending-n,n)),te(e),n=r.pending,r.pending===r.pending_buf_size)){o=1;break}o=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,re(r,o)}while(0!==o);r.gzhead.hcrc&&r.pending>n&&(e.adler=s(e.adler,r.pending_buf,r.pending-n,n)),0===o&&(r.gzindex=0,r.status=U)}else r.status=U;if(r.status===U)if(r.gzhead.comment){n=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(e.adler=s(e.adler,r.pending_buf,r.pending-n,n)),te(e),n=r.pending,r.pending===r.pending_buf_size)){o=1;break}o=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,re(r,o)}while(0!==o);r.gzhead.hcrc&&r.pending>n&&(e.adler=s(e.adler,r.pending_buf,r.pending-n,n)),0===o&&(r.status=H)}else r.status=H;if(r.status===H&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&te(e),r.pending+2<=r.pending_buf_size&&(re(r,255&e.adler),re(r,e.adler>>8&255),e.adler=0,r.status=G)):r.status=G),0!==r.pending){if(te(e),0===e.avail_out)return r.last_flush=-1,p}else if(0===e.avail_in&&Q(t)<=Q(a)&&t!==u)return J(e,_);if(r.status===W&&0!==e.avail_in)return J(e,_);if(0!==e.avail_in||0!==r.lookahead||t!==l&&r.status!==W){var b=r.strategy===y?he(r,t):r.strategy===k?ue(r,t):pe[r.level].func(r,t);if(b!==Y&&b!==K||(r.status=W),b===q||b===Y)return 0===e.avail_out&&(r.last_flush=-1),p;if(b===X&&(t===c?i._tr_align(r):t!==h&&(i._tr_stored_block(r,0,0,!1),t===d&&(ee(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),te(e),0===e.avail_out))return r.last_flush=-1,p}return t!==u?p:r.wrap<=0?f:(2===r.wrap?(re(r,255&e.adler),re(r,e.adler>>8&255),re(r,e.adler>>16&255),re(r,e.adler>>24&255),re(r,255&e.total_in),re(r,e.total_in>>8&255),re(r,e.total_in>>16&255),re(r,e.total_in>>24&255)):(ie(r,e.adler>>>16),ie(r,65535&e.adler)),te(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?p:f)}function we(e){var t;return e&&e.state?(t=e.state.status,t!==$&&t!==z&&t!==V&&t!==U&&t!==H&&t!==G&&t!==W?J(e,m):(e.state=null,t===G?J(e,g):p)):m}pe=[new fe(0,0,0,0,le),new fe(4,4,8,4,ce),new fe(4,5,16,8,ce),new fe(4,6,32,32,ce),new fe(4,4,16,16,de),new fe(8,16,32,32,de),new fe(8,16,128,128,de),new fe(8,32,128,256,de),new fe(32,128,258,1024,de),new fe(32,258,258,4096,de)],a.deflateInit=ke,a.deflateInit2=ye,a.deflateReset=ve,a.deflateResetKeep=_e,a.deflateSetHeader=be,a.deflate=xe,a.deflateEnd=we,a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":27,"./adler32":29,"./crc32":31,"./messages":37,"./trees":38}],33:[function(e,t,a){"use strict";function r(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=r},{}],34:[function(e,t,a){"use strict";var r=30,i=12;t.exports=function(e,t){var a,n,s,o,l,c,d,u,h,p,f,m,g,_,v,b,y,k,x,w,S,C,O,T,j;a=e.state,n=e.next_in,T=e.input,s=n+(e.avail_in-5),o=e.next_out,j=e.output,l=o-(t-e.avail_out),c=o+(e.avail_out-257),d=a.dmax,u=a.wsize,h=a.whave,p=a.wnext,f=a.window,m=a.hold,g=a.bits,_=a.lencode,v=a.distcode,b=(1<<a.lenbits)-1,y=(1<<a.distbits)-1;e:do{g<15&&(m+=T[n++]<<g,g+=8,m+=T[n++]<<g,g+=8),k=_[m&b];t:for(;;){if(x=k>>>24,m>>>=x,g-=x,x=k>>>16&255,0===x)j[o++]=65535&k;else{if(!(16&x)){if(0===(64&x)){k=_[(65535&k)+(m&(1<<x)-1)];continue t}if(32&x){a.mode=i;break e}e.msg="invalid literal/length code",a.mode=r;break e}w=65535&k,x&=15,x&&(g<x&&(m+=T[n++]<<g,g+=8),w+=m&(1<<x)-1,m>>>=x,g-=x),g<15&&(m+=T[n++]<<g,g+=8,m+=T[n++]<<g,g+=8),k=v[m&y];a:for(;;){if(x=k>>>24,m>>>=x,g-=x,x=k>>>16&255,!(16&x)){if(0===(64&x)){k=v[(65535&k)+(m&(1<<x)-1)];continue a}e.msg="invalid distance code",a.mode=r;break e}if(S=65535&k,x&=15,g<x&&(m+=T[n++]<<g,g+=8,g<x&&(m+=T[n++]<<g,g+=8)),S+=m&(1<<x)-1,S>d){e.msg="invalid distance too far back",a.mode=r;break e}if(m>>>=x,g-=x,x=o-l,S>x){if(x=S-x,x>h&&a.sane){e.msg="invalid distance too far back",a.mode=r;break e}if(C=0,O=f,0===p){if(C+=u-x,x<w){w-=x;do{j[o++]=f[C++]}while(--x);C=o-S,O=j}}else if(p<x){if(C+=u+p-x,x-=p,x<w){w-=x;do{j[o++]=f[C++]}while(--x);if(C=0,p<w){x=p,w-=x;do{j[o++]=f[C++]}while(--x);C=o-S,O=j}}}else if(C+=p-x,x<w){w-=x;do{j[o++]=f[C++]}while(--x);C=o-S,O=j}while(w>2)j[o++]=O[C++],j[o++]=O[C++],j[o++]=O[C++],w-=3;w&&(j[o++]=O[C++],w>1&&(j[o++]=O[C++]))}else{C=o-S;do{j[o++]=j[C++],j[o++]=j[C++],j[o++]=j[C++],w-=3}while(w>2);w&&(j[o++]=j[C++],w>1&&(j[o++]=j[C++]))}break}}break}}while(n<s&&o<c);w=g>>3,n-=w,g-=w<<3,m&=(1<<g)-1,e.next_in=n,e.next_out=o,e.avail_in=n<s?s-n+5:5-(n-s),e.avail_out=o<c?c-o+257:257-(o-c),a.hold=m,a.bits=g}},{}],35:[function(e,t,a){"use strict";var r=e("../utils/common"),i=e("./adler32"),n=e("./crc32"),s=e("./inffast"),o=e("./inftrees"),l=0,c=1,d=2,u=4,h=5,p=6,f=0,m=1,g=2,_=-2,v=-3,b=-4,y=-5,k=8,x=1,w=2,S=3,C=4,O=5,T=6,j=7,I=8,A=9,D=10,M=11,E=12,R=13,B=14,P=15,L=16,F=17,N=18,$=19,z=20,V=21,U=22,H=23,G=24,W=25,q=26,X=27,Y=28,K=29,Z=30,J=31,Q=32,ee=852,te=592,ae=15,re=ae;function ie(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function ne(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function se(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=x,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(ee),t.distcode=t.distdyn=new r.Buf32(te),t.sane=1,t.back=-1,f):_}function oe(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,se(e)):_}function le(e,t){var a,r;return e&&e.state?(r=e.state,t<0?(a=0,t=-t):(a=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?_:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=a,r.wbits=t,oe(e))):_}function ce(e,t){var a,r;return e?(r=new ne,e.state=r,r.window=null,a=le(e,t),a!==f&&(e.state=null),a):_}function de(e){return ce(e,re)}var ue,he,pe=!0;function fe(e){if(pe){var t;ue=new r.Buf32(512),he=new r.Buf32(32),t=0;while(t<144)e.lens[t++]=8;while(t<256)e.lens[t++]=9;while(t<280)e.lens[t++]=7;while(t<288)e.lens[t++]=8;o(c,e.lens,0,288,ue,0,e.work,{bits:9}),t=0;while(t<32)e.lens[t++]=5;o(d,e.lens,0,32,he,0,e.work,{bits:5}),pe=!1}e.lencode=ue,e.lenbits=9,e.distcode=he,e.distbits=5}function me(e,t,a,i){var n,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new r.Buf8(s.wsize)),i>=s.wsize?(r.arraySet(s.window,t,a-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(n=s.wsize-s.wnext,n>i&&(n=i),r.arraySet(s.window,t,a-i,n,s.wnext),i-=n,i?(r.arraySet(s.window,t,a-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=n,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=n))),0}function ge(e,t){var a,ee,te,ae,re,ne,se,oe,le,ce,de,ue,he,pe,ge,_e,ve,be,ye,ke,xe,we,Se,Ce,Oe=0,Te=new r.Buf8(4),je=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return _;a=e.state,a.mode===E&&(a.mode=R),re=e.next_out,te=e.output,se=e.avail_out,ae=e.next_in,ee=e.input,ne=e.avail_in,oe=a.hold,le=a.bits,ce=ne,de=se,we=f;e:for(;;)switch(a.mode){case x:if(0===a.wrap){a.mode=R;break}while(le<16){if(0===ne)break e;ne--,oe+=ee[ae++]<<le,le+=8}if(2&a.wrap&&35615===oe){a.check=0,Te[0]=255&oe,Te[1]=oe>>>8&255,a.check=n(a.check,Te,2,0),oe=0,le=0,a.mode=w;break}if(a.flags=0,a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&oe)<<8)+(oe>>8))%31){e.msg="incorrect header check",a.mode=Z;break}if((15&oe)!==k){e.msg="unknown compression method",a.mode=Z;break}if(oe>>>=4,le-=4,xe=8+(15&oe),0===a.wbits)a.wbits=xe;else if(xe>a.wbits){e.msg="invalid window size",a.mode=Z;break}a.dmax=1<<xe,e.adler=a.check=1,a.mode=512&oe?D:E,oe=0,le=0;break;case w:while(le<16){if(0===ne)break e;ne--,oe+=ee[ae++]<<le,le+=8}if(a.flags=oe,(255&a.flags)!==k){e.msg="unknown compression method",a.mode=Z;break}if(57344&a.flags){e.msg="unknown header flags set",a.mode=Z;break}a.head&&(a.head.text=oe>>8&1),512&a.flags&&(Te[0]=255&oe,Te[1]=oe>>>8&255,a.check=n(a.check,Te,2,0)),oe=0,le=0,a.mode=S;case S:while(le<32){if(0===ne)break e;ne--,oe+=ee[ae++]<<le,le+=8}a.head&&(a.head.time=oe),512&a.flags&&(Te[0]=255&oe,Te[1]=oe>>>8&255,Te[2]=oe>>>16&255,Te[3]=oe>>>24&255,a.check=n(a.check,Te,4,0)),oe=0,le=0,a.mode=C;case C:while(le<16){if(0===ne)break e;ne--,oe+=ee[ae++]<<le,le+=8}a.head&&(a.head.xflags=255&oe,a.head.os=oe>>8),512&a.flags&&(Te[0]=255&oe,Te[1]=oe>>>8&255,a.check=n(a.check,Te,2,0)),oe=0,le=0,a.mode=O;case O:if(1024&a.flags){while(le<16){if(0===ne)break e;ne--,oe+=ee[ae++]<<le,le+=8}a.length=oe,a.head&&(a.head.extra_len=oe),512&a.flags&&(Te[0]=255&oe,Te[1]=oe>>>8&255,a.check=n(a.check,Te,2,0)),oe=0,le=0}else a.head&&(a.head.extra=null);a.mode=T;case T:if(1024&a.flags&&(ue=a.length,ue>ne&&(ue=ne),ue&&(a.head&&(xe=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Array(a.head.extra_len)),r.arraySet(a.head.extra,ee,ae,ue,xe)),512&a.flags&&(a.check=n(a.check,ee,ue,ae)),ne-=ue,ae+=ue,a.length-=ue),a.length))break e;a.length=0,a.mode=j;case j:if(2048&a.flags){if(0===ne)break e;ue=0;do{xe=ee[ae+ue++],a.head&&xe&&a.length<65536&&(a.head.name+=String.fromCharCode(xe))}while(xe&&ue<ne);if(512&a.flags&&(a.check=n(a.check,ee,ue,ae)),ne-=ue,ae+=ue,xe)break e}else a.head&&(a.head.name=null);a.length=0,a.mode=I;case I:if(4096&a.flags){if(0===ne)break e;ue=0;do{xe=ee[ae+ue++],a.head&&xe&&a.length<65536&&(a.head.comment+=String.fromCharCode(xe))}while(xe&&ue<ne);if(512&a.flags&&(a.check=n(a.check,ee,ue,ae)),ne-=ue,ae+=ue,xe)break e}else a.head&&(a.head.comment=null);a.mode=A;case A:if(512&a.flags){while(le<16){if(0===ne)break e;ne--,oe+=ee[ae++]<<le,le+=8}if(oe!==(65535&a.check)){e.msg="header crc mismatch",a.mode=Z;break}oe=0,le=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),e.adler=a.check=0,a.mode=E;break;case D:while(le<32){if(0===ne)break e;ne--,oe+=ee[ae++]<<le,le+=8}e.adler=a.check=ie(oe),oe=0,le=0,a.mode=M;case M:if(0===a.havedict)return e.next_out=re,e.avail_out=se,e.next_in=ae,e.avail_in=ne,a.hold=oe,a.bits=le,g;e.adler=a.check=1,a.mode=E;case E:if(t===h||t===p)break e;case R:if(a.last){oe>>>=7&le,le-=7&le,a.mode=X;break}while(le<3){if(0===ne)break e;ne--,oe+=ee[ae++]<<le,le+=8}switch(a.last=1&oe,oe>>>=1,le-=1,3&oe){case 0:a.mode=B;break;case 1:if(fe(a),a.mode=z,t===p){oe>>>=2,le-=2;break e}break;case 2:a.mode=F;break;case 3:e.msg="invalid block type",a.mode=Z}oe>>>=2,le-=2;break;case B:oe>>>=7&le,le-=7&le;while(le<32){if(0===ne)break e;ne--,oe+=ee[ae++]<<le,le+=8}if((65535&oe)!==(oe>>>16^65535)){e.msg="invalid stored block lengths",a.mode=Z;break}if(a.length=65535&oe,oe=0,le=0,a.mode=P,t===p)break e;case P:a.mode=L;case L:if(ue=a.length,ue){if(ue>ne&&(ue=ne),ue>se&&(ue=se),0===ue)break e;r.arraySet(te,ee,ae,ue,re),ne-=ue,ae+=ue,se-=ue,re+=ue,a.length-=ue;break}a.mode=E;break;case F:while(le<14){if(0===ne)break e;ne--,oe+=ee[ae++]<<le,le+=8}if(a.nlen=257+(31&oe),oe>>>=5,le-=5,a.ndist=1+(31&oe),oe>>>=5,le-=5,a.ncode=4+(15&oe),oe>>>=4,le-=4,a.nlen>286||a.ndist>30){e.msg="too many length or distance symbols",a.mode=Z;break}a.have=0,a.mode=N;case N:while(a.have<a.ncode){while(le<3){if(0===ne)break e;ne--,oe+=ee[ae++]<<le,le+=8}a.lens[je[a.have++]]=7&oe,oe>>>=3,le-=3}while(a.have<19)a.lens[je[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,Se={bits:a.lenbits},we=o(l,a.lens,0,19,a.lencode,0,a.work,Se),a.lenbits=Se.bits,we){e.msg="invalid code lengths set",a.mode=Z;break}a.have=0,a.mode=$;case $:while(a.have<a.nlen+a.ndist){for(;;){if(Oe=a.lencode[oe&(1<<a.lenbits)-1],ge=Oe>>>24,_e=Oe>>>16&255,ve=65535&Oe,ge<=le)break;if(0===ne)break e;ne--,oe+=ee[ae++]<<le,le+=8}if(ve<16)oe>>>=ge,le-=ge,a.lens[a.have++]=ve;else{if(16===ve){Ce=ge+2;while(le<Ce){if(0===ne)break e;ne--,oe+=ee[ae++]<<le,le+=8}if(oe>>>=ge,le-=ge,0===a.have){e.msg="invalid bit length repeat",a.mode=Z;break}xe=a.lens[a.have-1],ue=3+(3&oe),oe>>>=2,le-=2}else if(17===ve){Ce=ge+3;while(le<Ce){if(0===ne)break e;ne--,oe+=ee[ae++]<<le,le+=8}oe>>>=ge,le-=ge,xe=0,ue=3+(7&oe),oe>>>=3,le-=3}else{Ce=ge+7;while(le<Ce){if(0===ne)break e;ne--,oe+=ee[ae++]<<le,le+=8}oe>>>=ge,le-=ge,xe=0,ue=11+(127&oe),oe>>>=7,le-=7}if(a.have+ue>a.nlen+a.ndist){e.msg="invalid bit length repeat",a.mode=Z;break}while(ue--)a.lens[a.have++]=xe}}if(a.mode===Z)break;if(0===a.lens[256]){e.msg="invalid code -- missing end-of-block",a.mode=Z;break}if(a.lenbits=9,Se={bits:a.lenbits},we=o(c,a.lens,0,a.nlen,a.lencode,0,a.work,Se),a.lenbits=Se.bits,we){e.msg="invalid literal/lengths set",a.mode=Z;break}if(a.distbits=6,a.distcode=a.distdyn,Se={bits:a.distbits},we=o(d,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,Se),a.distbits=Se.bits,we){e.msg="invalid distances set",a.mode=Z;break}if(a.mode=z,t===p)break e;case z:a.mode=V;case V:if(ne>=6&&se>=258){e.next_out=re,e.avail_out=se,e.next_in=ae,e.avail_in=ne,a.hold=oe,a.bits=le,s(e,de),re=e.next_out,te=e.output,se=e.avail_out,ae=e.next_in,ee=e.input,ne=e.avail_in,oe=a.hold,le=a.bits,a.mode===E&&(a.back=-1);break}for(a.back=0;;){if(Oe=a.lencode[oe&(1<<a.lenbits)-1],ge=Oe>>>24,_e=Oe>>>16&255,ve=65535&Oe,ge<=le)break;if(0===ne)break e;ne--,oe+=ee[ae++]<<le,le+=8}if(_e&&0===(240&_e)){for(be=ge,ye=_e,ke=ve;;){if(Oe=a.lencode[ke+((oe&(1<<be+ye)-1)>>be)],ge=Oe>>>24,_e=Oe>>>16&255,ve=65535&Oe,be+ge<=le)break;if(0===ne)break e;ne--,oe+=ee[ae++]<<le,le+=8}oe>>>=be,le-=be,a.back+=be}if(oe>>>=ge,le-=ge,a.back+=ge,a.length=ve,0===_e){a.mode=q;break}if(32&_e){a.back=-1,a.mode=E;break}if(64&_e){e.msg="invalid literal/length code",a.mode=Z;break}a.extra=15&_e,a.mode=U;case U:if(a.extra){Ce=a.extra;while(le<Ce){if(0===ne)break e;ne--,oe+=ee[ae++]<<le,le+=8}a.length+=oe&(1<<a.extra)-1,oe>>>=a.extra,le-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=H;case H:for(;;){if(Oe=a.distcode[oe&(1<<a.distbits)-1],ge=Oe>>>24,_e=Oe>>>16&255,ve=65535&Oe,ge<=le)break;if(0===ne)break e;ne--,oe+=ee[ae++]<<le,le+=8}if(0===(240&_e)){for(be=ge,ye=_e,ke=ve;;){if(Oe=a.distcode[ke+((oe&(1<<be+ye)-1)>>be)],ge=Oe>>>24,_e=Oe>>>16&255,ve=65535&Oe,be+ge<=le)break;if(0===ne)break e;ne--,oe+=ee[ae++]<<le,le+=8}oe>>>=be,le-=be,a.back+=be}if(oe>>>=ge,le-=ge,a.back+=ge,64&_e){e.msg="invalid distance code",a.mode=Z;break}a.offset=ve,a.extra=15&_e,a.mode=G;case G:if(a.extra){Ce=a.extra;while(le<Ce){if(0===ne)break e;ne--,oe+=ee[ae++]<<le,le+=8}a.offset+=oe&(1<<a.extra)-1,oe>>>=a.extra,le-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){e.msg="invalid distance too far back",a.mode=Z;break}a.mode=W;case W:if(0===se)break e;if(ue=de-se,a.offset>ue){if(ue=a.offset-ue,ue>a.whave&&a.sane){e.msg="invalid distance too far back",a.mode=Z;break}ue>a.wnext?(ue-=a.wnext,he=a.wsize-ue):he=a.wnext-ue,ue>a.length&&(ue=a.length),pe=a.window}else pe=te,he=re-a.offset,ue=a.length;ue>se&&(ue=se),se-=ue,a.length-=ue;do{te[re++]=pe[he++]}while(--ue);0===a.length&&(a.mode=V);break;case q:if(0===se)break e;te[re++]=a.length,se--,a.mode=V;break;case X:if(a.wrap){while(le<32){if(0===ne)break e;ne--,oe|=ee[ae++]<<le,le+=8}if(de-=se,e.total_out+=de,a.total+=de,de&&(e.adler=a.check=a.flags?n(a.check,te,de,re-de):i(a.check,te,de,re-de)),de=se,(a.flags?oe:ie(oe))!==a.check){e.msg="incorrect data check",a.mode=Z;break}oe=0,le=0}a.mode=Y;case Y:if(a.wrap&&a.flags){while(le<32){if(0===ne)break e;ne--,oe+=ee[ae++]<<le,le+=8}if(oe!==(4294967295&a.total)){e.msg="incorrect length check",a.mode=Z;break}oe=0,le=0}a.mode=K;case K:we=m;break e;case Z:we=v;break e;case J:return b;case Q:default:return _}return e.next_out=re,e.avail_out=se,e.next_in=ae,e.avail_in=ne,a.hold=oe,a.bits=le,(a.wsize||de!==e.avail_out&&a.mode<Z&&(a.mode<X||t!==u))&&me(e,e.output,e.next_out,de-e.avail_out)?(a.mode=J,b):(ce-=e.avail_in,de-=e.avail_out,e.total_in+=ce,e.total_out+=de,a.total+=de,a.wrap&&de&&(e.adler=a.check=a.flags?n(a.check,te,de,e.next_out-de):i(a.check,te,de,e.next_out-de)),e.data_type=a.bits+(a.last?64:0)+(a.mode===E?128:0)+(a.mode===z||a.mode===P?256:0),(0===ce&&0===de||t===u)&&we===f&&(we=y),we)}function _e(e){if(!e||!e.state)return _;var t=e.state;return t.window&&(t.window=null),e.state=null,f}function ve(e,t){var a;return e&&e.state?(a=e.state,0===(2&a.wrap)?_:(a.head=t,t.done=!1,f)):_}a.inflateReset=oe,a.inflateReset2=le,a.inflateResetKeep=se,a.inflateInit=de,a.inflateInit2=ce,a.inflate=ge,a.inflateEnd=_e,a.inflateGetHeader=ve,a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":27,"./adler32":29,"./crc32":31,"./inffast":34,"./inftrees":36}],36:[function(e,t,a){"use strict";var r=e("../utils/common"),i=15,n=852,s=592,o=0,l=1,c=2,d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,a,f,m,g,_,v){var b,y,k,x,w,S,C,O,T,j=v.bits,I=0,A=0,D=0,M=0,E=0,R=0,B=0,P=0,L=0,F=0,N=null,$=0,z=new r.Buf16(i+1),V=new r.Buf16(i+1),U=null,H=0;for(I=0;I<=i;I++)z[I]=0;for(A=0;A<f;A++)z[t[a+A]]++;for(E=j,M=i;M>=1;M--)if(0!==z[M])break;if(E>M&&(E=M),0===M)return m[g++]=20971520,m[g++]=20971520,v.bits=1,0;for(D=1;D<M;D++)if(0!==z[D])break;for(E<D&&(E=D),P=1,I=1;I<=i;I++)if(P<<=1,P-=z[I],P<0)return-1;if(P>0&&(e===o||1!==M))return-1;for(V[1]=0,I=1;I<i;I++)V[I+1]=V[I]+z[I];for(A=0;A<f;A++)0!==t[a+A]&&(_[V[t[a+A]]++]=A);if(e===o?(N=U=_,S=19):e===l?(N=d,$-=257,U=u,H-=257,S=256):(N=h,U=p,S=-1),F=0,A=0,I=D,w=g,R=E,B=0,k=-1,L=1<<E,x=L-1,e===l&&L>n||e===c&&L>s)return 1;for(;;){C=I-B,_[A]<S?(O=0,T=_[A]):_[A]>S?(O=U[H+_[A]],T=N[$+_[A]]):(O=96,T=0),b=1<<I-B,y=1<<R,D=y;do{y-=b,m[w+(F>>B)+y]=C<<24|O<<16|T|0}while(0!==y);b=1<<I-1;while(F&b)b>>=1;if(0!==b?(F&=b-1,F+=b):F=0,A++,0===--z[I]){if(I===M)break;I=t[a+_[A]]}if(I>E&&(F&x)!==k){0===B&&(B=E),w+=D,R=I-B,P=1<<R;while(R+B<M){if(P-=z[R+B],P<=0)break;R++,P<<=1}if(L+=1<<R,e===l&&L>n||e===c&&L>s)return 1;k=F&x,m[k]=E<<24|R<<16|w-g|0}}return 0!==F&&(m[w+F]=I-B<<24|64<<16|0),v.bits=E,0}},{"../utils/common":27}],37:[function(e,t,a){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],38:[function(e,t,a){"use strict";var r=e("../utils/common"),i=4,n=0,s=1,o=2;function l(e){var t=e.length;while(--t>=0)e[t]=0}var c=0,d=1,u=2,h=3,p=258,f=29,m=256,g=m+1+f,_=30,v=19,b=2*g+1,y=15,k=16,x=7,w=256,S=16,C=17,O=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],j=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],D=512,M=new Array(2*(g+2));l(M);var E=new Array(2*_);l(E);var R=new Array(D);l(R);var B=new Array(p-h+1);l(B);var P=new Array(f);l(P);var L=new Array(_);l(L);var F,N,$,z=function(e,t,a,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=a,this.elems=r,this.max_length=i,this.has_stree=e&&e.length},V=function(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t};function U(e){return e<256?R[e]:R[256+(e>>>7)]}function H(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function G(e,t,a){e.bi_valid>k-a?(e.bi_buf|=t<<e.bi_valid&65535,H(e,e.bi_buf),e.bi_buf=t>>k-e.bi_valid,e.bi_valid+=a-k):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=a)}function W(e,t,a){G(e,a[2*t],a[2*t+1])}function q(e,t){var a=0;do{a|=1&e,e>>>=1,a<<=1}while(--t>0);return a>>>1}function X(e){16===e.bi_valid?(H(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function Y(e,t){var a,r,i,n,s,o,l=t.dyn_tree,c=t.max_code,d=t.stat_desc.static_tree,u=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,f=t.stat_desc.max_length,m=0;for(n=0;n<=y;n++)e.bl_count[n]=0;for(l[2*e.heap[e.heap_max]+1]=0,a=e.heap_max+1;a<b;a++)r=e.heap[a],n=l[2*l[2*r+1]+1]+1,n>f&&(n=f,m++),l[2*r+1]=n,r>c||(e.bl_count[n]++,s=0,r>=p&&(s=h[r-p]),o=l[2*r],e.opt_len+=o*(n+s),u&&(e.static_len+=o*(d[2*r+1]+s)));if(0!==m){do{n=f-1;while(0===e.bl_count[n])n--;e.bl_count[n]--,e.bl_count[n+1]+=2,e.bl_count[f]--,m-=2}while(m>0);for(n=f;0!==n;n--){r=e.bl_count[n];while(0!==r)i=e.heap[--a],i>c||(l[2*i+1]!==n&&(e.opt_len+=(n-l[2*i+1])*l[2*i],l[2*i+1]=n),r--)}}}function K(e,t,a){var r,i,n=new Array(y+1),s=0;for(r=1;r<=y;r++)n[r]=s=s+a[r-1]<<1;for(i=0;i<=t;i++){var o=e[2*i+1];0!==o&&(e[2*i]=q(n[o]++,o))}}function Z(){var e,t,a,r,i,n=new Array(y+1);for(a=0,r=0;r<f-1;r++)for(P[r]=a,e=0;e<1<<T[r];e++)B[a++]=r;for(B[a-1]=r,i=0,r=0;r<16;r++)for(L[r]=i,e=0;e<1<<j[r];e++)R[i++]=r;for(i>>=7;r<_;r++)for(L[r]=i<<7,e=0;e<1<<j[r]-7;e++)R[256+i++]=r;for(t=0;t<=y;t++)n[t]=0;e=0;while(e<=143)M[2*e+1]=8,e++,n[8]++;while(e<=255)M[2*e+1]=9,e++,n[9]++;while(e<=279)M[2*e+1]=7,e++,n[7]++;while(e<=287)M[2*e+1]=8,e++,n[8]++;for(K(M,g+1,n),e=0;e<_;e++)E[2*e+1]=5,E[2*e]=q(e,5);F=new z(M,T,m+1,g,y),N=new z(E,j,0,_,y),$=new z(new Array(0),I,0,v,x)}function J(e){var t;for(t=0;t<g;t++)e.dyn_ltree[2*t]=0;for(t=0;t<_;t++)e.dyn_dtree[2*t]=0;for(t=0;t<v;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*w]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function Q(e){e.bi_valid>8?H(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function ee(e,t,a,i){Q(e),i&&(H(e,a),H(e,~a)),r.arraySet(e.pending_buf,e.window,t,a,e.pending),e.pending+=a}function te(e,t,a,r){var i=2*t,n=2*a;return e[i]<e[n]||e[i]===e[n]&&r[t]<=r[a]}function ae(e,t,a){var r=e.heap[a],i=a<<1;while(i<=e.heap_len){if(i<e.heap_len&&te(t,e.heap[i+1],e.heap[i],e.depth)&&i++,te(t,r,e.heap[i],e.depth))break;e.heap[a]=e.heap[i],a=i,i<<=1}e.heap[a]=r}function re(e,t,a){var r,i,n,s,o=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],i=e.pending_buf[e.l_buf+o],o++,0===r?W(e,i,t):(n=B[i],W(e,n+m+1,t),s=T[n],0!==s&&(i-=P[n],G(e,i,s)),r--,n=U(r),W(e,n,a),s=j[n],0!==s&&(r-=L[n],G(e,r,s)))}while(o<e.last_lit);W(e,w,t)}function ie(e,t){var a,r,i,n=t.dyn_tree,s=t.stat_desc.static_tree,o=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=b,a=0;a<l;a++)0!==n[2*a]?(e.heap[++e.heap_len]=c=a,e.depth[a]=0):n[2*a+1]=0;while(e.heap_len<2)i=e.heap[++e.heap_len]=c<2?++c:0,n[2*i]=1,e.depth[i]=0,e.opt_len--,o&&(e.static_len-=s[2*i+1]);for(t.max_code=c,a=e.heap_len>>1;a>=1;a--)ae(e,n,a);i=l;do{a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],ae(e,n,1),r=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=r,n[2*i]=n[2*a]+n[2*r],e.depth[i]=(e.depth[a]>=e.depth[r]?e.depth[a]:e.depth[r])+1,n[2*a+1]=n[2*r+1]=i,e.heap[1]=i++,ae(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Y(e,t),K(n,c,e.bl_count)}function ne(e,t,a){var r,i,n=-1,s=t[1],o=0,l=7,c=4;for(0===s&&(l=138,c=3),t[2*(a+1)+1]=65535,r=0;r<=a;r++)i=s,s=t[2*(r+1)+1],++o<l&&i===s||(o<c?e.bl_tree[2*i]+=o:0!==i?(i!==n&&e.bl_tree[2*i]++,e.bl_tree[2*S]++):o<=10?e.bl_tree[2*C]++:e.bl_tree[2*O]++,o=0,n=i,0===s?(l=138,c=3):i===s?(l=6,c=3):(l=7,c=4))}function se(e,t,a){var r,i,n=-1,s=t[1],o=0,l=7,c=4;for(0===s&&(l=138,c=3),r=0;r<=a;r++)if(i=s,s=t[2*(r+1)+1],!(++o<l&&i===s)){if(o<c)do{W(e,i,e.bl_tree)}while(0!==--o);else 0!==i?(i!==n&&(W(e,i,e.bl_tree),o--),W(e,S,e.bl_tree),G(e,o-3,2)):o<=10?(W(e,C,e.bl_tree),G(e,o-3,3)):(W(e,O,e.bl_tree),G(e,o-11,7));o=0,n=i,0===s?(l=138,c=3):i===s?(l=6,c=3):(l=7,c=4)}}function oe(e){var t;for(ne(e,e.dyn_ltree,e.l_desc.max_code),ne(e,e.dyn_dtree,e.d_desc.max_code),ie(e,e.bl_desc),t=v-1;t>=3;t--)if(0!==e.bl_tree[2*A[t]+1])break;return e.opt_len+=3*(t+1)+5+5+4,t}function le(e,t,a,r){var i;for(G(e,t-257,5),G(e,a-1,5),G(e,r-4,4),i=0;i<r;i++)G(e,e.bl_tree[2*A[i]+1],3);se(e,e.dyn_ltree,t-1),se(e,e.dyn_dtree,a-1)}function ce(e){var t,a=4093624447;for(t=0;t<=31;t++,a>>>=1)if(1&a&&0!==e.dyn_ltree[2*t])return n;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return s;for(t=32;t<m;t++)if(0!==e.dyn_ltree[2*t])return s;return n}var de=!1;function ue(e){de||(Z(),de=!0),e.l_desc=new V(e.dyn_ltree,F),e.d_desc=new V(e.dyn_dtree,N),e.bl_desc=new V(e.bl_tree,$),e.bi_buf=0,e.bi_valid=0,J(e)}function he(e,t,a,r){G(e,(c<<1)+(r?1:0),3),ee(e,t,a,!0)}function pe(e){G(e,d<<1,3),W(e,w,M),X(e)}function fe(e,t,a,r){var n,s,l=0;e.level>0?(e.strm.data_type===o&&(e.strm.data_type=ce(e)),ie(e,e.l_desc),ie(e,e.d_desc),l=oe(e),n=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=n&&(n=s)):n=s=a+5,a+4<=n&&-1!==t?he(e,t,a,r):e.strategy===i||s===n?(G(e,(d<<1)+(r?1:0),3),re(e,M,E)):(G(e,(u<<1)+(r?1:0),3),le(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),re(e,e.dyn_ltree,e.dyn_dtree)),J(e),r&&Q(e)}function me(e,t,a){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&a,e.last_lit++,0===t?e.dyn_ltree[2*a]++:(e.matches++,t--,e.dyn_ltree[2*(B[a]+m+1)]++,e.dyn_dtree[2*U(t)]++),e.last_lit===e.lit_bufsize-1}a._tr_init=ue,a._tr_stored_block=he,a._tr_flush_block=fe,a._tr_tally=me,a._tr_align=pe},{"../utils/common":27}],39:[function(e,t,a){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=r},{}]},{},[9])(9)}))}).call(this,a("1a62").Buffer,a("7d15"),a("1adc"))},9058:function(e,t,a){"use strict";a("43c99")},9074:function(e,t,a){"use strict";a("fc28")},"90e5":function(e,t,a){"use strict";a("4ee9")},9119:function(e,t,a){},"912f":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Modal",{scopedSlots:e._u([{key:"header",fn:function(){return[a("h3",[e._v("复制模板")])]},proxy:!0},{key:"footer",fn:function(){return[a("Button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确定")])]},proxy:!0}]),model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("Form",{ref:"form",attrs:{model:e.formData}},[a("FormItem",{attrs:{label:"新模板名",required:!0}},[a("Input",{staticStyle:{width:"400px"},model:{value:e.formData.templateName,callback:function(t){e.$set(e.formData,"templateName",t)},expression:"formData.templateName"}})],1),a("FormItem",{attrs:{label:"复制模板至",required:!0}},[a("RadioGroup",{model:{value:e.templateTo,callback:function(t){e.templateTo=t},expression:"templateTo"}},[e.isInProject?a("Radio",{attrs:{label:"currentProjects"}},[e._v("当前项目")]):e._e(),a("Radio",{attrs:{label:"myTemplate"}},[e._v("标注模板-我的模板")]),a("Radio",{attrs:{label:"specifyProjects"}},[e._v("指定项目")])],1)],1),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:"specifyProjects"===e.templateTo,expression:"templateTo==='specifyProjects'"}],attrs:{label:"项目名称",required:!0}},[a("Select",{staticStyle:{width:"400px"},attrs:{filterable:"",loading:e.loading,"remote-method":e.debounceGetProjects,placeholder:"请输入项目名称"},model:{value:e.formData.project_id,callback:function(t){e.$set(e.formData,"project_id",t)},expression:"formData.project_id"}},e._l(e.projects,(function(t){return a("Option",{attrs:{value:t.project_id}},[e._v(e._s(t.project_name))])})),1)],1)],1)],1)],1)},i=[],n=a("a06e"),s=a("b0f9"),o=a("9ec3"),l={props:{template:Object,isInProject:Boolean,projectId:String,$router:Object},data(){return{visible:!0,options:{},formData:{templateName:"副本-"+this.template.template_name,project_id:""},templateTo:"myTemplate",loading:!1}},created(){},mounted(){},methods:{async onSubmit(){try{switch(this.templateTo){case"myTemplate":await this.fetchCopyTemplate(),this.$Message.success("复制成功"),this.$router.push("/projects/templates"),this.visible=!1;break;case"currentProjects":await this.fetchAddProjectTemplate(),this.$Message.success("复制成功"),this.projectId&&this.$router.push(`/projects/list/${this.projectId}?tab=template`),this.visible=!1,this.$emit("refresh");break;case"specifyProjects":await this.fetchAddProjectTemplate(),this.visible=!1,this.$router.push(`/projects/list/${this.formData.project_id}?tab=template`);break}}catch(e){this.$Message.error("复制模板失败:"+(null===e||void 0===e?void 0:e.message))}},debounceGetProjects:Object(o["debounce"])((function(e){this.getProjects(e)}),500),getProjects(e){this.loading=!0,this.fetchProjects(e)}},asyncMethods:{fetchProjects(e){const t=[{page:{start:1,size:50},return_total:1,project_name:e}];return Object(n["j"])(t).then(e=>(this.loading=!1,e.data)).catch(e=>{console.log(e)})},fetchAddProjectTemplate(){var e;const t={project_id:"currentProjects"===this.templateTo?this.projectId:this.formData.project_id,template_id:null!==(e=this.template.template_id)&&void 0!==e?e:this.template.id,template_name:this.formData.templateName};return Object(s["a"])(t).then(()=>{this.visible=!1}).catch(e=>{this.$Message.error("提交失败："+e.message)})},fetchCopyTemplate(){var e;const{formData:t}=this,a={template_id:null!==(e=this.template.template_id)&&void 0!==e?e:this.template.id,template_name:t.templateName};return Object(s["b"])(a).then(e=>e)}}},c=l,d=a("2be6"),u=Object(d["a"])(c,r,i,!1,null,null,null);t["a"]=u.exports},9176:function(e,t,a){"use strict";a("22b4")},"91a29":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{width:"500",transfer:!1,title:"新建小组"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("Form",{ref:"teamInfo",attrs:{model:e.teamInfo,rules:e.createRules,"label-position":"left"}},[a("FormItem",{attrs:{label:"小组名称:",prop:"team_name"}},[a("Input",{attrs:{placeholder:"请输入小组名称"},model:{value:e.teamInfo.team_name,callback:function(t){e.$set(e.teamInfo,"team_name",t)},expression:"teamInfo.team_name"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary",loading:e.fetchSubmit.isPending},on:{click:e.fetchSubmit}},[e._v("确定")]),a("Button",{staticClass:"mrm",on:{click:function(t){e.visible=!1}}},[e._v("取消")])],1)],1)},i=[],n=a("c833"),s=a("9ec3"),o=a.n(s),l={props:{userinfo:Object,tInfo:Object},data(){return{visible:!0,teamInfo:{team_name:"",team_manager:[],team_label:[],team_quality:[]},createRules:{team_name:[{required:!0,message:"团队名称不能为空",trigger:"blur"}]}}},created(){this.tInfo&&(this.teamInfo=o.a.cloneDeep(this.tInfo))},methods:{fetchSubmit(){const e={team_name:this.teamInfo.team_name},t={company_id:this.userinfo.company_id,team_id:this.teamInfo.team_id,team_name:this.teamInfo.team_name};this.$refs.teamInfo.validate(a=>{a&&(this.tInfo?Object(n["m"])(t).then(e=>{e?(this.visible=!1,this.$emit("onOk",this.teamInfo),this.$Message.success("修改成功")):this.$Message.error("修改失败")}).catch(e=>{this.$Message.error(e.message)}):Object(n["c"])(e).then(e=>{e?(this.visible=!1,this.$emit("onOk",this.teamInfo),this.$Message.success("创建成功")):this.$Message.error("创建失败")}).catch(e=>{this.$Message.error(e.message)}))})}}},c=l,d=(a("1ff0"),a("2be6")),u=Object(d["a"])(c,r,i,!1,null,"d05109f6",null);t["a"]=u.exports},9356:function(e,t,a){"use strict";a("ad2c")},9488:function(e,t,a){},"957d":function(e,t,a){"use strict";var r=a("312d"),i=a("9ec3");t["a"]={props:["value"],render(e){const{value:t}=this,a=Object(i["find"])(Object(i["values"])(r["l"]),{value:t});if(a)switch(t){case r["l"].PENDING.value:return e("Tag",{attrs:{color:"default"}},a.text);case r["l"].PROCSSING.value:return e("Tag",{attrs:{color:"orange"}},a.text);case r["l"].FINISHED.value:return e("Tag",{attrs:{color:"success"}},a.text);case r["l"].REJECT.value:return e("Tag",{attrs:{color:"error"}},a.text);default:return e("Tag",{props:{color:"default"}},a.text)}return e("Badge",{props:{}},"其他")}}},"959e":function(e,t,a){},"95a0":function(e,t,a){},"99d8":function(e,t,a){"use strict";a("d4a1")},"9c40":function(e,t,a){},"9c54":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.$route.path==="/company/my-team/"+e.$route.params.id?[a("Breadcrumb",[a("BreadcrumbItem",[e._v("小组管理")]),a("BreadcrumbItem",{attrs:{to:"/company/my-team"}},[e._v("小组列表")]),a("BreadcrumbItem",[e._v("小组详情")])],1),a("t-divider",{attrs:{align:"left"}},[a("h3",[e._v("小组详情")])])]:e._e(),a("div",{staticClass:"my-team-detail"},[a("h2",{staticClass:"mbm"},[e._v(e._s(e.teamInfo.team_name))]),a("Row",[a("Col",{attrs:{span:"6"}},[a("span",[e._v("创建人： "+e._s(e.teamInfo.nick_name))])]),a("Col",{attrs:{span:"5"}},[a("span",[e._v("小组人数： "+e._s(e.teamInfo.member_count))])]),e.teamInfo.created_at?a("Col",{attrs:{span:"7"}},[a("span",[e._v("创建时间：")]),a("span",[e._v(e._s(e.teamInfo.created_at||"-"))])]):e._e(),a("Col",{attrs:{span:"6"}},[a("a",{directives:[{name:"permissions",rawName:"v-permissions",value:e.perm,expression:"perm"}],on:{click:e.aditTeam}},[e._v("编辑")]),e.$route.fullPath.startsWith("/personal-center")?[a("Divider",{directives:[{name:"permissions",rawName:"v-permissions",value:e.perm,expression:"perm"}],attrs:{type:"vertical"}}),a("router-link",{attrs:{to:"/personal-center/my-team"}},[e._v("返回小组列表")])]:e._e()],2)],1),a("Divider"),a("Tabs",{attrs:{name:"1"},on:{"on-click":e.changetype},model:{value:e.team_type,callback:function(t){e.team_type=t},expression:"team_type"}},[a("TabPane",{attrs:{label:"所有",name:"all",tab:"1"}}),a("TabPane",{attrs:{label:"组长",name:"admin",tab:"1"}}),a("TabPane",{attrs:{label:"标注员",name:"labeler",tab:"1"}}),a("TabPane",{attrs:{label:"质检员",name:"reviewer",tab:"1"}})],1),a("TableFilter",{attrs:{btnDirection:"horizontal"},on:{search:function(t){return e.changePage(1)},reset:e.reset}},[a("Form",{ref:"form",staticClass:"mts",attrs:{model:e.form,"label-width":50,"label-position":"right","label-colon":""}},[a("Row",{attrs:{align:"middle",gutter:20}},[a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"昵称"}},[a("Input",{attrs:{placeholder:"请输入昵称"},model:{value:e.form.nick_name,callback:function(t){e.$set(e.form,"nick_name",t)},expression:"form.nick_name"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"邮箱"}},[a("Input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1)],1)],1)],1),e.isSelect?a("Row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[a("div",[a("Button",{staticClass:"mrs",attrs:{type:"primary"},on:{click:function(t){e.isSelect=!1}}},[e._v("退出批量操作")]),a("Button",{staticClass:"mrs",attrs:{type:"primary",ghost:"",disabled:e.selectActionDisabled},on:{click:e.editMembersRole}},[e._v("批量修改")]),a("Button",{staticClass:"mrs",attrs:{type:"error",ghost:"",disabled:e.selectActionDisabled},on:{click:e.deleteMembers}},[e._v("批量删除")])],1),e.isSelectAll?a("div",[a("span",[e._v("已选中全部"+e._s(e.page.total)+"个用户，")]),a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.selectAll(!1)}}},[e._v("取消选中")])]):a("div",[a("span",[e._v("已选中"+e._s(e.selection.length)+"个用户，")]),a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.selectAll(!0)}}},[e._v("选中全部"+e._s(e.page.total)+"个用户")])])]):a("Row",[a("Button",{staticClass:"mrs",attrs:{type:"primary",icon:"md-add"},on:{click:e.addMembers}},[e._v("添加成员")]),a("Button",{staticClass:"mrs",attrs:{type:"primary"},on:{click:function(t){e.isSelect=!0}}},[e._v("批量操作")])],1),a("Table",{ref:"table",staticClass:"mtm",attrs:{columns:e.teamColumns,data:e.teamDatas,loading:e.fetchTeam.isPending},on:{"on-selection-change":function(t){e.selection=t},"on-select-cancel":function(t){e.isSelectAll=!1},"on-select-all-cancel":function(t){e.isSelectAll=!1}},scopedSlots:e._u([{key:"role_name",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.role_name.includes("组长")?"组长":r.role_name))])]}},{key:"action",fn:function(t){var r=t.row;return[a("auth-view",{attrs:{perm:e.perm}},[a("a",{on:{click:function(t){return e.modifyMember(r)}}},[e._v("查看信息")]),a("Divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(t){return e.modifyRoleUser(r)}}},[e._v("修改角色")]),a("Divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(t){return e.DeleteMember([r])}}},[e._v("删除")]),a("template",{slot:"forbidden"},[a("span",[e._v("-")])])],2)]}}])}),a("Page",{staticClass:"right mtm",attrs:{current:e.page.index,total:e.page.total,"page-size":e.page.size,"show-total":"","show-elevator":""},on:{"on-change":e.changePage}})],1),a("member-delete",{ref:"memberDelete",attrs:{object:{object_type:"team",object_id:e.team_id,params:Object.assign({},{role_type_list:e.team_type},e.form)}}})],2)},i=[],n=a("e3fa"),s=a("c833"),o=a("91a29"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{scopedSlots:e._u([{key:"header",fn:function(){return[a("b",[e._v("添加成员")])]},proxy:!0},{key:"footer",fn:function(){return[a("Button",{on:{click:function(t){e.visible=!1}}},[e._v("取消")]),a("Button",{attrs:{type:"primary",disabled:e.submitDisabled,loading:e.fetchAddUsers.isPending},on:{click:e.submit}},[e._v("确认添加")])]},proxy:!0}]),model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("Form",{ref:"form",attrs:{model:e.form,"label-position":"top"}},[a("FormItem",{attrs:{label:"成员",prop:"users",rules:e.ruleNotEmpty}},[a("Select",{attrs:{loading:e.fetchTeamRoster.isPending,"remote-method":e.debounce,multiple:"",filterable:"",placeholder:"请选择添加的成员"},on:{"on-query-change":function(t){!t&&e.teamRoster.length<10&&e.fetchTeamRoster()}},model:{value:e.form.users,callback:function(t){e.$set(e.form,"users",t)},expression:"form.users"}},e._l(e.teamRoster,(function(t){return a("Option",{key:t.user_id,attrs:{value:t.user_id,label:t.nick_name+t.email,tag:t.nick_name,disabled:t.team_member}},[a("Row",{attrs:{type:"flex",justify:"space-between",align:"top"}},[a("div",[a("p",[e._v(e._s(t.nick_name))]),a("p",{class:!t.team_member&&"txt-muted"},[e._v(e._s(t.email||"无邮箱"))])]),t.team_member?a("Icon",{attrs:{type:"md-checkmark",size:"small"}}):e._e()],1)],1)})),1)],1),a("FormItem",{attrs:{label:"角色",prop:"roles",rules:e.ruleNotEmpty}},[a("CheckboxGroup",{model:{value:e.form.roles,callback:function(t){e.$set(e.form,"roles",t)},expression:"form.roles"}},e._l(e.roleOptions,(function(t,r){return a("Checkbox",{key:r,attrs:{label:r,disabled:e.optionDisabled(r)}},[e._v(e._s(t))])})),1)],1)],1)],1)},c=[],d=(a("8d0d"),a("9ec3")),u=a.n(d),h={props:{object:Object},data(){return{visible:!0,form:{users:[],roles:[]},roleOptions:{admin:"组长",labeler:"标注员",reviewer:"质检员"},ruleNotEmpty:{required:!0,message:"不能为空"}}},computed:{optionDisabled(){return function(e){const{form:t}=this;return t.roles.includes("admin")&&["labeler","reviewer"].includes(e)}},submitDisabled(){const{form:e}=this;return!e.users.length||!e.roles.length}},watch:{"form.roles"(e){e.includes("admin")&&(e.includes("labeler")&&this.form.roles.splice(this.form.roles.indexOf("labeler"),1),e.includes("reviewer")&&this.form.roles.splice(this.form.roles.indexOf("reviewer"),1))}},mounted(){this.fetchTeamRoster()},methods:{debounce:Object(d["debounce"])((function(e){this.fetchTeamRoster(e)}),500),submit(){this.$refs.form.validate(e=>{if(e)return this.fetchAddUsers();this.$Message.error("提交失败，请检查是否有遗漏")})}},asyncMethods:{fetchTeamRoster(e=""){const t={team_id:this.object.object_id,page:{start:0,size:100,return_total:0},query:e};return Object(s["k"])(t).then(e=>e.data).catch(e=>(console.log(e),[]))},fetchAddUsers(){const{object:e,form:t}=this,a={team_id:e.object_id,role_type_list:t.roles,user_list:t.users};return Object(s["h"])(a).then(()=>{this.$Message.success(`已成功添加${t.users.length}个成员`),this.visible=!1,this.$emit("refresh")}).catch(e=>{this.$Message.error("添加失败",e.message)})}}},p=h,f=a("2be6"),m=Object(f["a"])(p,l,c,!1,null,null,null),g=m.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{scopedSlots:e._u([{key:"header",fn:function(){return[a("b",[e._v("批量修改角色")])]},proxy:!0},{key:"footer",fn:function(){return[a("Button",{on:{click:function(t){e.visible=!1}}},[e._v("取消")]),a("Button",{attrs:{type:"primary",disabled:e.submitDisabled,loading:e.fetchChangeTeamRole.isPending},on:{click:e.submit}},[e._v("确认修改")])]},proxy:!0}]),model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("Form",{ref:"form",attrs:{model:e.form,"label-position":"top"}},[a("FormItem",{attrs:{label:"成员"}},[a("b",{staticClass:"label"},[e._v(e._s(e.userLabel))])]),a("FormItem",{attrs:{label:"修改为角色",prop:"roles",rules:e.ruleNotEmpty}},[a("CheckboxGroup",{model:{value:e.form.roles,callback:function(t){e.$set(e.form,"roles",t)},expression:"form.roles"}},e._l(e.roleOptions,(function(t,r){return a("Checkbox",{key:r,attrs:{label:r,disabled:e.optionDisabled(r)}},[e._v(e._s(t))])})),1)],1)],1)],1)},v=[],b={props:{object:Object,selection:Array,isAll:Boolean},data(){return{visible:!0,form:{users:[],roles:[]},roleOptions:{admin:"组长",labeler:"标注员",reviewer:"质检员"},ruleNotEmpty:{required:!0,message:"不能为空"},page:{index:1,size:500,total:0}}},computed:{userList(){return function(e){const{selection:t}=this;if(t.length){const a=Object(d["map"])(t,t=>t[e]);return a}return[]}},userLabel(){const{isAll:e,page:t,isSingleMember:a}=this,r=this.userList("nick_name");let i="";return e?i+=`全部${t.total}个用户`:(i+=""+r.join(", "),!a&&(i+=`（共${r.length}个用户）`)),i},optionDisabled(){return function(e){const{form:t}=this;return t.roles.includes("admin")&&["labeler","reviewer"].includes(e)}},submitDisabled(){const{form:e,selection:t,isAll:a}=this;return!t.length&&!a||!e.roles.length}},watch:{"form.roles"(e){e.includes("admin")&&(e.includes("labeler")&&this.form.roles.splice(this.form.roles.indexOf("labeler"),1),e.includes("reviewer")&&this.form.roles.splice(this.form.roles.indexOf("reviewer"),1))}},mounted(){this.isAll&&this.fetchTeamMembers()},methods:{submit(){this.$refs.form.validate(e=>{if(e)return this.fetchChangeTeamRole();this.$Message.error("提交失败，请检查是否有遗漏")})}},asyncMethods:{fetchTeamMembers(){const{page:e,object:t}=this,a={page:{start:(e.index-1)*e.size,size:e.size,return_total:1},object_type:t.object_type,object_id:t.object_id,user_type:"user"};return Object.keys(t.params).forEach(e=>{!t.params[e]||"role_type_list"===e&&"all"===t.params[e]||(a[e]="role_type_list"===e?[t.params[e]]:t.params[e])}),Object(n["q"])(a).then(e=>(this.page.total=e.total,e.data)).catch(e=>{console.log(e)})},fetchChangeTeamRole(){const{object:e,form:t,isAll:a,teamMembers:r,page:i}=this,s={team_id:e.object_id,role_type_list:t.roles,user_id_list:a?Object(d["map"])(r,e=>e.user_id):this.userList("user_id")};return Object(n["d"])(s).then(e=>{e?this.$Message.success("修改角色成功！"+(a&&r.length<i.total?"本次已达单次处理上限："+r.length:"")):this.$Message.error("修改角色失败"),this.visible=!1,this.$emit("refresh")}).catch(e=>{this.$Message.error("修改角色失败",e.message)})}}},y=b,k=(a("114a"),Object(f["a"])(y,_,v,!1,null,"1086ff58",null)),x=k.exports,w=a("c606"),S=a("b949"),C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},O=[],T=a("ecab"),j={components:{deleteTip:T["a"]},props:{object:Object},data(){return{members:[],isAll:!1,page:{index:1,size:500,total:0},roleOptions:{admin:"组长",labeler:"标注员",reviewer:"质检员"}}},computed:{userList(){return function(e){const{members:t}=this;if(t.length){const a=Object(d["map"])(t,t=>t[e]);return a}return[]}},userLabel(){const{isAll:e,page:t,isSingleMember:a}=this,r=this.userList("nick_name");let i="用户：";return e?i+=`全部${t.total}个用户`:(i+=""+r.join(", "),!a&&(i+=`（共${r.length}个用户）`)),i},roleLabel(){const{isAll:e,isSingleMember:t,object:a,roleOptions:r}=this,i=this.userList("role_name");let n=(t?"":"包含")+"角色：";if(e)switch(a.params.role_type_list){case"all":n+="标注员, 质检员, 组长";break;case"admin":case"labeler":case"reviewer":n+=r[a.params.role_type_list];break}else n+=Object(d["uniq"])(Object(d["uniq"])(i).join(",").split(",")).join(", ");return n},isSingleMember(){const{isAll:e,members:t}=this;return!(t.length>1||e)}},methods:{DeleteMember(e,t=!1){const a=this;a.isAll=t;const r=new Promise(async r=>{if(t){const e=await a.fetchTeamMembers();e&&(a.members=e)}else a.members=e;let i="";switch(a.object.object_type){case"team":i="小组";break}const n=e=>e("div",[e("div",{style:{marginLeft:"40px"}},[e("b",{class:"member-label"},a.userLabel),e("br"),a.isSingleMember?e("b",{class:"member-label"},a.roleLabel):"",e("p",`确定删除的话，用户会被移出${i}。`)]),e(T["a"])]);this.$Modal.confirm({title:`确定要删除${a.isSingleMember?"这个":"这些"}用户吗？`,render:n,width:700,loading:!0,onOk:()=>{this.fetchDeleteMember().then(()=>{r(),this.$Modal.remove()})}})});return r}},asyncMethods:{fetchTeamMembers(){const{page:e,object:t}=this,a={page:{start:(e.index-1)*e.size,size:e.size,return_total:1},object_type:t.object_type,object_id:t.object_id,user_type:"user"};return Object.keys(t.params).forEach(e=>{!t.params[e]||"role_type_list"===e&&"all"===t.params[e]||(a[e]="role_type_list"===e?[t.params[e]]:t.params[e])}),Object(n["q"])(a).then(e=>(this.page.total=e.total,e.data)).catch(e=>{console.log(e)})},fetchDeleteMember(){const{object:e,page:t,isAll:a}=this,r=this.userList("user_id"),i={user_id_list:r};switch(e.object_type){case"team":i.team_id=e.object_id;break}return Object(n["g"])(i).then(e=>(e?this.$Message.success("删除成员成功！"+(a&&r.length<t.total?"本次已达单次处理上限："+r.length:"")):this.$Message.error("删除成员失败"),e)).catch(e=>{this.$Message.error("删除成员失败："+e.message)})}}},I=j,A=(a("c97f"),Object(f["a"])(I,C,O,!1,null,null,null)),D=A.exports,M=a("8859"),E=a("c605"),R={components:{AddMembers:g,EditMembersRole:x,MemberModifyRoleUser:S["a"],MemberDelete:D,TableFilter:E["a"]},mixins:[M["a"]],modals:["memberDelete"],data(){return{form:{nick_name:"",email:""},isSelect:!1,isSelectAll:!1,selection:[],team_type:"all",perm:{},teamerTotal:0,teamInfo:{},users:[],team_id:this.$route.params.id,teamColumns:[{title:"用户ID",key:"user_id"},{title:"昵称",key:"nick_name"},{title:"用户邮箱",key:"email"},{title:"角色",slot:"role_name"},{title:"操作",slot:"action",minWidth:100}],teamDatas:[],userinfo:{},page:{index:1,size:10,total:0}}},computed:{nickName(){const e=this.$store.state.userinfo.user?this.$store.state.userinfo.user.nick_name:"";return e},selectActionDisabled(){const{isSelect:e,isSelectAll:t,selection:a,page:r}=this;return!e||!a.length||t&&!r.total}},watch:{isSelect(e){this.selection=[],this.isSelectAll=!1,e?this.teamColumns.unshift({type:"selection",width:60,align:"center"}):(this.teamColumns.shift(),this.selectAll(!1))}},created(){this.userinfo=this.$store.state.userinfo.user,this.perm={domain:"team",action:"edit",extra:{team:this.$route.params.id,company:this.userinfo.company_id}},this.Fetch().then(e=>{"all"===this.team_type&&(this.teamerTotal=e[0].total)})},asyncMethods:{Fetch(){return this.isSelect=!1,this.page.index=1,Promise.all([this.fetchTeam(),this.fetchTeamInfo()])},fetchTeam(){const e={page:{start:(this.page.index-1)*this.page.size,size:this.page.size,return_total:1},object_type:"team",object_id:this.$route.params.id,user_type:"user"};return"all"!==this.team_type&&(e.role_type_list=[this.team_type]),Object.keys(this.form).forEach(t=>{this.form[t]&&(e[t]=this.form[t])}),Object(n["q"])(e).then(e=>(this.page.total=e.total,this.teamDatas=e.data,e)).catch(e=>{console.log(e),this.$Message.error("列表数据获取失败，请刷新重试")})},fetchTeamInfo(){const e={team_id:this.team_id};return Object(s["f"])(e).then(e=>e||{}).catch(e=>{this.$Message.error(e.message)})}},methods:{selectAll(e){this.isSelectAll=e,this.$refs.table.selectAll(e),e&&this.$Message.success(e?"已全选":"已取消全选")},addMembers(){const e=this;this.$FastModal.show(g,{object:{object_type:"team",object_id:e.$route.params.id}},{refresh(){e.Fetch()}})},editMembersRole(){const e=this;this.$FastModal.show(x,{object:{object_type:"team",object_id:e.$route.params.id,params:{role_type_list:e.team_type,...e.form}},selection:e.selection,isAll:e.isSelectAll},{refresh(){e.Fetch()}})},modifyMember(e){const t=this;this.$FastModal.show(w["a"],{user:e,object:{object_type:"team",object_id:t.$route.params.id},readonly:!0})},modifyRoleUser(e){const t=this;this.$FastModal.show(S["a"],{user:e,object:{object_type:"team",object_id:t.$route.params.id},$store:t.$store},{refresh(){t.Fetch()}})},changetype(){this.isSelect=!1,this.page.index=1,this.fetchTeam()},aditTeam(){this.$FastModal.show(o["a"],{userinfo:this.userinfo,tInfo:this.teamInfo},{onOk:e=>{this.teamInfo=u.a.cloneDeep(e)}})},DeleteMember(e){this.$refs.memberDelete.DeleteMember(e).then(()=>{this.Fetch()})},deleteMembers(){const{selection:e,isSelectAll:t,page:a}=this;this.$refs.memberDelete.DeleteMember(e,t&&a.total).then(()=>{this.Fetch()})},changePage(e){this.selection=[],this.selectAll(!1),this.page.index=e,this.fetchTeam()},reset(){const{form:e}=this;this.$refs.form.resetFields(),Object.keys(e).forEach(t=>{this.$set(e,t,"")}),this.changePage(1)}}},B=R,P=(a("9074"),Object(f["a"])(B,r,i,!1,null,"7967879f",null));t["default"]=P.exports},"9d2c":function(e,t,a){},"9dc4":function(e,t,a){},"9fe2":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{title:e.titleOptions[e.type],width:"720","mask-closable":!1},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("Form",{ref:"form",attrs:{model:e.formData,"label-position":"right","label-width":110}},[e._l(e.formOptions,(function(t,r){return[a("FormItem",{key:r,attrs:{label:t.label}},[e.readonly?[a("div",{staticClass:"txt-muted"},[e._v(e._s(e.formData[r]||"-"))])]:[["checkbox"].includes(t.type)?a("div",{staticClass:"form-item"},[a("Row",{attrs:{type:"flex",justify:"start"}},[a("CheckboxGroup",{on:{"on-change":function(t){t.includes("无")&&(e.formData[r]=["无"])}},model:{value:e.formData[r],callback:function(t){e.$set(e.formData,r,t)},expression:"formData[key]"}},e._l(t.options,(function(t){return a("Checkbox",{key:t,attrs:{label:t,value:t,disabled:e.formData[r].includes("无")&&"无"!==t}})})),1),a("a",{staticClass:"mls txt-small",attrs:{href:"javascript:;"},on:{click:function(t){return e.selectAll(r)}}},[e._v(e._s(e.isSelectAll(r)?"取消全选":"全选"))])],1)],1):e._e(),["select"].includes(t.type)?a("div",{staticClass:"form-item"},[a("Row",{attrs:{type:"flex",justify:"start"}},[a("Select",{attrs:{multiple:t.multiple,filterable:"",placeholder:"请选择"+t.label},model:{value:e.formData[r],callback:function(t){e.$set(e.formData,r,t)},expression:"formData[key]"}},e._l(t.options,(function(e){return a("Option",{key:e,attrs:{label:e,value:e}})})),1),a("a",{staticClass:"mlm txt-small",attrs:{href:"javascript:;"},on:{click:function(t){return e.selectAll(r)}}},[e._v(e._s(e.isSelectAll(r)?"取消全选":"全选"))])],1)],1):e._e()]],2)]}))],2),a("template",{slot:"footer"},[e.readonly?[a("Button",{attrs:{type:"text"},on:{click:function(t){e.visible=!1}}},[e._v("关闭")])]:[a("Button",{attrs:{type:"text"},on:{click:function(t){e.visible=!1}}},[e._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确定")])]],2)],2)},i=[],n=(a("8d0d"),a("9ec3")),s=a("a2be"),o={props:{condition:[String,Boolean],type:String,readonly:{type:Boolean,default:!1}},data(){return{visible:!0,titleOptions:{labeler:"标注员信息要求",reviewer:"质检员信息要求"},formData:{sex:[],age:[],education:[],profession:[],native:[],residence:[],social_work_age:[],label_work_age:[],label_experience:[],english_level:[]},formOptions:{sex:{label:"性别",type:"checkbox",options:["男","女"]},age:{label:"年龄",type:"checkbox",options:["20岁及以下","21-25岁","26-30岁","31-35岁","36岁及以上"]},education:{label:"学历",type:"checkbox",options:["中专","大专","本科","硕士","博士"]},profession:{label:"专业分类",type:"select",multiple:!0,options:["管理学","哲学","经济学","法学","教育学","文学","历史学","理学","工学","农学","医学","军事学","计算机","艺术学","语言","其他"]},native:{label:"籍贯",type:"select",multiple:!0,options:Object.values(s["86"])},residence:{label:"常驻地",type:"select",multiple:!0,options:Object.values(s["86"])},social_work_age:{label:"社会工龄",type:"checkbox",options:["0-5年","6-10年","10年以上"]},label_work_age:{label:"标注工龄",type:"select",multiple:!0,options:[...new Array(11).keys()].map(e=>e+"年")},label_experience:{label:"标注项目经验",type:"checkbox",options:["文本类标注经验","图片类标注经验","视频类标注经验","音频类标注经验"]},english_level:{label:"英语水平",type:"checkbox",options:["无","CET-4","CET-6","专4","专8","托福","雅思"]}}}},computed:{isSelectAll(){return function(e){const{formData:t,formOptions:a}=this,[r,i]=[t[e],a[e].options];return"english_level"===e?r.length===i.length-1&&r.filter(e=>!i.includes(e)||"无"===e):r.length===i.length&&r.filter(e=>!i.includes(e))}}},created(){let{condition:e}=this;"string"===typeof e&&(e=JSON.parse(e),Object.keys(e).forEach(t=>{e[t]=Object(n["split"])(e[t],",")}),Object.assign(this.formData,e))},methods:{selectAll(e){const{formData:t,formOptions:a}=this,{options:r}=a[e];return t[e]="english_level"===e?this.isSelectAll(e)?[]:[...r.filter(e=>"无"!==e)]:this.isSelectAll(e)?[]:[...r]},submit(){const e={...this.formData};Object.keys(e).forEach(t=>{e[t]=Object(n["join"])(Object(n["compact"])(e[t]),",")}),this.$emit("update",JSON.stringify(e)),this.visible=!1}}},l=o,c=(a("03b5"),a("2be6")),d=Object(c["a"])(l,r,i,!1,null,"023d7108",null);t["a"]=d.exports},a033:function(e,t,a){"use strict";a("f76b")},a2be:function(e){e.exports=JSON.parse('{"86":{"110000":"北京市","120000":"天津市","130000":"河北省","140000":"山西省","150000":"内蒙古自治区","210000":"辽宁省","220000":"吉林省","230000":"黑龙江省","310000":"上海市","320000":"江苏省","330000":"浙江省","340000":"安徽省","350000":"福建省","360000":"江西省","370000":"山东省","410000":"河南省","420000":"湖北省","430000":"湖南省","440000":"广东省","450000":"广西壮族自治区","460000":"海南省","500000":"重庆市","510000":"四川省","520000":"贵州省","530000":"云南省","540000":"西藏自治区","610000":"陕西省","620000":"甘肃省","630000":"青海省","640000":"宁夏回族自治区","650000":"新疆维吾尔自治区","710000":"台湾省","810000":"香港特别行政区","820000":"澳门特别行政区"},"110000":{"110101":"东城区","110102":"西城区","110105":"朝阳区","110106":"丰台区","110107":"石景山区","110108":"海淀区","110109":"门头沟区","110111":"房山区","110112":"通州区","110113":"顺义区","110114":"昌平区","110115":"大兴区","110116":"怀柔区","110117":"平谷区","110118":"密云区","110119":"延庆区"},"120000":{"120101":"和平区","120102":"河东区","120103":"河西区","120104":"南开区","120105":"河北区","120106":"红桥区","120110":"东丽区","120111":"西青区","120112":"津南区","120113":"北辰区","120114":"武清区","120115":"宝坻区","120116":"滨海新区","120117":"宁河区","120118":"静海区","120119":"蓟州区"},"130000":{"130100":"石家庄市","130200":"唐山市","130300":"秦皇岛市","130400":"邯郸市","130500":"邢台市","130600":"保定市","130700":"张家口市","130800":"承德市","130900":"沧州市","131000":"廊坊市","131100":"衡水市","139001":"定州市","139002":"辛集市"},"140000":{"140100":"太原市","140200":"大同市","140300":"阳泉市","140400":"长治市","140500":"晋城市","140600":"朔州市","140700":"晋中市","140800":"运城市","140900":"忻州市","141000":"临汾市","141100":"吕梁市"},"150000":{"150100":"呼和浩特市","150200":"包头市","150300":"乌海市","150400":"赤峰市","150500":"通辽市","150600":"鄂尔多斯市","150700":"呼伦贝尔市","150800":"巴彦淖尔市","150900":"乌兰察布市","152200":"兴安盟","152500":"锡林郭勒盟","152900":"阿拉善盟"},"210000":{"210100":"沈阳市","210200":"大连市","210300":"鞍山市","210400":"抚顺市","210500":"本溪市","210600":"丹东市","210700":"锦州市","210800":"营口市","210900":"阜新市","211000":"辽阳市","211100":"盘锦市","211200":"铁岭市","211300":"朝阳市","211400":"葫芦岛市"},"220000":{"220100":"长春市","220200":"吉林市","220300":"四平市","220400":"辽源市","220500":"通化市","220600":"白山市","220700":"松原市","220800":"白城市","222400":"延边朝鲜族自治州"},"230000":{"230100":"哈尔滨市","230200":"齐齐哈尔市","230300":"鸡西市","230400":"鹤岗市","230500":"双鸭山市","230600":"大庆市","230700":"伊春市","230800":"佳木斯市","230900":"七台河市","231000":"牡丹江市","231100":"黑河市","231200":"绥化市","232700":"大兴安岭地区"},"310000":{"310101":"黄浦区","310104":"徐汇区","310105":"长宁区","310106":"静安区","310107":"普陀区","310109":"虹口区","310110":"杨浦区","310112":"闵行区","310113":"宝山区","310114":"嘉定区","310115":"浦东新区","310116":"金山区","310117":"松江区","310118":"青浦区","310120":"奉贤区","310151":"崇明区"},"320000":{"320100":"南京市","320200":"无锡市","320300":"徐州市","320400":"常州市","320500":"苏州市","320600":"南通市","320700":"连云港市","320800":"淮安市","320900":"盐城市","321000":"扬州市","321100":"镇江市","321200":"泰州市","321300":"宿迁市"},"330000":{"330100":"杭州市","330200":"宁波市","330300":"温州市","330400":"嘉兴市","330500":"湖州市","330600":"绍兴市","330700":"金华市","330800":"衢州市","330900":"舟山市","331000":"台州市","331100":"丽水市"},"340000":{"340100":"合肥市","340200":"芜湖市","340300":"蚌埠市","340400":"淮南市","340500":"马鞍山市","340600":"淮北市","340700":"铜陵市","340800":"安庆市","341000":"黄山市","341100":"滁州市","341200":"阜阳市","341300":"宿州市","341500":"六安市","341600":"亳州市","341700":"池州市","341800":"宣城市"},"350000":{"350100":"福州市","350200":"厦门市","350300":"莆田市","350400":"三明市","350500":"泉州市","350600":"漳州市","350700":"南平市","350800":"龙岩市","350900":"宁德市"},"360000":{"360100":"南昌市","360200":"景德镇市","360300":"萍乡市","360400":"九江市","360500":"新余市","360600":"鹰潭市","360700":"赣州市","360800":"吉安市","360900":"宜春市","361000":"抚州市","361100":"上饶市"},"370000":{"370100":"济南市","370200":"青岛市","370300":"淄博市","370400":"枣庄市","370500":"东营市","370600":"烟台市","370700":"潍坊市","370800":"济宁市","370900":"泰安市","371000":"威海市","371100":"日照市","371200":"莱芜市","371300":"临沂市","371400":"德州市","371500":"聊城市","371600":"滨州市","371700":"菏泽市"},"410000":{"410100":"郑州市","410200":"开封市","410300":"洛阳市","410400":"平顶山市","410500":"安阳市","410600":"鹤壁市","410700":"新乡市","410800":"焦作市","410900":"濮阳市","411000":"许昌市","411100":"漯河市","411200":"三门峡市","411300":"南阳市","411400":"商丘市","411500":"信阳市","411600":"周口市","411700":"驻马店市","419001":"济源市"},"420000":{"420100":"武汉市","420200":"黄石市","420300":"十堰市","420500":"宜昌市","420600":"襄阳市","420700":"鄂州市","420800":"荆门市","420900":"孝感市","421000":"荆州市","421100":"黄冈市","421200":"咸宁市","421300":"随州市","422800":"恩施土家族苗族自治州","429004":"仙桃市","429005":"潜江市","429006":"天门市","429021":"神农架林区"},"430000":{"430100":"长沙市","430200":"株洲市","430300":"湘潭市","430400":"衡阳市","430500":"邵阳市","430600":"岳阳市","430700":"常德市","430800":"张家界市","430900":"益阳市","431000":"郴州市","431100":"永州市","431200":"怀化市","431300":"娄底市","433100":"湘西土家族苗族自治州"},"440000":{"440100":"广州市","440200":"韶关市","440300":"深圳市","440400":"珠海市","440500":"汕头市","440600":"佛山市","440700":"江门市","440800":"湛江市","440900":"茂名市","441200":"肇庆市","441300":"惠州市","441400":"梅州市","441500":"汕尾市","441600":"河源市","441700":"阳江市","441800":"清远市","441900":"东莞市","442000":"中山市","445100":"潮州市","445200":"揭阳市","445300":"云浮市"},"450000":{"450100":"南宁市","450200":"柳州市","450300":"桂林市","450400":"梧州市","450500":"北海市","450600":"防城港市","450700":"钦州市","450800":"贵港市","450900":"玉林市","451000":"百色市","451100":"贺州市","451200":"河池市","451300":"来宾市","451400":"崇左市"},"460000":{"460100":"海口市","460200":"三亚市","460300":"三沙市","460400":"儋州市","469001":"五指山市","469002":"琼海市","469005":"文昌市","469006":"万宁市","469007":"东方市","469021":"定安县","469022":"屯昌县","469023":"澄迈县","469024":"临高县","469025":"白沙黎族自治县","469026":"昌江黎族自治县","469027":"乐东黎族自治县","469028":"陵水黎族自治县","469029":"保亭黎族苗族自治县","469030":"琼中黎族苗族自治县"},"500000":{"500101":"万州区","500102":"涪陵区","500103":"渝中区","500104":"大渡口区","500105":"江北区","500106":"沙坪坝区","500107":"九龙坡区","500108":"南岸区","500109":"北碚区","500110":"綦江区","500111":"大足区","500112":"渝北区","500113":"巴南区","500114":"黔江区","500115":"长寿区","500116":"江津区","500117":"合川区","500118":"永川区","500119":"南川区","500120":"璧山区","500151":"铜梁区","500152":"潼南区","500153":"荣昌区","500154":"开州区","500228":"梁平县","500229":"城口县","500230":"丰都县","500231":"垫江县","500232":"武隆县","500233":"忠县","500235":"云阳县","500236":"奉节县","500237":"巫山县","500238":"巫溪县","500240":"石柱土家族自治县","500241":"秀山土家族苗族自治县","500242":"酉阳土家族苗族自治县","500243":"彭水苗族土家族自治县"},"510000":{"510100":"成都市","510300":"自贡市","510400":"攀枝花市","510500":"泸州市","510600":"德阳市","510700":"绵阳市","510800":"广元市","510900":"遂宁市","511000":"内江市","511100":"乐山市","511300":"南充市","511400":"眉山市","511500":"宜宾市","511600":"广安市","511700":"达州市","511800":"雅安市","511900":"巴中市","512000":"资阳市","513200":"阿坝藏族羌族自治州","513300":"甘孜藏族自治州","513400":"凉山彝族自治州"},"520000":{"520100":"贵阳市","520200":"六盘水市","520300":"遵义市","520400":"安顺市","520500":"毕节市","520600":"铜仁市","522300":"黔西南布依族苗族自治州","522600":"黔东南苗族侗族自治州","522700":"黔南布依族苗族自治州"},"530000":{"530100":"昆明市","530300":"曲靖市","530400":"玉溪市","530500":"保山市","530600":"昭通市","530700":"丽江市","530800":"普洱市","530900":"临沧市","532300":"楚雄彝族自治州","532500":"红河哈尼族彝族自治州","532600":"文山壮族苗族自治州","532800":"西双版纳傣族自治州","532900":"大理白族自治州","533100":"德宏傣族景颇族自治州","533300":"怒江傈僳族自治州","533400":"迪庆藏族自治州"},"540000":{"540100":"拉萨市","540200":"日喀则市","540300":"昌都市","540400":"林芝市","540500":"山南市","542400":"那曲地区","542500":"阿里地区"},"610000":{"610100":"西安市","610200":"铜川市","610300":"宝鸡市","610400":"咸阳市","610500":"渭南市","610600":"延安市","610700":"汉中市","610800":"榆林市","610900":"安康市","611000":"商洛市"},"620000":{"620100":"兰州市","620200":"嘉峪关市","620300":"金昌市","620400":"白银市","620500":"天水市","620600":"武威市","620700":"张掖市","620800":"平凉市","620900":"酒泉市","621000":"庆阳市","621100":"定西市","621200":"陇南市","622900":"临夏回族自治州","623000":"甘南藏族自治州"},"630000":{"630100":"西宁市","630200":"海东市","632200":"海北藏族自治州","632300":"黄南藏族自治州","632500":"海南藏族自治州","632600":"果洛藏族自治州","632700":"玉树藏族自治州","632800":"海西蒙古族藏族自治州"},"640000":{"640100":"银川市","640200":"石嘴山市","640300":"吴忠市","640400":"固原市","640500":"中卫市"},"650000":{"650100":"乌鲁木齐市","650200":"克拉玛依市","650400":"吐鲁番市","650500":"哈密市","652300":"昌吉回族自治州","652700":"博尔塔拉蒙古自治州","652800":"巴音郭楞蒙古自治州","652900":"阿克苏地区","653000":"克孜勒苏柯尔克孜自治州","653100":"喀什地区","653200":"和田地区","654000":"伊犁哈萨克自治州","654200":"塔城地区","654300":"阿勒泰地区","659001":"石河子市","659002":"阿拉尔市","659003":"图木舒克市","659004":"五家渠市","659006":"铁门关市"},"710000":{"710101":"金门","710102":"连江","710103":"苗栗","710104":"南投","710105":"澎湖","710106":"屏东","710107":"台东","710108":"台中","710109":"台南","710110":"台北","710111":"桃园","710112":"云林","710113":"新北","710114":"彰化","710115":"嘉义","710116":"新竹","710117":"花莲","710118":"宜兰","710119":"高雄","710120":"基隆"},"810000":{"810101":"中西区","810102":"东区","810103":"九龙城区","810104":"观塘区","810105":"深水埗区","810106":"湾仔区","810107":"黄大仙区","810108":"油尖旺区","810109":"离岛区","810110":"葵青区","810111":"北区","810112":"西贡区","810113":"沙田区","810114":"屯门区","810115":"大埔区","810116":"荃湾区","810117":"元朗区","810118":"香港","810119":"九龙","810120":"新界"},"820000":{"820101":"离岛","820102":"澳门半岛","820103":"凼仔","820104":"路凼城","820105":"路环"},"source":"https://file.iviewui.com/iview-pro/city.json"}')},a2f5:function(e,t,a){},a491:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{position:"relative","min-height":"50vh"}},[a("auth-view",{attrs:{perm:{domain:"project",action:"view",extra:{project:e.project_id,company:e.companyInfo.company_id}}}},[a("div",{attrs:{slot:"forbidden"},slot:"forbidden"},[a("Deny")],1),e.Fetch.isPending?a("Spin",{attrs:{fix:""}}):e._e(),e.task?a("Row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[a("Breadcrumb",[a("BreadcrumbItem",{attrs:{to:"/projects/list/"+e.task.project_id+"?tab="+(e.task.task_type?"bid-tasks":"formal-tasks")}},[e._v(e._s(e.task.project_type?e.task.task_type?"试标任务":"正式任务":"任务列表"))]),a("BreadcrumbItem",[e._v("任务详情")])],1),a("div",[1===e.task.task_type?a("span",{directives:[{name:"permissions",rawName:"v-permissions",value:{domain:"task",action:"edit-bid-task",extra:{company:e.userInfo.company_id,project:e.task.project_id}},expression:"{domain: 'task', action: 'edit-bid-task', extra: {company: userInfo.company_id, project: task.project_id}}"}]},[a("Button",{attrs:{type:"primary",icon:"md-create",shape:"circle"},on:{click:e.goEdit}},[e._v("编辑")])],1):a("span",{directives:[{name:"permissions",rawName:"v-permissions",value:{domain:"task",action:"edit-formal-task",extra:{company:e.userInfo.company_id,project:e.task.project_id}},expression:"{domain: 'task', action: 'edit-formal-task', extra: {company: userInfo.company_id, project: task.project_id}}"}]},[a("Button",{attrs:{type:"primary",icon:"md-create",shape:"circle"},on:{click:e.goEdit}},[e._v("编辑")])],1),a("auth-view",{attrs:{perm:{domain:"task",action:"receive-task",extra:{project:e.task.project_id}}}},[a("span",[!e.task.task_type||e.project&&e.project.multiple_bids?[20===e.task.task_status?a("Tooltip",{attrs:{content:"题目均已交付验收后，支持关闭验收",placement:"left"}},[a("Button",{staticClass:"mls",attrs:{type:"success",icon:"md-checkmark-circle",shape:"circle",disabled:!e.isReceiveTask},on:{click:function(t){return e.fetchReceiveTask(40)}}},[e._v("关闭验收")])],1):e._e()]:[20===e.task.task_status?a("Tooltip",{attrs:{content:"已截止试标且有题目交付之后，可以进行技术评估",placement:"left"}},[a("Button",{staticClass:"mls",attrs:{type:"success",icon:"md-checkmark-circle",shape:"circle",disabled:!e.bidForTask.deliver_num||!e.bidForTask.is_close_deliver},on:{click:function(t){return e.tecAssess()}}},[e._v("技术评估")])],1):e._e(),e.isChangeTecAssess?a("Tooltip",{attrs:{content:"定标前可修改技术评估",placement:"left"}},[a("Button",{staticClass:"mls",attrs:{type:"success",icon:"md-checkmark-circle",shape:"circle",disabled:!e.bidForTask.deliver_num},on:{click:function(t){return e.tecAssess(e.bidForTask)}}},[e._v("修改评估")])],1):e._e()],0===e.task.task_status?[a("Button",{staticClass:"mls",attrs:{type:"dashed",icon:"md-power",shape:"circle"},on:{click:function(t){return e.DeleteTask()}}},[e._v("删除任务")])]:e._e(),a("Tooltip",{attrs:{content:"关闭页面"}},[a("Button",{staticClass:"mls",attrs:{type:"dashed",icon:"md-close",shape:"circle"},on:{click:e.goback}})],1)],2)])],1)],1):e._e(),e.task?a("div",[a("Divider",{attrs:{orientation:"left"}},[a("span",{staticStyle:{display:"flex"}},[a("h2",[e._v(e._s(e.task.task_name))]),a("task-status-render",{staticClass:"mlm",attrs:{value:e.task.task_status}}),0===e.task.task_type&&e.bidForTask&&1===e.bidForTask.is_dynamic?a("Tag",{staticClass:"mls",attrs:{color:"cyan",title:"支持API动态追加数据包，并将数据包自动同步到标注任务中"}},[e._v("动态任务")]):e._e(),e.task.cross_num&&e.task.cross_num>=2?a("Tag",{staticClass:"mls",attrs:{color:"orange",title:e.task.cross_num+"个人同时标注一道题"}},[e._v(e._s(e.task.cross_num)+"人交叉")]):e._e()],1)]),a("div",{staticClass:"margin"},[a("div",{staticClass:"margin"},[a("Row",{staticClass:"row-height"},[a("Col",{attrs:{span:"3"}},[a("b",[e._v("关联项目")])]),a("Col",{attrs:{span:"9"}},[a("Tag",{attrs:{color:"primary"}},[e._v(e._s(e.task.project_type?"外部":"内部"))]),a("span",[e._v(e._s(e.task.project_name||"-"))])],1),e.isAlreadyTarget?[a("Col",{attrs:{span:"3"}},[a("b",[e._v("标注公司")])]),a("Col",{attrs:{span:"9"}},[a("span",[e._v(e._s(e.task.supplier_name||"-"))])])]:e._e()],2),a("Row",{staticClass:"row-height"},[a("Col",{attrs:{span:"3"}},[a("b",[e._v("任务编号")])]),a("Col",{attrs:{span:"9"}},[a("Tag",{attrs:{color:"error"}},[e._v(e._s(e.task.task_type?"试标":"正式"))]),a("span",[e._v(e._s(e.task.task_id||"-"))])],1),a("Col",{attrs:{span:"3"}},[a("b",[e._v("标注小组")])]),a("Col",{attrs:{span:"9"}},[a("span",[e._v(e._s(e.task.team_name||"-"))])])],1),a("Row",{staticClass:"row-height"},[a("Col",{attrs:{span:"3"}},[a("b",[e._v("创建时间")])]),a("Col",{attrs:{span:"9"}},[a("span",[e._v(e._s(e.task.created_at||"-"))])]),a("Col",{attrs:{span:"3"}},[a("b",[e._v("标注数据统计")])]),a("Col",{attrs:{span:"9"}},[e._v(e._s((e.bidForTask.labeled_num||0)+" / "+(e.bidForTask.deliver_reviewed_num||0)+" / "+(e.bidForTask.total_num||0)+" (已标注/已验收/总量）"))])],1),a("Row",{staticClass:"row-height"},[a("Col",{attrs:{span:"3"}},[a("b",[e._v("创建人")])]),a("Col",{attrs:{span:"9"}},[e._v(e._s(e.task.creator||"-"))]),e.bidForTask.order_id&&e.bidForTask.order_name?[a("Col",{attrs:{span:"3"}},[a("b",[e._v("关联需求")])]),a("Col",{attrs:{span:"9"}},[a("router-link",{attrs:{to:"/projects/list/"+e.task.project_id+"/tasks/createTaskOrders?tab=task-orders&order_id="+e.bidForTask.order_id+"&scene=view"}},[a("span",[e._v(e._s(e.bidForTask.order_name||"-"))])])],1)]:e._e()],2)],1),a("Tabs",{attrs:{name:"0",animated:!1},on:{"on-click":e.ChangeTab},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("TabPane",{attrs:{label:"基本信息",name:"info",tab:"0"}},[e.fetchBidForTask.isResolved&&e.fetchProject.isResolved?a("Info",{attrs:{taskDetail:e.task,task:e.bidForTask,taskType:e.task.task_type,projectType:!!e.task.project_type,project:e.project}}):e._e()],1),a("TabPane",{attrs:{label:"标注题目",name:"details",tab:"0"}},[a("tableFilter",{attrs:{searchLoading:e.fetchDetails.isPending},on:{search:function(t){return e.fetchDetails(e.detail_page.index=1)},reset:function(t){return e.ResetDetails(e.detail_page.index=1)}}},[a("Form",{attrs:{inline:"","label-position":"right","label-width":100,"label-colon":!0}},[a("Row",{attrs:{gutter:15}},[a("Col",{attrs:{span:"6"}},[a("FormItem",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{label:"任务明细ID"}},[a("Input",{attrs:{type:"text",placeholder:"输入任务明细ID进行搜索"},model:{value:e.detail_form.detail_id_list,callback:function(t){e.$set(e.detail_form,"detail_id_list",t)},expression:"detail_form.detail_id_list"}})],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{label:"题目ID"}},[a("Input",{attrs:{type:"text",placeholder:"输入题目ID进行搜索"},model:{value:e.detail_form.dataset_item_id_list,callback:function(t){e.$set(e.detail_form,"dataset_item_id_list",t)},expression:"detail_form.dataset_item_id_list"}})],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{label:"题包Key"}},[a("Input",{attrs:{type:"text",placeholder:"输入题包Key进行搜索"},model:{value:e.detail_form.pack_keys,callback:function(t){e.$set(e.detail_form,"pack_keys",t)},expression:"detail_form.pack_keys"}})],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{label:"是否有效"}},[a("Select",{attrs:{transfer:""},model:{value:e.detail_form.detail_valid,callback:function(t){e.$set(e.detail_form,"detail_valid",t)},expression:"detail_form.detail_valid"}},[a("Option",{attrs:{value:1}},[e._v("有效")]),a("Option",{attrs:{value:0}},[e._v("无效")])],1)],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{label:"标注状态"}},[a("Select",{attrs:{transfer:""},model:{value:e.detail_form.detail_status,callback:function(t){e.$set(e.detail_form,"detail_status",t)},expression:"detail_form.detail_status"}},e._l(e.labelStatus,(function(t,r){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.text))])})),1)],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{label:"交付批次状态"}},[a("Select",{model:{value:e.detail_form.deliver_status_list,callback:function(t){e.$set(e.detail_form,"deliver_status_list",t)},expression:"detail_form.deliver_status_list"}},e._l(e.batchStatus,(function(t,r){return 40!==t.value&&70!==t.value?a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.text))]):e._e()})),1)],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{label:"处理人"}},[a("user-select",{ref:"userSelect1",attrs:{remote:"",optionValue:"nick_name"},on:{"update:user":function(t){e.detail_form.nick_name_list=t}}})],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{label:"标注人"}},[a("Select",{attrs:{"remote-method":e.debounceSupplierUser,loading:e.fetchTaskLabelers.isPending,transfer:"",filterable:"",clearable:""},on:{"on-open-change":function(t){t&&e.fetchTaskLabelers()}},model:{value:e.detail_form.last_labeler_list,callback:function(t){e.$set(e.detail_form,"last_labeler_list",t)},expression:"detail_form.last_labeler_list"}},[e._l(e.supplierUsers,(function(t){return t.user_id&&t.nick_name&&t.email?[a("Option",{key:t.user_id,attrs:{value:t.user_id}},[e._v(e._s(t.nick_name))])]:e._e()}))],2)],1)],1)],1),a("Row",{attrs:{type:"flex",justify:"space-between"}},[0!==e.task.task_status&&50!==e.task.task_status?a("div",{staticStyle:{"margin-top":"20px"}},[a("auth-view",{attrs:{perm:{domain:"project",action:"export",extra:{company:e.companyInfo.company_id,project:e.task.project_id}}}},[a("Tooltip",{attrs:{content:"任务数据已删除",placement:"top-start",disabled:!e.isDeleteSource}},[a("Button",{staticClass:"mbm mrm",attrs:{type:"primary",icon:"md-cloud-download",disabled:0===e.detail_page.total||e.isDeleteSource},on:{click:function(t){return e.fetchDownloadTask(e.task)}}},[e.is_searching?a("span",[e._v("导出筛选的题目")]):a("span",[e._v("导出所有题目")])])],1)],1)],1):e._e()])],1)],1),a("Table",{ref:"detailTable",attrs:{loading:e.fetchDetails.isPending,columns:e.is_multiple_export?e.exportColumns:e.detailColumns,data:e.details},scopedSlots:e._u([{key:"detail_is_valid",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(1===r.detail_is_valid?"有效":"无效"))])]}},{key:"detail_status",fn:function(e){var t=e.row;return[a("label-status-render",{attrs:{value:t.detail_status}})]}},{key:"deliver_status",fn:function(t){var r=t.row;return[r.deliver_status>=30?a("batch-status-render",{attrs:{value:r.deliver_status?r.deliver_status:0}}):a("span",[e._v("-")])]}},{key:"assignee_nick_name",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.assignee_nick_name||"-"))])]}},{key:"labeler_nick_name",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.labeler_nick_name||"-"))])]}},{key:"action",fn:function(t){var r=t.row,i=t.index;return[e.task.task_status>=10&&e.task.task_status<50?[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.GoDetail(r,i)}}},[e._v("查看")]),a("Divider",{attrs:{type:"vertical"}}),a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.showDetailLog(r)}}},[e._v("日志")])]:a("span",[e._v("-")])]}}],null,!1,1695124918)}),a("Page",{staticClass:"right mtm",attrs:{current:e.detail_page.index,total:e.detail_page.total,"page-size":e.detail_page.size,"show-total":"","show-elevator":""},on:{"on-change":function(t){return e.ChangePage(t,"details")}}})],1),a("TabPane",{attrs:{label:"批次列表",name:"delivers",tab:"0"}},["delivers"===e.tab?a("Delivers",{staticStyle:{padding:"10px 0"},attrs:{task:e.task,relation:e.bidForTask},on:{update:e.fetchTask}}):e._e()],1),a("TabPane",{attrs:{label:"结果统计",name:"dashboard",tab:"0"}},[a("DashBoard",{attrs:{taskId:e.task.task_id,projectId:e.task.project_id}})],1)],1)],1),a("task-delete",{ref:"taskDelete",on:{hideModal:function(t){return e.$router.go(-1)}}}),a("task-edit",{attrs:{visible:e.taskEditModal,task:e.task},on:{hideModal:function(t){return e.hideModal("taskEdit")}}})],1):e._e()],1)],1)},i=[],n=(a("8d0d"),a("9ec3")),s=a.n(n),o=a("f78a"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.task?a("div",{staticClass:"margin"},[!e.taskType&&e.isBusinessSettlement?[a("h3",[e._v("结算信息")]),a("Row",[a("Col",{attrs:{span:12}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("任务是否结算")]),a("div",{staticClass:"content"},[e._v(e._s(e.relation.need_settle?"结算":"不结算"))])])]),a("Col",{attrs:{span:12}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("无效数据是否结算")]),e.relation.need_settle?a("div",{staticClass:"content"},[e._v(e._s(e.relation.include_invalid?"结算":"不结算"))]):a("div",{staticClass:"content"},[e._v("-")])])]),e.task.order_id&&e.task.order_name?a("Col",{attrs:{span:12}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("关联模块")]),a("div",{staticClass:"content"},[e._v(e._s(e.task.model_name||"无"))])])]):e._e(),e.relation.min_recommended_kpi&&e.relation.max_recommended_kpi?a("Col",{attrs:{span:12}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("需求首标指导KPI区间")]),a("div",{staticClass:"content"},[e._v(e._s(e.relation.min_recommended_kpi)+"～"+e._s(e.relation.max_recommended_kpi)+" 条/h")])])]):e._e(),e.relation.kpi_explanation?a("Col",{attrs:{span:12}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("KPI特殊说明")]),a("div",{staticClass:"content"},[e._v(e._s(e.relation.kpi_explanation))])])]):e._e(),a("Col",{attrs:{span:12}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("指导KPI")]),a("div",{staticClass:"content"},[e._v(e._s(e.task.recommended_kpi&&e.task.recommended_kpi.toFixed(2)||0)+" 条/h")])])]),a("Col",{attrs:{span:12}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("每人日应完成量级")]),a("div",{staticClass:"content"},[e._v(e._s(e.task.kpi_magnitude&&e.task.kpi_magnitude.toFixed(2)||0))])])]),a("Col",{attrs:{span:12}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("任务结算模式")]),a("div",{staticClass:"content"},[a("span",[e._v(e._s(e.task.employment_mode?e.computedEmploymentModeOptions&&e.computedEmploymentModeOptions[e.task.employment_mode]:"无"))]),a("small",{staticClass:"txt-muted mls"},["contract-hours-1"===e.task.employment_mode?a("span",[e._v("(包工时1=首次标注工时+首次质检工时+验收返修工时)")]):e._e(),"contract-hours-2"===e.task.employment_mode?a("span",[e._v("(包工时2=首次标注工时+验收返修工时)")]):e._e()])])])]),e.task.personnel_level?a("Col",{attrs:{span:12}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("用人档位")]),a("div",{staticClass:"content"},[e._v(e._s(e.task.personnel_level))])])]):e._e(),a("Col",{attrs:{span:12}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("任务最新结算单价")]),a("div",{staticClass:"content"},[e._v(e._s(null!==e.task.piecework_price?e.task.piecework_price:"无"))])])]),a("Col",{attrs:{span:12}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("最大首检占比")]),a("div",{staticClass:"content"},[e._v(e._s([-1,null].includes(e.task.max_first_check_ratio)?"无":100*e.task.max_first_check_ratio+"%"))])])])],1)]:e._e(),[a("h3",[e._v("基础信息")]),a("Row",[a("Col",{attrs:{span:12}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("物料类型")]),a("div",{staticClass:"content"},[e._v(e._s(e.task.materials_type||"无"))])])]),a("Col",{attrs:{span:12}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("总需求数量")]),a("div",{staticClass:"content"},[e._v(e._s(e.task.overall_total||"无")+" "+e._s(e.task.unit||""))])])]),a("Col",{attrs:{span:12}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v(e._s(1===e.taskType?"试标截止日期":"任务截止时间"))]),a("div",{staticClass:"content"},[e._v(e._s(e.task.deadline_time||"无"))])])]),a("Col",{attrs:{span:12}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("合格率要求")]),a("div",{staticClass:"content"},[e._v(e._s(e.task.passed_rate?e.task.passed_rate+"%":"无"))])])]),a("Col",{attrs:{span:12}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("交付周期")]),a("div",{staticClass:"content"},[e._v(e._s(e.task.lead_time_str||"无"))])])]),a("Col",{attrs:{span:12}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("数据描述")]),a("div",{staticClass:"content"},[e._v(e._s(e.task.materials_description||"无"))])])]),e.isAudit?e._e():[e.ruleAttachment.objId?a("Col",{attrs:{span:12}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("规则文档")]),a("attachment",{attrs:{options:["download"],objId:e.ruleAttachment.objId,objType:e.ruleAttachment.objType,objScene:e.ruleAttachment.objScene}})],1)]):e._e()],e.taskDetail.template_id?a("Col",{attrs:{span:12}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("任务模版")]),a("div",{staticClass:"content"},[a("t-link",{attrs:{theme:"primary",hover:"underline",href:e.templateHref,target:"_blank"}},[e._v(e._s(e.taskDetail.template_id))])],1)])]):e._e()],2)],e.isDynamic||e.isCross||e.task.receive_team_id&&-1!==e.task.receive_team_id?[a("h3",[e._v("流程配置")]),a("Row",[a("Col",{attrs:{span:12}},[e.isDynamic?a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("动态任务")]),a("div",{staticClass:"content"},[e._v("是")])]):e._e()]),a("Col",{attrs:{span:12}},[e.isCross?a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("交叉标注")]),a("div",{staticClass:"content"},[e._v(e._s(e.task.cross_num)+" 个人同时标注一道题")])]):e._e()]),a("Col",{attrs:{span:12}},[e.task.receive_team_id&&-1!==e.task.receive_team_id?a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("验收小组")]),a("div",{staticClass:"content"},[e._v(e._s(e.task.receive_team_name||"-"))])]):e._e()])],1)]:e._e(),e.isPack||e.isLabelNums||e.isLabelTimeout||e.task.audit_supplier_id&&-1!==e.task.audit_supplier_id||e.datasetList||e.relation.labeler_condition&&"{}"!==e.relation.labeler_condition?[a("h3",[e._v("做题配置")]),a("Row",[e.QueueTypeMap[e.task.queue_type]?a("Col",{attrs:{span:12}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("题目领取方式")]),a("div",{staticClass:"content"},[e._v(e._s(e.QueueTypeMap[e.task.queue_type]))])])]):e._e(),e.task.user_label_strategy&&e.task.user_label_strategy.task_template_key&&e.task.user_label_strategy&&e.task.user_label_strategy.user_label_key?a("Col",{attrs:{span:12}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("人题匹配")]),a("div",{staticClass:"content"},[e._v("题目标签["+e._s(e.task.user_label_strategy.task_template_key||"")+"]完全存在于人员标签["+e._s(e.task.user_label_strategy.user_label_key)+"]集合中时匹配")])])]):e._e(),e.isPack?a("Col",{attrs:{span:12}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("题包")]),a("div",{staticClass:"content"},[e._v(e._s(e.task.pack_num)+" 个")])])]):e._e(),e.isLabelNums?a("Col",{attrs:{span:12}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("一页多题")]),a("div",{staticClass:"content"},[e._v("每页显示 "+e._s(e.task.label_nums)+" 题")])])]):e._e(),e.isLabelTimeout?a("Col",{attrs:{span:12}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("超时释放")]),a("div",{staticClass:"content"},[e._v(e._s(e.task.label_timeout)+" 秒")])])]):e._e(),e.task.audit_supplier_id&&-1!==e.task.audit_supplier_id?a("Col",{attrs:{span:12}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("审核供应商")]),a("div",{staticClass:"content"},[e._v(e._s(e.task.audit_supplier_name||"-"))])])]):e._e(),e.relation.labeler_condition&&"{}"!==e.relation.labeler_condition?a("Col",{attrs:{span:12}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("标注员要求")]),a("div",{staticClass:"content"},[e._l(JSON.parse(e.relation.labeler_condition),(function(t,r){return[t?a("div",[a("Tag",[e._v(e._s(e.teamConditionOptions[r])+"："+e._s(t))])],1):e._e()]}))],2)])]):e._e(),e.relation.reviewer_condition&&"{}"!==e.relation.reviewer_condition?a("Col",{attrs:{span:12}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("质检员要求")]),a("div",{staticClass:"content"},[e._l(JSON.parse(e.relation.reviewer_condition),(function(t,r){return[t?a("div",[a("Tag",[e._v(e._s(e.teamConditionOptions[r])+"："+e._s(t))])],1):e._e()]}))],2)])]):e._e()],1)]:e._e(),e.datasetList?[a("h3",[e._v("关联数据包")]),a("Row",[e.datasetList?a("Col",{attrs:{span:12}},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[e._v("关联的数据包")]),a("div",{staticClass:"content"},[e._v(e._s(e.datasetList))])])]):e._e()],1)]:e._e()],2):e._e()},c=[],d=(a("28eb"),a("ad4a")),u=a("2289"),h=a("189e"),p={components:{attachment:d["a"]},props:{taskDetail:{type:Object,default:()=>({})},projectType:Boolean,taskType:Number,task:Object,project:Object},data(){return{relation:{},QueueType:u["h"],teamConditionOptions:{sex:"性别",age:"年龄",education:"学历",profession:"专业分类",native:"籍贯",residence:"常驻地",social_work_age:"社会工龄",label_work_age:"标注工龄",label_experience:"标注项目经验",english_level:"英语水平"},employmentModeOptions:u["k"]}},computed:{computedEmploymentModeOptions(){return this.isBusinessSettlement?this.listBusinessEmploymentModesData:u["k"]},QueueTypeMap(){const e={};return this.QueueType.forEach(t=>{e[t.label]=t.name}),e},userInfo(){return this.$store.state.userinfo.user},isDynamic(){var e;return 1===(null===(e=this.task)||void 0===e?void 0:e.is_dynamic)},isCross(){var e;return(null===(e=this.task)||void 0===e?void 0:e.cross_num)>1},isPack(){var e;return(null===(e=this.task)||void 0===e?void 0:e.pack_num)>0},isLabelNums(){var e;return(null===(e=this.task)||void 0===e?void 0:e.label_nums)>1},isLabelTimeout(){var e;return(null===(e=this.task)||void 0===e?void 0:e.label_timeout)>0},isAudit(){return this.$route.path.includes("audit")},datasetList(){var e,t,a,r;return(null===(e=this.relation)||void 0===e||null===(t=e.dataset_list)||void 0===t?void 0:t.length)>0?Object(n["join"])(Object(n["map"])(this.relation.dataset_list,e=>e.src_file_name),"，"):(null===(a=this.relation)||void 0===a||null===(r=a.dataset_relation_list)||void 0===r?void 0:r.length)>0?Object(n["join"])(Object(n["map"])(this.relation.dataset_relation_list,e=>e.src_file_name||e.deliver_name),"，"):""},ruleAttachment(){const{relation:e,taskType:t}=this,a={objId:"",objType:"",objScene:"rule"};var r,i;e&&(a.objId=t?null===(r=e.bid_id)||void 0===r?void 0:r.toString():null===(i=e.formal_id)||void 0===i?void 0:i.toString(),a.objType=t?"bid-task":"formal-task");return a},isBusinessSettlement(){var e;const{business_id:t,business_config:a}=this.task,r=t&&a&&(null===(e=JSON.parse(a))||void 0===e?void 0:e.enableSettlement);return!!r},templateHref(){var e;const t=this.$router.resolve({name:"template-edit",params:{id:(null===(e=this.taskDetail)||void 0===e?void 0:e.template_id)||0}});return t.href}},mounted(){const{task:e,taskType:t}=this;var a,r;null!==e&&void 0!==e&&e.bid_code&&1===t?(null===e||void 0===e||null===(a=e.bid_task_relation_vos)||void 0===a?void 0:a.length)>0&&([this.relation]=e.bid_task_relation_vos,void 0!==this.relation.model_unit_price&&("工时"===this.relation.model_type&&void 0!==this.relation.work_time&&(this.relation.total_price=(this.relation.work_time*this.relation.model_unit_price).toFixed(3)),"任务"===this.relation.model_type&&void 0!==this.relation.overall_total&&(this.relation.total_price=(this.task.overall_total*this.relation.model_unit_price).toFixed(3)))):(null===e||void 0===e||null===(r=e.formal_task_relation_vos)||void 0===r?void 0:r.length)>0&&([this.relation]=e.formal_task_relation_vos);this.fetchListBusinessEmploymentModesData()},methods:{goEdit(){1===this.taskType?this.$router.push({name:"create-bid-tasks",params:{id:this.task.project_id},query:{tab:"bid-tasks",task_id:this.task.bid_id}}):this.$router.push({name:"create-formal-tasks",params:{id:this.task.project_id},query:{tab:"formal-tasks",task_id:this.task.formal_id}})}},asyncMethods:{fetchListBusinessEmploymentModesData(){const e={business_id:this.project.business_id,page:{start:0,size:1e3,return_total:1}};return Object(h["h"])(e).then(e=>e.data.reduce((e,t)=>(e[t.employment_mode]=t.employment_mode_name,e),{}))}}},f=p,m=(a("1dd8"),a("2be6")),g=Object(m["a"])(f,l,c,!1,null,"cf73bd12",null),_=g.exports,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashBoard"},[a("div",{staticClass:"filterContainer"},[a("div",{staticStyle:{display:"flex","min-width":"300px","align-items":"center",gap:"8px"}},[a("div",{staticStyle:{"min-width":"60px"}},[e._v("筛选批次")]),e.fetchDelivers.isResolved?a("t-select",{attrs:{multiple:"",clearable:"","popup-props":{overlayClassName:"tdesign-demo-select__overlay-option"},"value-type":"object"},on:{change:e.handleChange},model:{value:e.deliverFilterQuery,callback:function(t){e.deliverFilterQuery=t},expression:"deliverFilterQuery"}},e._l(e.delivers,(function(t){return a("t-option",{key:t.deliver_name,attrs:{value:String(t.deliver_id),label:t.deliver_name}},[a("div",{staticClass:"tdesign-demo__user-option"},[a("div",{staticClass:"tdesign-demo__user-option-info"},[a("div",{staticClass:"tdesign-demo__user-option-desc"},[e._v(e._s(t.deliver_name)+"("+e._s(t.status_name)+")")])])])])})),1):e._e()],1),a("div",[a("t-radio-group",{attrs:{variant:"default-filled","default-value":"1"},on:{change:e.handleUpdatelabelResult},model:{value:e.queryFilter,callback:function(t){e.queryFilter=t},expression:"queryFilter"}},[a("t-radio-button",{attrs:{value:2}},[e._v("题目维度")]),a("t-radio-button",{attrs:{value:1}},[e._v("任务明细维度")])],1)],1)]),a("div",{staticClass:"dataContainer"},[a("t-card",{staticStyle:{flex:"3"},attrs:{title:"有效/无效分布"}},[e.chartsOption.series[0].data[0].value||e.chartsOption.series[0].data[1].value?e._e():a("div",[a("h3",[e._v("暂无数据")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.chartsOption.series[0].data[0].value||e.chartsOption.series[0].data[1].value,expression:"chartsOption.series[0].data[0].value || chartsOption.series[0].data[1].value"}],staticStyle:{height:"330px",width:"330px"},attrs:{id:"percentChart"}})]),a("t-card",{staticStyle:{flex:"7"},attrs:{title:"全局标签结果分布"},scopedSlots:e._u([{key:"actions",fn:function(){return[a("a",{staticStyle:{cursor:"pointer"},attrs:{href:e.getDownloadUrl(),target:"_blank"}},[e._v("下载")])]},proxy:!0}])},[a("t-select",{staticStyle:{width:"200px"},attrs:{"value-type":"object"},on:{change:e.handleUpdatelabelResult},model:{value:e.tagName,callback:function(t){e.tagName=t},expression:"tagName"}},e._l(e.templateTags,(function(t){return a("t-option",{key:t.value,attrs:{value:t.value,label:t.label}},[e._v(e._s(t.label))])})),1),e.fetchLabelResult.isResolved?a("t-table",{staticStyle:{"margin-top":"12px"},attrs:{loading:e.fetchLabelResult.isPending,"row-key":"index",columns:e.columns,data:e.labelResult,bordered:"",sort:e.sort,"lazy-load":""},on:{"sort-change":e.sortChange,"data-change":e.dataChange}}):e._e()],1)],1),a("t-alert",{staticStyle:{"margin-top":"20px"}},[a("p",[e._v(" objData代表数据对象,标签值请用''包裹,若是标签值为空则使用 objData['unknownKey']")]),a("p",[e._v(" case： (objData['标签值1']+objData['标签值2'])*objData['标签值3'] + objData['unknownKey']")])]),a("t-card",{staticStyle:{flex:"3","margin-top":"12px"},attrs:{title:"自定义统计指标"},scopedSlots:e._u([{key:"actions",fn:function(){return[a("span",{staticStyle:{cursor:"pointer"},on:{click:function(t){e.isAddDialogShow=!0}}},[e._v("添加新指标")])]},proxy:!0}])},[e.tagsMetrics&&e.tagsMetrics.length?[a("div",{staticStyle:{display:"flex","flex-wrap":"wrap",gap:"20px",margin:"-10px"}},e._l(e.tagsMetrics,(function(t){return a("t-card",{staticStyle:{flex:"0 0 calc(25% - 20px)"},attrs:{title:t.index_name},scopedSlots:e._u([{key:"content",fn:function(){return[a("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center",gap:"20px"}},[e.fetchLabelResult.isResolved?a("h3",[e._v(e._s(e.computeDataByLogic(e.transTagToObj(e.labelResult),t.index_logic)))]):e._e(),a("div",[a("t-icon",{staticStyle:{"margin-right":"12px",cursor:"pointer"},attrs:{name:"edit"},on:{click:function(a){return e.handleEditTags(t)}}}),a("t-popconfirm",{attrs:{content:"确认删除吗"},on:{confirm:function(a){return e.handleDeleteTags(t)}}},[a("t-icon",{staticStyle:{cursor:"pointer"},attrs:{name:"delete"}})],1)],1)])]},proxy:!0}],null,!0)})})),1)]:[a("div",[e._v("暂无数据")])]],2),a("t-dialog",{attrs:{header:(e.edit_index_id?"编辑":"添加")+"新指标",visible:e.isAddDialogShow,onClose:e.handleCloseDialog,onConfirm:e.fetchSubmitAddMetrics,confirmBtn:"确认"+(e.edit_index_id?"修改":"添加")}},[a("div",{attrs:{slot:"body"},slot:"body"},[a("t-form",{attrs:{data:e.formData}},[a("t-form-item",{attrs:{label:"指标名称",name:"metricsName",rules:[{required:!0}]}},[a("t-input",{attrs:{placeholder:"限制最多30个字"},model:{value:e.formData.metricsName,callback:function(t){e.$set(e.formData,"metricsName",t)},expression:"formData.metricsName"}})],1),a("t-form-item",{attrs:{label:"计算逻辑",name:"computeLogic",rules:[{required:!0}]}},[a("t-textarea",{attrs:{placeholder:"需用表达式配置，可联系平台侧协助"},model:{value:e.formData.computeLogic,callback:function(t){e.$set(e.formData,"computeLogic",t)},expression:"formData.computeLogic"}})],1)],1)],1)])],1)},b=[],y=a("4463"),k=a("dde5"),x=a("3216");const w=e=>Object(x["a"])("api/task","listLabelResultIndex",e),S=e=>Object(x["a"])("api/task","addLabelResultIndex",e),C=e=>Object(x["a"])("api/task","updateLabelResultIndex",e),O=e=>Object(x["a"])("api/task","deleteLabelResultIndex",e);var T=a("be5c"),j=a("74dd"),I=a("5cfd"),A=a("9ed0"),D=a("27b8"),M=a("562c"),E=a("9f7e"),R=a("d1eb"),B=Math.sin,P=Math.cos,L=Math.PI,F=2*Math.PI,N=180/L,$=function(){function e(){}return e.prototype.reset=function(e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,e||4)},e.prototype.moveTo=function(e,t){this._add("M",e,t)},e.prototype.lineTo=function(e,t){this._add("L",e,t)},e.prototype.bezierCurveTo=function(e,t,a,r,i,n){this._add("C",e,t,a,r,i,n)},e.prototype.quadraticCurveTo=function(e,t,a,r){this._add("Q",e,t,a,r)},e.prototype.arc=function(e,t,a,r,i,n){this.ellipse(e,t,a,a,0,r,i,n)},e.prototype.ellipse=function(e,t,a,r,i,n,s,o){var l=s-n,c=!o,d=Math.abs(l),u=Object(A["j"])(d-F)||(c?l>=F:-l>=F),h=l>0?l%F:l%F+F,p=!1;p=!!u||!Object(A["j"])(d)&&h>=L===!!c;var f=e+a*P(n),m=t+r*B(n);this._start&&this._add("M",f,m);var g=Math.round(i*N);if(u){var _=1/this._p,v=(c?1:-1)*(F-_);this._add("A",a,r,g,1,+c,e+a*P(n+v),t+r*B(n+v)),_>.01&&this._add("A",a,r,g,0,+c,f,m)}else{var b=e+a*P(s),y=t+r*B(s);this._add("A",a,r,g,+p,+c,b,y)}},e.prototype.rect=function(e,t,a,r){this._add("M",e,t),this._add("l",a,0),this._add("l",0,r),this._add("l",-a,0),this._add("Z")},e.prototype.closePath=function(){this._d.length>0&&this._add("Z")},e.prototype._add=function(e,t,a,r,i,n,s,o,l){for(var c=[],d=this._p,u=1;u<arguments.length;u++){var h=arguments[u];if(isNaN(h))return void(this._invalid=!0);c.push(Math.round(h*d)/d)}this._d.push(e+c.join(" ")),this._start="Z"===e},e.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},e.prototype.getStr=function(){return this._str},e}(),z=$,V=a("3c53"),U=a("eb62"),H="none",G=Math.round;function W(e){var t=e.fill;return null!=t&&t!==H}function q(e){var t=e.stroke;return null!=t&&t!==H}var X=["lineCap","miterLimit","lineJoin"],Y=Object(U["map"])(X,(function(e){return"stroke-"+e.toLowerCase()}));function K(e,t,a,r){var i=null==t.opacity?1:t.opacity;if(a instanceof M["a"])e("opacity",i);else{if(W(t)){var n=Object(A["p"])(t.fill);e("fill",n.color);var s=null!=t.fillOpacity?t.fillOpacity*n.opacity*i:n.opacity*i;(r||s<1)&&e("fill-opacity",s)}else e("fill",H);if(q(t)){var o=Object(A["p"])(t.stroke);e("stroke",o.color);var l=t.strokeNoScale?a.getLineScale():1,c=l?(t.lineWidth||0)/l:0,d=null!=t.strokeOpacity?t.strokeOpacity*o.opacity*i:o.opacity*i,u=t.strokeFirst;if((r||1!==c)&&e("stroke-width",c),(r||u)&&e("paint-order",u?"stroke":"fill"),(r||d<1)&&e("stroke-opacity",d),t.lineDash){var h=Object(V["a"])(a),p=h[0],f=h[1];p&&(f=G(f||0),e("stroke-dasharray",p.join(",")),(f||r)&&e("stroke-dashoffset",f))}else r&&e("stroke-dasharray",H);for(var m=0;m<X.length;m++){var g=X[m];if(r||t[g]!==D["a"][g]){var _=t[g]||D["a"][g];_&&e(Y[m],_)}}}else r&&e("stroke",H)}}var Z="http://www.w3.org/2000/svg",J="http://www.w3.org/1999/xlink",Q="http://www.w3.org/2000/xmlns/",ee="http://www.w3.org/XML/1998/namespace";function te(e){return document.createElementNS(Z,e)}function ae(e,t,a,r,i){return{tag:e,attrs:a||{},children:r,text:i,key:t}}function re(e,t){var a=[];if(t)for(var r in t){var i=t[r],n=r;!1!==i&&(!0!==i&&null!=i&&(n+='="'+i+'"'),a.push(n))}return"<"+e+" "+a.join(" ")+">"}function ie(e){return"</"+e+">"}function ne(e,t){t=t||{};var a=t.newline?"\n":"";function r(e){var t=e.children,i=e.tag,n=e.attrs;return re(i,n)+(e.text||"")+(t?""+a+Object(U["map"])(t,(function(e){return r(e)})).join(a)+a:"")+ie(i)}return r(e)}function se(e,t,a){a=a||{};var r=a.newline?"\n":"",i=" {"+r,n=r+"}",s=Object(U["map"])(Object(U["keys"])(e),(function(t){return t+i+Object(U["map"])(Object(U["keys"])(e[t]),(function(a){return a+":"+e[t][a]+";"})).join(r)+n})).join(r),o=Object(U["map"])(Object(U["keys"])(t),(function(e){return"@keyframes "+e+i+Object(U["map"])(Object(U["keys"])(t[e]),(function(a){return a+i+Object(U["map"])(Object(U["keys"])(t[e][a]),(function(r){var i=t[e][a][r];return"d"===r&&(i='path("'+i+'")'),r+":"+i+";"})).join(r)+n})).join(r)+n})).join(r);return s||o?["<![CDATA[",s,o,"]]>"].join(r):""}function oe(e){return{zrId:e,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function le(e,t,a,r){return ae("svg","root",{width:e,height:t,xmlns:Z,"xmlns:xlink":J,version:"1.1",baseProfile:"full",viewBox:!!r&&"0 0 "+e+" "+t},a)}var ce=a("d702"),de=a("b0b7"),ue=a("19e3"),he=a("ed0f"),pe=a("44e1"),fe={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},me="transform-origin";function ge(e,t,a){var r=Object(U["extend"])({},e.shape);Object(U["extend"])(r,t),e.buildPath(a,r);var i=new z;return i.reset(Object(A["f"])(e)),a.rebuildPath(i,1),i.generateStr(),i.getStr()}function _e(e,t){var a=t.originX,r=t.originY;(a||r)&&(e[me]=a+"px "+r+"px")}var ve={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function be(e,t){var a=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[a]=e,a}function ye(e,t,a){var r,i,n=e.shape.paths,s={};if(Object(U["each"])(n,(function(e){var t=oe(a.zrId);t.animation=!0,xe(e,{},t,!0);var n=t.cssAnims,o=t.cssNodes,l=Object(U["keys"])(n),c=l.length;if(c){i=l[c-1];var d=n[i];for(var u in d){var h=d[u];s[u]=s[u]||{d:""},s[u].d+=h.d||""}for(var p in o){var f=o[p].animation;f.indexOf(i)>=0&&(r=f)}}})),r){t.d=!1;var o=be(s,a);return r.replace(i,o)}}function ke(e){return Object(U["isString"])(e)?fe[e]?"cubic-bezier("+fe[e]+")":Object(pe["a"])(e)?e:"":""}function xe(e,t,a,r){var i=e.animators,n=i.length,s=[];if(e instanceof he["a"]){var o=ye(e,t,a);if(o)s.push(o);else if(!n)return}else if(!n)return;for(var l={},c=0;c<n;c++){var d=i[c],u=[d.getMaxTime()/1e3+"s"],h=ke(d.getClip().easing),p=d.getDelay();h?u.push(h):u.push("linear"),p&&u.push(p/1e3+"s"),d.getLoop()&&u.push("infinite");var f=u.join(" ");l[f]=l[f]||[f,[]],l[f][1].push(d)}function m(i){var n,s=i[1],o=s.length,l={},c={},d={},u="animation-timing-function";function h(e,t,a){for(var r=e.getTracks(),i=e.getMaxTime(),n=0;n<r.length;n++){var s=r[n];if(s.needsAnimate()){var o=s.keyframes,l=s.propName;if(a&&(l=a(l)),l)for(var c=0;c<o.length;c++){var d=o[c],h=Math.round(d.time/i*100)+"%",p=ke(d.easing),f=d.rawValue;(Object(U["isString"])(f)||Object(U["isNumber"])(f))&&(t[h]=t[h]||{},t[h][l]=d.rawValue,p&&(t[h][u]=p))}}}}for(var p=0;p<o;p++){var f=s[p],m=f.targetName;m?"shape"===m&&h(f,c):!r&&h(f,l)}for(var g in l){var _={};Object(de["b"])(_,e),Object(U["extend"])(_,l[g]);var v=Object(A["g"])(_),b=l[g][u];d[g]=v?{transform:v}:{},_e(d[g],_),b&&(d[g][u]=b)}var y=!0;for(var g in c){d[g]=d[g]||{};var k=!n;b=c[g][u];k&&(n=new ue["a"]);var x=n.len();n.reset(),d[g].d=ge(e,c[g],n);var w=n.len();if(!k&&x!==w){y=!1;break}b&&(d[g][u]=b)}if(!y)for(var g in d)delete d[g].d;if(!r)for(p=0;p<o;p++){f=s[p],m=f.targetName;"style"===m&&h(f,d,(function(e){return ve[e]}))}var S,C=Object(U["keys"])(d),O=!0;for(p=1;p<C.length;p++){var T=C[p-1],j=C[p];if(d[T][me]!==d[j][me]){O=!1;break}S=d[T][me]}if(O&&S){for(var g in d)d[g][me]&&delete d[g][me];t[me]=S}if(Object(U["filter"])(C,(function(e){return Object(U["keys"])(d[e]).length>0})).length){var I=be(d,a);return I+" "+i[0]+" both"}}for(var g in l){o=m(l[g]);o&&s.push(o)}if(s.length){var _=a.zrId+"-cls-"+a.cssClassIdx++;a.cssNodes["."+_]={animation:s.join(",")},t["class"]=_}}var we=a("7c1c"),Se=a("5f78"),Ce=Math.round;function Oe(e){return e&&Object(U["isString"])(e.src)}function Te(e){return e&&Object(U["isFunction"])(e.toDataURL)}function je(e,t,a,r){K((function(i,n){var s="fill"===i||"stroke"===i;s&&Object(A["k"])(n)?Ve(t,e,i,r):s&&Object(A["n"])(n)?Ue(a,e,i,r):e[i]=n}),t,a,!1),ze(a,e,r)}function Ie(e){return Object(A["j"])(e[0]-1)&&Object(A["j"])(e[1])&&Object(A["j"])(e[2])&&Object(A["j"])(e[3]-1)}function Ae(e){return Object(A["j"])(e[4])&&Object(A["j"])(e[5])}function De(e,t,a){if(t&&(!Ae(t)||!Ie(t))){var r=a?10:1e4;e.transform=Ie(t)?"translate("+Ce(t[4]*r)/r+" "+Ce(t[5]*r)/r+")":Object(A["e"])(t)}}function Me(e,t,a){for(var r=e.points,i=[],n=0;n<r.length;n++)i.push(Ce(r[n][0]*a)/a),i.push(Ce(r[n][1]*a)/a);t.points=i.join(" ")}function Ee(e){return!e.smooth}function Re(e){var t=Object(U["map"])(e,(function(e){return"string"===typeof e?[e,e]:e}));return function(e,a,r){for(var i=0;i<t.length;i++){var n=t[i],s=e[n[0]];null!=s&&(a[n[1]]=Ce(s*r)/r)}}}var Be={circle:[Re(["cx","cy","r"])],polyline:[Me,Ee],polygon:[Me,Ee]};function Pe(e){for(var t=e.animators,a=0;a<t.length;a++)if("shape"===t[a].targetName)return!0;return!1}function Le(e,t){var a=e.style,r=e.shape,i=Be[e.type],n={},s=t.animation,o="path",l=e.style.strokePercent,c=t.compress&&Object(A["f"])(e)||4;if(!i||t.willUpdate||i[1]&&!i[1](r)||s&&Pe(e)||l<1){e.path||e.createPathProxy();var d=e.path;e.shapeChanged()&&(d.beginPath(),e.buildPath(d,e.shape),e.pathUpdated());var u=d.getVersion(),h=e,p=h.__svgPathBuilder;h.__svgPathVersion===u&&p&&l===h.__svgPathStrokePercent||(p||(p=h.__svgPathBuilder=new z),p.reset(c),d.rebuildPath(p,l),p.generateStr(),h.__svgPathVersion=u,h.__svgPathStrokePercent=l),n.d=p.getStr()}else{o=e.type;var f=Math.pow(10,c);i[0](r,n,f)}return De(n,e.transform),je(n,a,e,t),t.animation&&xe(e,n,t),ae(o,e.id+"",n)}function Fe(e,t){var a=e.style,r=a.image;if(r&&!Object(U["isString"])(r)&&(Oe(r)?r=r.src:Te(r)&&(r=r.toDataURL())),r){var i=a.x||0,n=a.y||0,s=a.width,o=a.height,l={href:r,width:s,height:o};return i&&(l.x=i),n&&(l.y=n),De(l,e.transform),je(l,a,e,t),t.animation&&xe(e,l,t),ae("image",e.id+"",l)}}function Ne(e,t){var a=e.style,r=a.text;if(null!=r&&(r+=""),r&&!isNaN(a.x)&&!isNaN(a.y)){var i=a.font||Se["a"],n=a.x||0,s=Object(A["b"])(a.y||0,Object(E["e"])(i),a.textBaseline),o=A["a"][a.textAlign]||a.textAlign,l={"dominant-baseline":"central","text-anchor":o};if(Object(we["b"])(a)){var c="",d=a.fontStyle,u=Object(we["c"])(a.fontSize);if(!parseFloat(u))return;var h=a.fontFamily||Se["b"],p=a.fontWeight;c+="font-size:"+u+";font-family:"+h+";",d&&"normal"!==d&&(c+="font-style:"+d+";"),p&&"normal"!==p&&(c+="font-weight:"+p+";"),l.style=c}else l.style="font: "+i;return r.match(/\s/)&&(l["xml:space"]="preserve"),n&&(l.x=n),s&&(l.y=s),De(l,e.transform),je(l,a,e,t),t.animation&&xe(e,l,t),ae("text",e.id+"",l,void 0,r)}}function $e(e,t){return e instanceof D["b"]?Le(e,t):e instanceof M["a"]?Fe(e,t):e instanceof R["a"]?Ne(e,t):void 0}function ze(e,t,a){var r=e.style;if(Object(A["i"])(r)){var i=Object(A["h"])(e),n=a.shadowCache,s=n[i];if(!s){var o=e.getGlobalScale(),l=o[0],c=o[1];if(!l||!c)return;var d=r.shadowOffsetX||0,u=r.shadowOffsetY||0,h=r.shadowBlur,p=Object(A["p"])(r.shadowColor),f=p.opacity,m=p.color,g=h/2/l,_=h/2/c,v=g+" "+_;s=a.zrId+"-s"+a.shadowIdx++,a.defs[s]=ae("filter",s,{id:s,x:"-100%",y:"-100%",width:"300%",height:"300%"},[ae("feDropShadow","",{dx:d/l,dy:u/c,stdDeviation:v,"flood-color":m,"flood-opacity":f})]),n[i]=s}t.filter=Object(A["d"])(s)}}function Ve(e,t,a,r){var i,n=e[a],s={gradientUnits:n.global?"userSpaceOnUse":"objectBoundingBox"};if(Object(A["m"])(n))i="linearGradient",s.x1=n.x,s.y1=n.y,s.x2=n.x2,s.y2=n.y2;else{if(!Object(A["o"])(n))return void 0;i="radialGradient",s.cx=Object(U["retrieve2"])(n.x,.5),s.cy=Object(U["retrieve2"])(n.y,.5),s.r=Object(U["retrieve2"])(n.r,.5)}for(var o=n.colorStops,l=[],c=0,d=o.length;c<d;++c){var u=100*Object(A["q"])(o[c].offset)+"%",h=o[c].color,p=Object(A["p"])(h),f=p.color,m=p.opacity,g={offset:u};g["stop-color"]=f,m<1&&(g["stop-opacity"]=m),l.push(ae("stop",c+"",g))}var _=ae(i,"",s,l),v=ne(_),b=r.gradientCache,y=b[v];y||(y=r.zrId+"-g"+r.gradientIdx++,b[v]=y,s.id=y,r.defs[y]=ae(i,y,s,l)),t[a]=Object(A["d"])(y)}function Ue(e,t,a,r){var i,n=e.style[a],s={patternUnits:"userSpaceOnUse"};if(Object(A["l"])(n)){var o=n.imageWidth,l=n.imageHeight,c=void 0,d=n.image;if(Object(U["isString"])(d)?c=d:Oe(d)?c=d.src:Te(d)&&(c=d.toDataURL()),"undefined"===typeof Image){var u="Image width/height must been given explictly in svg-ssr renderer.";Object(U["assert"])(o,u),Object(U["assert"])(l,u)}else if(null==o||null==l){var h=function(e,t){if(e){var a=e.elm,r=e.attrs.width=o||t.width,i=e.attrs.height=l||t.height;a&&(a.setAttribute("width",r),a.setAttribute("height",i))}},p=Object(ce["a"])(c,null,e,(function(e){h(f,e),h(i,e)}));p&&p.width&&p.height&&(o=o||p.width,l=l||p.height)}i=ae("image","img",{href:c,width:o,height:l}),s.width=o,s.height=l}else n.svgElement&&(i=Object(U["clone"])(n.svgElement),s.width=n.svgWidth,s.height=n.svgHeight);if(i){s.patternTransform=Object(A["g"])(n);var f=ae("pattern","",s,[i]),m=ne(f),g=r.patternCache,_=g[m];_||(_=r.zrId+"-p"+r.patternIdx++,g[m]=_,s.id=_,f=r.defs[_]=ae("pattern",_,s,[i])),t[a]=Object(A["d"])(_)}}function He(e,t,a){var r=a.clipPathCache,i=a.defs,n=r[e.id];if(!n){n=a.zrId+"-c"+a.clipPathIdx++;var s={id:n};r[e.id]=n,i[n]=ae("clipPath",n,s,[Le(e,a)])}t["clip-path"]=Object(A["d"])(n)}function Ge(e){return document.createTextNode(e)}function We(e,t,a){e.insertBefore(t,a)}function qe(e,t){e.removeChild(t)}function Xe(e,t){e.appendChild(t)}function Ye(e){return e.parentNode}function Ke(e){return e.nextSibling}function Ze(e,t){e.textContent=t}var Je=58,Qe=120,et=ae("","");function tt(e){return void 0===e}function at(e){return void 0!==e}function rt(e,t,a){for(var r={},i=t;i<=a;++i){var n=e[i].key;void 0!==n&&(r[n]=i)}return r}function it(e,t){var a=e.key===t.key,r=e.tag===t.tag;return r&&a}function nt(e){var t,a=e.children,r=e.tag;if(at(r)){var i=e.elm=te(r);if(lt(et,e),Object(U["isArray"])(a))for(t=0;t<a.length;++t){var n=a[t];null!=n&&Xe(i,nt(n))}else at(e.text)&&!Object(U["isObject"])(e.text)&&Xe(i,Ge(e.text))}else e.elm=Ge(e.text);return e.elm}function st(e,t,a,r,i){for(;r<=i;++r){var n=a[r];null!=n&&We(e,nt(n),t)}}function ot(e,t,a,r){for(;a<=r;++a){var i=t[a];if(null!=i)if(at(i.tag)){var n=Ye(i.elm);qe(n,i.elm)}else qe(e,i.elm)}}function lt(e,t){var a,r=t.elm,i=e&&e.attrs||{},n=t.attrs||{};if(i!==n){for(a in n){var s=n[a],o=i[a];o!==s&&(!0===s?r.setAttribute(a,""):!1===s?r.removeAttribute(a):a.charCodeAt(0)!==Qe?r.setAttribute(a,s):"xmlns:xlink"===a||"xmlns"===a?r.setAttributeNS(Q,a,s):a.charCodeAt(3)===Je?r.setAttributeNS(ee,a,s):a.charCodeAt(5)===Je?r.setAttributeNS(J,a,s):r.setAttribute(a,s))}for(a in i)a in n||r.removeAttribute(a)}}function ct(e,t,a){var r,i,n,s,o=0,l=0,c=t.length-1,d=t[0],u=t[c],h=a.length-1,p=a[0],f=a[h];while(o<=c&&l<=h)null==d?d=t[++o]:null==u?u=t[--c]:null==p?p=a[++l]:null==f?f=a[--h]:it(d,p)?(dt(d,p),d=t[++o],p=a[++l]):it(u,f)?(dt(u,f),u=t[--c],f=a[--h]):it(d,f)?(dt(d,f),We(e,d.elm,Ke(u.elm)),d=t[++o],f=a[--h]):it(u,p)?(dt(u,p),We(e,u.elm,d.elm),u=t[--c],p=a[++l]):(tt(r)&&(r=rt(t,o,c)),i=r[p.key],tt(i)?We(e,nt(p),d.elm):(n=t[i],n.tag!==p.tag?We(e,nt(p),d.elm):(dt(n,p),t[i]=void 0,We(e,n.elm,d.elm))),p=a[++l]);(o<=c||l<=h)&&(o>c?(s=null==a[h+1]?null:a[h+1].elm,st(e,s,a,l,h)):ot(e,t,o,c))}function dt(e,t){var a=t.elm=e.elm,r=e.children,i=t.children;e!==t&&(lt(e,t),tt(t.text)?at(r)&&at(i)?r!==i&&ct(a,r,i):at(i)?(at(e.text)&&Ze(a,""),st(a,null,i,0,i.length-1)):at(r)?ot(a,r,0,r.length-1):at(e.text)&&Ze(a,""):e.text!==t.text&&(at(r)&&ot(a,r,0,r.length-1),Ze(a,t.text)))}function ut(e,t){if(it(e,t))dt(e,t);else{var a=e.elm,r=Ye(a);nt(t),null!==r&&(We(r,t.elm,Ke(a)),ot(r,[e],0,0))}return t}var ht=a("6ff9"),pt=0,ft=function(){function e(e,t,a){if(this.type="svg",this.refreshHover=mt("refreshHover"),this.configLayer=mt("configLayer"),this.storage=t,this._opts=a=Object(U["extend"])({},a),this.root=e,this._id="zr"+pt++,this._oldVNode=le(a.width,a.height),e&&!a.ssr){var r=this._viewport=document.createElement("div");r.style.cssText="position:relative;overflow:hidden";var i=this._svgDom=this._oldVNode.elm=te("svg");lt(null,this._oldVNode),r.appendChild(i),e.appendChild(r)}this.resize(a.width,a.height)}return e.prototype.getType=function(){return this.type},e.prototype.getViewportRoot=function(){return this._viewport},e.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},e.prototype.getSvgDom=function(){return this._svgDom},e.prototype.refresh=function(){if(this.root){var e=this.renderToVNode({willUpdate:!0});e.attrs.style="position:absolute;left:0;top:0;user-select:none",ut(this._oldVNode,e),this._oldVNode=e}},e.prototype.renderOneToVNode=function(e){return $e(e,oe(this._id))},e.prototype.renderToVNode=function(e){e=e||{};var t=this.storage.getDisplayList(!0),a=this._backgroundColor,r=this._width,i=this._height,n=oe(this._id);n.animation=e.animation,n.willUpdate=e.willUpdate,n.compress=e.compress;var s=[];if(a&&"none"!==a){var o=Object(A["p"])(a),l=o.color,c=o.opacity;this._bgVNode=ae("rect","bg",{width:r,height:i,x:"0",y:"0",id:"0",fill:l,"fill-opacity":c}),s.push(this._bgVNode)}else this._bgVNode=null;var d=e.compress?null:this._mainVNode=ae("g","main",{},[]);this._paintList(t,n,d?d.children:s),d&&s.push(d);var u=Object(U["map"])(Object(U["keys"])(n.defs),(function(e){return n.defs[e]}));if(u.length&&s.push(ae("defs","defs",{},u)),e.animation){var h=se(n.cssNodes,n.cssAnims,{newline:!0});if(h){var p=ae("style","stl",{},[],h);s.push(p)}}return le(r,i,s,e.useViewBox)},e.prototype.renderToString=function(e){return e=e||{},ne(this.renderToVNode({animation:Object(U["retrieve2"])(e.cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:Object(U["retrieve2"])(e.useViewBox,!0)}),{newline:!0})},e.prototype.setBackgroundColor=function(e){this._backgroundColor=e;var t=this._bgVNode;if(t&&t.elm){var a=Object(A["p"])(e),r=a.color,i=a.opacity;t.elm.setAttribute("fill",r),i<1&&t.elm.setAttribute("fill-opacity",i)}},e.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},e.prototype._paintList=function(e,t,a){for(var r,i,n=e.length,s=[],o=0,l=0,c=0;c<n;c++){var d=e[c];if(!d.invisible){var u=d.__clipPaths,h=u&&u.length||0,p=i&&i.length||0,f=void 0;for(f=Math.max(h-1,p-1);f>=0;f--)if(u&&i&&u[f]===i[f])break;for(var m=p-1;m>f;m--)o--,r=s[o-1];for(var g=f+1;g<h;g++){var _={};He(u[g],_,t);var v=ae("g","clip-g-"+l++,_,[]);(r?r.children:a).push(v),s[o++]=v,r=v}i=u;var b=$e(d,t);b&&(r?r.children:a).push(b)}}},e.prototype.resize=function(e,t){var a=this._opts,r=this.root,i=this._viewport;if(null!=e&&(a.width=e),null!=t&&(a.height=t),r&&i&&(i.style.display="none",e=Object(ht["b"])(r,0,a),t=Object(ht["b"])(r,1,a),i.style.display=""),this._width!==e||this._height!==t){if(this._width=e,this._height=t,i){var n=i.style;n.width=e+"px",n.height=t+"px"}var s=this._svgDom;s&&(s.setAttribute("width",e),s.setAttribute("height",t))}},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},e.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},e.prototype.toDataURL=function(e){var t=encodeURIComponent(this.renderToString()),a="data:image/svg+xml;";return e?(t=Object(A["c"])(t),t&&a+"base64,"+t):a+"charset=UTF-8,"+t},e}();function mt(e){return function(){0}}var gt=ft;function _t(e){e.registerPainter("svg",gt)}var vt=a("4a29"),bt=a("b517"),yt=a("a209"),kt=a("2fbd"),xt=a("e049"),wt=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.hasSymbolVisual=!0,a}return Object(vt["a"])(t,e),t.prototype.getInitialData=function(e){return Object(bt["a"])(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var t=new xt["a"],a=Object(kt["a"])("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);t.add(a),a.setStyle(e.lineStyle);var r=this.getData().getVisual("symbol"),i=this.getData().getVisual("symbolRotate"),n="none"===r?"circle":r,s=.8*e.itemHeight,o=Object(kt["a"])(n,(e.itemWidth-s)/2,(e.itemHeight-s)/2,s,s,e.itemStyle.fill);t.add(o),o.setStyle(e.itemStyle);var l="inherit"===e.iconRotate?i:e.iconRotate||0;return o.rotation=l*Math.PI/180,o.setOrigin([e.itemWidth/2,e.itemHeight/2]),n.indexOf("empty")>-1&&(o.style.stroke=o.style.fill,o.style.fill="#fff",o.style.lineWidth=2),t},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(yt["b"]),St=wt,Ct=a("42cb"),Ot=a("d47b"),Tt=a("aad7"),jt=a("2715"),It=a("056f"),At=a("e26e"),Dt=function(e){function t(t,a,r,i){var n=e.call(this)||this;return n.updateData(t,a,r,i),n}return Object(vt["a"])(t,e),t.prototype._createSymbol=function(e,t,a,r,i){this.removeAll();var n=Object(kt["a"])(e,-1,-1,2,2,null,i);n.attr({z2:100,culling:!0,scaleX:r[0]/2,scaleY:r[1]/2}),n.drift=Mt,this._symbolType=e,this.add(n)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){Object(jt["r"])(this.childAt(0))},t.prototype.downplay=function(){Object(jt["C"])(this.childAt(0))},t.prototype.setZ=function(e,t){var a=this.childAt(0);a.zlevel=e,a.z=t},t.prototype.setDraggable=function(e,t){var a=this.childAt(0);a.draggable=e,a.cursor=!t&&e?"move":a.cursor},t.prototype.updateData=function(e,a,r,i){this.silent=!1;var n=e.getItemVisual(a,"symbol")||"circle",s=e.hostModel,o=t.getSymbolSize(e,a),l=n!==this._symbolType,c=i&&i.disableAnimation;if(l){var d=e.getItemVisual(a,"symbolKeepAspect");this._createSymbol(n,e,a,o,d)}else{var u=this.childAt(0);u.silent=!1;var h={scaleX:o[0]/2,scaleY:o[1]/2};c?u.attr(h):Ct["h"](u,h,s,a),Object(Ct["g"])(u)}if(this._updateCommon(e,a,o,r,i),l){u=this.childAt(0);if(!c){h={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:u.style.opacity}};u.scaleX=u.scaleY=0,u.style.opacity=0,Ct["c"](u,h,s,a)}}c&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(e,t,a,r,i){var n,s,o,l,c,d,u,h,p,f=this.childAt(0),m=e.hostModel;if(r&&(n=r.emphasisItemStyle,s=r.blurItemStyle,o=r.selectItemStyle,l=r.focus,c=r.blurScope,u=r.labelStatesModels,h=r.hoverScale,p=r.cursorStyle,d=r.emphasisDisabled),!r||e.hasItemOption){var g=r&&r.itemModel?r.itemModel:e.getItemModel(t),_=g.getModel("emphasis");n=_.getModel("itemStyle").getItemStyle(),o=g.getModel(["select","itemStyle"]).getItemStyle(),s=g.getModel(["blur","itemStyle"]).getItemStyle(),l=_.get("focus"),c=_.get("blurScope"),d=_.get("disabled"),u=Object(At["e"])(g),h=_.getShallow("scale"),p=g.getShallow("cursor")}var v=e.getItemVisual(t,"symbolRotate");f.attr("rotation",(v||0)*Math.PI/180||0);var b=Object(kt["b"])(e.getItemVisual(t,"symbolOffset"),a);b&&(f.x=b[0],f.y=b[1]),p&&f.attr("cursor",p);var y=e.getItemVisual(t,"style"),k=y.fill;if(f instanceof M["a"]){var x=f.style;f.useStyle(Object(U["extend"])({image:x.image,x:x.x,y:x.y,width:x.width,height:x.height},y))}else f.__isEmptyBrush?f.useStyle(Object(U["extend"])({},y)):f.useStyle(y),f.style.decal=null,f.setColor(k,i&&i.symbolInnerColor),f.style.strokeNoScale=!0;var w=e.getItemVisual(t,"liftZ"),S=this._z2;null!=w?null==S&&(this._z2=f.z2,f.z2+=w):null!=S&&(f.z2=S,this._z2=null);var C=i&&i.useNameLabel;function O(t){return C?e.getName(t):Object(It["b"])(e,t)}Object(At["g"])(f,u,{labelFetcher:m,labelDataIndex:t,defaultText:O,inheritColor:k,defaultOpacity:y.opacity}),this._sizeX=a[0]/2,this._sizeY=a[1]/2;var T=f.ensureState("emphasis");if(T.style=n,f.ensureState("select").style=o,f.ensureState("blur").style=s,h){var j=Math.max(Object(U["isNumber"])(h)?h:1.1,3/this._sizeY);T.scaleX=this._sizeX*j,T.scaleY=this._sizeY*j}this.setSymbolScale(1),Object(jt["J"])(this,l,c,d)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,t,a){var r=this.childAt(0),i=Object(Tt["a"])(this).dataIndex,n=a&&a.animation;if(this.silent=r.silent=!0,a&&a.fadeLabel){var s=r.getTextContent();s&&Ct["e"](s,{style:{opacity:0}},t,{dataIndex:i,removeOpt:n,cb:function(){r.removeTextContent()}})}else r.removeTextContent();Ct["e"](r,{style:{opacity:0},scaleX:0,scaleY:0},t,{dataIndex:i,cb:e,removeOpt:n})},t.getSymbolSize=function(e,t){return Object(kt["c"])(e.getItemVisual(t,"symbolSize"))},t}(xt["a"]);function Mt(e,t){this.parent.drift(e,t)}var Et=Dt;function Rt(e,t,a,r){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(r.isIgnore&&r.isIgnore(a))&&!(r.clipShape&&!r.clipShape.contain(t[0],t[1]))&&"none"!==e.getItemVisual(a,"symbol")}function Bt(e){return null==e||Object(U["isObject"])(e)||(e={isIgnore:e}),e||{}}function Pt(e){var t=e.hostModel,a=t.getModel("emphasis");return{emphasisItemStyle:a.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:a.get("focus"),blurScope:a.get("blurScope"),emphasisDisabled:a.get("disabled"),hoverScale:a.get("scale"),labelStatesModels:Object(At["e"])(t),cursorStyle:t.get("cursor")}}var Lt=function(){function e(e){this.group=new xt["a"],this._SymbolCtor=e||Et}return e.prototype.updateData=function(e,t){this._progressiveEls=null,t=Bt(t);var a=this.group,r=e.hostModel,i=this._data,n=this._SymbolCtor,s=t.disableAnimation,o=Pt(e),l={disableAnimation:s},c=t.getSymbolPoint||function(t){return e.getItemLayout(t)};i||a.removeAll(),e.diff(i).add((function(r){var i=c(r);if(Rt(e,i,r,t)){var s=new n(e,r,o,l);s.setPosition(i),e.setItemGraphicEl(r,s),a.add(s)}})).update((function(d,u){var h=i.getItemGraphicEl(u),p=c(d);if(Rt(e,p,d,t)){var f=e.getItemVisual(d,"symbol")||"circle",m=h&&h.getSymbolType&&h.getSymbolType();if(!h||m&&m!==f)a.remove(h),h=new n(e,d,o,l),h.setPosition(p);else{h.updateData(e,d,o,l);var g={x:p[0],y:p[1]};s?h.attr(g):Ct["h"](h,g,r)}a.add(h),e.setItemGraphicEl(d,h)}else a.remove(h)})).remove((function(e){var t=i.getItemGraphicEl(e);t&&t.fadeOut((function(){a.remove(t)}),r)})).execute(),this._getSymbolPoint=c,this._data=e},e.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl((function(t,a){var r=e._getSymbolPoint(a);t.setPosition(r),t.markRedraw()}))},e.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=Pt(e),this._data=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(e,t,a){function r(e){e.isGroup||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],a=Bt(a);for(var i=e.start;i<e.end;i++){var n=t.getItemLayout(i);if(Rt(t,n,i,a)){var s=new this._SymbolCtor(t,i,this._seriesScope);s.traverse(r),s.setPosition(n),this.group.add(s),t.setItemGraphicEl(i,s),this._progressiveEls.push(s)}}},e.prototype.eachRendered=function(e){Ot["traverseElements"](this._progressiveEls||this.group,e)},e.prototype.remove=function(e){var t=this.group,a=this._data;a&&e?a.eachItemGraphicEl((function(e){e.fadeOut((function(){t.remove(e)}),a.hostModel)})):t.removeAll()},e}(),Ft=Lt,Nt=a("09b4");function $t(e,t,a){var r=e.getBaseAxis(),i=e.getOtherAxis(r),n=zt(i,a),s=r.dim,o=i.dim,l=t.mapDimension(o),c=t.mapDimension(s),d="x"===o||"radius"===o?1:0,u=Object(U["map"])(e.dimensions,(function(e){return t.mapDimension(e)})),h=!1,p=t.getCalculationInfo("stackResultDimension");return Object(Nt["c"])(t,u[0])&&(h=!0,u[0]=p),Object(Nt["c"])(t,u[1])&&(h=!0,u[1]=p),{dataDimsForPoint:u,valueStart:n,valueAxisDim:o,baseAxisDim:s,stacked:!!h,valueDim:l,baseDim:c,baseDataOffset:d,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function zt(e,t){var a=0,r=e.scale.getExtent();return"start"===t?a=r[0]:"end"===t?a=r[1]:Object(U["isNumber"])(t)&&!isNaN(t)?a=t:r[0]>0?a=r[0]:r[1]<0&&(a=r[1]),a}function Vt(e,t,a,r){var i=NaN;e.stacked&&(i=a.get(a.getCalculationInfo("stackedOverDimension"),r)),isNaN(i)&&(i=e.valueStart);var n=e.baseDataOffset,s=[];return s[n]=a.get(e.baseDim,r),s[1-n]=i,t.dataToPoint(s)}var Ut=a("4c97");function Ht(e,t){var a=[];return t.diff(e).add((function(e){a.push({cmd:"+",idx:e})})).update((function(e,t){a.push({cmd:"=",idx:t,idx1:e})})).remove((function(e){a.push({cmd:"-",idx:e})})).execute(),a}function Gt(e,t,a,r,i,n,s,o){for(var l=Ht(e,t),c=[],d=[],u=[],h=[],p=[],f=[],m=[],g=$t(i,t,s),_=e.getLayout("points")||[],v=t.getLayout("points")||[],b=0;b<l.length;b++){var y=l[b],k=!0,x=void 0,w=void 0;switch(y.cmd){case"=":x=2*y.idx,w=2*y.idx1;var S=_[x],C=_[x+1],O=v[w],T=v[w+1];(isNaN(S)||isNaN(C))&&(S=O,C=T),c.push(S,C),d.push(O,T),u.push(a[x],a[x+1]),h.push(r[w],r[w+1]),m.push(t.getRawIndex(y.idx1));break;case"+":var j=y.idx,I=g.dataDimsForPoint,A=i.dataToPoint([t.get(I[0],j),t.get(I[1],j)]);w=2*j,c.push(A[0],A[1]),d.push(v[w],v[w+1]);var D=Vt(g,i,t,j);u.push(D[0],D[1]),h.push(r[w],r[w+1]),m.push(t.getRawIndex(j));break;case"-":k=!1}k&&(p.push(y),f.push(f.length))}f.sort((function(e,t){return m[e]-m[t]}));var M=c.length,E=Object(Ut["a"])(M),R=Object(Ut["a"])(M),B=Object(Ut["a"])(M),P=Object(Ut["a"])(M),L=[];for(b=0;b<f.length;b++){var F=f[b],N=2*b,$=2*F;E[N]=c[$],E[N+1]=c[$+1],R[N]=d[$],R[N+1]=d[$+1],B[N]=u[$],B[N+1]=u[$+1],P[N]=h[$],P[N+1]=h[$+1],L[b]=p[F]}return{current:E,next:R,stackedOnCurrent:B,stackedOnNext:P,status:L}}var Wt=a("f4f5"),qt=a("505c"),Xt=a("66bd"),Yt=Math.min,Kt=Math.max;function Zt(e,t){return isNaN(e)||isNaN(t)}function Jt(e,t,a,r,i,n,s,o,l){for(var c,d,u,h,p,f,m=a,g=0;g<r;g++){var _=t[2*m],v=t[2*m+1];if(m>=i||m<0)break;if(Zt(_,v)){if(l){m+=n;continue}break}if(m===a)e[n>0?"moveTo":"lineTo"](_,v),u=_,h=v;else{var b=_-c,y=v-d;if(b*b+y*y<.5){m+=n;continue}if(s>0){var k=m+n,x=t[2*k],w=t[2*k+1];while(x===_&&w===v&&g<r)g++,k+=n,m+=n,x=t[2*k],w=t[2*k+1],_=t[2*m],v=t[2*m+1],b=_-c,y=v-d;var S=g+1;if(l)while(Zt(x,w)&&S<r)S++,k+=n,x=t[2*k],w=t[2*k+1];var C=.5,O=0,T=0,j=void 0,I=void 0;if(S>=r||Zt(x,w))p=_,f=v;else{O=x-c,T=w-d;var A=_-c,D=x-_,M=v-d,E=w-v,R=void 0,B=void 0;if("x"===o){R=Math.abs(A),B=Math.abs(D);var P=O>0?1:-1;p=_-P*R*s,f=v,j=_+P*B*s,I=v}else if("y"===o){R=Math.abs(M),B=Math.abs(E);var L=T>0?1:-1;p=_,f=v-L*R*s,j=_,I=v+L*B*s}else R=Math.sqrt(A*A+M*M),B=Math.sqrt(D*D+E*E),C=B/(B+R),p=_-O*s*(1-C),f=v-T*s*(1-C),j=_+O*s*C,I=v+T*s*C,j=Yt(j,Kt(x,_)),I=Yt(I,Kt(w,v)),j=Kt(j,Yt(x,_)),I=Kt(I,Yt(w,v)),O=j-_,T=I-v,p=_-O*R/B,f=v-T*R/B,p=Yt(p,Kt(c,_)),f=Yt(f,Kt(d,v)),p=Kt(p,Yt(c,_)),f=Kt(f,Yt(d,v)),O=_-p,T=v-f,j=_+O*B/R,I=v+T*B/R}e.bezierCurveTo(u,h,p,f,_,v),u=j,h=I}else e.lineTo(_,v)}c=_,d=v,m+=n}return g}var Qt=function(){function e(){this.smooth=0,this.smoothConstraint=!0}return e}(),ea=function(e){function t(t){var a=e.call(this,t)||this;return a.type="ec-polyline",a}return Object(vt["a"])(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Qt},t.prototype.buildPath=function(e,t){var a=t.points,r=0,i=a.length/2;if(t.connectNulls){for(;i>0;i--)if(!Zt(a[2*i-2],a[2*i-1]))break;for(;r<i;r++)if(!Zt(a[2*r],a[2*r+1]))break}while(r<i)r+=Jt(e,a,r,i,i,1,t.smooth,t.smoothMonotone,t.connectNulls)+1},t.prototype.getPointOn=function(e,t){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var a,r,i=this.path,n=i.data,s=ue["a"].CMD,o="x"===t,l=[],c=0;c<n.length;){var d=n[c++],u=void 0,h=void 0,p=void 0,f=void 0,m=void 0,g=void 0,_=void 0;switch(d){case s.M:a=n[c++],r=n[c++];break;case s.L:if(u=n[c++],h=n[c++],_=o?(e-a)/(u-a):(e-r)/(h-r),_<=1&&_>=0){var v=o?(h-r)*_+r:(u-a)*_+a;return o?[e,v]:[v,e]}a=u,r=h;break;case s.C:u=n[c++],h=n[c++],p=n[c++],f=n[c++],m=n[c++],g=n[c++];var b=o?Object(Xt["f"])(a,u,p,m,e,l):Object(Xt["f"])(r,h,f,g,e,l);if(b>0)for(var y=0;y<b;y++){var k=l[y];if(k<=1&&k>=0){v=o?Object(Xt["a"])(r,h,f,g,k):Object(Xt["a"])(a,u,p,m,k);return o?[e,v]:[v,e]}}a=m,r=g;break}}},t}(D["b"]),ta=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(vt["a"])(t,e),t}(Qt),aa=function(e){function t(t){var a=e.call(this,t)||this;return a.type="ec-polygon",a}return Object(vt["a"])(t,e),t.prototype.getDefaultShape=function(){return new ta},t.prototype.buildPath=function(e,t){var a=t.points,r=t.stackedOnPoints,i=0,n=a.length/2,s=t.smoothMonotone;if(t.connectNulls){for(;n>0;n--)if(!Zt(a[2*n-2],a[2*n-1]))break;for(;i<n;i++)if(!Zt(a[2*i],a[2*i+1]))break}while(i<n){var o=Jt(e,a,i,n,n,1,t.smooth,s,t.connectNulls);Jt(e,r,i+o-1,o,n,-1,t.stackedOnSmooth,s,t.connectNulls),i+=o+1,e.closePath()}},t}(D["b"]),ra=a("3744"),ia=a("5bb9"),na=a("5709"),sa=a("c5af"),oa=a("4aa5");function la(e,t){if(e.length===t.length){for(var a=0;a<e.length;a++)if(e[a]!==t[a])return;return!0}}function ca(e){for(var t=1/0,a=1/0,r=-1/0,i=-1/0,n=0;n<e.length;){var s=e[n++],o=e[n++];isNaN(s)||(t=Math.min(s,t),r=Math.max(s,r)),isNaN(o)||(a=Math.min(o,a),i=Math.max(o,i))}return[[t,a],[r,i]]}function da(e,t){var a=ca(e),r=a[0],i=a[1],n=ca(t),s=n[0],o=n[1];return Math.max(Math.abs(r[0]-s[0]),Math.abs(r[1]-s[1]),Math.abs(i[0]-o[0]),Math.abs(i[1]-o[1]))}function ua(e){return U["isNumber"](e)?e:e?.5:0}function ha(e,t,a){if(!a.valueDim)return[];for(var r=t.count(),i=Object(Ut["a"])(2*r),n=0;n<r;n++){var s=Vt(a,e,t,n);i[2*n]=s[0],i[2*n+1]=s[1]}return i}function pa(e,t,a,r){var i=t.getBaseAxis(),n="x"===i.dim||"radius"===i.dim?0:1,s=[],o=0,l=[],c=[],d=[],u=[];if(r){for(o=0;o<e.length;o+=2)isNaN(e[o])||isNaN(e[o+1])||u.push(e[o],e[o+1]);e=u}for(o=0;o<e.length-2;o+=2)switch(d[0]=e[o+2],d[1]=e[o+3],c[0]=e[o],c[1]=e[o+1],s.push(c[0],c[1]),a){case"end":l[n]=d[n],l[1-n]=c[1-n],s.push(l[0],l[1]);break;case"middle":var h=(c[n]+d[n])/2,p=[];l[n]=p[n]=h,l[1-n]=c[1-n],p[1-n]=d[1-n],s.push(l[0],l[1]),s.push(p[0],p[1]);break;default:l[n]=c[n],l[1-n]=d[1-n],s.push(l[0],l[1])}return s.push(e[o++],e[o++]),s}function fa(e,t){var a,r,i=[],n=e.length;function s(e,t,a){var r=e.coord,i=(a-r)/(t.coord-r),n=Object(oa["lerp"])(i,[e.color,t.color]);return{coord:a,color:n}}for(var o=0;o<n;o++){var l=e[o],c=l.coord;if(c<0)a=l;else{if(c>t){r?i.push(s(r,l,t)):a&&i.push(s(a,l,0),s(a,l,t));break}a&&(i.push(s(a,l,0)),a=null),i.push(l),r=l}}return i}function ma(e,t,a){var r=e.getVisual("visualMeta");if(r&&r.length&&e.count()&&"cartesian2d"===t.type){for(var i,n,s=r.length-1;s>=0;s--){var o=e.getDimensionInfo(r[s].dimension);if(i=o&&o.coordDim,"x"===i||"y"===i){n=r[s];break}}if(n){var l=t.getAxis(i),c=U["map"](n.stops,(function(e){return{coord:l.toGlobalCoord(l.dataToCoord(e.value)),color:e.color}})),d=c.length,u=n.outerColors.slice();d&&c[0].coord>c[d-1].coord&&(c.reverse(),u.reverse());var h=fa(c,"x"===i?a.getWidth():a.getHeight()),p=h.length;if(!p&&d)return c[0].coord<0?u[1]?u[1]:c[d-1].color:u[0]?u[0]:c[0].color;var f=10,m=h[0].coord-f,g=h[p-1].coord+f,_=g-m;if(_<.001)return"transparent";U["each"](h,(function(e){e.offset=(e.coord-m)/_})),h.push({offset:p?h[p-1].offset:.5,color:u[1]||"transparent"}),h.unshift({offset:p?h[0].offset:.5,color:u[0]||"transparent"});var v=new Wt["a"](0,0,0,0,h,!0);return v[i]=m,v[i+"2"]=g,v}}}function ga(e,t,a){var r=e.get("showAllSymbol"),i="auto"===r;if(!r||i){var n=a.getAxesByScale("ordinal")[0];if(n&&(!i||!_a(n,t))){var s=t.mapDimension(n.dim),o={};return U["each"](n.getViewLabels(),(function(e){var t=n.scale.getRawOrdinalNumber(e.tickValue);o[t]=1})),function(e){return!o.hasOwnProperty(t.get(s,e))}}}}function _a(e,t){var a=e.getExtent(),r=Math.abs(a[1]-a[0])/e.scale.count();isNaN(r)&&(r=0);for(var i=t.count(),n=Math.max(1,Math.round(i/5)),s=0;s<i;s+=n)if(1.5*Et.getSymbolSize(t,s)[e.isHorizontal()?1:0]>r)return!1;return!0}function va(e,t){return isNaN(e)||isNaN(t)}function ba(e){for(var t=e.length/2;t>0;t--)if(!va(e[2*t-2],e[2*t-1]))break;return t-1}function ya(e,t){return[e[2*t],e[2*t+1]]}function ka(e,t,a){for(var r,i,n=e.length/2,s="x"===a?0:1,o=0,l=-1,c=0;c<n;c++)if(i=e[2*c+s],!isNaN(i)&&!isNaN(e[2*c+1-s]))if(0!==c){if(r<=t&&i>=t||r>=t&&i<=t){l=c;break}o=c,r=i}else r=i;return{range:[o,l],t:(t-r)/(i-r)}}function xa(e){if(e.get(["endLabel","show"]))return!0;for(var t=0;t<jt["g"].length;t++)if(e.get([jt["g"][t],"endLabel","show"]))return!0;return!1}function wa(e,t,a,r){if(Object(na["a"])(t,"cartesian2d")){var i=r.getModel("endLabel"),n=i.get("valueAnimation"),s=r.getData(),o={lastFrameIndex:0},l=xa(r)?function(a,r){e._endLabelOnDuring(a,r,s,o,n,i,t)}:null,c=t.getBaseAxis().isHorizontal(),d=Object(ia["b"])(t,a,r,(function(){var t=e._endLabel;t&&a&&null!=o.originalX&&t.attr({x:o.originalX,y:o.originalY})}),l);if(!r.get("clip",!0)){var u=d.shape,h=Math.max(u.width,u.height);c?(u.y-=h,u.height+=2*h):(u.x-=h,u.width+=2*h)}return l&&l(1,d),d}return Object(ia["c"])(t,a,r)}function Sa(e,t){var a=t.getBaseAxis(),r=a.isHorizontal(),i=a.inverse,n=r?i?"right":"left":"center",s=r?"middle":i?"top":"bottom";return{normal:{align:e.get("align")||n,verticalAlign:e.get("verticalAlign")||s}}}var Ca=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(vt["a"])(t,e),t.prototype.init=function(){var e=new xt["a"],t=new Ft;this.group.add(t.group),this._symbolDraw=t,this._lineGroup=e},t.prototype.render=function(e,t,a){var r=this,i=e.coordinateSystem,n=this.group,s=e.getData(),o=e.getModel("lineStyle"),l=e.getModel("areaStyle"),c=s.getLayout("points")||[],d="polar"===i.type,u=this._coordSys,h=this._symbolDraw,p=this._polyline,f=this._polygon,m=this._lineGroup,g=e.get("animation"),_=!l.isEmpty(),v=l.get("origin"),b=$t(i,s,v),y=_&&ha(i,s,b),k=e.get("showSymbol"),x=e.get("connectNulls"),w=k&&!d&&ga(e,s,i),S=this._data;S&&S.eachItemGraphicEl((function(e,t){e.__temp&&(n.remove(e),S.setItemGraphicEl(t,null))})),k||h.remove(),n.add(m);var C,O=!d&&e.get("step");i&&i.getArea&&e.get("clip",!0)&&(C=i.getArea(),null!=C.width?(C.x-=.1,C.y-=.1,C.width+=.2,C.height+=.2):C.r0&&(C.r0-=.5,C.r+=.5)),this._clipShapeForSymbol=C;var T=ma(s,i,a)||s.getVisual("style")[s.getVisual("drawType")];if(p&&u.type===i.type&&O===this._step){_&&!f?f=this._newPolygon(c,y):f&&!_&&(m.remove(f),f=this._polygon=null),d||this._initOrUpdateEndLabel(e,i,Object(sa["c"])(T));var j=m.getClipPath();if(j){var I=wa(this,i,!1,e);Ct["c"](j,{shape:I.shape},e)}else m.setClipPath(wa(this,i,!0,e));k&&h.updateData(s,{isIgnore:w,clipShape:C,disableAnimation:!0,getSymbolPoint:function(e){return[c[2*e],c[2*e+1]]}}),la(this._stackedOnPoints,y)&&la(this._points,c)||(g?this._doUpdateAnimation(s,y,i,a,O,v,x):(O&&(c=pa(c,i,O,x),y&&(y=pa(y,i,O,x))),p.setShape({points:c}),f&&f.setShape({points:c,stackedOnPoints:y})))}else k&&h.updateData(s,{isIgnore:w,clipShape:C,disableAnimation:!0,getSymbolPoint:function(e){return[c[2*e],c[2*e+1]]}}),g&&this._initSymbolLabelAnimation(s,i,C),O&&(c=pa(c,i,O,x),y&&(y=pa(y,i,O,x))),p=this._newPolyline(c),_?f=this._newPolygon(c,y):f&&(m.remove(f),f=this._polygon=null),d||this._initOrUpdateEndLabel(e,i,Object(sa["c"])(T)),m.setClipPath(wa(this,i,!0,e));var A=e.getModel("emphasis"),D=A.get("focus"),M=A.get("blurScope"),E=A.get("disabled");if(p.useStyle(U["defaults"](o.getLineStyle(),{fill:"none",stroke:T,lineJoin:"bevel"})),Object(jt["I"])(p,e,"lineStyle"),p.style.lineWidth>0&&"bolder"===e.get(["emphasis","lineStyle","width"])){var R=p.getState("emphasis").style;R.lineWidth=+p.style.lineWidth+1}Object(Tt["a"])(p).seriesIndex=e.seriesIndex,Object(jt["J"])(p,D,M,E);var B=ua(e.get("smooth")),P=e.get("smoothMonotone");if(p.setShape({smooth:B,smoothMonotone:P,connectNulls:x}),f){var L=s.getCalculationInfo("stackedOnSeries"),F=0;f.useStyle(U["defaults"](l.getAreaStyle(),{fill:T,opacity:.7,lineJoin:"bevel",decal:s.getVisual("style").decal})),L&&(F=ua(L.get("smooth"))),f.setShape({smooth:B,stackedOnSmooth:F,smoothMonotone:P,connectNulls:x}),Object(jt["I"])(f,e,"areaStyle"),Object(Tt["a"])(f).seriesIndex=e.seriesIndex,Object(jt["J"])(f,D,M,E)}var N=function(e){r._changePolyState(e)};s.eachItemGraphicEl((function(e){e&&(e.onHoverStateChange=N)})),this._polyline.onHoverStateChange=N,this._data=s,this._coordSys=i,this._stackedOnPoints=y,this._points=c,this._step=O,this._valueOrigin=v,e.get("triggerLineEvent")&&(this.packEventData(e,p),f&&this.packEventData(e,f))},t.prototype.packEventData=function(e,t){Object(Tt["a"])(t).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,t,a,r){var i=e.getData(),n=qt["u"](i,r);if(this._changePolyState("emphasis"),!(n instanceof Array)&&null!=n&&n>=0){var s=i.getLayout("points"),o=i.getItemGraphicEl(n);if(!o){var l=s[2*n],c=s[2*n+1];if(isNaN(l)||isNaN(c))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(l,c))return;var d=e.get("zlevel"),u=e.get("z");o=new Et(i,n),o.x=l,o.y=c,o.setZ(d,u);var h=o.getSymbolPath().getTextContent();h&&(h.zlevel=d,h.z=u,h.z2=this._polyline.z2+1),o.__temp=!0,i.setItemGraphicEl(n,o),o.stopSymbolAnimation(!0),this.group.add(o)}o.highlight()}else ra["a"].prototype.highlight.call(this,e,t,a,r)},t.prototype.downplay=function(e,t,a,r){var i=e.getData(),n=qt["u"](i,r);if(this._changePolyState("normal"),null!=n&&n>=0){var s=i.getItemGraphicEl(n);s&&(s.__temp?(i.setItemGraphicEl(n,null),this.group.remove(s)):s.downplay())}else ra["a"].prototype.downplay.call(this,e,t,a,r)},t.prototype._changePolyState=function(e){var t=this._polygon;Object(jt["H"])(this._polyline,e),t&&Object(jt["H"])(t,e)},t.prototype._newPolyline=function(e){var t=this._polyline;return t&&this._lineGroup.remove(t),t=new ea({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(t),this._polyline=t,t},t.prototype._newPolygon=function(e,t){var a=this._polygon;return a&&this._lineGroup.remove(a),a=new aa({shape:{points:e,stackedOnPoints:t},segmentIgnoreThreshold:2}),this._lineGroup.add(a),this._polygon=a,a},t.prototype._initSymbolLabelAnimation=function(e,t,a){var r,i,n=t.getBaseAxis(),s=n.inverse;"cartesian2d"===t.type?(r=n.isHorizontal(),i=!1):"polar"===t.type&&(r="angle"===n.dim,i=!0);var o=e.hostModel,l=o.get("animationDuration");U["isFunction"](l)&&(l=l(null));var c=o.get("animationDelay")||0,d=U["isFunction"](c)?c(null):c;e.eachItemGraphicEl((function(e,n){var o=e;if(o){var u=[e.x,e.y],h=void 0,p=void 0,f=void 0;if(a)if(i){var m=a,g=t.pointToCoord(u);r?(h=m.startAngle,p=m.endAngle,f=-g[1]/180*Math.PI):(h=m.r0,p=m.r,f=g[0])}else{var _=a;r?(h=_.x,p=_.x+_.width,f=e.x):(h=_.y+_.height,p=_.y,f=e.y)}var v=p===h?0:(f-h)/(p-h);s&&(v=1-v);var b=U["isFunction"](c)?c(n):l*v+d,y=o.getSymbolPath(),k=y.getTextContent();o.attr({scaleX:0,scaleY:0}),o.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:b}),k&&k.animateFrom({style:{opacity:0}},{duration:300,delay:b}),y.disableLabelAnimation=!0}}))},t.prototype._initOrUpdateEndLabel=function(e,t,a){var r=e.getModel("endLabel");if(xa(e)){var i=e.getData(),n=this._polyline,s=i.getLayout("points");if(!s)return n.removeTextContent(),void(this._endLabel=null);var o=this._endLabel;o||(o=this._endLabel=new we["a"]({z2:200}),o.ignoreClip=!0,n.setTextContent(this._endLabel),n.disableLabelAnimation=!0);var l=ba(s);l>=0&&(Object(At["g"])(n,Object(At["e"])(e,"endLabel"),{inheritColor:a,labelFetcher:e,labelDataIndex:l,defaultText:function(e,t,a){return null!=a?Object(It["a"])(i,a):Object(It["b"])(i,e)},enableTextSetter:!0},Sa(r,t)),n.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,t,a,r,i,n,s){var o=this._endLabel,l=this._polyline;if(o){e<1&&null==r.originalX&&(r.originalX=o.x,r.originalY=o.y);var c=a.getLayout("points"),d=a.hostModel,u=d.get("connectNulls"),h=n.get("precision"),p=n.get("distance")||0,f=s.getBaseAxis(),m=f.isHorizontal(),g=f.inverse,_=t.shape,v=g?m?_.x:_.y+_.height:m?_.x+_.width:_.y,b=(m?p:0)*(g?-1:1),y=(m?0:-p)*(g?-1:1),k=m?"x":"y",x=ka(c,v,k),w=x.range,S=w[1]-w[0],C=void 0;if(S>=1){if(S>1&&!u){var O=ya(c,w[0]);o.attr({x:O[0]+b,y:O[1]+y}),i&&(C=d.getRawValue(w[0]))}else{O=l.getPointOn(v,k);O&&o.attr({x:O[0]+b,y:O[1]+y});var T=d.getRawValue(w[0]),j=d.getRawValue(w[1]);i&&(C=qt["k"](a,h,T,j,x.t))}r.lastFrameIndex=w[0]}else{var I=1===e||r.lastFrameIndex>0?w[0]:0;O=ya(c,I);i&&(C=d.getRawValue(I)),o.attr({x:O[0]+b,y:O[1]+y})}i&&Object(At["f"])(o).setLabelText(C)}},t.prototype._doUpdateAnimation=function(e,t,a,r,i,n,s){var o=this._polyline,l=this._polygon,c=e.hostModel,d=Gt(this._data,e,this._stackedOnPoints,t,this._coordSys,a,this._valueOrigin,n),u=d.current,h=d.stackedOnCurrent,p=d.next,f=d.stackedOnNext;if(i&&(u=pa(d.current,a,i,s),h=pa(d.stackedOnCurrent,a,i,s),p=pa(d.next,a,i,s),f=pa(d.stackedOnNext,a,i,s)),da(u,p)>3e3||l&&da(h,f)>3e3)return o.stopAnimation(),o.setShape({points:p}),void(l&&(l.stopAnimation(),l.setShape({points:p,stackedOnPoints:f})));o.shape.__points=d.current,o.shape.points=u;var m={shape:{points:p}};d.current!==u&&(m.shape.__points=d.next),o.stopAnimation(),Ct["h"](o,m,c),l&&(l.setShape({points:u,stackedOnPoints:h}),l.stopAnimation(),Ct["h"](l,{shape:{stackedOnPoints:f}},c),o.shape.points!==l.shape.points&&(l.shape.points=o.shape.points));for(var g=[],_=d.status,v=0;v<_.length;v++){var b=_[v].cmd;if("="===b){var y=e.getItemGraphicEl(_[v].idx1);y&&g.push({el:y,ptIdx:v})}}o.animators&&o.animators.length&&o.animators[0].during((function(){l&&l.dirtyShape();for(var e=o.shape.__points,t=0;t<g.length;t++){var a=g[t].el,r=2*g[t].ptIdx;a.x=e[r],a.y=e[r+1],a.markRedraw()}}))},t.prototype.remove=function(e){var t=this.group,a=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),a&&a.eachItemGraphicEl((function(e,r){e.__temp&&(t.remove(e),a.setItemGraphicEl(r,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(ra["a"]),Oa=Ca,Ta=a("a730");function ja(e,t){return{seriesType:e,plan:Object(Ta["a"])(),reset:function(e){var a=e.getData(),r=e.coordinateSystem,i=e.pipelineContext,n=t||i.large;if(r){var s=Object(U["map"])(r.dimensions,(function(e){return a.mapDimension(e)})).slice(0,2),o=s.length,l=a.getCalculationInfo("stackResultDimension");Object(Nt["c"])(a,s[0])&&(s[0]=l),Object(Nt["c"])(a,s[1])&&(s[1]=l);var c=a.getStore(),d=a.getDimensionIndex(s[0]),u=a.getDimensionIndex(s[1]);return o&&{progress:function(e,t){for(var a=e.end-e.start,i=n&&Object(Ut["a"])(a*o),s=[],l=[],h=e.start,p=0;h<e.end;h++){var f=void 0;if(1===o){var m=c.get(d,h);f=r.dataToPoint(m,null,l)}else s[0]=c.get(d,h),s[1]=c.get(u,h),f=r.dataToPoint(s,null,l);n?(i[p++]=f[0],i[p++]=f[1]):t.setItemLayout(h,f.slice())}n&&t.setLayout("points",i)}}}}}}var Ia=a("f06b");function Aa(e){e.registerChartView(Oa),e.registerSeriesModel(St),e.registerLayout(ja("line",!0)),e.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),a=e.getModel("lineStyle").getLineStyle();a&&!a.stroke&&(a.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",a)}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,Object(Ia["a"])("line"))}var Da=a("9ac7"),Ma=a("c253"),Ea=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.hasSymbolVisual=!0,a}return Object(vt["a"])(t,e),t.prototype.getInitialData=function(e,t){return Object(bt["a"])(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?5e3:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?1e4:this.get("progressiveThreshold"):e},t.prototype.brushSelector=function(e,t,a){return a.point(t.getItemLayout(e))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(yt["b"]),Ra=Ea,Ba=a("960e"),Pa=4,La=function(){function e(){}return e}(),Fa=function(e){function t(t){var a=e.call(this,t)||this;return a._off=0,a.hoverDataIdx=-1,a}return Object(vt["a"])(t,e),t.prototype.getDefaultShape=function(){return new La},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(e,t){var a,r=t.points,i=t.size,n=this.symbolProxy,s=n.shape,o=e.getContext?e.getContext():e,l=o&&i[0]<Pa,c=this.softClipShape;if(l)this._ctx=o;else{for(this._ctx=null,a=this._off;a<r.length;){var d=r[a++],u=r[a++];isNaN(d)||isNaN(u)||(c&&!c.contain(d,u)||(s.x=d-i[0]/2,s.y=u-i[1]/2,s.width=i[0],s.height=i[1],n.buildPath(e,s,!0)))}this.incremental&&(this._off=a,this.notClear=!0)}},t.prototype.afterBrush=function(){var e,t=this.shape,a=t.points,r=t.size,i=this._ctx,n=this.softClipShape;if(i){for(e=this._off;e<a.length;){var s=a[e++],o=a[e++];isNaN(s)||isNaN(o)||(n&&!n.contain(s,o)||i.fillRect(s-r[0]/2,o-r[1]/2,r[0],r[1]))}this.incremental&&(this._off=e,this.notClear=!0)}},t.prototype.findDataIndex=function(e,t){for(var a=this.shape,r=a.points,i=a.size,n=Math.max(i[0],4),s=Math.max(i[1],4),o=r.length/2-1;o>=0;o--){var l=2*o,c=r[l]-n/2,d=r[l+1]-s/2;if(e>=c&&t>=d&&e<=c+n&&t<=d+s)return o}return-1},t.prototype.contain=function(e,t){var a=this.transformCoordToLocal(e,t),r=this.getBoundingRect();if(e=a[0],t=a[1],r.contain(e,t)){var i=this.hoverDataIdx=this.findDataIndex(e,t);return i>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var t=this.shape,a=t.points,r=t.size,i=r[0],n=r[1],s=1/0,o=1/0,l=-1/0,c=-1/0,d=0;d<a.length;){var u=a[d++],h=a[d++];s=Math.min(u,s),l=Math.max(u,l),o=Math.min(h,o),c=Math.max(h,c)}e=this._rect=new Ba["a"](s-i/2,o-n/2,l-s+i,c-o+n)}return e},t}(D["b"]),Na=function(){function e(){this.group=new xt["a"]}return e.prototype.updateData=function(e,t){this._clear();var a=this._create();a.setShape({points:e.getLayout("points")}),this._setCommon(a,e,t)},e.prototype.updateLayout=function(e){var t=e.getLayout("points");this.group.eachChild((function(e){if(null!=e.startIndex){var a=2*(e.endIndex-e.startIndex),r=4*e.startIndex*2;t=new Float32Array(t.buffer,r,a)}e.setShape("points",t),e.reset()}))},e.prototype.incrementalPrepareUpdate=function(e){this._clear()},e.prototype.incrementalUpdate=function(e,t,a){var r=this._newAdded[0],i=t.getLayout("points"),n=r&&r.shape.points;if(n&&n.length<2e4){var s=n.length,o=new Float32Array(s+i.length);o.set(n),o.set(i,s),r.endIndex=e.end,r.setShape({points:o})}else{this._newAdded=[];var l=this._create();l.startIndex=e.start,l.endIndex=e.end,l.incremental=!0,l.setShape({points:i}),this._setCommon(l,t,a)}},e.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},e.prototype._create=function(){var e=new Fa({cursor:"default"});return this.group.add(e),this._newAdded.push(e),e},e.prototype._setCommon=function(e,t,a){var r=t.hostModel;a=a||{};var i=t.getVisual("symbolSize");e.setShape("size",i instanceof Array?i:[i,i]),e.softClipShape=a.clipShape||null,e.symbolProxy=Object(kt["a"])(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var n=e.shape.size[0]<Pa;e.useStyle(r.getModel("itemStyle").getItemStyle(n?["color","shadowBlur","shadowColor"]:["color"]));var s=t.getVisual("style"),o=s&&s.fill;o&&e.setColor(o);var l=Object(Tt["a"])(e);l.seriesIndex=r.seriesIndex,e.on("mousemove",(function(t){l.dataIndex=null;var a=e.hoverDataIdx;a>=0&&(l.dataIndex=a+(e.startIndex||0))}))},e.prototype.remove=function(){this._clear()},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}(),$a=Na,za=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.render=function(e,t,a){var r=e.getData(),i=this._updateSymbolDraw(r,e);i.updateData(r,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,t,a){var r=e.getData(),i=this._updateSymbolDraw(r,e);i.incrementalPrepareUpdate(r),this._finished=!1},t.prototype.incrementalRender=function(e,t,a){this._symbolDraw.incrementalUpdate(e,t.getData(),{clipShape:this._getClipShape(t)}),this._finished=e.end===t.getData().count()},t.prototype.updateTransform=function(e,t,a){var r=e.getData();if(this.group.dirty(),!this._finished||r.count()>1e4)return{update:!0};var i=ja("").reset(e,t,a);i.progress&&i.progress({start:0,end:r.count(),count:r.count()},r),this._symbolDraw.updateLayout(r)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){var t=e.coordinateSystem,a=t&&t.getArea&&t.getArea();return e.get("clip",!0)?a:null},t.prototype._updateSymbolDraw=function(e,t){var a=this._symbolDraw,r=t.pipelineContext,i=r.large;return a&&i===this._isLargeDraw||(a&&a.remove(),a=this._symbolDraw=i?new $a:new Ft,this._isLargeDraw=i,this.group.removeAll()),this.group.add(a.group),a},t.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(ra["a"]),Va=za,Ua=a("8b33");function Ha(e){Object(T["a"])(Ua["a"]),e.registerSeriesModel(Ra),e.registerChartView(Va),e.registerLayout(ja("scatter"))}function Ga(e){e.eachSeriesByType("radar",(function(e){var t=e.getData(),a=[],r=e.coordinateSystem;if(r){var i=r.getIndicatorAxes();U["each"](i,(function(e,n){t.each(t.mapDimension(i[n].dim),(function(e,t){a[t]=a[t]||[];var i=r.dataToPoint(e,n);a[t][n]=Wa(i)?i:qa(r)}))})),t.each((function(e){var i=U["find"](a[e],(function(e){return Wa(e)}))||qa(r);a[e].push(i.slice()),t.setItemLayout(e,a[e])}))}}))}function Wa(e){return!isNaN(e[0])&&!isNaN(e[1])}function qa(e){return[e.cx,e.cy]}var Xa=a("0fae");function Ya(e){var t=e.polar;if(t){U["isArray"](t)||(t=[t]);var a=[];U["each"](t,(function(t,r){t.indicator?(t.type&&!t.shape&&(t.shape=t.type),e.radar=e.radar||[],U["isArray"](e.radar)||(e.radar=[e.radar]),e.radar.push(t)):a.push(t)})),e.polar=a}U["each"](e.series,(function(e){e&&"radar"===e.type&&e.polarIndex&&(e.radarIndex=e.polarIndex)}))}var Ka=a("d973"),Za=a("caab"),Ja=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.render=function(e,t,a){var r=e.coordinateSystem,i=this.group,n=e.getData(),s=this._data;function o(e,t){var a=e.getItemVisual(t,"symbol")||"circle";if("none"!==a){var r=kt["c"](e.getItemVisual(t,"symbolSize")),i=kt["a"](a,-1,-1,2,2),n=e.getItemVisual(t,"symbolRotate")||0;return i.attr({style:{strokeNoScale:!0},z2:100,scaleX:r[0]/2,scaleY:r[1]/2,rotation:n*Math.PI/180||0}),i}}function l(t,a,r,i,n,s){r.removeAll();for(var l=0;l<a.length-1;l++){var c=o(i,n);c&&(c.__dimIdx=l,t[l]?(c.setPosition(t[l]),Ot[s?"initProps":"updateProps"](c,{x:a[l][0],y:a[l][1]},e,n)):c.setPosition(a[l]),r.add(c))}}function c(e){return U["map"](e,(function(e){return[r.cx,r.cy]}))}n.diff(s).add((function(t){var a=n.getItemLayout(t);if(a){var r=new Ka["a"],i=new Za["a"],s={shape:{points:a}};r.shape.points=c(a),i.shape.points=c(a),Ct["c"](r,s,e,t),Ct["c"](i,s,e,t);var o=new xt["a"],d=new xt["a"];o.add(i),o.add(r),o.add(d),l(i.shape.points,a,d,n,t,!0),n.setItemGraphicEl(t,o)}})).update((function(t,a){var r=s.getItemGraphicEl(a),i=r.childAt(0),o=r.childAt(1),c=r.childAt(2),d={shape:{points:n.getItemLayout(t)}};d.shape.points&&(l(i.shape.points,d.shape.points,c,n,t,!1),Object(Ct["g"])(o),Object(Ct["g"])(i),Ct["h"](i,d,e),Ct["h"](o,d,e),n.setItemGraphicEl(t,r))})).remove((function(e){i.remove(s.getItemGraphicEl(e))})).execute(),n.eachItemGraphicEl((function(e,t){var a=n.getItemModel(t),r=e.childAt(0),s=e.childAt(1),o=e.childAt(2),l=n.getItemVisual(t,"style"),c=l.fill;i.add(e),r.useStyle(U["defaults"](a.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:c})),Object(jt["I"])(r,a,"lineStyle"),Object(jt["I"])(s,a,"areaStyle");var d=a.getModel("areaStyle"),u=d.isEmpty()&&d.parentModel.isEmpty();s.ignore=u,U["each"](["emphasis","select","blur"],(function(e){var t=a.getModel([e,"areaStyle"]),r=t.isEmpty()&&t.parentModel.isEmpty();s.ensureState(e).ignore=r&&u})),s.useStyle(U["defaults"](d.getAreaStyle(),{fill:c,opacity:.7,decal:l.decal}));var h=a.getModel("emphasis"),p=h.getModel("itemStyle").getItemStyle();o.eachChild((function(e){if(e instanceof M["a"]){var r=e.style;e.useStyle(U["extend"]({image:r.image,x:r.x,y:r.y,width:r.width,height:r.height},l))}else e.useStyle(l),e.setColor(c),e.style.strokeNoScale=!0;var i=e.ensureState("emphasis");i.style=U["clone"](p);var s=n.getStore().get(n.getDimensionIndex(e.__dimIdx),t);(null==s||isNaN(s))&&(s=""),Object(At["g"])(e,Object(At["e"])(a),{labelFetcher:n.hostModel,labelDataIndex:t,labelDimIndex:e.__dimIdx,defaultText:s,inheritColor:c,defaultOpacity:l.opacity})})),Object(jt["J"])(e,h.get("focus"),h.get("blurScope"),h.get("disabled"))})),this._data=n},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(ra["a"]),Qa=Ja,er=a("6d3c"),tr=a("53b6"),ar=a("9e43"),rr=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.hasSymbolVisual=!0,a}return Object(vt["a"])(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new tr["a"](U["bind"](this.getData,this),U["bind"](this.getRawData,this))},t.prototype.getInitialData=function(e,t){return Object(er["a"])(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,t,a){var r=this.getData(),i=this.coordinateSystem,n=i.getIndicatorAxes(),s=this.getData().getName(e),o=""===s?this.name:s,l=Object(ar["e"])(this,e);return Object(ar["c"])("section",{header:o,sortBlocks:!0,blocks:U["map"](n,(function(t){var a=r.get(r.mapDimension(t.dim),e);return Object(ar["c"])("nameValue",{markerType:"subItem",markerColor:l,name:t.name,value:a,sortParam:a})}))})},t.prototype.getTooltipPosition=function(e){if(null!=e)for(var t=this.getData(),a=this.coordinateSystem,r=t.getValues(U["map"](a.dimensions,(function(e){return t.mapDimension(e)})),e),i=0,n=r.length;i<n;i++)if(!isNaN(r[i])){var s=a.getIndicatorAxes();return a.coordToPoint(s[i].dataToCoord(r[i]),i)}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(yt["b"]),ir=rr,nr=a("c770"),sr=a("7011"),or=a("efe2"),lr=a("43b6"),cr=nr["a"].value;function dr(e,t){return U["defaults"]({show:t},e)}var ur=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.optionUpdated=function(){var e=this.get("boundaryGap"),t=this.get("splitNumber"),a=this.get("scale"),r=this.get("axisLine"),i=this.get("axisTick"),n=this.get("axisLabel"),s=this.get("axisName"),o=this.get(["axisName","show"]),l=this.get(["axisName","formatter"]),c=this.get("axisNameGap"),d=this.get("triggerEvent"),u=U["map"](this.get("indicator")||[],(function(u){null!=u.max&&u.max>0&&!u.min?u.min=0:null!=u.min&&u.min<0&&!u.max&&(u.max=0);var h=s;null!=u.color&&(h=U["defaults"]({color:u.color},s));var p=U["merge"](U["clone"](u),{boundaryGap:e,splitNumber:t,scale:a,axisLine:r,axisTick:i,axisLabel:n,name:u.text,showName:o,nameLocation:"end",nameGap:c,nameTextStyle:h,triggerEvent:d},!1);if(U["isString"](l)){var f=p.name;p.name=l.replace("{value}",null!=f?f:"")}else U["isFunction"](l)&&(p.name=l(p.name,p));var m=new sr["a"](p,null,this.ecModel);return U["mixin"](m,or["a"].prototype),m.mainType="radar",m.componentIndex=this.componentIndex,m}),this);this._indicatorModels=u},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:U["merge"]({lineStyle:{color:"#bbb"}},cr.axisLine),axisLabel:dr(cr.axisLabel,!1),axisTick:dr(cr.axisTick,!1),splitLine:dr(cr.splitLine,!0),splitArea:dr(cr.splitArea,!0),indicator:[]},t}(lr["a"]),hr=ur,pr=a("cbe0"),fr=a("a7c7"),mr=a("ba28"),gr=a("e5ec"),_r=["axisLine","axisTickLabel","axisName"],vr=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.render=function(e,t,a){var r=this.group;r.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},t.prototype._buildAxes=function(e){var t=e.coordinateSystem,a=t.getIndicatorAxes(),r=U["map"](a,(function(e){var a=e.model.get("showName")?e.name:"",r=new pr["a"](e.model,{axisName:a,position:[t.cx,t.cy],rotation:e.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return r}));U["each"](r,(function(e){U["each"](_r,e.add,e),this.group.add(e.getGroup())}),this)},t.prototype._buildSplitLineAndArea=function(e){var t=e.coordinateSystem,a=t.getIndicatorAxes();if(a.length){var r=e.get("shape"),i=e.getModel("splitLine"),n=e.getModel("splitArea"),s=i.getModel("lineStyle"),o=n.getModel("areaStyle"),l=i.get("show"),c=n.get("show"),d=s.get("color"),u=o.get("color"),h=U["isArray"](d)?d:[d],p=U["isArray"](u)?u:[u],f=[],m=[];if("circle"===r)for(var g=a[0].getTicksCoords(),_=t.cx,v=t.cy,b=0;b<g.length;b++){if(l){var y=j(f,h,b);f[y].push(new fr["a"]({shape:{cx:_,cy:v,r:g[b].coord}}))}if(c&&b<g.length-1){y=j(m,p,b);m[y].push(new mr["a"]({shape:{cx:_,cy:v,r0:g[b].coord,r:g[b+1].coord}}))}}else{var k,x=U["map"](a,(function(e,a){var r=e.getTicksCoords();return k=null==k?r.length-1:Math.min(r.length-1,k),U["map"](r,(function(e){return t.coordToPoint(e.coord,a)}))})),w=[];for(b=0;b<=k;b++){for(var S=[],C=0;C<a.length;C++)S.push(x[C][b]);if(S[0]&&S.push(S[0].slice()),l){y=j(f,h,b);f[y].push(new Za["a"]({shape:{points:S}}))}if(c&&w){y=j(m,p,b-1);m[y].push(new Ka["a"]({shape:{points:S.concat(w)}}))}w=S.slice().reverse()}}var O=s.getLineStyle(),T=o.getAreaStyle();U["each"](m,(function(e,t){this.group.add(Ot["mergePath"](e,{style:U["defaults"]({stroke:"none",fill:p[t%p.length]},T),silent:!0}))}),this),U["each"](f,(function(e,t){this.group.add(Ot["mergePath"](e,{style:U["defaults"]({fill:"none",stroke:h[t%h.length]},O),silent:!0}))}),this)}function j(e,t,a){var r=a%t.length;return e[r]=e[r]||[],r}},t.type="radar",t}(gr["a"]),br=vr,yr=a("9880"),kr=function(e){function t(t,a,r){var i=e.call(this,t,a,r)||this;return i.type="value",i.angle=0,i.name="",i}return Object(vt["a"])(t,e),t}(yr["a"]),xr=kr,wr=a("6a02"),Sr=a("143e"),Cr=a("b1be"),Or=function(){function e(e,t,a){this.dimensions=[],this._model=e,this._indicatorAxes=Object(U["map"])(e.getIndicatorModels(),(function(e,t){var a="indicator_"+t,r=new xr(a,new wr["a"]);return r.name=e.get("name"),r.model=e,e.axis=r,this.dimensions.push(a),r}),this),this.resize(e,a)}return e.prototype.getIndicatorAxes=function(){return this._indicatorAxes},e.prototype.dataToPoint=function(e,t){var a=this._indicatorAxes[t];return this.coordToPoint(a.dataToCoord(e),t)},e.prototype.coordToPoint=function(e,t){var a=this._indicatorAxes[t],r=a.angle,i=this.cx+e*Math.cos(r),n=this.cy-e*Math.sin(r);return[i,n]},e.prototype.pointToData=function(e){var t=e[0]-this.cx,a=e[1]-this.cy,r=Math.sqrt(t*t+a*a);t/=r,a/=r;for(var i,n=Math.atan2(-a,t),s=1/0,o=-1,l=0;l<this._indicatorAxes.length;l++){var c=this._indicatorAxes[l],d=Math.abs(n-c.angle);d<s&&(i=c,o=l,s=d)}return[o,+(i&&i.coordToData(r))]},e.prototype.resize=function(e,t){var a=e.get("center"),r=t.getWidth(),i=t.getHeight(),n=Math.min(r,i)/2;this.cx=Sr["p"](a[0],r),this.cy=Sr["p"](a[1],i),this.startAngle=e.get("startAngle")*Math.PI/180;var s=e.get("radius");(Object(U["isString"])(s)||Object(U["isNumber"])(s))&&(s=[0,s]),this.r0=Sr["p"](s[0],n),this.r=Sr["p"](s[1],n),Object(U["each"])(this._indicatorAxes,(function(e,t){e.setExtent(this.r0,this.r);var a=this.startAngle+t*Math.PI*2/this._indicatorAxes.length;a=Math.atan2(Math.sin(a),Math.cos(a)),e.angle=a}),this)},e.prototype.update=function(e,t){var a=this._indicatorAxes,r=this._model;Object(U["each"])(a,(function(e){e.scale.setExtent(1/0,-1/0)})),e.eachSeriesByType("radar",(function(t,i){if("radar"===t.get("coordinateSystem")&&e.getComponent("radar",t.get("radarIndex"))===r){var n=t.getData();Object(U["each"])(a,(function(e){e.scale.unionExtentFromData(n,n.mapDimension(e.dim))}))}}),this);var i=r.get("splitNumber"),n=new wr["a"];n.setExtent(0,i),n.setInterval(1),Object(U["each"])(a,(function(e,t){Object(Cr["a"])(e.scale,e.model,n)}))},e.prototype.convertToPixel=function(e,t,a){return console.warn("Not implemented."),null},e.prototype.convertFromPixel=function(e,t,a){return console.warn("Not implemented."),null},e.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},e.create=function(t,a){var r=[];return t.eachComponent("radar",(function(i){var n=new e(i,t,a);r.push(n),i.coordinateSystem=n})),t.eachSeriesByType("radar",(function(e){"radar"===e.get("coordinateSystem")&&(e.coordinateSystem=r[e.get("radarIndex")||0])})),r},e.dimensions=[],e}(),Tr=Or;function jr(e){e.registerCoordinateSystem("radar",Tr),e.registerComponentModel(hr),e.registerComponentView(br),e.registerVisual({seriesType:"radar",reset:function(e){var t=e.getData();t.each((function(e){t.setItemVisual(e,"legendIcon","roundRect")})),t.setVisual("legendIcon","roundRect")}})}function Ir(e){Object(T["a"])(jr),e.registerChartView(Qa),e.registerSeriesModel(ir),e.registerLayout(Ga),e.registerProcessor(Object(Xa["a"])("radar")),e.registerPreprocessor(Ya)}var Ar=a("8269"),Dr=a("7f68"),Mr=a("3a4e"),Er="\0_ec_interaction_mutex";function Rr(e,t,a){var r=Lr(e);r[t]=a}function Br(e,t,a){var r=Lr(e),i=r[t];i===a&&(r[t]=null)}function Pr(e,t){return!!Lr(e)[t]}function Lr(e){return e[Er]||(e[Er]={})}Mr["m"]({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},U["noop"]);var Fr=function(e){function t(t){var a=e.call(this)||this;a._zr=t;var r=Object(U["bind"])(a._mousedownHandler,a),i=Object(U["bind"])(a._mousemoveHandler,a),n=Object(U["bind"])(a._mouseupHandler,a),s=Object(U["bind"])(a._mousewheelHandler,a),o=Object(U["bind"])(a._pinchHandler,a);return a.enable=function(e,a){this.disable(),this._opt=Object(U["defaults"])(Object(U["clone"])(a)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==e&&(e=!0),!0!==e&&"move"!==e&&"pan"!==e||(t.on("mousedown",r),t.on("mousemove",i),t.on("mouseup",n)),!0!==e&&"scale"!==e&&"zoom"!==e||(t.on("mousewheel",s),t.on("pinch",o))},a.disable=function(){t.off("mousedown",r),t.off("mousemove",i),t.off("mouseup",n),t.off("mousewheel",s),t.off("pinch",o)},a}return Object(vt["a"])(t,e),t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!(Dr["d"](e)||e.target&&e.target.draggable)){var t=e.offsetX,a=e.offsetY;this.pointerChecker&&this.pointerChecker(e,t,a)&&(this._x=t,this._y=a,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(this._dragging&&zr("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!Pr(this._zr,"globalPan")){var t=e.offsetX,a=e.offsetY,r=this._x,i=this._y,n=t-r,s=a-i;this._x=t,this._y=a,this._opt.preventDefaultMouseMove&&Dr["g"](e.event),$r(this,"pan","moveOnMouseMove",e,{dx:n,dy:s,oldX:r,oldY:i,newX:t,newY:a,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){Dr["d"](e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var t=zr("zoomOnMouseWheel",e,this._opt),a=zr("moveOnMouseWheel",e,this._opt),r=e.wheelDelta,i=Math.abs(r),n=e.offsetX,s=e.offsetY;if(0!==r&&(t||a)){if(t){var o=i>3?1.4:i>1?1.2:1.1,l=r>0?o:1/o;Nr(this,"zoom","zoomOnMouseWheel",e,{scale:l,originX:n,originY:s,isAvailableBehavior:null})}if(a){var c=Math.abs(r),d=(r>0?1:-1)*(c>3?.4:c>1?.15:.05);Nr(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:d,originX:n,originY:s,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){if(!Pr(this._zr,"globalPan")){var t=e.pinchScale>1?1.1:1/1.1;Nr(this,"zoom",null,e,{scale:t,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})}},t}(Ar["a"]);function Nr(e,t,a,r,i){e.pointerChecker&&e.pointerChecker(r,i.originX,i.originY)&&(Dr["g"](r.event),$r(e,t,a,r,i))}function $r(e,t,a,r,i){i.isAvailableBehavior=Object(U["bind"])(zr,null,a,r),e.trigger(t,i)}function zr(e,t,a){var r=a[e];return!e||r&&(!Object(U["isString"])(r)||t.event[r+"Key"])}var Vr=Fr;function Ur(e,t,a){var r=e.target;r.x+=t,r.y+=a,r.dirty()}function Hr(e,t,a,r){var i=e.target,n=e.zoomLimit,s=e.zoom=e.zoom||1;if(s*=t,n){var o=n.min||0,l=n.max||1/0;s=Math.max(Math.min(l,s),o)}var c=s/e.zoom;e.zoom=s,i.x-=(a-i.x)*(c-1),i.y-=(r-i.y)*(c-1),i.scaleX*=c,i.scaleY*=c,i.dirty()}var Gr={axisPointer:1,tooltip:1,brush:1};function Wr(e,t,a){var r=t.getComponentByElement(e.topTarget),i=r&&r.coordinateSystem;return r&&r!==a&&!Gr.hasOwnProperty(r.mainType)&&i&&i.model!==a}var qr,Xr=a("75f6"),Yr=a("d4d9"),Kr=a("ab29"),Zr=a("e3c4"),Jr=a("d912"),Qr=a("d676");function ei(e){if(Object(U["isString"])(e)){var t=new DOMParser;e=t.parseFromString(e,"text/xml")}var a=e;9===a.nodeType&&(a=a.firstChild);while("svg"!==a.nodeName.toLowerCase()||1!==a.nodeType)a=a.nextSibling;return a}var ti={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},ai=Object(U["keys"])(ti),ri={"alignment-baseline":"textBaseline","stop-color":"stopColor"},ii=Object(U["keys"])(ri),ni=function(){function e(){this._defs={},this._root=null}return e.prototype.parse=function(e,t){t=t||{};var a=ei(e);this._defsUsePending=[];var r=new xt["a"];this._root=r;var i=[],n=a.getAttribute("viewBox")||"",s=parseFloat(a.getAttribute("width")||t.width),o=parseFloat(a.getAttribute("height")||t.height);isNaN(s)&&(s=null),isNaN(o)&&(o=null),ui(a,r,null,!0,!1);var l,c,d=a.firstChild;while(d)this._parseNode(d,r,i,null,!1,!1),d=d.nextSibling;if(mi(this._defs,this._defsUsePending),this._defsUsePending=[],n){var u=_i(n);u.length>=4&&(l={x:parseFloat(u[0]||0),y:parseFloat(u[1]||0),width:parseFloat(u[2]),height:parseFloat(u[3])})}if(l&&null!=s&&null!=o&&(c=Si(l,{x:0,y:0,width:s,height:o}),!t.ignoreViewBox)){var h=r;r=new xt["a"],r.add(h),h.scaleX=h.scaleY=c.scale,h.x=c.x,h.y=c.y}return t.ignoreRootClip||null==s||null==o||r.setClipPath(new Xr["a"]({shape:{x:0,y:0,width:s,height:o}})),{root:r,width:s,height:o,viewBoxRect:l,viewBoxTransform:c,named:i}},e.prototype._parseNode=function(e,t,a,r,i,n){var s,o=e.nodeName.toLowerCase(),l=r;if("defs"===o&&(i=!0),"text"===o&&(n=!0),"defs"===o||"switch"===o)s=t;else{if(!i){var c=qr[o];if(c&&Object(U["hasOwn"])(qr,o)){s=c.call(this,e,t);var d=e.getAttribute("name");if(d){var u={name:d,namedFrom:null,svgNodeTagLower:o,el:s};a.push(u),"g"===o&&(l=u)}else r&&a.push({name:r.name,namedFrom:r,svgNodeTagLower:o,el:s});t.add(s)}}var h=si[o];if(h&&Object(U["hasOwn"])(si,o)){var p=h.call(this,e),f=e.getAttribute("id");f&&(this._defs[f]=p)}}if(s&&s.isGroup){var m=e.firstChild;while(m)1===m.nodeType?this._parseNode(m,s,a,l,i,n):3===m.nodeType&&n&&this._parseText(m,s),m=m.nextSibling}},e.prototype._parseText=function(e,t){var a=new R["a"]({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});ci(t,a),ui(e,a,this._defsUsePending,!1,!1),hi(a,t);var r=a.style,i=r.fontSize;i&&i<9&&(r.fontSize=9,a.scaleX*=i/9,a.scaleY*=i/9);var n=(r.fontSize||r.fontFamily)&&[r.fontStyle,r.fontWeight,(r.fontSize||12)+"px",r.fontFamily||"sans-serif"].join(" ");r.font=n;var s=a.getBoundingRect();return this._textX+=s.width,t.add(a),a},e.internalField=function(){qr={g:function(e,t){var a=new xt["a"];return ci(t,a),ui(e,a,this._defsUsePending,!1,!1),a},rect:function(e,t){var a=new Xr["a"];return ci(t,a),ui(e,a,this._defsUsePending,!1,!1),a.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),a.silent=!0,a},circle:function(e,t){var a=new fr["a"];return ci(t,a),ui(e,a,this._defsUsePending,!1,!1),a.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),a.silent=!0,a},line:function(e,t){var a=new Kr["a"];return ci(t,a),ui(e,a,this._defsUsePending,!1,!1),a.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),a.silent=!0,a},ellipse:function(e,t){var a=new Yr["a"];return ci(t,a),ui(e,a,this._defsUsePending,!1,!1),a.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),a.silent=!0,a},polygon:function(e,t){var a,r=e.getAttribute("points");r&&(a=di(r));var i=new Ka["a"]({shape:{points:a||[]},silent:!0});return ci(t,i),ui(e,i,this._defsUsePending,!1,!1),i},polyline:function(e,t){var a,r=e.getAttribute("points");r&&(a=di(r));var i=new Za["a"]({shape:{points:a||[]},silent:!0});return ci(t,i),ui(e,i,this._defsUsePending,!1,!1),i},image:function(e,t){var a=new M["a"];return ci(t,a),ui(e,a,this._defsUsePending,!1,!1),a.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),a.silent=!0,a},text:function(e,t){var a=e.getAttribute("x")||"0",r=e.getAttribute("y")||"0",i=e.getAttribute("dx")||"0",n=e.getAttribute("dy")||"0";this._textX=parseFloat(a)+parseFloat(i),this._textY=parseFloat(r)+parseFloat(n);var s=new xt["a"];return ci(t,s),ui(e,s,this._defsUsePending,!1,!0),s},tspan:function(e,t){var a=e.getAttribute("x"),r=e.getAttribute("y");null!=a&&(this._textX=parseFloat(a)),null!=r&&(this._textY=parseFloat(r));var i=e.getAttribute("dx")||"0",n=e.getAttribute("dy")||"0",s=new xt["a"];return ci(t,s),ui(e,s,this._defsUsePending,!1,!0),this._textX+=parseFloat(i),this._textY+=parseFloat(n),s},path:function(e,t){var a=e.getAttribute("d")||"",r=Object(Jr["b"])(a);return ci(t,r),ui(e,r,this._defsUsePending,!1,!1),r.silent=!0,r}}}(),e}(),si={lineargradient:function(e){var t=parseInt(e.getAttribute("x1")||"0",10),a=parseInt(e.getAttribute("y1")||"0",10),r=parseInt(e.getAttribute("x2")||"10",10),i=parseInt(e.getAttribute("y2")||"0",10),n=new Wt["a"](t,a,r,i);return oi(e,n),li(e,n),n},radialgradient:function(e){var t=parseInt(e.getAttribute("cx")||"0",10),a=parseInt(e.getAttribute("cy")||"0",10),r=parseInt(e.getAttribute("r")||"0",10),i=new Qr["a"](t,a,r);return oi(e,i),li(e,i),i}};function oi(e,t){var a=e.getAttribute("gradientUnits");"userSpaceOnUse"===a&&(t.global=!0)}function li(e,t){var a=e.firstChild;while(a){if(1===a.nodeType&&"stop"===a.nodeName.toLocaleLowerCase()){var r=a.getAttribute("offset"),i=void 0;i=r&&r.indexOf("%")>0?parseInt(r,10)/100:r?parseFloat(r):0;var n={};xi(a,n,n);var s=n.stopColor||a.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:i,color:s})}a=a.nextSibling}}function ci(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),Object(U["defaults"])(t.__inheritedStyle,e.__inheritedStyle))}function di(e){for(var t=_i(e),a=[],r=0;r<t.length;r+=2){var i=parseFloat(t[r]),n=parseFloat(t[r+1]);a.push([i,n])}return a}function ui(e,t,a,r,i){var n=t,s=n.__inheritedStyle=n.__inheritedStyle||{},o={};1===e.nodeType&&(yi(e,t),xi(e,s,o),r||wi(e,s,o)),n.style=n.style||{},null!=s.fill&&(n.style.fill=fi(n,"fill",s.fill,a)),null!=s.stroke&&(n.style.stroke=fi(n,"stroke",s.stroke,a)),Object(U["each"])(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],(function(e){null!=s[e]&&(n.style[e]=parseFloat(s[e]))})),Object(U["each"])(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],(function(e){null!=s[e]&&(n.style[e]=s[e])})),i&&(n.__selfStyle=o),s.lineDash&&(n.style.lineDash=Object(U["map"])(_i(s.lineDash),(function(e){return parseFloat(e)}))),"hidden"!==s.visibility&&"collapse"!==s.visibility||(n.invisible=!0),"none"===s.display&&(n.ignore=!0)}function hi(e,t){var a=t.__selfStyle;if(a){var r=a.textBaseline,i=r;r&&"auto"!==r?"baseline"===r?i="alphabetic":"before-edge"===r||"text-before-edge"===r?i="top":"after-edge"===r||"text-after-edge"===r?i="bottom":"central"!==r&&"mathematical"!==r||(i="middle"):i="alphabetic",e.style.textBaseline=i}var n=t.__inheritedStyle;if(n){var s=n.textAlign,o=s;s&&("middle"===s&&(o="center"),e.style.textAlign=o)}}var pi=/^url\(\s*#(.*?)\)/;function fi(e,t,a,r){var i=a&&a.match(pi);if(!i)return"none"===a&&(a=null),a;var n=Object(U["trim"])(i[1]);r.push([e,t,n])}function mi(e,t){for(var a=0;a<t.length;a++){var r=t[a];r[0].style[r[1]]=e[r[2]]}}var gi=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function _i(e){return e.match(gi)||[]}var vi=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,bi=Math.PI/180;function yi(e,t){var a=e.getAttribute("transform");if(a){a=a.replace(/,/g," ");var r=[],i=null;a.replace(vi,(function(e,t,a){return r.push(t,a),""}));for(var n=r.length-1;n>0;n-=2){var s=r[n],o=r[n-1],l=_i(s);switch(i=i||Zr["create"](),o){case"translate":Zr["translate"](i,i,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":Zr["scale"](i,i,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":Zr["rotate"](i,i,-parseFloat(l[0])*bi);break;case"skewX":var c=Math.tan(parseFloat(l[0])*bi);Zr["mul"](i,[1,0,c,1,0,0],i);break;case"skewY":var d=Math.tan(parseFloat(l[0])*bi);Zr["mul"](i,[1,d,0,1,0,0],i);break;case"matrix":i[0]=parseFloat(l[0]),i[1]=parseFloat(l[1]),i[2]=parseFloat(l[2]),i[3]=parseFloat(l[3]),i[4]=parseFloat(l[4]),i[5]=parseFloat(l[5]);break}}t.setLocalTransform(i)}}var ki=/([^\s:;]+)\s*:\s*([^:;]+)/g;function xi(e,t,a){var r=e.getAttribute("style");if(r){var i;ki.lastIndex=0;while(null!=(i=ki.exec(r))){var n=i[1],s=Object(U["hasOwn"])(ti,n)?ti[n]:null;s&&(t[s]=i[2]);var o=Object(U["hasOwn"])(ri,n)?ri[n]:null;o&&(a[o]=i[2])}}}function wi(e,t,a){for(var r=0;r<ai.length;r++){var i=ai[r],n=e.getAttribute(i);null!=n&&(t[ti[i]]=n)}for(r=0;r<ii.length;r++){i=ii[r],n=e.getAttribute(i);null!=n&&(a[ri[i]]=n)}}function Si(e,t){var a=t.width/e.width,r=t.height/e.height,i=Math.min(a,r);return{scale:i,x:-(e.x+e.width/2)*i+(t.x+t.width/2),y:-(e.y+e.height/2)*i+(t.y+t.height/2)}}function Ci(e,t){var a=new ni;return a.parse(e,t)}var Oi=a("0763"),Ti=Object(U["createHashMap"])(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),ji=function(){function e(e,t){this.type="geoSVG",this._usedGraphicMap=Object(U["createHashMap"])(),this._freedGraphics=[],this._mapName=e,this._parsedXML=ei(t)}return e.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();var t=Ai(e.named),a=t.regions,r=t.regionsMap;this._regions=a,this._regionsMap=r}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},e.prototype._buildGraphic=function(e){var t,a;try{t=e&&Ci(e,{ignoreViewBox:!0,ignoreRootClip:!0})||{},a=t.root,Object(U["assert"])(null!=a)}catch(m){throw new Error("Invalid svg format\n"+m.message)}var r=new xt["a"];r.add(a),r.isGeoSVGGraphicRoot=!0;var i=t.width,n=t.height,s=t.viewBoxRect,o=this._boundingRect;if(!o){var l=void 0,c=void 0,d=void 0,u=void 0;if(null!=i?(l=0,d=i):s&&(l=s.x,d=s.width),null!=n?(c=0,u=n):s&&(c=s.y,u=s.height),null==l||null==c){var h=a.getBoundingRect();null==l&&(l=h.x,d=h.width),null==c&&(c=h.y,u=h.height)}o=this._boundingRect=new Ba["a"](l,c,d,u)}if(s){var p=Si(s,o);a.scaleX=a.scaleY=p.scale,a.x=p.x,a.y=p.y}r.setClipPath(new Xr["a"]({shape:o.plain()}));var f=[];return Object(U["each"])(t.named,(function(e){null!=Ti.get(e.svgNodeTagLower)&&(f.push(e),Ii(e.el))})),{root:r,boundingRect:o,named:f}},e.prototype.useGraphic=function(e){var t=this._usedGraphicMap,a=t.get(e);return a||(a=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(e,a),a)},e.prototype.freeGraphic=function(e){var t=this._usedGraphicMap,a=t.get(e);a&&(t.removeKey(e),this._freedGraphics.push(a))},e}();function Ii(e){e.silent=!1,e.isGroup&&e.traverse((function(e){e.silent=!1}))}function Ai(e){var t=[],a=Object(U["createHashMap"])();return Object(U["each"])(e,(function(e){if(null==e.namedFrom){var r=new Oi["d"](e.name,e.el);t.push(r),a.set(e.name,r)}})),{regions:t,regionsMap:a}}for(var Di=a("618e"),Mi=[126,25],Ei="南海诸岛",Ri=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],Bi=0;Bi<Ri.length;Bi++)for(var Pi=0;Pi<Ri[Bi].length;Pi++)Ri[Bi][Pi][0]/=10.5,Ri[Bi][Pi][1]/=-14,Ri[Bi][Pi][0]+=Mi[0],Ri[Bi][Pi][1]+=Mi[1];function Li(e,t){if("china"===e){for(var a=0;a<t.length;a++)if(t[a].name===Ei)return;t.push(new Oi["c"](Ei,U["map"](Ri,(function(e){return{type:"polygon",exterior:e}})),Mi))}}var Fi={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]};function Ni(e,t){if("china"===e){var a=Fi[t.name];if(a){var r=t.getCenter();r[0]+=a[0]/10.5,r[1]+=-a[1]/14,t.setCenter(r)}}}var $i=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function zi(e,t){"china"===e&&"台湾"===t.name&&t.geometries.push({type:"polygon",exterior:$i[0]})}var Vi="name",Ui=function(){function e(e,t,a){this.type="geoJSON",this._parsedMap=Object(U["createHashMap"])(),this._mapName=e,this._specialAreas=a,this._geoJSON=Gi(t)}return e.prototype.load=function(e,t){t=t||Vi;var a=this._parsedMap.get(t);if(!a){var r=this._parseToRegions(t);a=this._parsedMap.set(t,{regions:r,boundingRect:Hi(r)})}var i=Object(U["createHashMap"])(),n=[];return Object(U["each"])(a.regions,(function(t){var a=t.name;e&&Object(U["hasOwn"])(e,a)&&(t=t.cloneShallow(a=e[a])),n.push(t),i.set(a,t)})),{regions:n,boundingRect:a.boundingRect||new Ba["a"](0,0,0,0),regionsMap:i}},e.prototype._parseToRegions=function(e){var t,a=this._mapName,r=this._geoJSON;try{t=r?Object(Di["a"])(r,e):[]}catch(i){throw new Error("Invalid geoJson format\n"+i.message)}return Li(a,t),Object(U["each"])(t,(function(e){var t=e.name;Ni(a,e),zi(a,e);var r=this._specialAreas&&this._specialAreas[t];r&&e.transformTo(r.left,r.top,r.width,r.height)}),this),t},e.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},e}();function Hi(e){for(var t,a=0;a<e.length;a++){var r=e[a].getBoundingRect();t=t||r.clone(),t.union(r)}return t}function Gi(e){return Object(U["isString"])(e)?"undefined"!==typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")():e}var Wi=Object(U["createHashMap"])(),qi={registerMap:function(e,t,a){if(t.svg){var r=new ji(e,t.svg);Wi.set(e,r)}else{var i=t.geoJson||t.geoJSON;i&&!t.features?a=t.specialAreas:i=t;r=new Ui(e,i,a);Wi.set(e,r)}},getGeoResource:function(e){return Wi.get(e)},getMapForUser:function(e){var t=Wi.get(e);return t&&"geoJSON"===t.type&&t.getMapForUser()},load:function(e,t,a){var r=Wi.get(e);if(r)return r.load(t,a)}},Xi=a("a3c8"),Yi=a("1149"),Ki=a("d24f"),Zi=["rect","circle","line","ellipse","polygon","polyline","path"],Ji=U["createHashMap"](Zi),Qi=U["createHashMap"](Zi.concat(["g"])),en=U["createHashMap"](Zi.concat(["g"])),tn=Object(qt["o"])();function an(e){var t=e.getItemStyle(),a=e.get("areaColor");return null!=a&&(t.fill=a),t}function rn(e){var t=e.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var nn=function(){function e(e){var t=new xt["a"];this.uid=Object(Xi["c"])("ec_map_draw"),this._controller=new Vr(e.getZr()),this._controllerHost={target:t},this.group=t,t.add(this._regionsGroup=new xt["a"]),t.add(this._svgGroup=new xt["a"])}return e.prototype.draw=function(e,t,a,r,i){var n="geo"===e.mainType,s=e.getData&&e.getData();n&&t.eachComponent({mainType:"series",subType:"map"},(function(t){s||t.getHostGeoModel()!==e||(s=t.getData())}));var o=e.coordinateSystem,l=this._regionsGroup,c=this.group,d=o.getTransformInfo(),u=d.raw,h=d.roam,p=!l.childAt(0)||i;p?(c.x=h.x,c.y=h.y,c.scaleX=h.scaleX,c.scaleY=h.scaleY,c.dirty()):Ct["h"](c,h,e);var f=s&&s.getVisual("visualMeta")&&s.getVisual("visualMeta").length>0,m={api:a,geo:o,mapOrGeoModel:e,data:s,isVisualEncodedByVisualMap:f,isGeo:n,transformInfoRaw:u};"geoJSON"===o.resourceType?this._buildGeoJSON(m):"geoSVG"===o.resourceType&&this._buildSVG(m),this._updateController(e,t,a),this._updateMapSelectHandler(e,l,a,r)},e.prototype._buildGeoJSON=function(e){var t=this._regionsGroupByName=U["createHashMap"](),a=U["createHashMap"](),r=this._regionsGroup,i=e.transformInfoRaw,n=e.mapOrGeoModel,s=e.data,o=e.geo.projection,l=o&&o.stream;function c(e,t){return t&&(e=t(e)),e&&[e[0]*i.scaleX+i.x,e[1]*i.scaleY+i.y]}function d(e){for(var t=[],a=!l&&o&&o.project,r=0;r<e.length;++r){var i=c(e[r],a);i&&t.push(i)}return t}function u(e){return{shape:{points:d(e)}}}r.removeAll(),U["each"](e.geo.regions,(function(i){var d=i.name,h=t.get(d),p=a.get(d)||{},f=p.dataIdx,m=p.regionModel;h||(h=t.set(d,new xt["a"]),r.add(h),f=s?s.indexOfName(d):null,m=e.isGeo?n.getRegionModel(d):s?s.getItemModel(f):null,a.set(d,{dataIdx:f,regionModel:m}));var g=[],_=[];U["each"](i.geometries,(function(e){if("polygon"===e.type){var t=[e.exterior].concat(e.interiors||[]);l&&(t=un(t,l)),U["each"](t,(function(e){g.push(new Ka["a"](u(e)))}))}else{var a=e.points;l&&(a=un(a,l,!0)),U["each"](a,(function(e){_.push(new Za["a"](u(e)))}))}}));var v=c(i.getCenter(),o&&o.project);function b(t,a){if(t.length){var r=new he["a"]({culling:!0,segmentIgnoreThreshold:1,shape:{paths:t}});h.add(r),sn(e,r,f,m),on(e,r,d,m,n,f,v),a&&(rn(r),U["each"](r.states,rn))}}b(g),b(_,!0)})),t.each((function(t,r){var i=a.get(r),s=i.dataIdx,o=i.regionModel;ln(e,t,r,o,n,s),cn(e,t,r,o,n),dn(e,t,r,o,n)}),this)},e.prototype._buildSVG=function(e){var t=e.geo.map,a=e.transformInfoRaw;this._svgGroup.x=a.x,this._svgGroup.y=a.y,this._svgGroup.scaleX=a.scaleX,this._svgGroup.scaleY=a.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var r=this._svgDispatcherMap=U["createHashMap"](),i=!1;U["each"](this._svgGraphicRecord.named,(function(t){var a=t.name,n=e.mapOrGeoModel,s=e.data,o=t.svgNodeTagLower,l=t.el,c=s?s.indexOfName(a):null,d=n.getRegionModel(a);if(null!=Ji.get(o)&&l instanceof Ki["c"]&&sn(e,l,c,d),l instanceof Ki["c"]&&(l.culling=!0),l.z2EmphasisLift=0,!t.namedFrom&&(null!=en.get(o)&&on(e,l,a,d,n,c,null),ln(e,l,a,d,n,c),cn(e,l,a,d,n),null!=Qi.get(o))){var u=dn(e,l,a,d,n);"self"===u&&(i=!0);var h=r.get(a)||r.set(a,[]);h.push(l)}}),this),this._enableBlurEntireSVG(i,e)},e.prototype._enableBlurEntireSVG=function(e,t){if(e&&t.isGeo){var a=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),r=a.opacity;this._svgGraphicRecord.root.traverse((function(e){if(!e.isGroup){Object(jt["G"])(e);var t=e.ensureState("blur").style||{};null==t.opacity&&null!=r&&(t.opacity=r),e.ensureState("emphasis")}}))}},e.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},e.prototype.findHighDownDispatchers=function(e,t){if(null==e)return[];var a=t.coordinateSystem;if("geoJSON"===a.resourceType){var r=this._regionsGroupByName;if(r){var i=r.get(e);return i?[i]:[]}}else if("geoSVG"===a.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},e.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},e.prototype._useSVG=function(e){var t=qi.getGeoResource(e);if(t&&"geoSVG"===t.type){var a=t.useGraphic(this.uid);this._svgGroup.add(a.root),this._svgGraphicRecord=a,this._svgMapName=e}},e.prototype._freeSVG=function(){var e=this._svgMapName;if(null!=e){var t=qi.getGeoResource(e);t&&"geoSVG"===t.type&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},e.prototype._updateController=function(e,t,a){var r=e.coordinateSystem,i=this._controller,n=this._controllerHost;n.zoomLimit=e.get("scaleLimit"),n.zoom=r.getZoom(),i.enable(e.get("roam")||!1);var s=e.mainType;function o(){var t={type:"geoRoam",componentType:s};return t[s+"Id"]=e.id,t}i.off("pan").on("pan",(function(e){this._mouseDownFlag=!1,Ur(n,e.dx,e.dy),a.dispatchAction(U["extend"](o(),{dx:e.dx,dy:e.dy,animation:{duration:0}}))}),this),i.off("zoom").on("zoom",(function(e){this._mouseDownFlag=!1,Hr(n,e.scale,e.originX,e.originY),a.dispatchAction(U["extend"](o(),{zoom:e.scale,originX:e.originX,originY:e.originY,animation:{duration:0}}))}),this),i.setPointerChecker((function(t,i,n){return r.containPoint([i,n])&&!Wr(t,a,e)}))},e.prototype.resetForLabelLayout=function(){this.group.traverse((function(e){var t=e.getTextContent();t&&(t.ignore=tn(t).ignore)}))},e.prototype._updateMapSelectHandler=function(e,t,a,r){var i=this;t.off("mousedown"),t.off("click"),e.get("selectedMode")&&(t.on("mousedown",(function(){i._mouseDownFlag=!0})),t.on("click",(function(e){i._mouseDownFlag&&(i._mouseDownFlag=!1)})))},e}();function sn(e,t,a,r){var i=r.getModel("itemStyle"),n=r.getModel(["emphasis","itemStyle"]),s=r.getModel(["blur","itemStyle"]),o=r.getModel(["select","itemStyle"]),l=an(i),c=an(n),d=an(o),u=an(s),h=e.data;if(h){var p=h.getItemVisual(a,"style"),f=h.getItemVisual(a,"decal");e.isVisualEncodedByVisualMap&&p.fill&&(l.fill=p.fill),f&&(l.decal=Object(Yi["a"])(f,e.api))}t.setStyle(l),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=c,t.ensureState("select").style=d,t.ensureState("blur").style=u,Object(jt["G"])(t)}function on(e,t,a,r,i,n,s){var o=e.data,l=e.isGeo,c=o&&isNaN(o.get(o.mapDimension("value"),n)),d=o&&o.getItemLayout(n);if(l||c||d&&d.showLabel){var u=l?a:n,h=void 0;(!o||n>=0)&&(h=i);var p=s?{normal:{align:"center",verticalAlign:"middle"}}:null;Object(At["g"])(t,Object(At["e"])(r),{labelFetcher:h,labelDataIndex:u,defaultText:a},p);var f=t.getTextContent();if(f&&(tn(f).ignore=f.ignore,t.textConfig&&s)){var m=t.getBoundingRect().clone();t.textConfig.layoutRect=m,t.textConfig.position=[(s[0]-m.x)/m.width*100+"%",(s[1]-m.y)/m.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function ln(e,t,a,r,i,n){e.data?e.data.setItemGraphicEl(n,t):Object(Tt["a"])(t).eventData={componentType:"geo",componentIndex:i.componentIndex,geoIndex:i.componentIndex,name:a,region:r&&r.option||{}}}function cn(e,t,a,r,i){e.data||Ot["setTooltipConfig"]({el:t,componentModel:i,itemName:a,itemTooltipOption:r.get("tooltip")})}function dn(e,t,a,r,i){t.highDownSilentOnTouch=!!i.get("selectedMode");var n=r.getModel("emphasis"),s=n.get("focus");return Object(jt["J"])(t,s,n.get("blurScope"),n.get("disabled")),e.isGeo&&Object(jt["n"])(t,i,a),s}function un(e,t,a){var r,i=[];function n(){r=[]}function s(){r.length&&(i.push(r),r=[])}var o=t({polygonStart:n,polygonEnd:s,lineStart:n,lineEnd:s,point:function(e,t){isFinite(e)&&isFinite(t)&&r.push([e,t])},sphere:function(){}});return!a&&o.polygonStart(),U["each"](e,(function(e){o.lineStart();for(var t=0;t<e.length;t++)o.point(e[t][0],e[t][1]);o.lineEnd()})),!a&&o.polygonEnd(),i}var hn=nn,pn=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.render=function(e,t,a,r){if(!r||"mapToggleSelect"!==r.type||r.from!==this.uid){var i=this.group;if(i.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&r&&"geoRoam"===r.type&&this._mapDraw.resetForLabelLayout(),r&&"geoRoam"===r.type&&"series"===r.componentType&&r.seriesId===e.id){n=this._mapDraw;n&&i.add(n.group)}else if(e.needsDrawMap){var n=this._mapDraw||new hn(a);i.add(n.group),n.draw(e,t,a,this,r),this._mapDraw=n}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,a)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,t,a){var r=e.originalData,i=this.group;r.each(r.mapDimension("value"),(function(t,a){if(!isNaN(t)){var n=r.getItemLayout(a);if(n&&n.point){var s=n.point,o=n.offset,l=new fr["a"]({style:{fill:e.getData().getVisual("style").fill},shape:{cx:s[0]+9*o,cy:s[1],r:3},silent:!0,z2:8+(o?0:jt["j"]+1)});if(!o){var c=e.mainSeries.getData(),d=r.getName(a),u=c.indexOfName(d),h=r.getItemModel(a),p=h.getModel("label"),f=c.getItemGraphicEl(u);Object(At["g"])(l,Object(At["e"])(h),{labelFetcher:{getFormattedLabel:function(t,a){return e.getFormattedLabel(u,a)}},defaultText:d}),l.disableLabelAnimation=!0,p.get("position")||l.setTextConfig({position:"bottom"}),f.onHoverStateChange=function(e){Object(jt["H"])(l,e)}}i.add(l)}}}))},t.type="map",t}(ra["a"]),fn=pn,mn=a("b508"),gn=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.needsDrawMap=!1,a.seriesGroup=[],a.getTooltipPosition=function(e){if(null!=e){var t=this.getData().getName(e),a=this.coordinateSystem,r=a.getRegion(t);return r&&a.dataToPoint(r.getCenter())}},a}return Object(vt["a"])(t,e),t.prototype.getInitialData=function(e){for(var t=Object(er["a"])(this,{coordDimensions:["value"],encodeDefaulter:U["curry"](mn["d"],this)}),a=U["createHashMap"](),r=[],i=0,n=t.count();i<n;i++){var s=t.getName(i);a.set(s,!0)}var o=qi.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return U["each"](o.regions,(function(e){var t=e.name;a.get(t)||r.push(t)})),t.appendValues([],r),t},t.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return null!=e?this.ecModel.getComponent("geo",e):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var t=this.getData();return t.get(t.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))},t.prototype.formatTooltip=function(e,t,a){for(var r=this.getData(),i=this.getRawValue(e),n=r.getName(e),s=this.seriesGroup,o=[],l=0;l<s.length;l++){var c=s[l].originalData.indexOfName(n),d=r.mapDimension("value");isNaN(s[l].originalData.get(d,c))||o.push(s[l].name)}return Object(ar["c"])("section",{header:o.join(", "),noHeader:!o.length,blocks:[Object(ar["c"])("nameValue",{name:n,value:i})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var t=e.icon||"roundRect",a=Object(kt["a"])(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return a.setStyle(e.itemStyle),a.style.stroke="none",t.indexOf("empty")>-1&&(a.style.stroke=a.style.fill,a.style.fill="#fff",a.style.lineWidth=2),a},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(yt["b"]),_n=gn;function vn(e,t){var a={};return U["each"](e,(function(e){e.each(e.mapDimension("value"),(function(t,r){var i="ec-"+e.getName(r);a[i]=a[i]||[],isNaN(t)||a[i].push(t)}))})),e[0].map(e[0].mapDimension("value"),(function(r,i){for(var n,s="ec-"+e[0].getName(i),o=0,l=1/0,c=-1/0,d=a[s].length,u=0;u<d;u++)l=Math.min(l,a[s][u]),c=Math.max(c,a[s][u]),o+=a[s][u];return n="min"===t?l:"max"===t?c:"average"===t?o/d:o,0===d?NaN:n}))}function bn(e){var t={};e.eachSeriesByType("map",(function(e){var a=e.getHostGeoModel(),r=a?"o"+a.id:"i"+e.getMapType();(t[r]=t[r]||[]).push(e)})),U["each"](t,(function(e,t){for(var a=vn(U["map"](e,(function(e){return e.getData()})),e[0].get("mapValueCalculation")),r=0;r<e.length;r++)e[r].originalData=e[r].getData();for(r=0;r<e.length;r++)e[r].seriesGroup=e,e[r].needsDrawMap=0===r&&!e[r].getHostGeoModel(),e[r].setData(a.cloneShallow()),e[r].mainSeries=e[0]}))}function yn(e){var t={};e.eachSeriesByType("map",(function(a){var r=a.getMapType();if(!a.getHostGeoModel()&&!t[r]){var i={};U["each"](a.seriesGroup,(function(t){var a=t.coordinateSystem,r=t.originalData;t.get("showLegendSymbol")&&e.getComponent("legend")&&r.each(r.mapDimension("value"),(function(e,t){var n=r.getName(t),s=a.getRegion(n);if(s&&!isNaN(e)){var o=i[n]||0,l=a.dataToPoint(s.getCenter());i[n]=o+1,r.setItemLayout(t,{point:l,offset:o})}}))}));var n=a.getData();n.each((function(e){var t=n.getName(e),a=n.getItemLayout(e)||{};a.showLabel=!i[t],n.setItemLayout(e,a)})),t[r]=!0}}))}var kn=a("0622"),xn=a("fdd4"),wn=xn["applyTransform"],Sn=function(e){function t(t){var a=e.call(this)||this;return a.type="view",a.dimensions=["x","y"],a._roamTransformable=new de["c"],a._rawTransformable=new de["c"],a.name=t,a}return Object(vt["a"])(t,e),t.prototype.setBoundingRect=function(e,t,a,r){return this._rect=new Ba["a"](e,t,a,r),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,t,a,r){this._transformTo(e,t,a,r),this._viewRect=new Ba["a"](e,t,a,r)},t.prototype._transformTo=function(e,t,a,r){var i=this.getBoundingRect(),n=this._rawTransformable;n.transform=i.calculateTransform(new Ba["a"](e,t,a,r));var s=n.parent;n.parent=null,n.decomposeTransform(),n.parent=s,this._updateTransform()},t.prototype.setCenter=function(e,t){e&&(this._center=[Object(Sr["p"])(e[0],t.getWidth()),Object(Sr["p"])(e[1],t.getHeight())],this._updateCenterAndZoom())},t.prototype.setZoom=function(e){e=e||1;var t=this.zoomLimit;t&&(null!=t.max&&(e=Math.min(t.max,e)),null!=t.min&&(e=Math.max(t.min,e))),this._zoom=e,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var e=this.getBoundingRect(),t=e.x+e.width/2,a=e.y+e.height/2;return[t,a]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var e=this._rawTransformable.getLocalTransform(),t=this._roamTransformable,a=this.getDefaultCenter(),r=this.getCenter(),i=this.getZoom();r=xn["applyTransform"]([],r,e),a=xn["applyTransform"]([],a,e),t.originX=r[0],t.originY=r[1],t.x=a[0]-r[0],t.y=a[1]-r[1],t.scaleX=t.scaleY=i,this._updateTransform()},t.prototype._updateTransform=function(){var e=this._roamTransformable,t=this._rawTransformable;t.parent=e,e.updateTransform(),t.updateTransform(),Zr["copy"](this.transform||(this.transform=[]),t.transform||Zr["create"]()),this._rawTransform=t.getLocalTransform(),this.invTransform=this.invTransform||[],Zr["invert"](this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._rawTransformable,t=this._roamTransformable,a=new de["c"];return a.transform=t.transform,a.decomposeTransform(),{roam:{x:a.x,y:a.y,scaleX:a.scaleX,scaleY:a.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},t.prototype.dataToPoint=function(e,t,a){var r=t?this._rawTransform:this.transform;return a=a||[],r?wn(a,e,r):xn["copy"](a,e)},t.prototype.pointToData=function(e){var t=this.invTransform;return t?wn([],e,t):[e[0],e[1]]},t.prototype.convertToPixel=function(e,t,a){var r=Cn(t);return r===this?r.dataToPoint(a):null},t.prototype.convertFromPixel=function(e,t,a){var r=Cn(t);return r===this?r.pointToData(a):null},t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=["x","y"],t}(de["c"]);function Cn(e){var t=e.seriesModel;return t?t.coordinateSystem:null}var On=Sn,Tn={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},jn=["lng","lat"],In=function(e){function t(t,a,r){var i=e.call(this,t)||this;i.dimensions=jn,i.type="geo",i._nameCoordMap=U["createHashMap"](),i.map=a;var n,s=r.projection,o=qi.load(a,r.nameMap,r.nameProperty),l=qi.getGeoResource(a),c=(i.resourceType=l?l.type:null,i.regions=o.regions),d=Tn[l.type];if(i._regionsMap=o.regionsMap,i.regions=o.regions,i.projection=s,s)for(var u=0;u<c.length;u++){var h=c[u].getBoundingRect(s);n=n||h.clone(),n.union(h)}else n=o.boundingRect;return i.setBoundingRect(n.x,n.y,n.width,n.height),i.aspectScale=s?1:U["retrieve2"](r.aspectScale,d.aspectScale),i._invertLongitute=!s&&d.invertLongitute,i}return Object(vt["a"])(t,e),t.prototype._transformTo=function(e,t,a,r){var i=this.getBoundingRect(),n=this._invertLongitute;i=i.clone(),n&&(i.y=-i.y-i.height);var s=this._rawTransformable;s.transform=i.calculateTransform(new Ba["a"](e,t,a,r));var o=s.parent;s.parent=null,s.decomposeTransform(),s.parent=o,n&&(s.scaleY=-s.scaleY),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var t=this.regions,a=0;a<t.length;a++){var r=t[a];if("geoJSON"===r.type&&r.contain(e))return t[a]}},t.prototype.addGeoCoord=function(e,t){this._nameCoordMap.set(e,t)},t.prototype.getGeoCoord=function(e){var t=this._regionsMap.get(e);return this._nameCoordMap.get(e)||t&&t.getCenter()},t.prototype.dataToPoint=function(e,t,a){if(U["isString"](e)&&(e=this.getGeoCoord(e)),e){var r=this.projection;return r&&(e=r.project(e)),e&&this.projectedToPoint(e,t,a)}},t.prototype.pointToData=function(e){var t=this.projection;return t&&(e=t.unproject(e)),e&&this.pointToProjected(e)},t.prototype.pointToProjected=function(t){return e.prototype.pointToData.call(this,t)},t.prototype.projectedToPoint=function(t,a,r){return e.prototype.dataToPoint.call(this,t,a,r)},t.prototype.convertToPixel=function(e,t,a){var r=An(t);return r===this?r.dataToPoint(a):null},t.prototype.convertFromPixel=function(e,t,a){var r=An(t);return r===this?r.pointToData(a):null},t}(On);function An(e){var t=e.geoModel,a=e.seriesModel;return t?t.coordinateSystem:a?a.coordinateSystem||(a.getReferringComponents("geo",qt["b"]).models[0]||{}).coordinateSystem:null}U["mixin"](In,On);var Dn=In,Mn=a("8180");function En(e,t){var a=e.get("boundingCoords");if(null!=a){var r=a[0],i=a[1];if(isFinite(r[0])&&isFinite(r[1])&&isFinite(i[0])&&isFinite(i[1])){var n=this.projection;if(n){var s=r[0],o=r[1],l=i[0],c=i[1];r=[1/0,1/0],i=[-1/0,-1/0];var d=function(e,t,a,s){for(var o=a-e,l=s-t,c=0;c<=100;c++){var d=c/100,u=n.project([e+o*d,t+l*d]);xn["min"](r,r,u),xn["max"](i,i,u)}};d(s,o,l,o),d(l,o,l,c),d(l,c,s,c),d(s,c,l,o)}this.setBoundingRect(r[0],r[1],i[0]-r[0],i[1]-r[1])}else 0}var u,h,p,f=this.getBoundingRect(),m=e.get("layoutCenter"),g=e.get("layoutSize"),_=t.getWidth(),v=t.getHeight(),b=f.width/f.height*this.aspectScale,y=!1;if(m&&g&&(u=[Sr["p"](m[0],_),Sr["p"](m[1],v)],h=Sr["p"](g,Math.min(_,v)),isNaN(u[0])||isNaN(u[1])||isNaN(h)||(y=!0)),y)p={},b>1?(p.width=h,p.height=h/b):(p.height=h,p.width=h*b),p.y=u[1]-p.height/2,p.x=u[0]-p.width/2;else{var k=e.getBoxLayoutParams();k.aspect=b,p=Mn["g"](k,{width:_,height:v})}this.setViewRect(p.x,p.y,p.width,p.height),this.setCenter(e.get("center"),t),this.setZoom(e.get("zoom"))}function Rn(e,t){U["each"](t.get("geoCoord"),(function(t,a){e.addGeoCoord(a,t)}))}var Bn=function(){function e(){this.dimensions=jn}return e.prototype.create=function(e,t){var a=[];function r(e){return{nameProperty:e.get("nameProperty"),aspectScale:e.get("aspectScale"),projection:e.get("projection")}}e.eachComponent("geo",(function(e,i){var n=e.get("map"),s=new Dn(n+i,n,U["extend"]({nameMap:e.get("nameMap")},r(e)));s.zoomLimit=e.get("scaleLimit"),a.push(s),e.coordinateSystem=s,s.model=e,s.resize=En,s.resize(e,t)})),e.eachSeries((function(e){var t=e.get("coordinateSystem");if("geo"===t){var r=e.get("geoIndex")||0;e.coordinateSystem=a[r]}}));var i={};return e.eachSeriesByType("map",(function(e){if(!e.getHostGeoModel()){var t=e.getMapType();i[t]=i[t]||[],i[t].push(e)}})),U["each"](i,(function(e,i){var n=U["map"](e,(function(e){return e.get("nameMap")})),s=new Dn(i,i,U["extend"]({nameMap:U["mergeAll"](n)},r(e[0])));s.zoomLimit=U["retrieve"].apply(null,U["map"](e,(function(e){return e.get("scaleLimit")}))),a.push(s),s.resize=En,s.resize(e[0],t),U["each"](e,(function(e){e.coordinateSystem=s,Rn(s,e)}))})),a},e.prototype.getFilledRegions=function(e,t,a,r){for(var i=(e||[]).slice(),n=U["createHashMap"](),s=0;s<i.length;s++)n.set(i[s].name,i[s]);var o=qi.load(t,a,r);return U["each"](o.regions,(function(e){var t=e.name;!n.get(t)&&i.push({name:t})})),i},e}(),Pn=new Bn,Ln=Pn,Fn=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.init=function(e,t,a){var r=qi.getGeoResource(e.map);if(r&&"geoJSON"===r.type){var i=e.itemStyle=e.itemStyle||{};"color"in i||(i.color="#eee")}this.mergeDefaultAndTheme(e,a),qt["f"](e,"label",["show"])},t.prototype.optionUpdated=function(){var e=this,t=this.option;t.regions=Ln.getFilledRegions(t.regions,t.map,t.nameMap,t.nameProperty);var a={};this._optionModelMap=U["reduce"](t.regions||[],(function(t,r){var i=r.name;return i&&(t.set(i,new sr["a"](r,e,e.ecModel)),r.selected&&(a[i]=!0)),t}),U["createHashMap"]()),t.selectedMap||(t.selectedMap=a)},t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new sr["a"](null,this,this.ecModel)},t.prototype.getFormattedLabel=function(e,t){var a=this.getRegionModel(e),r="normal"===t?a.get(["label","formatter"]):a.get(["emphasis","label","formatter"]),i={name:e};return U["isFunction"](r)?(i.status=t,r(i)):U["isString"](r)?r.replace("{a}",null!=e?e:""):void 0},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.select=function(e){var t=this.option,a=t.selectedMode;if(a){"multiple"!==a&&(t.selectedMap=null);var r=t.selectedMap||(t.selectedMap={});r[e]=!0}},t.prototype.unSelect=function(e){var t=this.option.selectedMap;t&&(t[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},t.prototype.isSelected=function(e){var t=this.option.selectedMap;return!(!t||!t[e])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(lr["a"]),Nn=Fn;function $n(e,t){return e.pointToProjected?e.pointToProjected(t):e.pointToData(t)}function zn(e,t,a,r){var i=e.getZoom(),n=e.getCenter(),s=t.zoom,o=e.projectedToPoint?e.projectedToPoint(n):e.dataToPoint(n);if(null!=t.dx&&null!=t.dy&&(o[0]-=t.dx,o[1]-=t.dy,e.setCenter($n(e,o),r)),null!=s){if(a){var l=a.min||0,c=a.max||1/0;s=Math.max(Math.min(i*s,c),l)/i}e.scaleX*=s,e.scaleY*=s;var d=(t.originX-e.x)*(s-1),u=(t.originY-e.y)*(s-1);e.x-=d,e.y-=u,e.updateTransform(),e.setCenter($n(e,o),r),e.setZoom(s*i)}return{center:e.getCenter(),zoom:e.getZoom()}}var Vn=a("b932"),Un=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.focusBlurEnabled=!0,a}return Object(vt["a"])(t,e),t.prototype.init=function(e,t){this._api=t},t.prototype.render=function(e,t,a,r){if(this._model=e,!e.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new hn(a));var i=this._mapDraw;i.draw(e,t,a,this,r),i.group.on("click",this._handleRegionClick,this),i.group.silent=e.get("silent"),this.group.add(i.group),this.updateSelectStatus(e,t,a)},t.prototype._handleRegionClick=function(e){var t;Object(Vn["a"])(e.target,(function(e){return null!=(t=Object(Tt["a"])(e).eventData)}),!0),t&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:t.name})},t.prototype.updateSelectStatus=function(e,t,a){var r=this;this._mapDraw.group.traverse((function(e){var t=Object(Tt["a"])(e).eventData;if(t)return r._model.isSelected(t.name)?a.enterSelect(e):a.leaveSelect(e),!0}))},t.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(gr["a"]),Hn=Un;function Gn(e,t,a){qi.registerMap(e,t,a)}function Wn(e){function t(t,a){a.update="geo:updateSelectStatus",e.registerAction(a,(function(e,a){var r={},i=[];return a.eachComponent({mainType:"geo",query:e},(function(a){a[t](e.name);var n=a.coordinateSystem;Object(U["each"])(n.regions,(function(e){r[e.name]=a.isSelected(e.name)||!1}));var s=[];Object(U["each"])(r,(function(e,t){r[t]&&s.push(t)})),i.push({geoIndex:a.componentIndex,name:s})})),{selected:r,allSelected:i,name:e.name}}))}e.registerCoordinateSystem("geo",Ln),e.registerComponentModel(Nn),e.registerComponentView(Hn),e.registerImpl("registerMap",Gn),e.registerImpl("getMap",(function(e){return qi.getMapForUser(e)})),t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),e.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},(function(e,t,a){var r=e.componentType||"series";t.eachComponent({mainType:r,query:e},(function(t){var i=t.coordinateSystem;if("geo"===i.type){var n=zn(i,e,t.get("scaleLimit"),a);t.setCenter&&t.setCenter(n.center),t.setZoom&&t.setZoom(n.zoom),"series"===r&&Object(U["each"])(t.seriesGroup,(function(e){e.setCenter(n.center),e.setZoom(n.zoom)}))}}))}))}function qn(e){Object(T["a"])(Wn),e.registerChartView(fn),e.registerSeriesModel(_n),e.registerLayout(yn),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,bn),Object(kn["a"])("map",e.registerAction)}var Xn=a("b5ff");function Yn(e){var t=e;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};var a,r,i=[t];while(a=i.pop())if(r=a.children,a.isExpand&&r.length)for(var n=r.length,s=n-1;s>=0;s--){var o=r[s];o.hierNode={defaultAncestor:null,ancestor:o,prelim:0,modifier:0,change:0,shift:0,i:s,thread:null},i.push(o)}}function Kn(e,t){var a=e.isExpand?e.children:[],r=e.parentNode.children,i=e.hierNode.i?r[e.hierNode.i-1]:null;if(a.length){ts(e);var n=(a[0].hierNode.prelim+a[a.length-1].hierNode.prelim)/2;i?(e.hierNode.prelim=i.hierNode.prelim+t(e,i),e.hierNode.modifier=e.hierNode.prelim-n):e.hierNode.prelim=n}else i&&(e.hierNode.prelim=i.hierNode.prelim+t(e,i));e.parentNode.hierNode.defaultAncestor=as(e,i,e.parentNode.hierNode.defaultAncestor||r[0],t)}function Zn(e){var t=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:t},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function Jn(e){return arguments.length?e:os}function Qn(e,t){return e-=Math.PI/2,{x:t*Math.cos(e),y:t*Math.sin(e)}}function es(e,t){return Mn["g"](e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function ts(e){var t=e.children,a=t.length,r=0,i=0;while(--a>=0){var n=t[a];n.hierNode.prelim+=r,n.hierNode.modifier+=r,i+=n.hierNode.change,r+=n.hierNode.shift+i}}function as(e,t,a,r){if(t){var i=e,n=e,s=n.parentNode.children[0],o=t,l=i.hierNode.modifier,c=n.hierNode.modifier,d=s.hierNode.modifier,u=o.hierNode.modifier;while(o=rs(o),n=is(n),o&&n){i=rs(i),s=is(s),i.hierNode.ancestor=e;var h=o.hierNode.prelim+u-n.hierNode.prelim-c+r(o,n);h>0&&(ss(ns(o,e,a),e,h),c+=h,l+=h),u+=o.hierNode.modifier,c+=n.hierNode.modifier,l+=i.hierNode.modifier,d+=s.hierNode.modifier}o&&!rs(i)&&(i.hierNode.thread=o,i.hierNode.modifier+=u-l),n&&!is(s)&&(s.hierNode.thread=n,s.hierNode.modifier+=c-d,a=e)}return a}function rs(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function is(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function ns(e,t,a){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:a}function ss(e,t,a){var r=a/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=r,t.hierNode.shift+=a,t.hierNode.modifier+=a,t.hierNode.prelim+=a,e.hierNode.change+=r}function os(e,t){return e.parentNode===t.parentNode?1:2}var ls=a("be67"),cs=function(){function e(){this.parentPoint=[],this.childPoints=[]}return e}(),ds=function(e){function t(t){return e.call(this,t)||this}return Object(vt["a"])(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new cs},t.prototype.buildPath=function(e,t){var a=t.childPoints,r=a.length,i=t.parentPoint,n=a[0],s=a[r-1];if(1===r)return e.moveTo(i[0],i[1]),void e.lineTo(n[0],n[1]);var o=t.orient,l="TB"===o||"BT"===o?0:1,c=1-l,d=Object(Sr["p"])(t.forkPosition,1),u=[];u[l]=i[l],u[c]=i[c]+(s[c]-i[c])*d,e.moveTo(i[0],i[1]),e.lineTo(u[0],u[1]),e.moveTo(n[0],n[1]),u[l]=n[l],e.lineTo(u[0],u[1]),u[l]=s[l],e.lineTo(u[0],u[1]),e.lineTo(s[0],s[1]);for(var h=1;h<r-1;h++){var p=a[h];e.moveTo(p[0],p[1]),u[l]=p[l],e.lineTo(u[0],u[1])}},t}(D["b"]),us=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a._mainGroup=new xt["a"],a}return Object(vt["a"])(t,e),t.prototype.init=function(e,t){this._controller=new Vr(t.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,t,a){var r=e.getData(),i=e.layoutInfo,n=this._mainGroup,s=e.get("layout");"radial"===s?(n.x=i.x+i.width/2,n.y=i.y+i.height/2):(n.x=i.x,n.y=i.y),this._updateViewCoordSys(e,a),this._updateController(e,t,a);var o=this._data;r.diff(o).add((function(t){hs(r,t)&&ps(r,t,null,n,e)})).update((function(t,a){var i=o.getItemGraphicEl(a);hs(r,t)?ps(r,t,i,n,e):i&&_s(o,a,i,n,e)})).remove((function(t){var a=o.getItemGraphicEl(t);a&&_s(o,t,a,n,e)})).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===e.get("expandAndCollapse")&&r.eachItemGraphicEl((function(t,r){t.off("click").on("click",(function(){a.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:r})}))})),this._data=r},t.prototype._updateViewCoordSys=function(e,t){var a=e.getData(),r=[];a.each((function(e){var t=a.getItemLayout(e);!t||isNaN(t.x)||isNaN(t.y)||r.push([+t.x,+t.y])}));var i=[],n=[];ls["d"](r,i,n);var s=this._min,o=this._max;n[0]-i[0]===0&&(i[0]=s?s[0]:i[0]-1,n[0]=o?o[0]:n[0]+1),n[1]-i[1]===0&&(i[1]=s?s[1]:i[1]-1,n[1]=o?o[1]:n[1]+1);var l=e.coordinateSystem=new On;l.zoomLimit=e.get("scaleLimit"),l.setBoundingRect(i[0],i[1],n[0]-i[0],n[1]-i[1]),l.setCenter(e.get("center"),t),l.setZoom(e.get("zoom")),this.group.attr({x:l.x,y:l.y,scaleX:l.scaleX,scaleY:l.scaleY}),this._min=i,this._max=n},t.prototype._updateController=function(e,t,a){var r=this,i=this._controller,n=this._controllerHost,s=this.group;i.setPointerChecker((function(t,r,i){var n=s.getBoundingRect();return n.applyTransform(s.transform),n.contain(r,i)&&!Wr(t,a,e)})),i.enable(e.get("roam")),n.zoomLimit=e.get("scaleLimit"),n.zoom=e.coordinateSystem.getZoom(),i.off("pan").off("zoom").on("pan",(function(t){Ur(n,t.dx,t.dy),a.dispatchAction({seriesId:e.id,type:"treeRoam",dx:t.dx,dy:t.dy})})).on("zoom",(function(t){Hr(n,t.scale,t.originX,t.originY),a.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),r._updateNodeAndLinkScale(e),a.updateLabelLayout()}))},t.prototype._updateNodeAndLinkScale=function(e){var t=e.getData(),a=this._getNodeGlobalScale(e);t.eachItemGraphicEl((function(e,t){e.setSymbolScale(a)}))},t.prototype._getNodeGlobalScale=function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var a=this._nodeScaleRatio,r=t.scaleX||1,i=t.getZoom(),n=(i-1)*a+1;return n/r},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(ra["a"]);function hs(e,t){var a=e.getItemLayout(t);return a&&!isNaN(a.x)&&!isNaN(a.y)}function ps(e,t,a,r,i){var n=!a,s=e.tree.getNodeByDataIndex(t),o=s.getModel(),l=s.getVisual("style").fill,c=!1===s.isExpand&&0!==s.children.length?l:"#fff",d=e.tree.root,u=s.parentNode===d?s:s.parentNode||s,h=e.getItemGraphicEl(u.dataIndex),p=u.getLayout(),f=h?{x:h.__oldX,y:h.__oldY,rawX:h.__radialOldRawX,rawY:h.__radialOldRawY}:p,m=s.getLayout();n?(a=new Et(e,t,null,{symbolInnerColor:c,useNameLabel:!0}),a.x=f.x,a.y=f.y):a.updateData(e,t,null,{symbolInnerColor:c,useNameLabel:!0}),a.__radialOldRawX=a.__radialRawX,a.__radialOldRawY=a.__radialRawY,a.__radialRawX=m.rawX,a.__radialRawY=m.rawY,r.add(a),e.setItemGraphicEl(t,a),a.__oldX=a.x,a.__oldY=a.y,Ct["h"](a,{x:m.x,y:m.y},i);var g=a.getSymbolPath();if("radial"===i.get("layout")){var _=d.children[0],v=_.getLayout(),b=_.children.length,y=void 0,k=void 0;if(m.x===v.x&&!0===s.isExpand&&_.children.length){var x={x:(_.children[0].getLayout().x+_.children[b-1].getLayout().x)/2,y:(_.children[0].getLayout().y+_.children[b-1].getLayout().y)/2};y=Math.atan2(x.y-v.y,x.x-v.x),y<0&&(y=2*Math.PI+y),k=x.x<v.x,k&&(y-=Math.PI)}else y=Math.atan2(m.y-v.y,m.x-v.x),y<0&&(y=2*Math.PI+y),0===s.children.length||0!==s.children.length&&!1===s.isExpand?(k=m.x<v.x,k&&(y-=Math.PI)):(k=m.x>v.x,k||(y-=Math.PI));var w=k?"left":"right",S=o.getModel("label"),C=S.get("rotate"),O=C*(Math.PI/180),T=g.getTextContent();T&&(g.setTextConfig({position:S.get("position")||w,rotation:null==C?-y:O,origin:"center"}),T.setStyle("verticalAlign","middle"))}var j=o.get(["emphasis","focus"]),I="relative"===j?U["concatArray"](s.getAncestorsIndices(),s.getDescendantIndices()):"ancestor"===j?s.getAncestorsIndices():"descendant"===j?s.getDescendantIndices():null;I&&(Object(Tt["a"])(a).focus=I),fs(i,s,d,a,f,p,m,r),a.__edge&&(a.onHoverStateChange=function(t){if("blur"!==t){var r=s.parentNode&&e.getItemGraphicEl(s.parentNode.dataIndex);r&&r.hoverState===jt["d"]||Object(jt["H"])(a.__edge,t)}})}function fs(e,t,a,r,i,n,s,o){var l=t.getModel(),c=e.get("edgeShape"),d=e.get("layout"),u=e.getOrient(),h=e.get(["lineStyle","curveness"]),p=e.get("edgeForkPosition"),f=l.getModel("lineStyle").getLineStyle(),m=r.__edge;if("curve"===c)t.parentNode&&t.parentNode!==a&&(m||(m=r.__edge=new Xn["a"]({shape:vs(d,u,h,i,i)})),Ct["h"](m,{shape:vs(d,u,h,n,s)},e));else if("polyline"===c)if("orthogonal"===d){if(t!==a&&t.children&&0!==t.children.length&&!0===t.isExpand){for(var g=t.children,_=[],v=0;v<g.length;v++){var b=g[v].getLayout();_.push([b.x,b.y])}m||(m=r.__edge=new ds({shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]],orient:u,forkPosition:p}})),Ct["h"](m,{shape:{parentPoint:[s.x,s.y],childPoints:_}},e)}}else 0;m&&("polyline"!==c||t.isExpand)&&(m.useStyle(U["defaults"]({strokeNoScale:!0,fill:null},f)),Object(jt["I"])(m,l,"lineStyle"),Object(jt["G"])(m),o.add(m))}function ms(e,t,a,r,i){var n=t.tree.root,s=gs(n,e),o=s.source,l=s.sourceLayout,c=t.getItemGraphicEl(e.dataIndex);if(c){var d=t.getItemGraphicEl(o.dataIndex),u=d.__edge,h=c.__edge||(!1===o.isExpand||1===o.children.length?u:void 0),p=r.get("edgeShape"),f=r.get("layout"),m=r.get("orient"),g=r.get(["lineStyle","curveness"]);h&&("curve"===p?Ct["e"](h,{shape:vs(f,m,g,l,l),style:{opacity:0}},r,{cb:function(){a.remove(h)},removeOpt:i}):"polyline"===p&&"orthogonal"===r.get("layout")&&Ct["e"](h,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},r,{cb:function(){a.remove(h)},removeOpt:i}))}}function gs(e,t){var a,r=t.parentNode===e?t:t.parentNode||t;while(a=r.getLayout(),null==a)r=r.parentNode===e?r:r.parentNode||r;return{source:r,sourceLayout:a}}function _s(e,t,a,r,i){var n=e.tree.getNodeByDataIndex(t),s=e.tree.root,o=gs(s,n).sourceLayout,l={duration:i.get("animationDurationUpdate"),easing:i.get("animationEasingUpdate")};Ct["e"](a,{x:o.x+1,y:o.y+1},i,{cb:function(){r.remove(a),e.setItemGraphicEl(t,null)},removeOpt:l}),a.fadeOut(null,e.hostModel,{fadeLabel:!0,animation:l}),n.children.forEach((function(t){ms(t,e,r,i,l)})),ms(n,e,r,i,l)}function vs(e,t,a,r,i){var n,s,o,l,c,d,u,h;if("radial"===e){c=r.rawX,u=r.rawY,d=i.rawX,h=i.rawY;var p=Qn(c,u),f=Qn(c,u+(h-u)*a),m=Qn(d,h+(u-h)*a),g=Qn(d,h);return{x1:p.x||0,y1:p.y||0,x2:g.x||0,y2:g.y||0,cpx1:f.x||0,cpy1:f.y||0,cpx2:m.x||0,cpy2:m.y||0}}return c=r.x,u=r.y,d=i.x,h=i.y,"LR"!==t&&"RL"!==t||(n=c+(d-c)*a,s=u,o=d+(c-d)*a,l=h),"TB"!==t&&"BT"!==t||(n=c,s=u+(h-u)*a,o=d,l=h+(u-h)*a),{x1:c,y1:u,x2:d,y2:h,cpx1:n,cpy1:s,cpx2:o,cpy2:l}}var bs=us,ys=Object(qt["o"])();function ks(e){var t=e.mainData,a=e.datas;a||(a={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,js(t,a,e),Object(U["each"])(a,(function(a){Object(U["each"])(t.TRANSFERABLE_METHODS,(function(t){a.wrapMethod(t,Object(U["curry"])(xs,e))}))})),t.wrapMethod("cloneShallow",Object(U["curry"])(Ss,e)),Object(U["each"])(t.CHANGABLE_METHODS,(function(a){t.wrapMethod(a,Object(U["curry"])(ws,e))})),Object(U["assert"])(a[t.dataType]===t)}function xs(e,t){if(Ts(this)){var a=Object(U["extend"])({},ys(this).datas);a[this.dataType]=t,js(t,a,e)}else Is(t,this.dataType,ys(this).mainData,e);return t}function ws(e,t){return e.struct&&e.struct.update(),t}function Ss(e,t){return Object(U["each"])(ys(t).datas,(function(a,r){a!==t&&Is(a.cloneShallow(),r,t,e)})),t}function Cs(e){var t=ys(this).mainData;return null==e||null==t?t:ys(t).datas[e]}function Os(){var e=ys(this).mainData;return null==e?[{data:e}]:Object(U["map"])(Object(U["keys"])(ys(e).datas),(function(t){return{type:t,data:ys(e).datas[t]}}))}function Ts(e){return ys(e).mainData===e}function js(e,t,a){ys(e).datas={},Object(U["each"])(t,(function(t,r){Is(t,r,e,a)}))}function Is(e,t,a,r){ys(a).datas[t]=e,ys(e).mainData=a,e.dataType=t,r.struct&&(e[r.structAttr]=r.struct,r.struct[r.datasAttr[t]]=e),e.getLinkedData=Cs,e.getLinkedDataAll=Os}var As=ks,Ds=a("d642"),Ms=a("1729"),Es=function(){function e(e,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=t}return e.prototype.isRemoved=function(){return this.dataIndex<0},e.prototype.eachNode=function(e,t,a){U["isFunction"](e)&&(a=t,t=e,e=null),e=e||{},U["isString"](e)&&(e={order:e});var r,i=e.order||"preorder",n=this[e.attr||"children"];"preorder"===i&&(r=t.call(a,this));for(var s=0;!r&&s<n.length;s++)n[s].eachNode(e,t,a);"postorder"===i&&t.call(a,this)},e.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var a=0;a<this.children.length;a++){var r=this.children[a];r.updateDepthAndHeight(e+1),r.height>t&&(t=r.height)}this.height=t+1},e.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var t=0,a=this.children,r=a.length;t<r;t++){var i=a[t].getNodeById(e);if(i)return i}},e.prototype.contains=function(e){if(e===this)return!0;for(var t=0,a=this.children,r=a.length;t<r;t++){var i=a[t].contains(e);if(i)return i}},e.prototype.getAncestors=function(e){var t=[],a=e?this:this.parentNode;while(a)t.push(a),a=a.parentNode;return t.reverse(),t},e.prototype.getAncestorsIndices=function(){var e=[],t=this;while(t)e.push(t.dataIndex),t=t.parentNode;return e.reverse(),e},e.prototype.getDescendantIndices=function(){var e=[];return this.eachNode((function(t){e.push(t.dataIndex)})),e},e.prototype.getValue=function(e){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(e||"value"),this.dataIndex)},e.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},e.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},e.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostTree,a=t.data.getItemModel(this.dataIndex);return a.getModel(e)}},e.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},e.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},e.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},e.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},e.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},e.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,t=0;t<e.length;++t)if(e[t]===this)return t;return-1}return-1},e.prototype.isAncestorOf=function(e){var t=e.parentNode;while(t){if(t===this)return!0;t=t.parentNode}return!1},e.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},e}(),Rs=function(){function e(e){this.type="tree",this._nodes=[],this.hostModel=e}return e.prototype.eachNode=function(e,t,a){this.root.eachNode(e,t,a)},e.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},e.prototype.getNodeById=function(e){return this.root.getNodeById(e)},e.prototype.update=function(){for(var e=this.data,t=this._nodes,a=0,r=t.length;a<r;a++)t[a].dataIndex=-1;for(a=0,r=e.count();a<r;a++)t[e.getRawIndex(a)].dataIndex=a},e.prototype.clearLayouts=function(){this.data.clearItemLayouts()},e.createTree=function(t,a,r){var i=new e(a),n=[],s=1;function o(e,t){var a=e.value;s=Math.max(s,U["isArray"](a)?a.length:1),n.push(e);var r=new Es(Object(qt["e"])(e.name,""),i);t?Bs(r,t):i.root=r,i._nodes.push(r);var l=e.children;if(l)for(var c=0;c<l.length;c++)o(l[c],r)}o(t),i.root.updateDepthAndHeight(0);var l=Object(Ms["b"])(n,{coordDimensions:["value"],dimensionsCount:s}).dimensions,c=new Ds["a"](l,a);return c.initData(n),r&&r(c),As({mainData:c,struct:i,structAttr:"tree"}),i.update(),i},e}();function Bs(e,t){var a=t.children;e.parentNode!==t&&(a.push(e),e.parentNode=t)}var Ps=Rs;function Ls(e,t,a){if(e&&U["indexOf"](t,e.type)>=0){var r=a.getData().tree.root,i=e.targetNode;if(U["isString"](i)&&(i=r.getNodeById(i)),i&&r.contains(i))return{node:i};var n=e.targetNodeId;if(null!=n&&(i=r.getNodeById(n)))return{node:i}}}function Fs(e){var t=[];while(e)e=e.parentNode,e&&t.push(e);return t.reverse()}function Ns(e,t){var a=Fs(e);return U["indexOf"](a,t)>=0}function $s(e,t){var a=[];while(e){var r=e.dataIndex;a.push({name:e.name,dataIndex:r,value:t.getRawValue(r)}),e=e.parentNode}return a.reverse(),a}var zs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return Object(vt["a"])(t,e),t.prototype.getInitialData=function(e){var t={name:e.name,children:e.data},a=e.leaves||{},r=new sr["a"](a,this,this.ecModel),i=Ps.createTree(t,this,n);function n(e){e.wrapMethod("getItemModel",(function(e,t){var a=i.getNodeByDataIndex(t);return a&&a.children.length&&a.isExpand||(e.parentModel=r),e}))}var s=0;i.eachNode("preorder",(function(e){e.depth>s&&(s=e.depth)}));var o=e.expandAndCollapse,l=o&&e.initialTreeDepth>=0?e.initialTreeDepth:s;return i.root.eachNode("preorder",(function(e){var t=e.hostTree.data.getRawDataItem(e.dataIndex);e.isExpand=t&&null!=t.collapsed?!t.collapsed:e.depth<=l})),i.data},t.prototype.getOrient=function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,t,a){var r=this.getData().tree,i=r.root.children[0],n=r.getNodeByDataIndex(e),s=n.getValue(),o=n.name;while(n&&n!==i)o=n.parentNode.name+"."+o,n=n.parentNode;return Object(ar["c"])("nameValue",{name:o,value:s,noValue:isNaN(s)||null==s})},t.prototype.getDataParams=function(t){var a=e.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return a.treeAncestors=$s(r,this),a.collapsed=!r.isExpand,a},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(yt["b"]),Vs=zs;function Us(e,t,a){var r,i=[e],n=[];while(r=i.pop())if(n.push(r),r.isExpand){var s=r.children;if(s.length)for(var o=0;o<s.length;o++)i.push(s[o])}while(r=n.pop())t(r,a)}function Hs(e,t){var a,r=[e];while(a=r.pop())if(t(a),a.isExpand){var i=a.children;if(i.length)for(var n=i.length-1;n>=0;n--)r.push(i[n])}}function Gs(e,t){e.eachSeriesByType("tree",(function(e){Ws(e,t)}))}function Ws(e,t){var a=es(e,t);e.layoutInfo=a;var r=e.get("layout"),i=0,n=0,s=null;"radial"===r?(i=2*Math.PI,n=Math.min(a.height,a.width)/2,s=Jn((function(e,t){return(e.parentNode===t.parentNode?1:2)/e.depth}))):(i=a.width,n=a.height,s=Jn());var o=e.getData().tree.root,l=o.children[0];if(l){Yn(o),Us(l,Kn,s),o.hierNode.modifier=-l.hierNode.prelim,Hs(l,Zn);var c=l,d=l,u=l;Hs(l,(function(e){var t=e.getLayout().x;t<c.getLayout().x&&(c=e),t>d.getLayout().x&&(d=e),e.depth>u.depth&&(u=e)}));var h=c===d?1:s(c,d)/2,p=h-c.getLayout().x,f=0,m=0,g=0,_=0;if("radial"===r)f=i/(d.getLayout().x+h+p),m=n/(u.depth-1||1),Hs(l,(function(e){g=(e.getLayout().x+p)*f,_=(e.depth-1)*m;var t=Qn(g,_);e.setLayout({x:t.x,y:t.y,rawX:g,rawY:_},!0)}));else{var v=e.getOrient();"RL"===v||"LR"===v?(m=n/(d.getLayout().x+h+p),f=i/(u.depth-1||1),Hs(l,(function(e){_=(e.getLayout().x+p)*m,g="LR"===v?(e.depth-1)*f:i-(e.depth-1)*f,e.setLayout({x:g,y:_},!0)}))):"TB"!==v&&"BT"!==v||(f=i/(d.getLayout().x+h+p),m=n/(u.depth-1||1),Hs(l,(function(e){g=(e.getLayout().x+p)*f,_="TB"===v?(e.depth-1)*m:n-(e.depth-1)*m,e.setLayout({x:g,y:_},!0)})))}}}function qs(e){e.eachSeriesByType("tree",(function(e){var t=e.getData(),a=t.tree;a.eachNode((function(e){var a=e.getModel(),r=a.getModel("itemStyle").getItemStyle(),i=t.ensureUniqueItemVisual(e.dataIndex,"style");Object(U["extend"])(i,r)}))}))}function Xs(e){e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},(function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var a=e.dataIndex,r=t.getData().tree,i=r.getNodeByDataIndex(a);i.isExpand=!i.isExpand}))})),e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},(function(e,t,a){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var r=t.coordinateSystem,i=zn(r,e,void 0,a);t.setCenter&&t.setCenter(i.center),t.setZoom&&t.setZoom(i.zoom)}))}))}function Ys(e){e.registerChartView(bs),e.registerSeriesModel(Vs),e.registerLayout(Gs),e.registerVisual(qs),Xs(e)}var Ks=["treemapZoomToNode","treemapRender","treemapMove"];function Zs(e){for(var t=0;t<Ks.length;t++)e.registerAction({type:Ks[t],update:"updateView"},U["noop"]);e.registerAction({type:"treemapRootToNode",update:"updateView"},(function(e,t){function a(t,a){var r=["treemapZoomToNode","treemapRootToNode"],i=Ls(e,r,t);if(i){var n=t.getViewRoot();n&&(e.direction=Ns(n,i.node)?"rollUp":"drillDown"),t.resetViewRoot(i.node)}}t.eachComponent({mainType:"series",subType:"treemap",query:e},a)}))}var Js=a("0b2b");function Qs(e){var t=e.getData(),a=t.tree,r={};a.eachNode((function(t){var a=t;while(a&&a.depth>1)a=a.parentNode;var i=Object(Js["b"])(e.ecModel,a.name||a.dataIndex+"",r);t.setVisual("decal",i)}))}var eo=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.preventUsingHoverLayer=!0,a}return Object(vt["a"])(t,e),t.prototype.getInitialData=function(e,t){var a={name:e.name,children:e.data};to(a);var r=e.levels||[],i=this.designatedVisualItemStyle={},n=new sr["a"]({itemStyle:i},this,t);r=e.levels=ao(r,t);var s=U["map"](r||[],(function(e){return new sr["a"](e,n,t)}),this),o=Ps.createTree(a,this,l);function l(e){e.wrapMethod("getItemModel",(function(e,t){var a=o.getNodeByDataIndex(t),r=a?s[a.depth]:null;return e.parentModel=r||n,e}))}return o.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,t,a){var r=this.getData(),i=this.getRawValue(e),n=r.getName(e);return Object(ar["c"])("nameValue",{name:n,value:i})},t.prototype.getDataParams=function(t){var a=e.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return a.treeAncestors=$s(r,this),a.treePathInfo=a.treeAncestors,a},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},U["extend"](this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var t=this._idIndexMap;t||(t=this._idIndexMap=U["createHashMap"](),this._idIndexMapCount=0);var a=t.get(e);return null==a&&t.set(e,a=this._idIndexMapCount++),a},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){Qs(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(yt["b"]);function to(e){var t=0;U["each"](e.children,(function(e){to(e);var a=e.value;U["isArray"](a)&&(a=a[0]),t+=a}));var a=e.value;U["isArray"](a)&&(a=a[0]),(null==a||isNaN(a))&&(a=t),a<0&&(a=0),U["isArray"](e.value)?e.value[0]=a:e.value=a}function ao(e,t){var a=Object(qt["r"])(t.get("color")),r=Object(qt["r"])(t.get(["aria","decal","decals"]));if(a){var i,n;e=e||[],U["each"](e,(function(e){var t=new sr["a"](e),a=t.get("color"),r=t.get("decal");(t.get(["itemStyle","color"])||a&&"none"!==a)&&(i=!0),(t.get(["itemStyle","decal"])||r&&"none"!==r)&&(n=!0)}));var s=e[0]||(e[0]={});return i||(s.color=a.slice()),!n&&r&&(s.decal=r.slice()),e}}var ro=eo,io=a("286f"),no=8,so=8,oo=5,lo=function(){function e(e){this.group=new xt["a"],e.add(this.group)}return e.prototype.render=function(e,t,a,r){var i=e.getModel("breadcrumb"),n=this.group;if(n.removeAll(),i.get("show")&&a){var s=i.getModel("itemStyle"),o=s.getModel("textStyle"),l={pos:{left:i.get("left"),right:i.get("right"),top:i.get("top"),bottom:i.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:i.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(a,l,o),this._renderContent(e,l,s,o,r),Mn["i"](n,l.pos,l.box)}},e.prototype._prepare=function(e,t,a){for(var r=e;r;r=r.parentNode){var i=Object(qt["e"])(r.getModel().get("name"),""),n=a.getTextRect(i),s=Math.max(n.width+2*no,t.emptyItemWidth);t.totalWidth+=s+so,t.renderList.push({node:r,text:i,width:s})}},e.prototype._renderContent=function(e,t,a,r,i){for(var n=0,s=t.emptyItemWidth,o=e.get(["breadcrumb","height"]),l=Mn["e"](t.pos,t.box),c=t.totalWidth,d=t.renderList,u=d.length-1;u>=0;u--){var h=d[u],p=h.node,f=h.width,m=h.text;c>l.width&&(c-=f-s,f=s,m=null);var g=new Ka["a"]({shape:{points:co(n,0,f,o,u===d.length-1,0===u)},style:Object(U["defaults"])(a.getItemStyle(),{lineJoin:"bevel"}),textContent:new we["a"]({style:{text:m,fill:r.getTextColor(),font:r.getFont()}}),textConfig:{position:"inside"},z2:1e4*jt["j"],onclick:Object(U["curry"])(i,p)});g.disableLabelAnimation=!0,this.group.add(g),uo(g,e,p),n+=f+so}},e.prototype.remove=function(){this.group.removeAll()},e}();function co(e,t,a,r,i,n){var s=[[i?e:e-oo,t],[e+a,t],[e+a,t+r],[i?e:e-oo,t+r]];return!n&&s.splice(2,0,[e+a+oo,t+r/2]),!i&&s.push([e,t+r/2]),s}function uo(e,t,a){Object(Tt["a"])(e).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:a&&a.dataIndex,name:a&&a.name},treePathInfo:a&&$s(a,t)}}var ho=lo,po=function(){function e(){this._storage=[],this._elExistsMap={}}return e.prototype.add=function(e,t,a,r,i){return!this._elExistsMap[e.id]&&(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:t,duration:a,delay:r,easing:i}),!0)},e.prototype.finished=function(e){return this._finishedCallback=e,this},e.prototype.start=function(){for(var e=this,t=this._storage.length,a=function(){t--,t<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},r=0,i=this._storage.length;r<i;r++){var n=this._storage[r];n.el.animateTo(n.target,{duration:n.duration,delay:n.delay,easing:n.easing,setToFinal:!0,done:a,aborted:a})}return this},e}();function fo(){return new po}var mo=a("12c3"),go=xt["a"],_o=Xr["a"],vo=3,bo="label",yo="upperLabel",ko=10*jt["j"],xo=2*jt["j"],wo=3*jt["j"],So=Object(mo["a"])([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),Co=function(e){var t=So(e);return t.stroke=t.fill=t.lineWidth=null,t},Oo=Object(qt["o"])(),To=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a._state="ready",a._storage=jo(),a}return Object(vt["a"])(t,e),t.prototype.render=function(e,t,a,r){var i=t.findComponents({mainType:"series",subType:"treemap",query:r});if(!(Object(U["indexOf"])(i,e)<0)){this.seriesModel=e,this.api=a,this.ecModel=t;var n=["treemapZoomToNode","treemapRootToNode"],s=Ls(r,n,e),o=r&&r.type,l=e.layoutInfo,c=!this._oldTree,d=this._storage,u="treemapRootToNode"===o&&s&&d?{rootNodeGroup:d.nodeGroup[s.node.getRawIndex()],direction:r.direction}:null,h=this._giveContainerGroup(l),p=e.get("animation"),f=this._doRender(h,e,u);!p||c||o&&"treemapZoomToNode"!==o&&"treemapRootToNode"!==o?f.renderFinally():this._doAnimation(h,f,e,u),this._resetController(a),this._renderBreadcrumb(e,a,s)}},t.prototype._giveContainerGroup=function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new go,this._initEvents(t),this.group.add(t)),t.x=e.x,t.y=e.y,t},t.prototype._doRender=function(e,t,a){var r=t.getData().tree,i=this._oldTree,n=jo(),s=jo(),o=this._storage,l=[];function c(e,r,i,c){return Io(t,s,o,a,n,l,e,r,i,c)}u(r.root?[r.root]:[],i&&i.root?[i.root]:[],e,r===i||!i,0);var d=h(o);return this._oldTree=r,this._storage=s,{lastsForAnimation:n,willDeleteEls:d,renderFinally:p};function u(e,t,a,r,i){function n(e){return e.getId()}function s(n,s){var o=null!=n?e[n]:null,l=null!=s?t[s]:null,d=c(o,l,a,i);d&&u(o&&o.viewChildren||[],l&&l.viewChildren||[],d,r,i+1)}r?(t=e,Object(U["each"])(e,(function(e,t){!e.isRemoved()&&s(t,t)}))):new io["a"](t,e,n,n).add(s).update(s).remove(Object(U["curry"])(s,null)).execute()}function h(e){var t=jo();return e&&Object(U["each"])(e,(function(e,a){var r=t[a];Object(U["each"])(e,(function(e){e&&(r.push(e),Oo(e).willDelete=!0)}))})),t}function p(){Object(U["each"])(d,(function(e){Object(U["each"])(e,(function(e){e.parent&&e.parent.remove(e)}))})),Object(U["each"])(l,(function(e){e.invisible=!0,e.dirty()}))}},t.prototype._doAnimation=function(e,t,a,r){var i=a.get("animationDurationUpdate"),n=a.get("animationEasing"),s=(Object(U["isFunction"])(i)?0:i)||0,o=(Object(U["isFunction"])(n)?null:n)||"cubicOut",l=fo();Object(U["each"])(t.willDeleteEls,(function(e,t){Object(U["each"])(e,(function(e,a){if(!e.invisible){var i,n=e.parent,c=Oo(n);if(r&&"drillDown"===r.direction)i=n===r.rootNodeGroup?{shape:{x:0,y:0,width:c.nodeWidth,height:c.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var d=0,u=0;c.willDelete||(d=c.nodeWidth/2,u=c.nodeHeight/2),i="nodeGroup"===t?{x:d,y:u,style:{opacity:0}}:{shape:{x:d,y:u,width:0,height:0},style:{opacity:0}}}i&&l.add(e,i,s,0,o)}}))})),Object(U["each"])(this._storage,(function(e,a){Object(U["each"])(e,(function(e,r){var i=t.lastsForAnimation[a][r],n={};i&&(e instanceof xt["a"]?null!=i.oldX&&(n.x=e.x,n.y=e.y,e.x=i.oldX,e.y=i.oldY):(i.oldShape&&(n.shape=Object(U["extend"])({},e.shape),e.setShape(i.oldShape)),i.fadein?(e.setStyle("opacity",0),n.style={opacity:1}):1!==e.style.opacity&&(n.style={opacity:1})),l.add(e,n,s,0,o))}))}),this),this._state="animating",l.finished(Object(U["bind"])((function(){this._state="ready",t.renderFinally()}),this)).start()},t.prototype._resetController=function(e){var t=this._controller;t||(t=this._controller=new Vr(e.getZr()),t.enable(this.seriesModel.get("roam")),t.on("pan",Object(U["bind"])(this._onPan,this)),t.on("zoom",Object(U["bind"])(this._onZoom,this)));var a=new Ba["a"](0,0,e.getWidth(),e.getHeight());t.setPointerChecker((function(e,t,r){return a.contain(t,r)}))},t.prototype._clearController=function(){var e=this._controller;e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if("animating"!==this._state&&(Math.abs(e.dx)>vo||Math.abs(e.dy)>vo)){var t=this.seriesModel.getData().tree.root;if(!t)return;var a=t.getLayout();if(!a)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:a.x+e.dx,y:a.y+e.dy,width:a.width,height:a.height}})}},t.prototype._onZoom=function(e){var t=e.originX,a=e.originY;if("animating"!==this._state){var r=this.seriesModel.getData().tree.root;if(!r)return;var i=r.getLayout();if(!i)return;var n=new Ba["a"](i.x,i.y,i.width,i.height),s=this.seriesModel.layoutInfo;t-=s.x,a-=s.y;var o=Zr["create"]();Zr["translate"](o,o,[-t,-a]),Zr["scale"](o,o,[e.scale,e.scale]),Zr["translate"](o,o,[t,a]),n.applyTransform(o),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x,y:n.y,width:n.width,height:n.height}})}},t.prototype._initEvents=function(e){var t=this;e.on("click",(function(e){if("ready"===t._state){var a=t.seriesModel.get("nodeClick",!0);if(a){var r=t.findTarget(e.offsetX,e.offsetY);if(r){var i=r.node;if(i.getLayout().isLeafRoot)t._rootToNode(r);else if("zoomToNode"===a)t._zoomToNode(r);else if("link"===a){var n=i.hostTree.data.getItemModel(i.dataIndex),s=n.get("link",!0),o=n.get("target",!0)||"blank";s&&Object(sa["l"])(s,o)}}}}}),this)},t.prototype._renderBreadcrumb=function(e,t,a){var r=this;a||(a=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2),a||(a={node:e.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new ho(this.group))).render(e,t,a.node,(function(t){"animating"!==r._state&&(Ns(e.getViewRoot(),t)?r._rootToNode({node:t}):r._zoomToNode({node:t}))}))},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=jo(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,t){var a,r=this.seriesModel.getViewRoot();return r.eachNode({attr:"viewChildren",order:"preorder"},(function(r){var i=this._storage.background[r.getRawIndex()];if(i){var n=i.transformCoordToLocal(e,t),s=i.shape;if(!(s.x<=n[0]&&n[0]<=s.x+s.width&&s.y<=n[1]&&n[1]<=s.y+s.height))return!1;a={node:r,offsetX:n[0],offsetY:n[1]}}}),this),a},t.type="treemap",t}(ra["a"]);function jo(){return{nodeGroup:[],background:[],content:[]}}function Io(e,t,a,r,i,n,s,o,l,c){if(s){var d=s.getLayout(),u=e.getData(),h=s.getModel();if(u.setItemGraphicEl(s.dataIndex,null),d&&d.isInView){var p=d.width,f=d.height,m=d.borderWidth,g=d.invisible,_=s.getRawIndex(),v=o&&o.getRawIndex(),b=s.viewChildren,y=d.upperHeight,k=b&&b.length,x=h.getModel("itemStyle"),w=h.getModel(["emphasis","itemStyle"]),S=h.getModel(["blur","itemStyle"]),C=h.getModel(["select","itemStyle"]),O=x.get("borderRadius")||0,T=$("nodeGroup",go);if(T){if(l.add(T),T.x=d.x||0,T.y=d.y||0,T.markRedraw(),Oo(T).nodeWidth=p,Oo(T).nodeHeight=f,d.isAboveViewRoot)return T;var j=$("background",_o,c,xo);j&&B(T,j,k&&d.upperLabelHeight);var I=h.getModel("emphasis"),A=I.get("focus"),D=I.get("blurScope"),M=I.get("disabled"),E="ancestor"===A?s.getAncestorsIndices():"descendant"===A?s.getDescendantIndices():A;if(k)Object(jt["y"])(T)&&Object(jt["F"])(T,!1),j&&(Object(jt["F"])(j,!M),u.setItemGraphicEl(s.dataIndex,j),Object(jt["p"])(j,E,D));else{var R=$("content",_o,c,wo);R&&P(T,R),j.disableMorphing=!0,j&&Object(jt["y"])(j)&&Object(jt["F"])(j,!1),Object(jt["F"])(T,!M),u.setItemGraphicEl(s.dataIndex,T),Object(jt["p"])(T,E,D)}return T}}}function B(t,a,r){var i=Object(Tt["a"])(a);if(i.dataIndex=s.dataIndex,i.seriesIndex=e.seriesIndex,a.setShape({x:0,y:0,width:p,height:f,r:O}),g)L(a);else{a.invisible=!1;var n=s.getVisual("style"),o=n.stroke,l=Co(x);l.fill=o;var c=So(w);c.fill=w.get("borderColor");var d=So(S);d.fill=S.get("borderColor");var u=So(C);if(u.fill=C.get("borderColor"),r){var h=p-2*m;F(a,o,n.opacity,{x:m,y:0,width:h,height:y})}else a.removeTextContent();a.setStyle(l),a.ensureState("emphasis").style=c,a.ensureState("blur").style=d,a.ensureState("select").style=u,Object(jt["G"])(a)}t.add(a)}function P(t,a){var r=Object(Tt["a"])(a);r.dataIndex=s.dataIndex,r.seriesIndex=e.seriesIndex;var i=Math.max(p-2*m,0),n=Math.max(f-2*m,0);if(a.culling=!0,a.setShape({x:m,y:m,width:i,height:n,r:O}),g)L(a);else{a.invisible=!1;var o=s.getVisual("style"),l=o.fill,c=Co(x);c.fill=l,c.decal=o.decal;var d=So(w),u=So(S),h=So(C);F(a,l,o.opacity,null),a.setStyle(c),a.ensureState("emphasis").style=d,a.ensureState("blur").style=u,a.ensureState("select").style=h,Object(jt["G"])(a)}t.add(a)}function L(e){!e.invisible&&n.push(e)}function F(t,a,r,i){var n=h.getModel(i?yo:bo),o=Object(qt["e"])(h.get("name"),null),l=n.getShallow("show");Object(At["g"])(t,Object(At["e"])(h,i?yo:bo),{defaultText:l?o:null,inheritColor:a,defaultOpacity:r,labelFetcher:e,labelDataIndex:s.dataIndex});var c=t.getTextContent();if(c){var u=c.style,p=Object(U["normalizeCssArray"])(u.padding||0);i&&(t.setTextConfig({layoutRect:i}),c.disableLabelLayout=!0),c.beforeUpdate=function(){var e=Math.max((i?i.width:t.shape.width)-p[1]-p[3],0),a=Math.max((i?i.height:t.shape.height)-p[0]-p[2],0);u.width===e&&u.height===a||c.setStyle({width:e,height:a})},u.truncateMinChar=2,u.lineOverflow="truncate",N(u,i,d);var f=c.getState("emphasis");N(f?f.style:null,i,d)}}function N(t,a,r){var i=t?t.text:null;if(!a&&r.isLeafRoot&&null!=i){var n=e.get("drillDownIcon",!0);t.text=n?n+" "+i:i}}function $(e,r,n,s){var o=null!=v&&a[e][v],l=i[e];return o?(a[e][v]=null,z(l,o)):g||(o=new r,o instanceof Ki["c"]&&(o.z2=Ao(n,s)),V(l,o)),t[e][_]=o}function z(e,t){var a=e[_]={};t instanceof go?(a.oldX=t.x,a.oldY=t.y):a.oldShape=Object(U["extend"])({},t.shape)}function V(e,t){var a=e[_]={},n=s.parentNode,o=t instanceof xt["a"];if(n&&(!r||"drillDown"===r.direction)){var l=0,c=0,d=i.background[n.getRawIndex()];!r&&d&&d.oldShape&&(l=d.oldShape.width,c=d.oldShape.height),o?(a.oldX=0,a.oldY=c):a.oldShape={x:l,y:c,width:0,height:0}}a.fadein=!o}}function Ao(e,t){return e*ko+t}var Do=To,Mo=a("d4e1"),Eo=U["each"],Ro=U["isObject"],Bo=-1,Po=function(){function e(t){var a=t.mappingMethod,r=t.type,i=this.option=U["clone"](t);this.type=r,this.mappingMethod=a,this._normalizeData=Xo[a];var n=e.visualHandlers[r];this.applyVisual=n.applyVisual,this.getColorMapper=n.getColorMapper,this._normalizedToVisual=n._normalizedToVisual[a],"piecewise"===a?(No(i),Lo(i)):"category"===a?i.categories?Fo(i):No(i,!0):(U["assert"]("linear"!==a||i.dataExtent),No(i))}return e.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},e.prototype.getNormalizer=function(){return U["bind"](this._normalizeData,this)},e.listVisualTypes=function(){return U["keys"](e.visualHandlers)},e.isValidType=function(t){return e.visualHandlers.hasOwnProperty(t)},e.eachVisual=function(e,t,a){U["isObject"](e)?U["each"](e,t,a):t.call(a,e)},e.mapVisual=function(t,a,r){var i,n=U["isArray"](t)?[]:U["isObject"](t)?{}:(i=!0,null);return e.eachVisual(t,(function(e,t){var s=a.call(r,e,t);i?n=s:n[t]=s})),n},e.retrieveVisuals=function(t){var a,r={};return t&&Eo(e.visualHandlers,(function(e,i){t.hasOwnProperty(i)&&(r[i]=t[i],a=!0)})),a?r:null},e.prepareVisualTypes=function(e){if(U["isArray"](e))e=e.slice();else{if(!Ro(e))return[];var t=[];Eo(e,(function(e,a){t.push(a)})),e=t}return e.sort((function(e,t){return"color"===t&&"color"!==e&&0===e.indexOf("color")?1:-1})),e},e.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},e.findPieceIndex=function(e,t,a){for(var r,i=1/0,n=0,s=t.length;n<s;n++){var o=t[n].value;if(null!=o){if(o===e||U["isString"](o)&&o===e+"")return n;a&&u(o,n)}}for(n=0,s=t.length;n<s;n++){var l=t[n],c=l.interval,d=l.close;if(c){if(c[0]===-1/0){if(Yo(d[1],e,c[1]))return n}else if(c[1]===1/0){if(Yo(d[0],c[0],e))return n}else if(Yo(d[0],c[0],e)&&Yo(d[1],e,c[1]))return n;a&&u(c[0],n),a&&u(c[1],n)}}if(a)return e===1/0?t.length-1:e===-1/0?0:r;function u(t,a){var n=Math.abs(t-e);n<i&&(i=n,r=a)}},e.visualHandlers={color:{applyVisual:Vo("color"),getColorMapper:function(){var e=this.option;return U["bind"]("category"===e.mappingMethod?function(e,t){return!t&&(e=this._normalizeData(e)),Uo.call(this,e)}:function(t,a,r){var i=!!r;return!a&&(t=this._normalizeData(t)),r=oa["fastLerp"](t,e.parsedVisual,r),i?r:oa["stringify"](r,"rgba")},this)},_normalizedToVisual:{linear:function(e){return oa["stringify"](oa["fastLerp"](e,this.option.parsedVisual),"rgba")},category:Uo,piecewise:function(e,t){var a=Wo.call(this,t);return null==a&&(a=oa["stringify"](oa["fastLerp"](e,this.option.parsedVisual),"rgba")),a},fixed:Ho}},colorHue:$o((function(e,t){return oa["modifyHSL"](e,t)})),colorSaturation:$o((function(e,t){return oa["modifyHSL"](e,null,t)})),colorLightness:$o((function(e,t){return oa["modifyHSL"](e,null,null,t)})),colorAlpha:$o((function(e,t){return oa["modifyAlpha"](e,t)})),decal:{applyVisual:Vo("decal"),_normalizedToVisual:{linear:null,category:Uo,piecewise:null,fixed:null}},opacity:{applyVisual:Vo("opacity"),_normalizedToVisual:Go([0,1])},liftZ:{applyVisual:Vo("liftZ"),_normalizedToVisual:{linear:Ho,category:Ho,piecewise:Ho,fixed:Ho}},symbol:{applyVisual:function(e,t,a){var r=this.mapValueToVisual(e);a("symbol",r)},_normalizedToVisual:{linear:zo,category:Uo,piecewise:function(e,t){var a=Wo.call(this,t);return null==a&&(a=zo.call(this,e)),a},fixed:Ho}},symbolSize:{applyVisual:Vo("symbolSize"),_normalizedToVisual:Go([0,1])}},e}();function Lo(e){var t=e.pieceList;e.hasSpecialVisual=!1,U["each"](t,(function(t,a){t.originIndex=a,null!=t.visual&&(e.hasSpecialVisual=!0)}))}function Fo(e){var t=e.categories,a=e.categoryMap={},r=e.visual;if(Eo(t,(function(e,t){a[e]=t})),!U["isArray"](r)){var i=[];U["isObject"](r)?Eo(r,(function(e,t){var r=a[t];i[null!=r?r:Bo]=e})):i[Bo]=r,r=qo(e,i)}for(var n=t.length-1;n>=0;n--)null==r[n]&&(delete a[t[n]],t.pop())}function No(e,t){var a=e.visual,r=[];U["isObject"](a)?Eo(a,(function(e){r.push(e)})):null!=a&&r.push(a);var i={color:1,symbol:1};t||1!==r.length||i.hasOwnProperty(e.type)||(r[1]=r[0]),qo(e,r)}function $o(e){return{applyVisual:function(t,a,r){var i=this.mapValueToVisual(t);r("color",e(a("color"),i))},_normalizedToVisual:Go([0,1])}}function zo(e){var t=this.option.visual;return t[Math.round(Object(Sr["l"])(e,[0,1],[0,t.length-1],!0))]||{}}function Vo(e){return function(t,a,r){r(e,this.mapValueToVisual(t))}}function Uo(e){var t=this.option.visual;return t[this.option.loop&&e!==Bo?e%t.length:e]}function Ho(){return this.option.visual[0]}function Go(e){return{linear:function(t){return Object(Sr["l"])(t,e,this.option.visual,!0)},category:Uo,piecewise:function(t,a){var r=Wo.call(this,a);return null==r&&(r=Object(Sr["l"])(t,e,this.option.visual,!0)),r},fixed:Ho}}function Wo(e){var t=this.option,a=t.pieceList;if(t.hasSpecialVisual){var r=Po.findPieceIndex(e,a),i=a[r];if(i&&i.visual)return i.visual[this.type]}}function qo(e,t){return e.visual=t,"color"===e.type&&(e.parsedVisual=U["map"](t,(function(e){var t=oa["parse"](e);return t||[0,0,0,1]}))),t}var Xo={linear:function(e){return Object(Sr["l"])(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,a=Po.findPieceIndex(e,t,!0);if(null!=a)return Object(Sr["l"])(a,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return null==t?Bo:t},fixed:U["noop"]};function Yo(e,t,a){return e?t<=a:t<a}var Ko=Po,Zo="itemStyle",Jo=Object(qt["o"])(),Qo={seriesType:"treemap",reset:function(e){var t=e.getData().tree,a=t.root;a.isRemoved()||el(a,{},e.getViewRoot().getAncestors(),e)}};function el(e,t,a,r){var i=e.getModel(),n=e.getLayout(),s=e.hostTree.data;if(n&&!n.invisible&&n.isInView){var o,l=i.getModel(Zo),c=tl(l,t,r),d=s.ensureUniqueItemVisual(e.dataIndex,"style"),u=l.get("borderColor"),h=l.get("borderColorSaturation");null!=h&&(o=al(c),u=rl(h,o)),d.stroke=u;var p=e.viewChildren;if(p&&p.length){var f=nl(e,i,n,l,c,p);Object(U["each"])(p,(function(e,t){if(e.depth>=a.length||e===a[e.depth]){var n=ol(i,c,e,t,f,r);el(e,n,a,r)}}))}else o=al(c),d.fill=o}}function tl(e,t,a){var r=Object(U["extend"])({},t),i=a.designatedVisualItemStyle;return Object(U["each"])(["color","colorAlpha","colorSaturation"],(function(a){i[a]=t[a];var n=e.get(a);i[a]=null,null!=n&&(r[a]=n)})),r}function al(e){var t=il(e,"color");if(t){var a=il(e,"colorAlpha"),r=il(e,"colorSaturation");return r&&(t=Object(oa["modifyHSL"])(t,null,null,r)),a&&(t=Object(oa["modifyAlpha"])(t,a)),t}}function rl(e,t){return null!=t?Object(oa["modifyHSL"])(t,null,null,e):null}function il(e,t){var a=e[t];if(null!=a&&"none"!==a)return a}function nl(e,t,a,r,i,n){if(n&&n.length){var s=sl(t,"color")||null!=i.color&&"none"!==i.color&&(sl(t,"colorAlpha")||sl(t,"colorSaturation"));if(s){var o=t.get("visualMin"),l=t.get("visualMax"),c=a.dataExtent.slice();null!=o&&o<c[0]&&(c[0]=o),null!=l&&l>c[1]&&(c[1]=l);var d=t.get("colorMappingBy"),u={type:s.name,dataExtent:c,visual:s.range};"color"!==u.type||"index"!==d&&"id"!==d?u.mappingMethod="linear":(u.mappingMethod="category",u.loop=!0);var h=new Ko(u);return Jo(h).drColorMappingBy=d,h}}}function sl(e,t){var a=e.get(t);return Object(U["isArray"])(a)&&a.length?{name:t,range:a}:null}function ol(e,t,a,r,i,n){var s=Object(U["extend"])({},t);if(i){var o=i.type,l="color"===o&&Jo(i).drColorMappingBy,c="index"===l?r:"id"===l?n.mapIdToIndex(a.getId()):a.getValue(e.get("visualDimension"));s[o]=i.mapValueToVisual(c)}return s}var ll=Math.max,cl=Math.min,dl=U["retrieve"],ul=U["each"],hl=["itemStyle","borderWidth"],pl=["itemStyle","gapWidth"],fl=["upperLabel","show"],ml=["upperLabel","height"],gl={seriesType:"treemap",reset:function(e,t,a,r){var i=a.getWidth(),n=a.getHeight(),s=e.option,o=Mn["g"](e.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()}),l=s.size||[],c=Object(Sr["p"])(dl(o.width,l[0]),i),d=Object(Sr["p"])(dl(o.height,l[1]),n),u=r&&r.type,h=["treemapZoomToNode","treemapRootToNode"],p=Ls(r,h,e),f="treemapRender"===u||"treemapMove"===u?r.rootRect:null,m=e.getViewRoot(),g=Fs(m);if("treemapMove"!==u){var _="treemapZoomToNode"===u?Sl(e,p,m,c,d):f?[f.width,f.height]:[c,d],v=s.sort;v&&"asc"!==v&&"desc"!==v&&(v="desc");var b={squareRatio:s.squareRatio,sort:v,leafDepth:s.leafDepth};m.hostTree.clearLayouts();var y={x:0,y:0,width:_[0],height:_[1],area:_[0]*_[1]};m.setLayout(y),_l(m,b,!1,0),y=m.getLayout(),ul(g,(function(e,t){var a=(g[t+1]||m).getValue();e.setLayout(U["extend"]({dataExtent:[a,a],borderWidth:0,upperHeight:0},y))}))}var k=e.getData().tree.root;k.setLayout(Cl(o,f,p),!0),e.setLayoutInfo(o),Ol(k,new Ba["a"](-o.x,-o.y,i,n),g,m,0)}};function _l(e,t,a,r){var i,n;if(!e.isRemoved()){var s=e.getLayout();i=s.width,n=s.height;var o=e.getModel(),l=o.get(hl),c=o.get(pl)/2,d=Tl(o),u=Math.max(l,d),h=l-c,p=u-c;e.setLayout({borderWidth:l,upperHeight:u,upperLabelHeight:d},!0),i=ll(i-2*h,0),n=ll(n-h-p,0);var f=i*n,m=vl(e,o,f,t,a,r);if(m.length){var g={x:h,y:p,width:i,height:n},_=cl(i,n),v=1/0,b=[];b.area=0;for(var y=0,k=m.length;y<k;){var x=m[y];b.push(x),b.area+=x.getLayout().area;var w=xl(b,_,t.squareRatio);w<=v?(y++,v=w):(b.area-=b.pop().getLayout().area,wl(b,_,g,c,!1),_=cl(g.width,g.height),b.length=b.area=0,v=1/0)}if(b.length&&wl(b,_,g,c,!0),!a){var S=o.get("childrenVisibleMin");null!=S&&f<S&&(a=!0)}for(y=0,k=m.length;y<k;y++)_l(m[y],t,a,r+1)}}}function vl(e,t,a,r,i,n){var s=e.children||[],o=r.sort;"asc"!==o&&"desc"!==o&&(o=null);var l=null!=r.leafDepth&&r.leafDepth<=n;if(i&&!l)return e.viewChildren=[];s=U["filter"](s,(function(e){return!e.isRemoved()})),yl(s,o);var c=kl(t,s,o);if(0===c.sum)return e.viewChildren=[];if(c.sum=bl(t,a,c.sum,o,s),0===c.sum)return e.viewChildren=[];for(var d=0,u=s.length;d<u;d++){var h=s[d].getValue()/c.sum*a;s[d].setLayout({area:h})}return l&&(s.length&&e.setLayout({isLeafRoot:!0},!0),s.length=0),e.viewChildren=s,e.setLayout({dataExtent:c.dataExtent},!0),s}function bl(e,t,a,r,i){if(!r)return a;for(var n=e.get("visibleMin"),s=i.length,o=s,l=s-1;l>=0;l--){var c=i["asc"===r?s-l-1:l].getValue();c/a*t<n&&(o=l,a-=c)}return"asc"===r?i.splice(0,s-o):i.splice(o,s-o),a}function yl(e,t){return t&&e.sort((function(e,a){var r="asc"===t?e.getValue()-a.getValue():a.getValue()-e.getValue();return 0===r?"asc"===t?e.dataIndex-a.dataIndex:a.dataIndex-e.dataIndex:r})),e}function kl(e,t,a){for(var r=0,i=0,n=t.length;i<n;i++)r+=t[i].getValue();var s,o=e.get("visualDimension");return t&&t.length?"value"===o&&a?(s=[t[t.length-1].getValue(),t[0].getValue()],"asc"===a&&s.reverse()):(s=[1/0,-1/0],ul(t,(function(e){var t=e.getValue(o);t<s[0]&&(s[0]=t),t>s[1]&&(s[1]=t)}))):s=[NaN,NaN],{sum:r,dataExtent:s}}function xl(e,t,a){for(var r=0,i=1/0,n=0,s=void 0,o=e.length;n<o;n++)s=e[n].getLayout().area,s&&(s<i&&(i=s),s>r&&(r=s));var l=e.area*e.area,c=t*t*a;return l?ll(c*r/l,l/(c*i)):1/0}function wl(e,t,a,r,i){var n=t===a.width?0:1,s=1-n,o=["x","y"],l=["width","height"],c=a[o[n]],d=t?e.area/t:0;(i||d>a[l[s]])&&(d=a[l[s]]);for(var u=0,h=e.length;u<h;u++){var p=e[u],f={},m=d?p.getLayout().area/d:0,g=f[l[s]]=ll(d-2*r,0),_=a[o[n]]+a[l[n]]-c,v=u===h-1||_<m?_:m,b=f[l[n]]=ll(v-2*r,0);f[o[s]]=a[o[s]]+cl(r,g/2),f[o[n]]=c+cl(r,b/2),c+=v,p.setLayout(f,!0)}a[o[s]]+=d,a[l[s]]-=d}function Sl(e,t,a,r,i){var n,s=(t||{}).node,o=[r,i];if(!s||s===a)return o;var l=r*i,c=l*e.option.zoomToNodeRatio;while(n=s.parentNode){for(var d=0,u=n.children,h=0,p=u.length;h<p;h++)d+=u[h].getValue();var f=s.getValue();if(0===f)return o;c*=d/f;var m=n.getModel(),g=m.get(hl),_=Math.max(g,Tl(m));c+=4*g*g+(3*g+_)*Math.pow(c,.5),c>Sr["a"]&&(c=Sr["a"]),s=n}c<l&&(c=l);var v=Math.pow(c/l,.5);return[r*v,i*v]}function Cl(e,t,a){if(t)return{x:t.x,y:t.y};var r={x:0,y:0};if(!a)return r;var i=a.node,n=i.getLayout();if(!n)return r;var s=[n.width/2,n.height/2],o=i;while(o){var l=o.getLayout();s[0]+=l.x,s[1]+=l.y,o=o.parentNode}return{x:e.width/2-s[0],y:e.height/2-s[1]}}function Ol(e,t,a,r,i){var n=e.getLayout(),s=a[i],o=s&&s===e;if(!(s&&!o||i===a.length&&e!==r)){e.setLayout({isInView:!0,invisible:!o&&!t.intersect(n),isAboveViewRoot:o},!0);var l=new Ba["a"](t.x-n.x,t.y-n.y,t.width,t.height);ul(e.viewChildren||[],(function(e){Ol(e,l,a,r,i+1)}))}}function Tl(e){return e.get(fl)?e.get(ml):0}function jl(e){e.registerSeriesModel(ro),e.registerChartView(Do),e.registerVisual(Qo),e.registerLayout(gl),Zs(e)}function Il(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.eachSeriesByType("graph",(function(e){var a=e.getCategoriesData(),r=e.getGraph(),i=r.data,n=a.mapArray(a.getName);i.filterSelf((function(e){var a=i.getItemModel(e),r=a.getShallow("category");if(null!=r){Object(U["isNumber"])(r)&&(r=n[r]);for(var s=0;s<t.length;s++)if(!t[s].isSelected(r))return!1}return!0}))}))}function Al(e){var t={};e.eachSeriesByType("graph",(function(e){var a=e.getCategoriesData(),r=e.getData(),i={};a.each((function(r){var n=a.getName(r);i["ec-"+n]=r;var s=a.getItemModel(r),o=s.getModel("itemStyle").getItemStyle();o.fill||(o.fill=e.getColorFromPalette(n,t)),a.setItemVisual(r,"style",o);for(var l=["symbol","symbolSize","symbolKeepAspect"],c=0;c<l.length;c++){var d=s.getShallow(l[c],!0);null!=d&&a.setItemVisual(r,l[c],d)}})),a.count()&&r.each((function(e){var t=r.getItemModel(e),n=t.getShallow("category");if(null!=n){Object(U["isString"])(n)&&(n=i["ec-"+n]);var s=a.getItemVisual(n,"style"),o=r.ensureUniqueItemVisual(e,"style");Object(U["extend"])(o,s);for(var l=["symbol","symbolSize","symbolKeepAspect"],c=0;c<l.length;c++)r.setItemVisual(e,l[c],a.getItemVisual(n,l[c]))}}))}))}function Dl(e){return e instanceof Array||(e=[e,e]),e}function Ml(e){e.eachSeriesByType("graph",(function(e){var t=e.getGraph(),a=e.getEdgeData(),r=Dl(e.get("edgeSymbol")),i=Dl(e.get("edgeSymbolSize"));a.setVisual("fromSymbol",r&&r[0]),a.setVisual("toSymbol",r&&r[1]),a.setVisual("fromSymbolSize",i&&i[0]),a.setVisual("toSymbolSize",i&&i[1]),a.setVisual("style",e.getModel("lineStyle").getLineStyle()),a.each((function(e){var r=a.getItemModel(e),i=t.getEdgeByIndex(e),n=Dl(r.getShallow("symbol",!0)),s=Dl(r.getShallow("symbolSize",!0)),o=r.getModel("lineStyle").getLineStyle(),l=a.ensureUniqueItemVisual(e,"style");switch(Object(U["extend"])(l,o),l.stroke){case"source":var c=i.node1.getVisual("style");l.stroke=c&&c.fill;break;case"target":c=i.node2.getVisual("style");l.stroke=c&&c.fill;break}n[0]&&i.setVisual("fromSymbol",n[0]),n[1]&&i.setVisual("toSymbol",n[1]),s[0]&&i.setVisual("fromSymbolSize",s[0]),s[1]&&i.setVisual("toSymbolSize",s[1])}))}))}var El="--\x3e",Rl=function(e){return e.get("autoCurveness")||null},Bl=function(e,t){var a=Rl(e),r=20,i=[];if(U["isNumber"](a))r=a;else if(U["isArray"](a))return void(e.__curvenessList=a);t>r&&(r=t);var n=r%2?r+2:r+3;i=[];for(var s=0;s<n;s++)i.push((s%2?s+1:s)/10*(s%2?-1:1));e.__curvenessList=i},Pl=function(e,t,a){var r=[e.id,e.dataIndex].join("."),i=[t.id,t.dataIndex].join(".");return[a.uid,r,i].join(El)},Ll=function(e){var t=e.split(El);return[t[0],t[2],t[1]].join(El)},Fl=function(e,t){var a=Pl(e.node1,e.node2,t);return t.__edgeMap[a]},Nl=function(e,t){var a=$l(Pl(e.node1,e.node2,t),t),r=$l(Pl(e.node2,e.node1,t),t);return a+r},$l=function(e,t){var a=t.__edgeMap;return a[e]?a[e].length:0};function zl(e){Rl(e)&&(e.__curvenessList=[],e.__edgeMap={},Bl(e))}function Vl(e,t,a,r){if(Rl(a)){var i=Pl(e,t,a),n=a.__edgeMap,s=n[Ll(i)];n[i]&&!s?n[i].isForward=!0:s&&n[i]&&(s.isForward=!0,n[i].isForward=!1),n[i]=n[i]||[],n[i].push(r)}}function Ul(e,t,a,r){var i=Rl(t),n=U["isArray"](i);if(!i)return null;var s=Fl(e,t);if(!s)return null;for(var o=-1,l=0;l<s.length;l++)if(s[l]===a){o=l;break}var c=Nl(e,t);Bl(t,c),e.lineStyle=e.lineStyle||{};var d=Pl(e.node1,e.node2,t),u=t.__curvenessList,h=n||c%2?0:1;if(s.isForward)return u[h+o];var p=Ll(d),f=$l(p,t),m=u[o+f+h];return r?n?i&&0===i[0]?(f+h)%2?m:-m:((f%2?0:1)+h)%2?m:-m:(f+h)%2?m:-m:u[o+f+h]}function Hl(e){var t=e.coordinateSystem;if(!t||"view"===t.type){var a=e.getGraph();a.eachNode((function(e){var t=e.getModel();e.setLayout([+t.get("x"),+t.get("y")])})),Gl(a,e)}}function Gl(e,t){e.eachEdge((function(e,a){var r=U["retrieve3"](e.getModel().get(["lineStyle","curveness"]),-Ul(e,t,a,!0),0),i=xn["clone"](e.node1.getLayout()),n=xn["clone"](e.node2.getLayout()),s=[i,n];+r&&s.push([(i[0]+n[0])/2-(i[1]-n[1])*r,(i[1]+n[1])/2-(n[0]-i[0])*r]),e.setLayout(s)}))}function Wl(e,t){e.eachSeriesByType("graph",(function(e){var t=e.get("layout"),a=e.coordinateSystem;if(a&&"view"!==a.type){var r=e.getData(),i=[];Object(U["each"])(a.dimensions,(function(e){i=i.concat(r.mapDimensionsAll(e))}));for(var n=0;n<r.count();n++){for(var s=[],o=!1,l=0;l<i.length;l++){var c=r.get(i[l],n);isNaN(c)||(o=!0),s.push(c)}o?r.setItemLayout(n,a.dataToPoint(s)):r.setItemLayout(n,[NaN,NaN])}Gl(r.graph,e)}else t&&"none"!==t||Hl(e)}))}function ql(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var a=e.option.nodeScaleRatio,r=t.scaleX,i=t.getZoom(),n=(i-1)*a+1;return n/r}function Xl(e){var t=e.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var Yl=Math.PI,Kl=[];function Zl(e,t){var a=e.coordinateSystem;if(!a||"view"===a.type){var r=a.getBoundingRect(),i=e.getData(),n=i.graph,s=r.width/2+r.x,o=r.height/2+r.y,l=Math.min(r.width,r.height)/2,c=i.count();i.setLayout({cx:s,cy:o}),c&&(Jl[t](e,n,i,l,s,o,c),n.eachEdge((function(t,a){var r,i=U["retrieve3"](t.getModel().get(["lineStyle","curveness"]),Ul(t,e,a),0),n=xn["clone"](t.node1.getLayout()),l=xn["clone"](t.node2.getLayout()),c=(n[0]+l[0])/2,d=(n[1]+l[1])/2;+i&&(i*=3,r=[s*i+c*(1-i),o*i+d*(1-i)]),t.setLayout([n,l,r])})))}}var Jl={value:function(e,t,a,r,i,n,s){var o=0,l=a.getSum("value"),c=2*Math.PI/(l||s);t.eachNode((function(e){var t=e.getValue("value"),a=c*(l?t:1)/2;o+=a,e.setLayout([r*Math.cos(o)+i,r*Math.sin(o)+n]),o+=a}))},symbolSize:function(e,t,a,r,i,n,s){var o=0;Kl.length=s;var l=ql(e);t.eachNode((function(e){var t=Xl(e);isNaN(t)&&(t=2),t<0&&(t=0),t*=l;var a=Math.asin(t/2/r);isNaN(a)&&(a=Yl/2),Kl[e.dataIndex]=a,o+=2*a}));var c=(2*Yl-o)/s/2,d=0;t.eachNode((function(e){var t=c+Kl[e.dataIndex];d+=t,e.setLayout([r*Math.cos(d)+i,r*Math.sin(d)+n]),d+=t}))}};function Ql(e){e.eachSeriesByType("graph",(function(e){"circular"===e.get("layout")&&Zl(e,"symbolSize")}))}var ec=xn["scaleAndAdd"];function tc(e,t,a){for(var r=e,i=t,n=a.rect,s=n.width,o=n.height,l=[n.x+s/2,n.y+o/2],c=null==a.gravity?.1:a.gravity,d=0;d<r.length;d++){var u=r[d];u.p||(u.p=xn["create"](s*(Math.random()-.5)+l[0],o*(Math.random()-.5)+l[1])),u.pp=xn["clone"](u.p),u.edges=null}var h,p,f=null==a.friction?.6:a.friction,m=f;return{warmUp:function(){m=.8*f},setFixed:function(e){r[e].fixed=!0},setUnfixed:function(e){r[e].fixed=!1},beforeStep:function(e){h=e},afterStep:function(e){p=e},step:function(e){h&&h(r,i);for(var t=[],a=r.length,n=0;n<i.length;n++){var s=i[n];if(!s.ignoreForceLayout){var o=s.n1,d=s.n2;xn["sub"](t,d.p,o.p);var u=xn["len"](t)-s.d,f=d.w/(o.w+d.w);isNaN(f)&&(f=0),xn["normalize"](t,t),!o.fixed&&ec(o.p,o.p,t,f*u*m),!d.fixed&&ec(d.p,d.p,t,-(1-f)*u*m)}}for(n=0;n<a;n++){var g=r[n];g.fixed||(xn["sub"](t,l,g.p),ec(g.p,g.p,t,c*m))}for(n=0;n<a;n++){o=r[n];for(var _=n+1;_<a;_++){d=r[_];xn["sub"](t,d.p,o.p);u=xn["len"](t);0===u&&(xn["set"](t,Math.random()-.5,Math.random()-.5),u=1);var v=(o.rep+d.rep)/u/u;!o.fixed&&ec(o.pp,o.pp,t,v),!d.fixed&&ec(d.pp,d.pp,t,-v)}}var b=[];for(n=0;n<a;n++){g=r[n];g.fixed||(xn["sub"](b,g.p,g.pp),ec(g.p,g.p,b,m),xn["copy"](g.pp,g.p))}m*=.992;var y=m<.01;p&&p(r,i,y),e&&e(y)}}}function ac(e){e.eachSeriesByType("graph",(function(e){var t=e.coordinateSystem;if(!t||"view"===t.type)if("force"===e.get("layout")){var a=e.preservedPoints||{},r=e.getGraph(),i=r.data,n=r.edgeData,s=e.getModel("force"),o=s.get("initLayout");e.preservedPoints?i.each((function(e){var t=i.getId(e);i.setItemLayout(e,a[t]||[NaN,NaN])})):o&&"none"!==o?"circular"===o&&Zl(e,"value"):Hl(e);var l=i.getDataExtent("value"),c=n.getDataExtent("value"),d=s.get("repulsion"),u=s.get("edgeLength"),h=U["isArray"](d)?d:[d,d],p=U["isArray"](u)?u:[u,u];p=[p[1],p[0]];var f=i.mapArray("value",(function(e,t){var a=i.getItemLayout(t),r=Object(Sr["l"])(e,l,h);return isNaN(r)&&(r=(h[0]+h[1])/2),{w:r,rep:r,fixed:i.getItemModel(t).get("fixed"),p:!a||isNaN(a[0])||isNaN(a[1])?null:a}})),m=n.mapArray("value",(function(t,a){var i=r.getEdgeByIndex(a),n=Object(Sr["l"])(t,c,p);isNaN(n)&&(n=(p[0]+p[1])/2);var s=i.getModel(),o=U["retrieve3"](i.getModel().get(["lineStyle","curveness"]),-Ul(i,e,a,!0),0);return{n1:f[i.node1.dataIndex],n2:f[i.node2.dataIndex],d:n,curveness:o,ignoreForceLayout:s.get("ignoreForceLayout")}})),g=t.getBoundingRect(),_=tc(f,m,{rect:g,gravity:s.get("gravity"),friction:s.get("friction")});_.beforeStep((function(e,t){for(var a=0,i=e.length;a<i;a++)e[a].fixed&&xn["copy"](e[a].p,r.getNodeByIndex(a).getLayout())})),_.afterStep((function(e,t,n){for(var s=0,o=e.length;s<o;s++)e[s].fixed||r.getNodeByIndex(s).setLayout(e[s].p),a[i.getId(s)]=e[s].p;for(s=0,o=t.length;s<o;s++){var l=t[s],c=r.getEdgeByIndex(s),d=l.n1.p,u=l.n2.p,h=c.getLayout();h=h?h.slice():[],h[0]=h[0]||[],h[1]=h[1]||[],xn["copy"](h[0],d),xn["copy"](h[1],u),+l.curveness&&(h[2]=[(d[0]+u[0])/2-(d[1]-u[1])*l.curveness,(d[1]+u[1])/2-(u[0]-d[0])*l.curveness]),c.setLayout(h)}})),e.forceLayout=_,e.preservedPoints=a,_.step()}else e.forceLayout=null}))}function rc(e,t,a){var r=Object(U["extend"])(e.getBoxLayoutParams(),{aspect:a});return Object(Mn["g"])(r,{width:t.getWidth(),height:t.getHeight()})}function ic(e,t){var a=[];return e.eachSeriesByType("graph",(function(e){var r=e.get("coordinateSystem");if(!r||"view"===r){var i=e.getData(),n=i.mapArray((function(e){var t=i.getItemModel(e);return[+t.get("x"),+t.get("y")]})),s=[],o=[];ls["d"](n,s,o),o[0]-s[0]===0&&(o[0]+=1,s[0]-=1),o[1]-s[1]===0&&(o[1]+=1,s[1]-=1);var l=(o[0]-s[0])/(o[1]-s[1]),c=rc(e,t,l);isNaN(l)&&(s=[c.x,c.y],o=[c.x+c.width,c.y+c.height]);var d=o[0]-s[0],u=o[1]-s[1],h=c.width,p=c.height,f=e.coordinateSystem=new On;f.zoomLimit=e.get("scaleLimit"),f.setBoundingRect(s[0],s[1],d,u),f.setViewRect(c.x,c.y,h,p),f.setCenter(e.get("center"),t),f.setZoom(e.get("zoom")),a.push(f)}})),a}var nc=Kr["a"].prototype,sc=Xn["a"].prototype,oc=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return e}();(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(vt["a"])(t,e)})(oc);function lc(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var cc=function(e){function t(t){var a=e.call(this,t)||this;return a.type="ec-line",a}return Object(vt["a"])(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new oc},t.prototype.buildPath=function(e,t){lc(t)?nc.buildPath.call(this,e,t):sc.buildPath.call(this,e,t)},t.prototype.pointAt=function(e){return lc(this.shape)?nc.pointAt.call(this,e):sc.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var t=this.shape,a=lc(t)?[t.x2-t.x1,t.y2-t.y1]:sc.tangentAt.call(this,e);return xn["normalize"](a,a)},t}(D["b"]),dc=cc,uc=["fromSymbol","toSymbol"];function hc(e){return"_"+e+"Type"}function pc(e,t,a){var r=t.getItemVisual(a,e);if(r&&"none"!==r){var i=t.getItemVisual(a,e+"Size"),n=t.getItemVisual(a,e+"Rotate"),s=t.getItemVisual(a,e+"Offset"),o=t.getItemVisual(a,e+"KeepAspect"),l=kt["c"](i),c=kt["b"](s||0,l),d=kt["a"](r,-l[0]/2+c[0],-l[1]/2+c[1],l[0],l[1],null,o);return d.__specifiedRotation=null==n||isNaN(n)?void 0:+n*Math.PI/180||0,d.name=e,d}}function fc(e){var t=new dc({name:"line",subPixelOptimize:!0});return mc(t.shape,e),t}function mc(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var a=t[2];a?(e.cpx1=a[0],e.cpy1=a[1]):(e.cpx1=NaN,e.cpy1=NaN)}var gc=function(e){function t(t,a,r){var i=e.call(this)||this;return i._createLine(t,a,r),i}return Object(vt["a"])(t,e),t.prototype._createLine=function(e,t,a){var r=e.hostModel,i=e.getItemLayout(t),n=fc(i);n.shape.percent=0,Ct["c"](n,{shape:{percent:1}},r,t),this.add(n),Object(U["each"])(uc,(function(a){var r=pc(a,e,t);this.add(r),this[hc(a)]=e.getItemVisual(t,a)}),this),this._updateCommonStl(e,t,a)},t.prototype.updateData=function(e,t,a){var r=e.hostModel,i=this.childOfName("line"),n=e.getItemLayout(t),s={shape:{}};mc(s.shape,n),Ct["h"](i,s,r,t),Object(U["each"])(uc,(function(a){var r=e.getItemVisual(t,a),i=hc(a);if(this[i]!==r){this.remove(this.childOfName(a));var n=pc(a,e,t);this.add(n)}this[i]=r}),this),this._updateCommonStl(e,t,a)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,t,a){var r=e.hostModel,i=this.childOfName("line"),n=a&&a.emphasisLineStyle,s=a&&a.blurLineStyle,o=a&&a.selectLineStyle,l=a&&a.labelStatesModels,c=a&&a.emphasisDisabled,d=a&&a.focus,u=a&&a.blurScope;if(!a||e.hasItemOption){var h=e.getItemModel(t),p=h.getModel("emphasis");n=p.getModel("lineStyle").getLineStyle(),s=h.getModel(["blur","lineStyle"]).getLineStyle(),o=h.getModel(["select","lineStyle"]).getLineStyle(),c=p.get("disabled"),d=p.get("focus"),u=p.get("blurScope"),l=Object(At["e"])(h)}var f=e.getItemVisual(t,"style"),m=f.stroke;i.useStyle(f),i.style.fill=null,i.style.strokeNoScale=!0,i.ensureState("emphasis").style=n,i.ensureState("blur").style=s,i.ensureState("select").style=o,Object(U["each"])(uc,(function(e){var t=this.childOfName(e);if(t){t.setColor(m),t.style.opacity=f.opacity;for(var a=0;a<jt["g"].length;a++){var r=jt["g"][a],n=i.getState(r);if(n){var s=n.style||{},o=t.ensureState(r),l=o.style||(o.style={});null!=s.stroke&&(l[t.__isEmptyBrush?"stroke":"fill"]=s.stroke),null!=s.opacity&&(l.opacity=s.opacity)}}t.markRedraw()}}),this);var g=r.getRawValue(t);Object(At["g"])(this,l,{labelDataIndex:t,labelFetcher:{getFormattedLabel:function(t,a){return r.getFormattedLabel(t,a,e.dataType)}},inheritColor:m||"#000",defaultOpacity:f.opacity,defaultText:(null==g?e.getName(t):isFinite(g)?Object(Sr["v"])(g):g)+""});var _=this.getTextContent();if(_){var v=l.normal;_.__align=_.style.align,_.__verticalAlign=_.style.verticalAlign,_.__position=v.get("position")||"middle";var b=v.get("distance");Object(U["isArray"])(b)||(b=[b,b]),_.__labelDistance=b}this.setTextConfig({position:null,local:!0,inside:!1}),Object(jt["J"])(this,d,u,c)},t.prototype.highlight=function(){Object(jt["r"])(this)},t.prototype.downplay=function(){Object(jt["C"])(this)},t.prototype.updateLayout=function(e,t){this.setLinePoints(e.getItemLayout(t))},t.prototype.setLinePoints=function(e){var t=this.childOfName("line");mc(t.shape,e),t.dirty()},t.prototype.beforeUpdate=function(){var e=this,t=e.childOfName("fromSymbol"),a=e.childOfName("toSymbol"),r=e.getTextContent();if(t||a||r&&!r.ignore){var i=1,n=this.parent;while(n)n.scaleX&&(i/=n.scaleX),n=n.parent;var s=e.childOfName("line");if(this.__dirty||s.__dirty){var o=s.shape.percent,l=s.pointAt(0),c=s.pointAt(o),d=xn["sub"]([],c,l);if(xn["normalize"](d,d),t&&(t.setPosition(l),w(t,0),t.scaleX=t.scaleY=i*o,t.markRedraw()),a&&(a.setPosition(c),w(a,1),a.scaleX=a.scaleY=i*o,a.markRedraw()),r&&!r.ignore){r.x=r.y=0,r.originX=r.originY=0;var u=void 0,h=void 0,p=r.__labelDistance,f=p[0]*i,m=p[1]*i,g=o/2,_=s.tangentAt(g),v=[_[1],-_[0]],b=s.pointAt(g);v[1]>0&&(v[0]=-v[0],v[1]=-v[1]);var y=_[0]<0?-1:1;if("start"!==r.__position&&"end"!==r.__position){var k=-Math.atan2(_[1],_[0]);c[0]<l[0]&&(k=Math.PI+k),r.rotation=k}var x=void 0;switch(r.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":x=-m,h="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":x=m,h="top";break;default:x=0,h="middle"}switch(r.__position){case"end":r.x=d[0]*f+c[0],r.y=d[1]*m+c[1],u=d[0]>.8?"left":d[0]<-.8?"right":"center",h=d[1]>.8?"top":d[1]<-.8?"bottom":"middle";break;case"start":r.x=-d[0]*f+l[0],r.y=-d[1]*m+l[1],u=d[0]>.8?"right":d[0]<-.8?"left":"center",h=d[1]>.8?"bottom":d[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":r.x=f*y+l[0],r.y=l[1]+x,u=_[0]<0?"right":"left",r.originX=-f*y,r.originY=-x;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":r.x=b[0],r.y=b[1]+x,u="center",r.originY=-x;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":r.x=-f*y+c[0],r.y=c[1]+x,u=_[0]>=0?"right":"left",r.originX=f*y,r.originY=-x;break}r.scaleX=r.scaleY=i,r.setStyle({verticalAlign:r.__verticalAlign||h,align:r.__align||u})}}}function w(e,t){var a=e.__specifiedRotation;if(null==a){var r=s.tangentAt(t);e.attr("rotation",(1===t?-1:1)*Math.PI/2-Math.atan2(r[1],r[0]))}else e.attr("rotation",a)}},t}(xt["a"]),_c=gc,vc=function(){function e(e){this.group=new xt["a"],this._LineCtor=e||_c}return e.prototype.updateData=function(e){var t=this;this._progressiveEls=null;var a=this,r=a.group,i=a._lineData;a._lineData=e,i||r.removeAll();var n=yc(e);e.diff(i).add((function(a){t._doAdd(e,a,n)})).update((function(a,r){t._doUpdate(i,e,r,a,n)})).remove((function(e){r.remove(i.getItemGraphicEl(e))})).execute()},e.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl((function(t,a){t.updateLayout(e,a)}),this)},e.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=yc(e),this._lineData=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(e,t){function a(e){e.isGroup||bc(e)||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var r=e.start;r<e.end;r++){var i=t.getItemLayout(r);if(xc(i)){var n=new this._LineCtor(t,r,this._seriesScope);n.traverse(a),this.group.add(n),t.setItemGraphicEl(r,n),this._progressiveEls.push(n)}}},e.prototype.remove=function(){this.group.removeAll()},e.prototype.eachRendered=function(e){Ot["traverseElements"](this._progressiveEls||this.group,e)},e.prototype._doAdd=function(e,t,a){var r=e.getItemLayout(t);if(xc(r)){var i=new this._LineCtor(e,t,a);e.setItemGraphicEl(t,i),this.group.add(i)}},e.prototype._doUpdate=function(e,t,a,r,i){var n=e.getItemGraphicEl(a);xc(t.getItemLayout(r))?(n?n.updateData(t,r,i):n=new this._LineCtor(t,r,i),t.setItemGraphicEl(r,n),this.group.add(n)):this.group.remove(n)},e}();function bc(e){return e.animators&&e.animators.length>0}function yc(e){var t=e.hostModel,a=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:a.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:a.get("disabled"),blurScope:a.get("blurScope"),focus:a.get("focus"),labelStatesModels:Object(At["e"])(t)}}function kc(e){return isNaN(e[0])||isNaN(e[1])}function xc(e){return e&&!kc(e[0])&&!kc(e[1])}var wc=vc,Sc=[],Cc=[],Oc=[],Tc=Xt["h"],jc=xn["distSquare"],Ic=Math.abs;function Ac(e,t,a){for(var r,i=e[0],n=e[1],s=e[2],o=1/0,l=a*a,c=.1,d=.1;d<=.9;d+=.1){Sc[0]=Tc(i[0],n[0],s[0],d),Sc[1]=Tc(i[1],n[1],s[1],d);var u=Ic(jc(Sc,t)-l);u<o&&(o=u,r=d)}for(var h=0;h<32;h++){var p=r+c;Cc[0]=Tc(i[0],n[0],s[0],r),Cc[1]=Tc(i[1],n[1],s[1],r),Oc[0]=Tc(i[0],n[0],s[0],p),Oc[1]=Tc(i[1],n[1],s[1],p);u=jc(Cc,t)-l;if(Ic(u)<.01)break;var f=jc(Oc,t)-l;c/=2,u<0?f>=0?r+=c:r-=c:f>=0?r-=c:r+=c}return r}function Dc(e,t){var a=[],r=Xt["n"],i=[[],[],[]],n=[[],[]],s=[];t/=2,e.eachEdge((function(e,o){var l=e.getLayout(),c=e.getVisual("fromSymbol"),d=e.getVisual("toSymbol");l.__original||(l.__original=[xn["clone"](l[0]),xn["clone"](l[1])],l[2]&&l.__original.push(xn["clone"](l[2])));var u=l.__original;if(null!=l[2]){if(xn["copy"](i[0],u[0]),xn["copy"](i[1],u[2]),xn["copy"](i[2],u[1]),c&&"none"!==c){var h=Xl(e.node1),p=Ac(i,u[0],h*t);r(i[0][0],i[1][0],i[2][0],p,a),i[0][0]=a[3],i[1][0]=a[4],r(i[0][1],i[1][1],i[2][1],p,a),i[0][1]=a[3],i[1][1]=a[4]}if(d&&"none"!==d){h=Xl(e.node2),p=Ac(i,u[1],h*t);r(i[0][0],i[1][0],i[2][0],p,a),i[1][0]=a[1],i[2][0]=a[2],r(i[0][1],i[1][1],i[2][1],p,a),i[1][1]=a[1],i[2][1]=a[2]}xn["copy"](l[0],i[0]),xn["copy"](l[1],i[2]),xn["copy"](l[2],i[1])}else{if(xn["copy"](n[0],u[0]),xn["copy"](n[1],u[1]),xn["sub"](s,n[1],n[0]),xn["normalize"](s,s),c&&"none"!==c){h=Xl(e.node1);xn["scaleAndAdd"](n[0],n[0],s,h*t)}if(d&&"none"!==d){h=Xl(e.node2);xn["scaleAndAdd"](n[1],n[1],s,-h*t)}xn["copy"](l[0],n[0]),xn["copy"](l[1],n[1])}}))}function Mc(e){return"view"===e.type}var Ec=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.init=function(e,t){var a=new Ft,r=new wc,i=this.group;this._controller=new Vr(t.getZr()),this._controllerHost={target:i},i.add(a.group),i.add(r.group),this._symbolDraw=a,this._lineDraw=r,this._firstRender=!0},t.prototype.render=function(e,t,a){var r=this,i=e.coordinateSystem;this._model=e;var n=this._symbolDraw,s=this._lineDraw,o=this.group;if(Mc(i)){var l={x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY};this._firstRender?o.attr(l):Ct["h"](o,l,e)}Dc(e.getGraph(),ql(e));var c=e.getData();n.updateData(c);var d=e.getEdgeData();s.updateData(d),this._updateNodeAndLinkScale(),this._updateController(e,t,a),clearTimeout(this._layoutTimeout);var u=e.forceLayout,h=e.get(["force","layoutAnimation"]);u&&this._startForceLayoutIteration(u,h),c.graph.eachNode((function(e){var t=e.dataIndex,a=e.getGraphicEl(),i=e.getModel();if(a){a.off("drag").off("dragend");var n=i.get("draggable");n&&a.on("drag",(function(){u&&(u.warmUp(),!r._layouting&&r._startForceLayoutIteration(u,h),u.setFixed(t),c.setItemLayout(t,[a.x,a.y]))})).on("dragend",(function(){u&&u.setUnfixed(t)})),a.setDraggable(n&&!!u,!!i.get("cursor"));var s=i.get(["emphasis","focus"]);"adjacency"===s&&(Object(Tt["a"])(a).focus=e.getAdjacentDataIndices())}})),c.graph.eachEdge((function(e){var t=e.getGraphicEl(),a=e.getModel().get(["emphasis","focus"]);t&&"adjacency"===a&&(Object(Tt["a"])(t).focus={edge:[e.dataIndex],node:[e.node1.dataIndex,e.node2.dataIndex]})}));var p="circular"===e.get("layout")&&e.get(["circular","rotateLabel"]),f=c.getLayout("cx"),m=c.getLayout("cy");c.eachItemGraphicEl((function(e,t){var a=c.getItemModel(t),r=a.get(["label","rotate"])||0,i=e.getSymbolPath();if(p){var n=c.getItemLayout(t),s=Math.atan2(n[1]-m,n[0]-f);s<0&&(s=2*Math.PI+s);var o=n[0]<f;o&&(s-=Math.PI);var l=o?"left":"right";i.setTextConfig({rotation:-s,position:l,origin:"center"});var d=i.ensureState("emphasis");U["extend"](d.textConfig||(d.textConfig={}),{position:l})}else i.setTextConfig({rotation:r*=Math.PI/180})})),this._firstRender=!1},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,t){var a=this;(function r(){e.step((function(e){a.updateLayout(a._model),(a._layouting=!e)&&(t?a._layoutTimeout=setTimeout(r,16):r())}))})()},t.prototype._updateController=function(e,t,a){var r=this,i=this._controller,n=this._controllerHost,s=this.group;i.setPointerChecker((function(t,r,i){var n=s.getBoundingRect();return n.applyTransform(s.transform),n.contain(r,i)&&!Wr(t,a,e)})),Mc(e.coordinateSystem)?(i.enable(e.get("roam")),n.zoomLimit=e.get("scaleLimit"),n.zoom=e.coordinateSystem.getZoom(),i.off("pan").off("zoom").on("pan",(function(t){Ur(n,t.dx,t.dy),a.dispatchAction({seriesId:e.id,type:"graphRoam",dx:t.dx,dy:t.dy})})).on("zoom",(function(t){Hr(n,t.scale,t.originX,t.originY),a.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),r._updateNodeAndLinkScale(),Dc(e.getGraph(),ql(e)),r._lineDraw.updateLayout(),a.updateLabelLayout()}))):i.disable()},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,t=e.getData(),a=ql(e);t.eachItemGraphicEl((function(e,t){e&&e.setSymbolScale(a)}))},t.prototype.updateLayout=function(e){Dc(e.getGraph(),ql(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(ra["a"]),Rc=Ec;function Bc(e){return"_EC_"+e}var Pc=function(){function e(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return e.prototype.isDirected=function(){return this._directed},e.prototype.addNode=function(e,t){e=null==e?""+t:""+e;var a=this._nodesMap;if(!a[Bc(e)]){var r=new Lc(e,t);return r.hostGraph=this,this.nodes.push(r),a[Bc(e)]=r,r}},e.prototype.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},e.prototype.getNodeById=function(e){return this._nodesMap[Bc(e)]},e.prototype.addEdge=function(e,t,a){var r=this._nodesMap,i=this._edgesMap;if(U["isNumber"](e)&&(e=this.nodes[e]),U["isNumber"](t)&&(t=this.nodes[t]),e instanceof Lc||(e=r[Bc(e)]),t instanceof Lc||(t=r[Bc(t)]),e&&t){var n=e.id+"-"+t.id,s=new Fc(e,t,a);return s.hostGraph=this,this._directed&&(e.outEdges.push(s),t.inEdges.push(s)),e.edges.push(s),e!==t&&t.edges.push(s),this.edges.push(s),i[n]=s,s}},e.prototype.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},e.prototype.getEdge=function(e,t){e instanceof Lc&&(e=e.id),t instanceof Lc&&(t=t.id);var a=this._edgesMap;return this._directed?a[e+"-"+t]:a[e+"-"+t]||a[t+"-"+e]},e.prototype.eachNode=function(e,t){for(var a=this.nodes,r=a.length,i=0;i<r;i++)a[i].dataIndex>=0&&e.call(t,a[i],i)},e.prototype.eachEdge=function(e,t){for(var a=this.edges,r=a.length,i=0;i<r;i++)a[i].dataIndex>=0&&a[i].node1.dataIndex>=0&&a[i].node2.dataIndex>=0&&e.call(t,a[i],i)},e.prototype.breadthFirstTraverse=function(e,t,a,r){if(t instanceof Lc||(t=this._nodesMap[Bc(t)]),t){for(var i="out"===a?"outEdges":"in"===a?"inEdges":"edges",n=0;n<this.nodes.length;n++)this.nodes[n].__visited=!1;if(!e.call(r,t,null)){var s=[t];while(s.length){var o=s.shift(),l=o[i];for(n=0;n<l.length;n++){var c=l[n],d=c.node1===o?c.node2:c.node1;if(!d.__visited){if(e.call(r,d,o))return;s.push(d),d.__visited=!0}}}}}},e.prototype.update=function(){for(var e=this.data,t=this.edgeData,a=this.nodes,r=this.edges,i=0,n=a.length;i<n;i++)a[i].dataIndex=-1;for(i=0,n=e.count();i<n;i++)a[e.getRawIndex(i)].dataIndex=i;t.filterSelf((function(e){var a=r[t.getRawIndex(e)];return a.node1.dataIndex>=0&&a.node2.dataIndex>=0}));for(i=0,n=r.length;i<n;i++)r[i].dataIndex=-1;for(i=0,n=t.count();i<n;i++)r[t.getRawIndex(i)].dataIndex=i},e.prototype.clone=function(){for(var t=new e(this._directed),a=this.nodes,r=this.edges,i=0;i<a.length;i++)t.addNode(a[i].id,a[i].dataIndex);for(i=0;i<r.length;i++){var n=r[i];t.addEdge(n.node1.id,n.node2.id,n.dataIndex)}return t},e}(),Lc=function(){function e(e,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==e?"":e,this.dataIndex=null==t?-1:t}return e.prototype.degree=function(){return this.edges.length},e.prototype.inDegree=function(){return this.inEdges.length},e.prototype.outDegree=function(){return this.outEdges.length},e.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,a=t.data.getItemModel(this.dataIndex);return a.getModel(e)}},e.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},t=0;t<this.edges.length;t++){var a=this.edges[t];a.dataIndex<0||(e.edge.push(a.dataIndex),e.node.push(a.node1.dataIndex,a.node2.dataIndex))}return e},e}(),Fc=function(){function e(e,t,a){this.dataIndex=-1,this.node1=e,this.node2=t,this.dataIndex=null==a?-1:a}return e.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,a=t.edgeData.getItemModel(this.dataIndex);return a.getModel(e)}},e.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},e}();function Nc(e,t){return{getValue:function(a){var r=this[e][t];return r.getStore().get(r.getDimensionIndex(a||"value"),this.dataIndex)},setVisual:function(a,r){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,a,r)},getVisual:function(a){return this[e][t].getItemVisual(this.dataIndex,a)},setLayout:function(a,r){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,a,r)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}}U["mixin"](Lc,Nc("hostGraph","data")),U["mixin"](Fc,Nc("hostGraph","edgeData"));var $c=Pc,zc=a("1af3");function Vc(e,t,a,r,i){for(var n=new $c(r),s=0;s<e.length;s++)n.addNode(U["retrieve"](e[s].id,e[s].name,s),s);var o=[],l=[],c=0;for(s=0;s<t.length;s++){var d=t[s],u=d.source,h=d.target;n.addEdge(u,h,c)&&(l.push(d),o.push(U["retrieve"](Object(qt["e"])(d.id,null),u+" > "+h)),c++)}var p,f=a.get("coordinateSystem");if("cartesian2d"===f||"polar"===f)p=Object(bt["a"])(e,a);else{var m=zc["a"].get(f),g=m&&m.dimensions||[];U["indexOf"](g,"value")<0&&g.concat(["value"]);var _=Object(Ms["b"])(e,{coordDimensions:g,encodeDefine:a.getEncode()}).dimensions;p=new Ds["a"](_,a),p.initData(e)}var v=new Ds["a"](["value"],a);return v.initData(l,o),i&&i(p,v),As({mainData:p,struct:n,structAttr:"graph",datas:{node:p,edge:v},datasAttr:{node:"data",edge:"edgeData"}}),n.update(),n}var Uc=a("c22f"),Hc=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.hasSymbolVisual=!0,a}return Object(vt["a"])(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments);var a=this;function r(){return a._categoriesData}this.legendVisualProvider=new tr["a"](r,r),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(t){e.prototype.mergeDefaultAndTheme.apply(this,arguments),Object(qt["f"])(t,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,t){var a=e.edges||e.links||[],r=e.data||e.nodes||[],i=this;if(r&&a){zl(this);var n=Vc(r,a,this,!0,s);return U["each"](n.edges,(function(e){Vl(e.node1,e.node2,this,e.dataIndex)}),this),n.data}function s(e,t){e.wrapMethod("getItemModel",(function(e){var t=i._categoriesModels,a=e.getShallow("category"),r=t[a];return r&&(r.parentModel=e.parentModel,e.parentModel=r),e}));var a=sr["a"].prototype.getModel;function r(e,t){var r=a.call(this,e,t);return r.resolveParentPath=n,r}function n(e){if(e&&("label"===e[0]||"label"===e[1])){var t=e.slice();return"label"===e[0]?t[0]="edgeLabel":"label"===e[1]&&(t[1]="edgeLabel"),t}return e}t.wrapMethod("getItemModel",(function(e){return e.resolveParentPath=n,e.getModel=r,e}))}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,t,a){if("edge"===a){var r=this.getData(),i=this.getDataParams(e,a),n=r.graph.getEdgeByIndex(e),s=r.getName(n.node1.dataIndex),o=r.getName(n.node2.dataIndex),l=[];return null!=s&&l.push(s),null!=o&&l.push(o),Object(ar["c"])("nameValue",{name:l.join(" > "),value:i.value,noValue:null==i.value})}var c=Object(Uc["a"])({series:this,dataIndex:e,multipleSeries:t});return c},t.prototype._updateCategoriesData=function(){var e=U["map"](this.option.categories||[],(function(e){return null!=e.value?e:U["extend"]({value:0},e)})),t=new Ds["a"](["value"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray((function(e){return t.getItemModel(e)}))},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return e.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(yt["b"]),Gc=Hc,Wc={type:"graphRoam",event:"graphRoam",update:"none"};function qc(e){e.registerChartView(Rc),e.registerSeriesModel(Gc),e.registerProcessor(Il),e.registerVisual(Al),e.registerVisual(Ml),e.registerLayout(Wl),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,Ql),e.registerLayout(ac),e.registerCoordinateSystem("graphView",{dimensions:On.dimensions,create:ic}),e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},U["noop"]),e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},U["noop"]),e.registerAction(Wc,(function(e,t,a){t.eachComponent({mainType:"series",query:e},(function(t){var r=t.coordinateSystem,i=zn(r,e,void 0,a);t.setCenter&&t.setCenter(i.center),t.setZoom&&t.setZoom(i.zoom)}))}))}var Xc=function(){function e(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return e}(),Yc=function(e){function t(t){var a=e.call(this,t)||this;return a.type="pointer",a}return Object(vt["a"])(t,e),t.prototype.getDefaultShape=function(){return new Xc},t.prototype.buildPath=function(e,t){var a=Math.cos,r=Math.sin,i=t.r,n=t.width,s=t.angle,o=t.x-a(s)*n*(n>=i/3?1:2),l=t.y-r(s)*n*(n>=i/3?1:2);s=t.angle-Math.PI/2,e.moveTo(o,l),e.lineTo(t.x+a(s)*n,t.y+r(s)*n),e.lineTo(t.x+a(t.angle)*i,t.y+r(t.angle)*i),e.lineTo(t.x-a(s)*n,t.y-r(s)*n),e.lineTo(o,l)},t}(D["b"]),Kc=Yc,Zc=a("7827"),Jc=a("d121");function Qc(e,t){var a=e.get("center"),r=t.getWidth(),i=t.getHeight(),n=Math.min(r,i),s=Object(Sr["p"])(a[0],t.getWidth()),o=Object(Sr["p"])(a[1],t.getHeight()),l=Object(Sr["p"])(e.get("radius"),n/2);return{cx:s,cy:o,r:l}}function ed(e,t){var a=null==e?"":e+"";return t&&(Object(U["isString"])(t)?a=t.replace("{value}",a):Object(U["isFunction"])(t)&&(a=t(e))),a}var td=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.render=function(e,t,a){this.group.removeAll();var r=e.get(["axisLine","lineStyle","color"]),i=Qc(e,a);this._renderMain(e,t,a,r,i),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,t,a,r,i){var n=this.group,s=e.get("clockwise"),o=-e.get("startAngle")/180*Math.PI,l=-e.get("endAngle")/180*Math.PI,c=e.getModel("axisLine"),d=c.get("roundCap"),u=d?Jc["a"]:Zc["a"],h=c.get("show"),p=c.getModel("lineStyle"),f=p.get("width"),m=[o,l];Object(ue["b"])(m,!s),o=m[0],l=m[1];for(var g=l-o,_=o,v=0;h&&v<r.length;v++){var b=Math.min(Math.max(r[v][0],0),1);l=o+g*b;var y=new u({shape:{startAngle:_,endAngle:l,cx:i.cx,cy:i.cy,clockwise:s,r0:i.r-f,r:i.r},silent:!0});y.setStyle({fill:r[v][1]}),y.setStyle(p.getLineStyle(["color","width"])),n.add(y),_=l}var k=function(e){if(e<=0)return r[0][1];var t;for(t=0;t<r.length;t++)if(r[t][0]>=e&&(0===t?0:r[t-1][0])<e)return r[t][1];return r[t-1][1]};this._renderTicks(e,t,a,k,i,o,l,s,f),this._renderTitleAndDetail(e,t,a,k,i),this._renderAnchor(e,i),this._renderPointer(e,t,a,k,i,o,l,s,f)},t.prototype._renderTicks=function(e,t,a,r,i,n,s,o,l){for(var c,d,u=this.group,h=i.cx,p=i.cy,f=i.r,m=+e.get("min"),g=+e.get("max"),_=e.getModel("splitLine"),v=e.getModel("axisTick"),b=e.getModel("axisLabel"),y=e.get("splitNumber"),k=v.get("splitNumber"),x=Object(Sr["p"])(_.get("length"),f),w=Object(Sr["p"])(v.get("length"),f),S=n,C=(s-n)/y,O=C/k,T=_.getModel("lineStyle").getLineStyle(),j=v.getModel("lineStyle").getLineStyle(),I=_.get("distance"),A=0;A<=y;A++){if(c=Math.cos(S),d=Math.sin(S),_.get("show")){var D=I?I+l:l,M=new Kr["a"]({shape:{x1:c*(f-D)+h,y1:d*(f-D)+p,x2:c*(f-x-D)+h,y2:d*(f-x-D)+p},style:T,silent:!0});"auto"===T.stroke&&M.setStyle({stroke:r(A/y)}),u.add(M)}if(b.get("show")){D=b.get("distance")+I;var E=ed(Object(Sr["v"])(A/y*(g-m)+m),b.get("formatter")),R=r(A/y);u.add(new we["a"]({style:Object(At["c"])(b,{text:E,x:c*(f-x-D)+h,y:d*(f-x-D)+p,verticalAlign:d<-.8?"top":d>.8?"bottom":"middle",align:c<-.4?"left":c>.4?"right":"center"},{inheritColor:R}),silent:!0}))}if(v.get("show")&&A!==y){D=v.get("distance");D=D?D+l:l;for(var B=0;B<=k;B++){c=Math.cos(S),d=Math.sin(S);var P=new Kr["a"]({shape:{x1:c*(f-D)+h,y1:d*(f-D)+p,x2:c*(f-w-D)+h,y2:d*(f-w-D)+p},silent:!0,style:j});"auto"===j.stroke&&P.setStyle({stroke:r((A+B/k)/y)}),u.add(P),S+=O}S-=O}else S+=C}},t.prototype._renderPointer=function(e,t,a,r,i,n,s,o,l){var c=this.group,d=this._data,u=this._progressEls,h=[],p=e.get(["pointer","show"]),f=e.getModel("progress"),m=f.get("show"),g=e.getData(),_=g.mapDimension("value"),v=+e.get("min"),b=+e.get("max"),y=[v,b],k=[n,s];function x(t,a){var r,n=g.getItemModel(t),s=n.getModel("pointer"),o=Object(Sr["p"])(s.get("width"),i.r),l=Object(Sr["p"])(s.get("length"),i.r),c=e.get(["pointer","icon"]),d=s.get("offsetCenter"),u=Object(Sr["p"])(d[0],i.r),h=Object(Sr["p"])(d[1],i.r),p=s.get("keepAspect");return r=c?Object(kt["a"])(c,u-o/2,h-l,o,l,null,p):new Kc({shape:{angle:-Math.PI/2,width:o,r:l,x:u,y:h}}),r.rotation=-(a+Math.PI/2),r.x=i.cx,r.y=i.cy,r}function w(e,t){var a=f.get("roundCap"),r=a?Jc["a"]:Zc["a"],s=f.get("overlap"),c=s?f.get("width"):l/g.count(),d=s?i.r-c:i.r-(e+1)*c,u=s?i.r:i.r-e*c,h=new r({shape:{startAngle:n,endAngle:t,cx:i.cx,cy:i.cy,clockwise:o,r0:d,r:u}});return s&&(h.z2=b-g.get(_,e)%b),h}(m||p)&&(g.diff(d).add((function(t){var a=g.get(_,t);if(p){var r=x(t,n);Ct["c"](r,{rotation:-((isNaN(+a)?k[0]:Object(Sr["l"])(a,y,k,!0))+Math.PI/2)},e),c.add(r),g.setItemGraphicEl(t,r)}if(m){var i=w(t,n),s=f.get("clip");Ct["c"](i,{shape:{endAngle:Object(Sr["l"])(a,y,k,s)}},e),c.add(i),Object(Tt["b"])(e.seriesIndex,g.dataType,t,i),h[t]=i}})).update((function(t,a){var r=g.get(_,t);if(p){var i=d.getItemGraphicEl(a),s=i?i.rotation:n,o=x(t,s);o.rotation=s,Ct["h"](o,{rotation:-((isNaN(+r)?k[0]:Object(Sr["l"])(r,y,k,!0))+Math.PI/2)},e),c.add(o),g.setItemGraphicEl(t,o)}if(m){var l=u[a],v=l?l.shape.endAngle:n,b=w(t,v),S=f.get("clip");Ct["h"](b,{shape:{endAngle:Object(Sr["l"])(r,y,k,S)}},e),c.add(b),Object(Tt["b"])(e.seriesIndex,g.dataType,t,b),h[t]=b}})).execute(),g.each((function(e){var t=g.getItemModel(e),a=t.getModel("emphasis"),i=a.get("focus"),n=a.get("blurScope"),s=a.get("disabled");if(p){var o=g.getItemGraphicEl(e),l=g.getItemVisual(e,"style"),c=l.fill;if(o instanceof M["a"]){var d=o.style;o.useStyle(Object(U["extend"])({image:d.image,x:d.x,y:d.y,width:d.width,height:d.height},l))}else o.useStyle(l),"pointer"!==o.type&&o.setColor(c);o.setStyle(t.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===o.style.fill&&o.setStyle("fill",r(Object(Sr["l"])(g.get(_,e),y,[0,1],!0))),o.z2EmphasisLift=0,Object(jt["I"])(o,t),Object(jt["J"])(o,i,n,s)}if(m){var u=h[e];u.useStyle(g.getItemVisual(e,"style")),u.setStyle(t.getModel(["progress","itemStyle"]).getItemStyle()),u.z2EmphasisLift=0,Object(jt["I"])(u,t),Object(jt["J"])(u,i,n,s)}})),this._progressEls=h)},t.prototype._renderAnchor=function(e,t){var a=e.getModel("anchor"),r=a.get("show");if(r){var i=a.get("size"),n=a.get("icon"),s=a.get("offsetCenter"),o=a.get("keepAspect"),l=Object(kt["a"])(n,t.cx-i/2+Object(Sr["p"])(s[0],t.r),t.cy-i/2+Object(Sr["p"])(s[1],t.r),i,i,null,o);l.z2=a.get("showAbove")?1:0,l.setStyle(a.getModel("itemStyle").getItemStyle()),this.group.add(l)}},t.prototype._renderTitleAndDetail=function(e,t,a,r,i){var n=this,s=e.getData(),o=s.mapDimension("value"),l=+e.get("min"),c=+e.get("max"),d=new xt["a"],u=[],h=[],p=e.isAnimationEnabled(),f=e.get(["pointer","showAbove"]);s.diff(this._data).add((function(e){u[e]=new we["a"]({silent:!0}),h[e]=new we["a"]({silent:!0})})).update((function(e,t){u[e]=n._titleEls[t],h[e]=n._detailEls[t]})).execute(),s.each((function(t){var a=s.getItemModel(t),n=s.get(o,t),m=new xt["a"],g=r(Object(Sr["l"])(n,[l,c],[0,1],!0)),_=a.getModel("title");if(_.get("show")){var v=_.get("offsetCenter"),b=i.cx+Object(Sr["p"])(v[0],i.r),y=i.cy+Object(Sr["p"])(v[1],i.r),k=u[t];k.attr({z2:f?0:2,style:Object(At["c"])(_,{x:b,y:y,text:s.getName(t),align:"center",verticalAlign:"middle"},{inheritColor:g})}),m.add(k)}var x=a.getModel("detail");if(x.get("show")){var w=x.get("offsetCenter"),S=i.cx+Object(Sr["p"])(w[0],i.r),C=i.cy+Object(Sr["p"])(w[1],i.r),O=Object(Sr["p"])(x.get("width"),i.r),T=Object(Sr["p"])(x.get("height"),i.r),j=e.get(["progress","show"])?s.getItemVisual(t,"style").fill:g,I=(k=h[t],x.get("formatter"));k.attr({z2:f?0:2,style:Object(At["c"])(x,{x:S,y:C,text:ed(n,I),width:isNaN(O)?null:O,height:isNaN(T)?null:T,align:"center",verticalAlign:"middle"},{inheritColor:j})}),Object(At["h"])(k,{normal:x},n,(function(e){return ed(e,I)})),p&&Object(At["a"])(k,t,s,e,{getFormattedLabel:function(e,t,a,r,i,s){return ed(s?s.interpolatedValue:n,I)}}),m.add(k)}d.add(m)})),this.group.add(d),this._titleEls=u,this._detailEls=h},t.type="gauge",t}(ra["a"]),ad=td,rd=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.visualStyleAccessPath="itemStyle",a}return Object(vt["a"])(t,e),t.prototype.getInitialData=function(e,t){return Object(er["a"])(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(yt["b"]),id=rd;function nd(e){e.registerChartView(ad),e.registerSeriesModel(id)}var sd=a("8ec4"),od=a("dbde"),ld=["itemStyle","opacity"],cd=function(e){function t(t,a){var r=e.call(this)||this,i=r,n=new Za["a"],s=new we["a"];return i.setTextContent(s),r.setTextGuideLine(n),r.updateData(t,a,!0),r}return Object(vt["a"])(t,e),t.prototype.updateData=function(e,t,a){var r=this,i=e.hostModel,n=e.getItemModel(t),s=e.getItemLayout(t),o=n.getModel("emphasis"),l=n.get(ld);l=null==l?1:l,a||Object(Ct["g"])(r),r.useStyle(e.getItemVisual(t,"style")),r.style.lineJoin="round",a?(r.setShape({points:s.points}),r.style.opacity=0,Ct["c"](r,{style:{opacity:l}},i,t)):Ct["h"](r,{style:{opacity:l},shape:{points:s.points}},i,t),Object(jt["I"])(r,n),this._updateLabel(e,t),Object(jt["J"])(this,o.get("focus"),o.get("blurScope"),o.get("disabled"))},t.prototype._updateLabel=function(e,t){var a=this,r=this.getTextGuideLine(),i=a.getTextContent(),n=e.hostModel,s=e.getItemModel(t),o=e.getItemLayout(t),l=o.label,c=e.getItemVisual(t,"style"),d=c.fill;Object(At["g"])(i,Object(At["e"])(s),{labelFetcher:e.hostModel,labelDataIndex:t,defaultOpacity:c.opacity,defaultText:e.getName(t)},{normal:{align:l.textAlign,verticalAlign:l.verticalAlign}}),a.setTextConfig({local:!0,inside:!!l.inside,insideStroke:d,outsideFill:d});var u=l.linePoints;r.setShape({points:u}),a.textGuideLineConfig={anchor:u?new sd["a"](u[0][0],u[0][1]):null},Ct["h"](i,{style:{x:l.x,y:l.y}},n,t),i.attr({rotation:l.rotation,originX:l.x,originY:l.y,z2:10}),Object(od["d"])(a,Object(od["a"])(s),{stroke:d})},t}(Ka["a"]),dd=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.ignoreLabelLineUpdate=!0,a}return Object(vt["a"])(t,e),t.prototype.render=function(e,t,a){var r=e.getData(),i=this._data,n=this.group;r.diff(i).add((function(e){var t=new cd(r,e);r.setItemGraphicEl(e,t),n.add(t)})).update((function(e,t){var a=i.getItemGraphicEl(t);a.updateData(r,e),n.add(a),r.setItemGraphicEl(e,a)})).remove((function(t){var a=i.getItemGraphicEl(t);Ct["f"](a,e,t)})).execute(),this._data=r},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(ra["a"]),ud=dd,hd=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new tr["a"](U["bind"](this.getData,this),U["bind"](this.getRawData,this)),this._defaultLabelLine(t)},t.prototype.getInitialData=function(e,t){return Object(er["a"])(this,{coordDimensions:["value"],encodeDefaulter:U["curry"](mn["d"],this)})},t.prototype._defaultLabelLine=function(e){Object(qt["f"])(e,"labelLine",["show"]);var t=e.labelLine,a=e.emphasis.labelLine;t.show=t.show&&e.label.show,a.show=a.show&&e.emphasis.label.show},t.prototype.getDataParams=function(t){var a=this.getData(),r=e.prototype.getDataParams.call(this,t),i=a.mapDimension("value"),n=a.getSum(i);return r.percent=n?+(a.get(i,t)/n*100).toFixed(2):0,r.$vars.push("percent"),r},t.type="series.funnel",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(yt["b"]),pd=hd;function fd(e,t){return Mn["g"](e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function md(e,t){for(var a=e.mapDimension("value"),r=e.mapArray(a,(function(e){return e})),i=[],n="ascending"===t,s=0,o=e.count();s<o;s++)i[s]=s;return Object(U["isFunction"])(t)?i.sort(t):"none"!==t&&i.sort((function(e,t){return n?r[e]-r[t]:r[t]-r[e]})),i}function gd(e){var t=e.hostModel,a=t.get("orient");e.each((function(t){var r,i,n,s,o=e.getItemModel(t),l=o.getModel("label"),c=l.get("position"),d=o.getModel("labelLine"),u=e.getItemLayout(t),h=u.points,p="inner"===c||"inside"===c||"center"===c||"insideLeft"===c||"insideRight"===c;if(p)"insideLeft"===c?(i=(h[0][0]+h[3][0])/2+5,n=(h[0][1]+h[3][1])/2,r="left"):"insideRight"===c?(i=(h[1][0]+h[2][0])/2-5,n=(h[1][1]+h[2][1])/2,r="right"):(i=(h[0][0]+h[1][0]+h[2][0]+h[3][0])/4,n=(h[0][1]+h[1][1]+h[2][1]+h[3][1])/4,r="center"),s=[[i,n],[i,n]];else{var f=void 0,m=void 0,g=void 0,_=void 0,v=d.get("length");0,"left"===c?(f=(h[3][0]+h[0][0])/2,m=(h[3][1]+h[0][1])/2,g=f-v,i=g-5,r="right"):"right"===c?(f=(h[1][0]+h[2][0])/2,m=(h[1][1]+h[2][1])/2,g=f+v,i=g+5,r="left"):"top"===c?(f=(h[3][0]+h[0][0])/2,m=(h[3][1]+h[0][1])/2,_=m-v,n=_-5,r="center"):"bottom"===c?(f=(h[1][0]+h[2][0])/2,m=(h[1][1]+h[2][1])/2,_=m+v,n=_+5,r="center"):"rightTop"===c?(f="horizontal"===a?h[3][0]:h[1][0],m="horizontal"===a?h[3][1]:h[1][1],"horizontal"===a?(_=m-v,n=_-5,r="center"):(g=f+v,i=g+5,r="top")):"rightBottom"===c?(f=h[2][0],m=h[2][1],"horizontal"===a?(_=m+v,n=_+5,r="center"):(g=f+v,i=g+5,r="bottom")):"leftTop"===c?(f=h[0][0],m="horizontal"===a?h[0][1]:h[1][1],"horizontal"===a?(_=m-v,n=_-5,r="center"):(g=f-v,i=g-5,r="right")):"leftBottom"===c?(f="horizontal"===a?h[1][0]:h[3][0],m="horizontal"===a?h[1][1]:h[2][1],"horizontal"===a?(_=m+v,n=_+5,r="center"):(g=f-v,i=g-5,r="right")):(f=(h[1][0]+h[2][0])/2,m=(h[1][1]+h[2][1])/2,"horizontal"===a?(_=m+v,n=_+5,r="center"):(g=f+v,i=g+5,r="left")),"horizontal"===a?(g=f,i=g):(_=m,n=_),s=[[f,m],[g,_]]}u.label={linePoints:s,x:i,y:n,verticalAlign:"middle",textAlign:r,inside:p}}))}function _d(e,t){e.eachSeriesByType("funnel",(function(e){var a=e.getData(),r=a.mapDimension("value"),i=e.get("sort"),n=fd(e,t),s=e.get("orient"),o=n.width,l=n.height,c=md(a,i),d=n.x,u=n.y,h="horizontal"===s?[Object(Sr["p"])(e.get("minSize"),l),Object(Sr["p"])(e.get("maxSize"),l)]:[Object(Sr["p"])(e.get("minSize"),o),Object(Sr["p"])(e.get("maxSize"),o)],p=a.getDataExtent(r),f=e.get("min"),m=e.get("max");null==f&&(f=Math.min(p[0],0)),null==m&&(m=p[1]);var g=e.get("funnelAlign"),_=e.get("gap"),v="horizontal"===s?o:l,b=(v-_*(a.count()-1))/a.count(),y=function(e,t){if("horizontal"===s){var i=a.get(r,e)||0,n=Object(Sr["l"])(i,[f,m],h,!0),c=void 0;switch(g){case"top":c=u;break;case"center":c=u+(l-n)/2;break;case"bottom":c=u+(l-n);break}return[[t,c],[t,c+n]]}var p,_=a.get(r,e)||0,v=Object(Sr["l"])(_,[f,m],h,!0);switch(g){case"left":p=d;break;case"center":p=d+(o-v)/2;break;case"right":p=d+o-v;break}return[[p,t],[p+v,t]]};"ascending"===i&&(b=-b,_=-_,"horizontal"===s?d+=o:u+=l,c=c.reverse());for(var k=0;k<c.length;k++){var x=c[k],w=c[k+1],S=a.getItemModel(x);if("horizontal"===s){var C=S.get(["itemStyle","width"]);null==C?C=b:(C=Object(Sr["p"])(C,o),"ascending"===i&&(C=-C));var O=y(x,d),T=y(w,d+C);d+=C+_,a.setItemLayout(x,{points:O.concat(T.slice().reverse())})}else{var j=S.get(["itemStyle","height"]);null==j?j=b:(j=Object(Sr["p"])(j,l),"ascending"===i&&(j=-j));O=y(x,u),T=y(w,u+j);u+=j+_,a.setItemLayout(x,{points:O.concat(T.slice().reverse())})}}gd(a)}))}function vd(e){e.registerChartView(ud),e.registerSeriesModel(pd),e.registerLayout(_d),e.registerProcessor(Object(Xa["a"])("funnel"))}var bd=.3,yd=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a._dataGroup=new xt["a"],a._initialized=!1,a}return Object(vt["a"])(t,e),t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,t,a,r){this._progressiveEls=null;var i=this._dataGroup,n=e.getData(),s=this._data,o=e.coordinateSystem,l=o.dimensions,c=Sd(e);function d(e){var t=wd(n,i,e,l,o);Cd(t,n,e,c)}function u(t,a){var r=s.getItemGraphicEl(a),i=xd(n,t,l,o);n.setItemGraphicEl(t,r),Ct["h"](r,{shape:{points:i}},e,t),Object(Ct["g"])(r),Cd(r,n,t,c)}function h(e){var t=s.getItemGraphicEl(e);i.remove(t)}if(n.diff(s).add(d).update(u).remove(h).execute(),!this._initialized){this._initialized=!0;var p=kd(o,e,(function(){setTimeout((function(){i.removeClipPath()}))}));i.setClipPath(p)}this._data=n},t.prototype.incrementalPrepareRender=function(e,t,a){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,t,a){for(var r=t.getData(),i=t.coordinateSystem,n=i.dimensions,s=Sd(t),o=this._progressiveEls=[],l=e.start;l<e.end;l++){var c=wd(r,this._dataGroup,l,n,i);c.incremental=!0,Cd(c,r,l,s),o.push(c)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(ra["a"]);function kd(e,t,a){var r=e.model,i=e.getRect(),n=new Xr["a"]({shape:{x:i.x,y:i.y,width:i.width,height:i.height}}),s="horizontal"===r.get("layout")?"width":"height";return n.setShape(s,0),Ct["c"](n,{shape:{width:i.width,height:i.height}},t,a),n}function xd(e,t,a,r){for(var i=[],n=0;n<a.length;n++){var s=a[n],o=e.get(e.mapDimension(s),t);Od(o,r.getAxis(s).type)||i.push(r.dataToPoint(o,s))}return i}function wd(e,t,a,r,i){var n=xd(e,a,r,i),s=new Za["a"]({shape:{points:n},z2:10});return t.add(s),e.setItemGraphicEl(a,s),s}function Sd(e){var t=e.get("smooth",!0);return!0===t&&(t=bd),t=Object(Sr["n"])(t),Object(U["eqNaN"])(t)&&(t=0),{smooth:t}}function Cd(e,t,a,r){e.useStyle(t.getItemVisual(a,"style")),e.style.fill=null,e.setShape("smooth",r.smooth);var i=t.getItemModel(a),n=i.getModel("emphasis");Object(jt["I"])(e,i,"lineStyle"),Object(jt["J"])(e,n.get("focus"),n.get("blurScope"),n.get("disabled"))}function Od(e,t){return"category"===t?null==e:null==e||isNaN(e)}var Td=yd,jd=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.visualStyleAccessPath="lineStyle",a.visualDrawType="stroke",a}return Object(vt["a"])(t,e),t.prototype.getInitialData=function(e,t){return Object(bt["a"])(null,this,{useEncodeDefaulter:Object(U["bind"])(Id,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var t=this.coordinateSystem,a=this.getData(),r=[];return t.eachActiveState(a,(function(t,i){e===t&&r.push(a.getRawIndex(i))})),r},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(yt["b"]);function Id(e){var t=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(t){var a={};return Object(U["each"])(t.dimensions,(function(e){var t=Ad(e);a[e]=t})),a}}function Ad(e){return+e.replace("dim","")}var Dd=jd,Md=["lineStyle","opacity"],Ed={seriesType:"parallel",reset:function(e,t){var a=e.coordinateSystem,r={normal:e.get(["lineStyle","opacity"]),active:e.get("activeOpacity"),inactive:e.get("inactiveOpacity")};return{progress:function(e,t){a.eachActiveState(t,(function(e,a){var i=r[e];if("normal"===e&&t.hasItemOption){var n=t.getItemModel(a).get(Md,!0);null!=n&&(i=n)}var s=t.ensureUniqueItemVisual(a,"style");s.opacity=i}),e.start,e.end)}}}},Rd=Ed;function Bd(e){Pd(e),Ld(e)}function Pd(e){if(!e.parallel){var t=!1;U["each"](e.series,(function(e){e&&"parallel"===e.type&&(t=!0)})),t&&(e.parallel=[{}])}}function Ld(e){var t=qt["r"](e.parallelAxis);U["each"](t,(function(t){if(U["isObject"](t)){var a=t.parallelIndex||0,r=qt["r"](e.parallel)[a];r&&r.parallelAxisDefault&&U["merge"](t,r.parallelAxisDefault,!1)}}))}var Fd=a("41f4"),Nd=5,$d=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.render=function(e,t,a){this._model=e,this._api=a,this._handlers||(this._handlers={},Object(U["each"])(zd,(function(e,t){a.getZr().on(t,this._handlers[t]=Object(U["bind"])(e,this))}),this)),Object(Fd["b"])(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(e,t){Object(Fd["a"])(this,"_throttledDispatchExpand"),Object(U["each"])(this._handlers,(function(e,a){t.getZr().off(a,e)})),this._handlers=null},t.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)},t.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction(Object(U["extend"])({type:"parallelAxisExpand"},e))},t.type="parallel",t}(gr["a"]),zd={mousedown:function(e){Vd(this,"click")&&(this._mouseDownPoint=[e.offsetX,e.offsetY])},mouseup:function(e){var t=this._mouseDownPoint;if(Vd(this,"click")&&t){var a=[e.offsetX,e.offsetY],r=Math.pow(t[0]-a[0],2)+Math.pow(t[1]-a[1],2);if(r>Nd)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);"none"!==i.behavior&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(e){if(!this._mouseDownPoint&&Vd(this,"mousemove")){var t=this._model,a=t.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]),r=a.behavior;"jump"===r&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===r?null:{axisExpandWindow:a.axisExpandWindow,animation:"jump"===r?null:{duration:0}})}}};function Vd(e,t){var a=e._model;return a.get("axisExpandable")&&a.get("axisExpandTriggerOn")===t}var Ud=$d,Hd=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.init=function(){e.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(e){var t=this.option;e&&U["merge"](t,e,!0),this._initDimensions()},t.prototype.contains=function(e,t){var a=e.get("parallelIndex");return null!=a&&t.getComponent("parallel",a)===this},t.prototype.setAxisExpand=function(e){U["each"](["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],(function(t){e.hasOwnProperty(t)&&(this.option[t]=e[t])}),this)},t.prototype._initDimensions=function(){var e=this.dimensions=[],t=this.parallelAxisIndex=[],a=U["filter"](this.ecModel.queryComponents({mainType:"parallelAxis"}),(function(e){return(e.get("parallelIndex")||0)===this.componentIndex}),this);U["each"](a,(function(a){e.push("dim"+a.get("dim")),t.push(a.componentIndex)}))},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t}(lr["a"]),Gd=Hd,Wd=a("c33c"),qd=function(e){function t(t,a,r,i,n){var s=e.call(this,t,a,r)||this;return s.type=i||"value",s.axisIndex=n,s}return Object(vt["a"])(t,e),t.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},t}(yr["a"]),Xd=qd;function Yd(e,t,a,r,i,n){e=e||0;var s=a[1]-a[0];if(null!=i&&(i=Zd(i,[0,s])),null!=n&&(n=Math.max(n,null!=i?i:0)),"all"===r){var o=Math.abs(t[1]-t[0]);o=Zd(o,[0,s]),i=n=Zd(o,[i,n]),r=0}t[0]=Zd(t[0],a),t[1]=Zd(t[1],a);var l=Kd(t,r);t[r]+=e;var c,d=i||0,u=a.slice();return l.sign<0?u[0]+=d:u[1]-=d,t[r]=Zd(t[r],u),c=Kd(t,r),null!=i&&(c.sign!==l.sign||c.span<i)&&(t[1-r]=t[r]+l.sign*i),c=Kd(t,r),null!=n&&c.span>n&&(t[1-r]=t[r]+c.sign*n),t}function Kd(e,t){var a=e[t]-e[1-t];return{span:Math.abs(a),sign:a>0?-1:a<0?1:t?-1:1}}function Zd(e,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,e))}var Jd=U["each"],Qd=Math.min,eu=Math.max,tu=Math.floor,au=Math.ceil,ru=Sr["v"],iu=Math.PI,nu=function(){function e(e,t,a){this.type="parallel",this._axesMap=U["createHashMap"](),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,a)}return e.prototype._init=function(e,t,a){var r=e.dimensions,i=e.parallelAxisIndex;Jd(r,(function(e,a){var r=i[a],n=t.getComponent("parallelAxis",r),s=this._axesMap.set(e,new Xd(e,Wd["a"](n),[0,0],n.get("type"),r)),o="category"===s.type;s.onBand=o&&n.get("boundaryGap"),s.inverse=n.get("inverse"),n.axis=s,s.model=n,s.coordinateSystem=n.coordinateSystem=this}),this)},e.prototype.update=function(e,t){this._updateAxesFromSeries(this._model,e)},e.prototype.containPoint=function(e){var t=this._makeLayoutInfo(),a=t.axisBase,r=t.layoutBase,i=t.pixelDimIndex,n=e[1-i],s=e[i];return n>=a&&n<=a+t.axisLength&&s>=r&&s<=r+t.layoutLength},e.prototype.getModel=function(){return this._model},e.prototype._updateAxesFromSeries=function(e,t){t.eachSeries((function(a){if(e.contains(a,t)){var r=a.getData();Jd(this.dimensions,(function(e){var t=this._axesMap.get(e);t.scale.unionExtentFromData(r,r.mapDimension(e)),Wd["i"](t.scale,t.model)}),this)}}),this)},e.prototype.resize=function(e,t){this._rect=Mn["g"](e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},e.prototype.getRect=function(){return this._rect},e.prototype._makeLayoutInfo=function(){var e,t=this._model,a=this._rect,r=["x","y"],i=["width","height"],n=t.get("layout"),s="horizontal"===n?0:1,o=a[i[s]],l=[0,o],c=this.dimensions.length,d=su(t.get("axisExpandWidth"),l),u=su(t.get("axisExpandCount")||0,[0,c]),h=t.get("axisExpandable")&&c>3&&c>u&&u>1&&d>0&&o>0,p=t.get("axisExpandWindow");if(p)e=su(p[1]-p[0],l),p[1]=p[0]+e;else{e=su(d*(u-1),l);var f=t.get("axisExpandCenter")||tu(c/2);p=[d*f-e/2],p[1]=p[0]+e}var m=(o-e)/(c-u);m<3&&(m=0);var g=[tu(ru(p[0]/d,1))+1,au(ru(p[1]/d,1))-1],_=m/d*p[0];return{layout:n,pixelDimIndex:s,layoutBase:a[r[s]],layoutLength:o,axisBase:a[r[1-s]],axisLength:a[i[1-s]],axisExpandable:h,axisExpandWidth:d,axisCollapseWidth:m,axisExpandWindow:p,axisCount:c,winInnerIndices:g,axisExpandWindow0Pos:_}},e.prototype._layoutAxes=function(){var e=this._rect,t=this._axesMap,a=this.dimensions,r=this._makeLayoutInfo(),i=r.layout;t.each((function(e){var t=[0,r.axisLength],a=e.inverse?1:0;e.setExtent(t[a],t[1-a])})),Jd(a,(function(t,a){var n=(r.axisExpandable?lu:ou)(a,r),s={horizontal:{x:n.position,y:r.axisLength},vertical:{x:0,y:n.position}},o={horizontal:iu/2,vertical:0},l=[s[i].x+e.x,s[i].y+e.y],c=o[i],d=Zr["create"]();Zr["rotate"](d,d,c),Zr["translate"](d,d,l),this._axesLayout[t]={position:l,rotation:c,transform:d,axisNameAvailableWidth:n.axisNameAvailableWidth,axisLabelShow:n.axisLabelShow,nameTruncateMaxWidth:n.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}}),this)},e.prototype.getAxis=function(e){return this._axesMap.get(e)},e.prototype.dataToPoint=function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},e.prototype.eachActiveState=function(e,t,a,r){null==a&&(a=0),null==r&&(r=e.count());var i=this._axesMap,n=this.dimensions,s=[],o=[];U["each"](n,(function(t){s.push(e.mapDimension(t)),o.push(i.get(t).model)}));for(var l=this.hasAxisBrushed(),c=a;c<r;c++){var d=void 0;if(l){d="active";for(var u=e.getValues(s,c),h=0,p=n.length;h<p;h++){var f=o[h].getActiveState(u[h]);if("inactive"===f){d="inactive";break}}}else d="normal";t(d,c)}},e.prototype.hasAxisBrushed=function(){for(var e=this.dimensions,t=this._axesMap,a=!1,r=0,i=e.length;r<i;r++)"normal"!==t.get(e[r]).model.getActiveState()&&(a=!0);return a},e.prototype.axisCoordToPoint=function(e,t){var a=this._axesLayout[t];return Ot["applyTransform"]([e,0],a.transform)},e.prototype.getAxisLayout=function(e){return U["clone"](this._axesLayout[e])},e.prototype.getSlidedAxisExpandWindow=function(e){var t=this._makeLayoutInfo(),a=t.pixelDimIndex,r=t.axisExpandWindow.slice(),i=r[1]-r[0],n=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:r};var s,o=e[a]-t.layoutBase-t.axisExpandWindow0Pos,l="slide",c=t.axisCollapseWidth,d=this._model.get("axisExpandSlideTriggerArea"),u=null!=d[0];if(c)u&&c&&o<i*d[0]?(l="jump",s=o-i*d[2]):u&&c&&o>i*(1-d[0])?(l="jump",s=o-i*(1-d[2])):(s=o-i*d[1])>=0&&(s=o-i*(1-d[1]))<=0&&(s=0),s*=t.axisExpandWidth/c,s?Yd(s,r,n,"all"):l="none";else{var h=r[1]-r[0],p=n[1]*o/h;r=[eu(0,p-h/2)],r[1]=Qd(n[1],r[0]+h),r[0]=r[1]-h}return{axisExpandWindow:r,behavior:l}},e}();function su(e,t){return Qd(eu(e,t[0]),t[1])}function ou(e,t){var a=t.layoutLength/(t.axisCount-1);return{position:a*e,axisNameAvailableWidth:a,axisLabelShow:!0}}function lu(e,t){var a,r,i=t.layoutLength,n=t.axisExpandWidth,s=t.axisCount,o=t.axisCollapseWidth,l=t.winInnerIndices,c=o,d=!1;return e<l[0]?(a=e*o,r=o):e<=l[1]?(a=t.axisExpandWindow0Pos+e*n-t.axisExpandWindow[0],c=n,d=!0):(a=i-(s-1-e)*o,r=o),{position:a,axisNameAvailableWidth:c,axisLabelShow:d,nameTruncateMaxWidth:r}}var cu=nu;function du(e,t){var a=[];return e.eachComponent("parallel",(function(r,i){var n=new cu(r,e,t);n.name="parallel_"+i,n.resize(r,t),r.coordinateSystem=n,n.model=r,a.push(n)})),e.eachSeries((function(e){if("parallel"===e.get("coordinateSystem")){var t=e.getReferringComponents("parallel",qt["b"]).models[0];e.coordinateSystem=t.coordinateSystem}})),a}var uu={create:du},hu=uu,pu=a("0dc0"),fu=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.activeIntervals=[],a}return Object(vt["a"])(t,e),t.prototype.getAreaSelectStyle=function(){return Object(mo["a"])([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(e){var t=this.activeIntervals=U["clone"](e);if(t)for(var a=t.length-1;a>=0;a--)Sr["c"](t[a])},t.prototype.getActiveState=function(e){var t=this.activeIntervals;if(!t.length)return"normal";if(null==e||isNaN(+e))return"inactive";if(1===t.length){var a=t[0];if(a[0]<=e&&e<=a[1])return"active"}else for(var r=0,i=t.length;r<i;r++)if(t[r][0]<=e&&e<=t[r][1])return"active";return"inactive"},t}(lr["a"]);U["mixin"](fu,or["a"]);var mu=fu,gu=!0,_u=Math.min,vu=Math.max,bu=Math.pow,yu=1e4,ku=6,xu=6,wu="globalPan",Su={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},Cu={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},Ou={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},Tu=0,ju=function(e){function t(t){var a=e.call(this)||this;return a._track=[],a._covers=[],a._handlers={},a._zr=t,a.group=new xt["a"],a._uid="brushController_"+Tu++,Object(U["each"])(sh,(function(e,t){this._handlers[t]=Object(U["bind"])(e,this)}),a),a}return Object(vt["a"])(t,e),t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var t=this._zr;this._enableGlobalPan||Rr(t,wu,this._uid),Object(U["each"])(this._handlers,(function(e,a){t.on(a,e)})),this._brushType=e.brushType,this._brushOption=Object(U["merge"])(Object(U["clone"])(Ou),e,!0)},t.prototype._doDisableBrush=function(){var e=this._zr;Br(e,wu,this._uid),Object(U["each"])(this._handlers,(function(t,a){e.off(a,t)})),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var t=this._panels={};Object(U["each"])(e,(function(e){t[e.panelId]=Object(U["clone"])(e)}))}else this._panels=null;return this},t.prototype.mount=function(e){e=e||{},this._enableGlobalPan=e.enableGlobalPan;var t=this.group;return this._zr.add(t),t.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=t.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=Object(U["map"])(e,(function(e){return Object(U["merge"])(Object(U["clone"])(Ou),e,!0)}));var t="\0-brush-index-",a=this._covers,r=this._covers=[],i=this,n=this._creatingCover;return new io["a"](a,e,o,s).add(l).update(l).remove(c).execute(),this;function s(e,a){return(null!=e.id?e.id:t+a)+"-"+e.brushType}function o(e,t){return s(e.__brushOption,t)}function l(t,s){var o=e[t];if(null!=s&&a[s]===n)r[t]=a[s];else{var l=r[t]=null!=s?(a[s].__brushOption=o,a[s]):Au(i,Iu(i,o));Eu(i,l)}}function c(e){a[e]!==n&&i.group.remove(a[e])}},t.prototype.unmount=function(){return this.enableBrush(!1),Lu(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(Ar["a"]);function Iu(e,t){var a=ch[t.brushType].createCover(e,t);return a.__brushOption=t,Mu(a,t),e.group.add(a),a}function Au(e,t){var a=Ru(t);return a.endCreating&&(a.endCreating(e,t),Mu(t,t.__brushOption)),t}function Du(e,t){var a=t.__brushOption;Ru(t).updateCoverShape(e,t,a.range,a)}function Mu(e,t){var a=t.z;null==a&&(a=yu),e.traverse((function(e){e.z=a,e.z2=a}))}function Eu(e,t){Ru(t).updateCommon(e,t),Du(e,t)}function Ru(e){return ch[e.__brushOption.brushType]}function Bu(e,t,a){var r,i=e._panels;if(!i)return gu;var n=e._transform;return Object(U["each"])(i,(function(e){e.isTargetByCursor(t,a,n)&&(r=e)})),r}function Pu(e,t){var a=e._panels;if(!a)return gu;var r=t.__brushOption.panelId;return null!=r?a[r]:gu}function Lu(e){var t=e._covers,a=t.length;return Object(U["each"])(t,(function(t){e.group.remove(t)}),e),t.length=0,!!a}function Fu(e,t){var a=Object(U["map"])(e._covers,(function(e){var t=e.__brushOption,a=Object(U["clone"])(t.range);return{brushType:t.brushType,panelId:t.panelId,range:a}}));e.trigger("brush",{areas:a,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function Nu(e){var t=e._track;if(!t.length)return!1;var a=t[t.length-1],r=t[0],i=a[0]-r[0],n=a[1]-r[1],s=bu(i*i+n*n,.5);return s>ku}function $u(e){var t=e.length-1;return t<0&&(t=0),[e[0],e[t]]}function zu(e,t,a,r){var i=new xt["a"];return i.add(new Xr["a"]({name:"main",style:Gu(a),silent:!0,draggable:!0,cursor:"move",drift:Object(U["curry"])(Ku,e,t,i,["n","s","w","e"]),ondragend:Object(U["curry"])(Fu,t,{isEnd:!0})})),Object(U["each"])(r,(function(a){i.add(new Xr["a"]({name:a.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Object(U["curry"])(Ku,e,t,i,a),ondragend:Object(U["curry"])(Fu,t,{isEnd:!0})}))})),i}function Vu(e,t,a,r){var i=r.brushStyle.lineWidth||0,n=vu(i,xu),s=a[0][0],o=a[1][0],l=s-i/2,c=o-i/2,d=a[0][1],u=a[1][1],h=d-n+i/2,p=u-n+i/2,f=d-s,m=u-o,g=f+i,_=m+i;Hu(e,t,"main",s,o,f,m),r.transformable&&(Hu(e,t,"w",l,c,n,_),Hu(e,t,"e",h,c,n,_),Hu(e,t,"n",l,c,g,n),Hu(e,t,"s",l,p,g,n),Hu(e,t,"nw",l,c,n,n),Hu(e,t,"ne",h,c,n,n),Hu(e,t,"sw",l,p,n,n),Hu(e,t,"se",h,p,n,n))}function Uu(e,t){var a=t.__brushOption,r=a.transformable,i=t.childAt(0);i.useStyle(Gu(a)),i.attr({silent:!r,cursor:r?"move":"default"}),Object(U["each"])([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],(function(a){var i=t.childOfName(a.join("")),n=1===a.length?Xu(e,a[0]):Yu(e,a);i&&i.attr({silent:!r,invisible:!r,cursor:r?Cu[n]+"-resize":null})}))}function Hu(e,t,a,r,i,n,s){var o=t.childOfName(a);o&&o.setShape(eh(Qu(e,t,[[r,i],[r+n,i+s]])))}function Gu(e){return Object(U["defaults"])({strokeNoScale:!0},e.brushStyle)}function Wu(e,t,a,r){var i=[_u(e,a),_u(t,r)],n=[vu(e,a),vu(t,r)];return[[i[0],n[0]],[i[1],n[1]]]}function qu(e){return Ot["getTransform"](e.group)}function Xu(e,t){var a={w:"left",e:"right",n:"top",s:"bottom"},r={left:"w",right:"e",top:"n",bottom:"s"},i=Ot["transformDirection"](a[t],qu(e));return r[i]}function Yu(e,t){var a=[Xu(e,t[0]),Xu(e,t[1])];return("e"===a[0]||"w"===a[0])&&a.reverse(),a.join("")}function Ku(e,t,a,r,i,n){var s=a.__brushOption,o=e.toRectRange(s.range),l=Ju(t,i,n);Object(U["each"])(r,(function(e){var t=Su[e];o[t[0]][t[1]]+=l[t[0]]})),s.range=e.fromRectRange(Wu(o[0][0],o[1][0],o[0][1],o[1][1])),Eu(t,a),Fu(t,{isEnd:!1})}function Zu(e,t,a,r){var i=t.__brushOption.range,n=Ju(e,a,r);Object(U["each"])(i,(function(e){e[0]+=n[0],e[1]+=n[1]})),Eu(e,t),Fu(e,{isEnd:!1})}function Ju(e,t,a){var r=e.group,i=r.transformCoordToLocal(t,a),n=r.transformCoordToLocal(0,0);return[i[0]-n[0],i[1]-n[1]]}function Qu(e,t,a){var r=Pu(e,t);return r&&r!==gu?r.clipPath(a,e._transform):Object(U["clone"])(a)}function eh(e){var t=_u(e[0][0],e[1][0]),a=_u(e[0][1],e[1][1]),r=vu(e[0][0],e[1][0]),i=vu(e[0][1],e[1][1]);return{x:t,y:a,width:r-t,height:i-a}}function th(e,t,a){if(e._brushType&&!lh(e,t.offsetX,t.offsetY)){var r=e._zr,i=e._covers,n=Bu(e,t,a);if(!e._dragging)for(var s=0;s<i.length;s++){var o=i[s].__brushOption;if(n&&(n===gu||o.panelId===n.panelId)&&ch[o.brushType].contain(i[s],a[0],a[1]))return}n&&r.setCursorStyle("crosshair")}}function ah(e){var t=e.event;t.preventDefault&&t.preventDefault()}function rh(e,t,a){return e.childOfName("main").contain(t,a)}function ih(e,t,a,r){var i,n=e._creatingCover,s=e._creatingPanel,o=e._brushOption;if(e._track.push(a.slice()),Nu(e)||n){if(s&&!n){"single"===o.brushMode&&Lu(e);var l=Object(U["clone"])(o);l.brushType=nh(l.brushType,s),l.panelId=s===gu?null:s.panelId,n=e._creatingCover=Iu(e,l),e._covers.push(n)}if(n){var c=ch[nh(e._brushType,s)],d=n.__brushOption;d.range=c.getCreatingRange(Qu(e,n,e._track)),r&&(Au(e,n),c.updateCommon(e,n)),Du(e,n),i={isEnd:r}}}else r&&"single"===o.brushMode&&o.removeOnClick&&Bu(e,t,a)&&Lu(e)&&(i={isEnd:r,removeOnClick:!0});return i}function nh(e,t){return"auto"===e?t.defaultBrushType:e}var sh={mousedown:function(e){if(this._dragging)oh(this,e);else if(!e.target||!e.target.draggable){ah(e);var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null;var a=this._creatingPanel=Bu(this,e,t);a&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(e){var t=e.offsetX,a=e.offsetY,r=this.group.transformCoordToLocal(t,a);if(th(this,e,r),this._dragging){ah(e);var i=ih(this,e,r,!1);i&&Fu(this,i)}},mouseup:function(e){oh(this,e)}};function oh(e,t){if(e._dragging){ah(t);var a=t.offsetX,r=t.offsetY,i=e.group.transformCoordToLocal(a,r),n=ih(e,t,i,!0);e._dragging=!1,e._track=[],e._creatingCover=null,n&&Fu(e,n)}}function lh(e,t,a){var r=e._zr;return t<0||t>r.getWidth()||a<0||a>r.getHeight()}var ch={lineX:dh(0),lineY:dh(1),rect:{createCover:function(e,t){function a(e){return e}return zu({toRectRange:a,fromRectRange:a},e,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(e){var t=$u(e);return Wu(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(e,t,a,r){Vu(e,t,a,r)},updateCommon:Uu,contain:rh},polygon:{createCover:function(e,t){var a=new xt["a"];return a.add(new Za["a"]({name:"main",style:Gu(t),silent:!0})),a},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0)),t.add(new Ka["a"]({name:"main",draggable:!0,drift:Object(U["curry"])(Zu,e,t),ondragend:Object(U["curry"])(Fu,e,{isEnd:!0})}))},updateCoverShape:function(e,t,a,r){t.childAt(0).setShape({points:Qu(e,t,a)})},updateCommon:Uu,contain:rh}};function dh(e){return{createCover:function(t,a){return zu({toRectRange:function(t){var a=[t,[0,100]];return e&&a.reverse(),a},fromRectRange:function(t){return t[e]}},t,a,[[["w"],["e"]],[["n"],["s"]]][e])},getCreatingRange:function(t){var a=$u(t),r=_u(a[0][e],a[1][e]),i=vu(a[0][e],a[1][e]);return[r,i]},updateCoverShape:function(t,a,r,i){var n,s=Pu(t,a);if(s!==gu&&s.getLinearBrushOtherExtent)n=s.getLinearBrushOtherExtent(e);else{var o=t._zr;n=[0,[o.getWidth(),o.getHeight()][1-e]]}var l=[r,n];e&&l.reverse(),Vu(t,a,l,i)},updateCommon:Uu,contain:rh}}var uh=ju;function hh(e){return e=mh(e),function(t){return Ot["clipPointsByRect"](t,e)}}function ph(e,t){return e=mh(e),function(a){var r=null!=t?t:a,i=r?e.width:e.height,n=r?e.x:e.y;return[n,n+(i||0)]}}function fh(e,t,a){var r=mh(e);return function(e,i){return r.contain(i[0],i[1])&&!Wr(e,t,a)}}function mh(e){return Ba["a"].create(e)}var gh=["axisLine","axisTickLabel","axisName"],_h=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.init=function(t,a){e.prototype.init.apply(this,arguments),(this._brushController=new uh(a.getZr())).on("brush",U["bind"](this._onBrush,this))},t.prototype.render=function(e,t,a,r){if(!vh(e,t,r)){this.axisModel=e,this.api=a,this.group.removeAll();var i=this._axisGroup;if(this._axisGroup=new xt["a"],this.group.add(this._axisGroup),e.get("show")){var n=yh(e,t),s=n.coordinateSystem,o=e.getAreaSelectStyle(),l=o.width,c=e.axis.dim,d=s.getAxisLayout(c),u=U["extend"]({strokeContainThreshold:l},d),h=new pr["a"](e,u);U["each"](gh,h.add,h),this._axisGroup.add(h.getGroup()),this._refreshBrushController(u,o,e,n,l,a),Ot["groupTransition"](i,this._axisGroup,e)}}},t.prototype._refreshBrushController=function(e,t,a,r,i,n){var s=a.axis.getExtent(),o=s[1]-s[0],l=Math.min(30,.1*Math.abs(o)),c=Ba["a"].create({x:s[0],y:-i/2,width:o,height:i});c.x-=l,c.width+=2*l,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:hh(c),isTargetByCursor:fh(c,n,r),getLinearBrushOtherExtent:ph(c,0)}]).enableBrush({brushType:"lineX",brushStyle:t,removeOnClick:!0}).updateCovers(bh(a))},t.prototype._onBrush=function(e){var t=e.areas,a=this.axisModel,r=a.axis,i=U["map"](t,(function(e){return[r.coordToData(e.range[0],!0),r.coordToData(e.range[1],!0)]}));(!a.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:a.id,intervals:i})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t}(gr["a"]);function vh(e,t,a){return a&&"axisAreaSelect"===a.type&&t.findComponents({mainType:"parallelAxis",query:a})[0]===e}function bh(e){var t=e.axis;return U["map"](e.activeIntervals,(function(e){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(e[0],!0),t.dataToCoord(e[1],!0)]}}))}function yh(e,t){return t.getComponent("parallel",e.get("parallelIndex"))}var kh=_h,xh={type:"axisAreaSelect",event:"axisAreaSelected"};function wh(e){e.registerAction(xh,(function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},(function(t){t.axis.model.setActiveIntervals(e.intervals)}))})),e.registerAction("parallelAxisExpand",(function(e,t){t.eachComponent({mainType:"parallel",query:e},(function(t){t.setAxisExpand(e)}))}))}var Sh={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function Ch(e){e.registerComponentView(Ud),e.registerComponentModel(Gd),e.registerCoordinateSystem("parallel",hu),e.registerPreprocessor(Bd),e.registerComponentModel(mu),e.registerComponentView(kh),Object(pu["a"])(e,"parallel",mu,Sh),wh(e)}function Oh(e){Object(T["a"])(Ch),e.registerChartView(Td),e.registerSeriesModel(Dd),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,Rd)}var Th=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return e}(),jh=function(e){function t(t){return e.call(this,t)||this}return Object(vt["a"])(t,e),t.prototype.getDefaultShape=function(){return new Th},t.prototype.buildPath=function(e,t){var a=t.extent;e.moveTo(t.x1,t.y1),e.bezierCurveTo(t.cpx1,t.cpy1,t.cpx2,t.cpy2,t.x2,t.y2),"vertical"===t.orient?(e.lineTo(t.x2+a,t.y2),e.bezierCurveTo(t.cpx2+a,t.cpy2,t.cpx1+a,t.cpy1,t.x1+a,t.y1)):(e.lineTo(t.x2,t.y2+a),e.bezierCurveTo(t.cpx2,t.cpy2+a,t.cpx1,t.cpy1+a,t.x1,t.y1+a)),e.closePath()},t.prototype.highlight=function(){Object(jt["r"])(this)},t.prototype.downplay=function(){Object(jt["C"])(this)},t}(D["b"]),Ih=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a._focusAdjacencyDisabled=!1,a}return Object(vt["a"])(t,e),t.prototype.render=function(e,t,a){var r=this,i=e.getGraph(),n=this.group,s=e.layoutInfo,o=s.width,l=s.height,c=e.getData(),d=e.getData("edge"),u=e.get("orient");this._model=e,n.removeAll(),n.x=s.x,n.y=s.y,i.eachEdge((function(t){var a=new jh,r=Object(Tt["a"])(a);r.dataIndex=t.dataIndex,r.seriesIndex=e.seriesIndex,r.dataType="edge";var i,s,c,h,p,f,m,g,_=t.getModel(),v=_.getModel("lineStyle"),b=v.get("curveness"),y=t.node1.getLayout(),k=t.node1.getModel(),x=k.get("localX"),w=k.get("localY"),S=t.node2.getLayout(),C=t.node2.getModel(),O=C.get("localX"),T=C.get("localY"),j=t.getLayout();switch(a.shape.extent=Math.max(1,j.dy),a.shape.orient=u,"vertical"===u?(i=(null!=x?x*o:y.x)+j.sy,s=(null!=w?w*l:y.y)+y.dy,c=(null!=O?O*o:S.x)+j.ty,h=null!=T?T*l:S.y,p=i,f=s*(1-b)+h*b,m=c,g=s*b+h*(1-b)):(i=(null!=x?x*o:y.x)+y.dx,s=(null!=w?w*l:y.y)+j.sy,c=null!=O?O*o:S.x,h=(null!=T?T*l:S.y)+j.ty,p=i*(1-b)+c*b,f=s,m=i*b+c*(1-b),g=h),a.setShape({x1:i,y1:s,x2:c,y2:h,cpx1:p,cpy1:f,cpx2:m,cpy2:g}),a.useStyle(v.getItemStyle()),a.style.fill){case"source":a.style.fill=t.node1.getVisual("color"),a.style.decal=t.node1.getVisual("style").decal;break;case"target":a.style.fill=t.node2.getVisual("color"),a.style.decal=t.node2.getVisual("style").decal;break;case"gradient":var I=t.node1.getVisual("color"),A=t.node2.getVisual("color");Object(U["isString"])(I)&&Object(U["isString"])(A)&&(a.style.fill=new Wt["a"](0,0,+("horizontal"===u),+("vertical"===u),[{color:I,offset:0},{color:A,offset:1}]))}var D=_.getModel("emphasis");Object(jt["I"])(a,_,"lineStyle",(function(e){return e.getItemStyle()})),n.add(a),d.setItemGraphicEl(t.dataIndex,a);var M=D.get("focus");Object(jt["J"])(a,"adjacency"===M?t.getAdjacentDataIndices():M,D.get("blurScope"),D.get("disabled")),Object(Tt["a"])(a).dataType="edge"})),i.eachNode((function(t){var a=t.getLayout(),r=t.getModel(),i=r.get("localX"),s=r.get("localY"),d=r.getModel("emphasis"),u=new Xr["a"]({shape:{x:null!=i?i*o:a.x,y:null!=s?s*l:a.y,width:a.dx,height:a.dy},style:r.getModel("itemStyle").getItemStyle(),z2:10});Object(At["g"])(u,Object(At["e"])(r),{labelFetcher:e,labelDataIndex:t.dataIndex,defaultText:t.id}),u.disableLabelAnimation=!0,u.setStyle("fill",t.getVisual("color")),u.setStyle("decal",t.getVisual("style").decal),Object(jt["I"])(u,r),n.add(u),c.setItemGraphicEl(t.dataIndex,u),Object(Tt["a"])(u).dataType="node";var h=d.get("focus");Object(jt["J"])(u,"adjacency"===h?t.getAdjacentDataIndices():h,d.get("blurScope"),d.get("disabled"))})),c.eachItemGraphicEl((function(t,i){var n=c.getItemModel(i);n.get("draggable")&&(t.drift=function(t,n){r._focusAdjacencyDisabled=!0,this.shape.x+=t,this.shape.y+=n,this.dirty(),a.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:c.getRawIndex(i),localX:this.shape.x/o,localY:this.shape.y/l})},t.ondragend=function(){r._focusAdjacencyDisabled=!1},t.draggable=!0,t.cursor="move")})),!this._data&&e.isAnimationEnabled()&&n.setClipPath(Ah(n.getBoundingRect(),e,(function(){n.removeClipPath()}))),this._data=e.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(ra["a"]);function Ah(e,t,a){var r=new Xr["a"]({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return Ct["c"](r,{shape:{width:e.width+20}},t,a),r}var Dh=Ih,Mh=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.getInitialData=function(e,t){var a=e.edges||e.links,r=e.data||e.nodes,i=e.levels;this.levelModels=[];for(var n=this.levelModels,s=0;s<i.length;s++)null!=i[s].depth&&i[s].depth>=0&&(n[i[s].depth]=new sr["a"](i[s],this,t));if(r&&a){var o=Vc(r,a,this,!0,l);return o.data}function l(e,t){e.wrapMethod("getItemModel",(function(e,t){var a=e.parentModel,r=a.getData().getItemLayout(t);if(r){var i=r.depth,n=a.levelModels[i];n&&(e.parentModel=n)}return e})),t.wrapMethod("getItemModel",(function(e,t){var a=e.parentModel,r=a.getGraph().getEdgeByIndex(t),i=r.node1.getLayout();if(i){var n=i.depth,s=a.levelModels[n];s&&(e.parentModel=s)}return e}))}},t.prototype.setNodePosition=function(e,t){var a=this.option.data||this.option.nodes,r=a[e];r.localX=t[0],r.localY=t[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,t,a){function r(e){return isNaN(e)||null==e}if("edge"===a){var i=this.getDataParams(e,a),n=i.data,s=i.value,o=n.source+" -- "+n.target;return Object(ar["c"])("nameValue",{name:o,value:s,noValue:r(s)})}var l=this.getGraph().getNodeByIndex(e),c=l.getLayout().value,d=this.getDataParams(e,a).data.name;return Object(ar["c"])("nameValue",{name:null!=d?d+"":null,value:c,noValue:r(c)})},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(t,a){var r=e.prototype.getDataParams.call(this,t,a);if(null==r.value&&"node"===a){var i=this.getGraph().getNodeByIndex(t),n=i.getLayout().value;r.value=n}return r},t.type="series.sankey",t.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(yt["b"]),Eh=Mh;function Rh(e,t){e.eachSeriesByType("sankey",(function(e){var a=e.get("nodeWidth"),r=e.get("nodeGap"),i=Bh(e,t);e.layoutInfo=i;var n=i.width,s=i.height,o=e.getGraph(),l=o.nodes,c=o.edges;Lh(l);var d=U["filter"](l,(function(e){return 0===e.getLayout().value})),u=0!==d.length?0:e.get("layoutIterations"),h=e.get("orient"),p=e.get("nodeAlign");Ph(l,c,a,r,n,s,u,h,p)}))}function Bh(e,t){return Mn["g"](e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function Ph(e,t,a,r,i,n,s,o,l){Fh(e,t,a,i,n,o,l),Uh(e,t,n,i,r,s,o),ap(e,o)}function Lh(e){U["each"](e,(function(e){var t=ep(e.outEdges,Qh),a=ep(e.inEdges,Qh),r=e.getValue()||0,i=Math.max(t,a,r);e.setLayout({value:i},!0)}))}function Fh(e,t,a,r,i,n,s){for(var o=[],l=[],c=[],d=[],u=0,h=0;h<t.length;h++)o[h]=1;for(h=0;h<e.length;h++)l[h]=e[h].inEdges.length,0===l[h]&&c.push(e[h]);var p=-1;while(c.length){for(var f=0;f<c.length;f++){var m=c[f],g=m.hostGraph.data.getRawDataItem(m.dataIndex),_=null!=g.depth&&g.depth>=0;_&&g.depth>p&&(p=g.depth),m.setLayout({depth:_?g.depth:u},!0),"vertical"===n?m.setLayout({dy:a},!0):m.setLayout({dx:a},!0);for(var v=0;v<m.outEdges.length;v++){var b=m.outEdges[v],y=t.indexOf(b);o[y]=0;var k=b.node2,x=e.indexOf(k);0===--l[x]&&d.indexOf(k)<0&&d.push(k)}}++u,c=d,d=[]}for(h=0;h<o.length;h++)if(1===o[h])throw new Error("Sankey is a DAG, the original data has cycle!");var w=p>u-1?p:u-1;s&&"left"!==s&&$h(e,s,n,w);var S="vertical"===n?(i-a)/w:(r-a)/w;Vh(e,S,n)}function Nh(e){var t=e.hostGraph.data.getRawDataItem(e.dataIndex);return null!=t.depth&&t.depth>=0}function $h(e,t,a,r){if("right"===t){var i=[],n=e,s=0;while(n.length){for(var o=0;o<n.length;o++){var l=n[o];l.setLayout({skNodeHeight:s},!0);for(var c=0;c<l.inEdges.length;c++){var d=l.inEdges[c];i.indexOf(d.node1)<0&&i.push(d.node1)}}n=i,i=[],++s}U["each"](e,(function(e){Nh(e)||e.setLayout({depth:Math.max(0,r-e.getLayout().skNodeHeight)},!0)}))}else"justify"===t&&zh(e,r)}function zh(e,t){U["each"](e,(function(e){Nh(e)||e.outEdges.length||e.setLayout({depth:t},!0)}))}function Vh(e,t,a){U["each"](e,(function(e){var r=e.getLayout().depth*t;"vertical"===a?e.setLayout({y:r},!0):e.setLayout({x:r},!0)}))}function Uh(e,t,a,r,i,n,s){var o=Hh(e,s);Gh(o,t,a,r,i,s),Wh(o,i,a,r,s);for(var l=1;n>0;n--)l*=.99,qh(o,l,s),Wh(o,i,a,r,s),tp(o,l,s),Wh(o,i,a,r,s)}function Hh(e,t){var a=[],r="vertical"===t?"y":"x",i=Object(qt["j"])(e,(function(e){return e.getLayout()[r]}));return i.keys.sort((function(e,t){return e-t})),U["each"](i.keys,(function(e){a.push(i.buckets.get(e))})),a}function Gh(e,t,a,r,i,n){var s=1/0;U["each"](e,(function(e){var t=e.length,o=0;U["each"](e,(function(e){o+=e.getLayout().value}));var l="vertical"===n?(r-(t-1)*i)/o:(a-(t-1)*i)/o;l<s&&(s=l)})),U["each"](e,(function(e){U["each"](e,(function(e,t){var a=e.getLayout().value*s;"vertical"===n?(e.setLayout({x:t},!0),e.setLayout({dx:a},!0)):(e.setLayout({y:t},!0),e.setLayout({dy:a},!0))}))})),U["each"](t,(function(e){var t=+e.getValue()*s;e.setLayout({dy:t},!0)}))}function Wh(e,t,a,r,i){var n="vertical"===i?"x":"y";U["each"](e,(function(e){var s,o,l;e.sort((function(e,t){return e.getLayout()[n]-t.getLayout()[n]}));for(var c=0,d=e.length,u="vertical"===i?"dx":"dy",h=0;h<d;h++)o=e[h],l=c-o.getLayout()[n],l>0&&(s=o.getLayout()[n]+l,"vertical"===i?o.setLayout({x:s},!0):o.setLayout({y:s},!0)),c=o.getLayout()[n]+o.getLayout()[u]+t;var p="vertical"===i?r:a;if(l=c-t-p,l>0){s=o.getLayout()[n]-l,"vertical"===i?o.setLayout({x:s},!0):o.setLayout({y:s},!0),c=s;for(h=d-2;h>=0;--h)o=e[h],l=o.getLayout()[n]+o.getLayout()[u]+t-c,l>0&&(s=o.getLayout()[n]-l,"vertical"===i?o.setLayout({x:s},!0):o.setLayout({y:s},!0)),c=o.getLayout()[n]}}))}function qh(e,t,a){U["each"](e.slice().reverse(),(function(e){U["each"](e,(function(e){if(e.outEdges.length){var r=ep(e.outEdges,Xh,a)/ep(e.outEdges,Qh);if(isNaN(r)){var i=e.outEdges.length;r=i?ep(e.outEdges,Yh,a)/i:0}if("vertical"===a){var n=e.getLayout().x+(r-Jh(e,a))*t;e.setLayout({x:n},!0)}else{var s=e.getLayout().y+(r-Jh(e,a))*t;e.setLayout({y:s},!0)}}}))}))}function Xh(e,t){return Jh(e.node2,t)*e.getValue()}function Yh(e,t){return Jh(e.node2,t)}function Kh(e,t){return Jh(e.node1,t)*e.getValue()}function Zh(e,t){return Jh(e.node1,t)}function Jh(e,t){return"vertical"===t?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function Qh(e){return e.getValue()}function ep(e,t,a){var r=0,i=e.length,n=-1;while(++n<i){var s=+t(e[n],a);isNaN(s)||(r+=s)}return r}function tp(e,t,a){U["each"](e,(function(e){U["each"](e,(function(e){if(e.inEdges.length){var r=ep(e.inEdges,Kh,a)/ep(e.inEdges,Qh);if(isNaN(r)){var i=e.inEdges.length;r=i?ep(e.inEdges,Zh,a)/i:0}if("vertical"===a){var n=e.getLayout().x+(r-Jh(e,a))*t;e.setLayout({x:n},!0)}else{var s=e.getLayout().y+(r-Jh(e,a))*t;e.setLayout({y:s},!0)}}}))}))}function ap(e,t){var a="vertical"===t?"x":"y";U["each"](e,(function(e){e.outEdges.sort((function(e,t){return e.node2.getLayout()[a]-t.node2.getLayout()[a]})),e.inEdges.sort((function(e,t){return e.node1.getLayout()[a]-t.node1.getLayout()[a]}))})),U["each"](e,(function(e){var t=0,a=0;U["each"](e.outEdges,(function(e){e.setLayout({sy:t},!0),t+=e.getLayout().dy})),U["each"](e.inEdges,(function(e){e.setLayout({ty:a},!0),a+=e.getLayout().dy}))}))}function rp(e){e.eachSeriesByType("sankey",(function(e){var t=e.getGraph(),a=t.nodes;if(a.length){var r=1/0,i=-1/0;U["each"](a,(function(e){var t=e.getLayout().value;t<r&&(r=t),t>i&&(i=t)})),U["each"](a,(function(t){var a=new Ko({type:"color",mappingMethod:"linear",dataExtent:[r,i],visual:e.get("color")}),n=a.mapValueToVisual(t.getLayout().value),s=t.getModel().get(["itemStyle","color"]);null!=s?(t.setVisual("color",s),t.setVisual("style",{fill:s})):(t.setVisual("color",n),t.setVisual("style",{fill:n}))}))}}))}function ip(e){e.registerChartView(Dh),e.registerSeriesModel(Eh),e.registerLayout(Rh),e.registerVisual(rp),e.registerAction({type:"dragNode",event:"dragnode",update:"update"},(function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},(function(t){t.setNodePosition(e.dataIndex,[e.localX,e.localY])}))}))}var np=a("0f27"),sp=function(){function e(){}return e.prototype.getInitialData=function(e,t){var a,r,i=t.getComponent("xAxis",this.get("xAxisIndex")),n=t.getComponent("yAxis",this.get("yAxisIndex")),s=i.get("type"),o=n.get("type");"category"===s?(e.layout="horizontal",a=i.getOrdinalMeta(),r=!0):"category"===o?(e.layout="vertical",a=n.getOrdinalMeta(),r=!0):e.layout=e.layout||"horizontal";var l=["x","y"],c="horizontal"===e.layout?0:1,d=this._baseAxisDim=l[c],u=l[1-c],h=[i,n],p=h[c].get("type"),f=h[1-c].get("type"),m=e.data;if(m&&r){var g=[];U["each"](m,(function(e,t){var a;U["isArray"](e)?(a=e.slice(),e.unshift(t)):U["isArray"](e.value)?(a=U["extend"]({},e),a.value=a.value.slice(),e.value.unshift(t)):a=e,g.push(a)})),e.data=g}var _=this.defaultValueDimensions,v=[{name:d,type:Object(np["a"])(p),ordinalMeta:a,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:u,type:Object(np["a"])(f),dimsDef:_.slice()}];return Object(er["a"])(this,{coordDimensions:v,dimensionsCount:_.length+1,encodeDefaulter:U["curry"](mn["c"],v,this)})},e.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},e}(),op=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],a.visualDrawType="stroke",a}return Object(vt["a"])(t,e),t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}(yt["b"]);Object(U["mixin"])(op,sp,!0);var lp=op,cp=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.render=function(e,t,a){var r=e.getData(),i=this.group,n=this._data;this._data||i.removeAll();var s="horizontal"===e.get("layout")?1:0;r.diff(n).add((function(e){if(r.hasValue(e)){var t=r.getItemLayout(e),a=hp(t,r,e,s,!0);r.setItemGraphicEl(e,a),i.add(a)}})).update((function(e,t){var a=n.getItemGraphicEl(t);if(r.hasValue(e)){var o=r.getItemLayout(e);a?(Object(Ct["g"])(a),pp(o,a,r,e)):a=hp(o,r,e,s),i.add(a),r.setItemGraphicEl(e,a)}else i.remove(a)})).remove((function(e){var t=n.getItemGraphicEl(e);t&&i.remove(t)})).execute(),this._data=r},t.prototype.remove=function(e){var t=this.group,a=this._data;this._data=null,a&&a.eachItemGraphicEl((function(e){e&&t.remove(e)}))},t.type="boxplot",t}(ra["a"]),dp=function(){function e(){}return e}(),up=function(e){function t(t){var a=e.call(this,t)||this;return a.type="boxplotBoxPath",a}return Object(vt["a"])(t,e),t.prototype.getDefaultShape=function(){return new dp},t.prototype.buildPath=function(e,t){var a=t.points,r=0;for(e.moveTo(a[r][0],a[r][1]),r++;r<4;r++)e.lineTo(a[r][0],a[r][1]);for(e.closePath();r<a.length;r++)e.moveTo(a[r][0],a[r][1]),r++,e.lineTo(a[r][0],a[r][1])},t}(D["b"]);function hp(e,t,a,r,i){var n=e.ends,s=new up({shape:{points:i?fp(n,r,e):n}});return pp(e,s,t,a,i),s}function pp(e,t,a,r,i){var n=a.hostModel,s=Ot[i?"initProps":"updateProps"];s(t,{shape:{points:e.ends}},n,r),t.useStyle(a.getItemVisual(r,"style")),t.style.strokeNoScale=!0,t.z2=100;var o=a.getItemModel(r),l=o.getModel("emphasis");Object(jt["I"])(t,o),Object(jt["J"])(t,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function fp(e,t,a){return U["map"](e,(function(e){return e=e.slice(),e[t]=a.initBaseline,e}))}var mp=cp;function gp(e,t){}var _p=U["each"];function vp(e){var t=bp(e);_p(t,(function(e){var t=e.seriesModels;t.length&&(yp(e),_p(t,(function(t,a){kp(t,e.boxOffsetList[a],e.boxWidthList[a])})))}))}function bp(e){var t=[],a=[];return e.eachSeriesByType("boxplot",(function(e){var r=e.getBaseAxis(),i=U["indexOf"](a,r);i<0&&(i=a.length,a[i]=r,t[i]={axis:r,seriesModels:[]}),t[i].seriesModels.push(e)})),t}function yp(e){var t,a=e.axis,r=e.seriesModels,i=r.length,n=e.boxWidthList=[],s=e.boxOffsetList=[],o=[];if("category"===a.type)t=a.getBandWidth();else{var l=0;_p(r,(function(e){l=Math.max(l,e.getData().count())}));var c=a.getExtent();t=Math.abs(c[1]-c[0])/l}_p(r,(function(e){var a=e.get("boxWidth");U["isArray"](a)||(a=[a,a]),o.push([Object(Sr["p"])(a[0],t)||0,Object(Sr["p"])(a[1],t)||0])}));var d=.8*t-2,u=d/i*.3,h=(d-u*(i-1))/i,p=h/2-d/2;_p(r,(function(e,t){s.push(p),p+=u+h,n.push(Math.min(Math.max(h,o[t][0]),o[t][1]))}))}function kp(e,t,a){var r=e.coordinateSystem,i=e.getData(),n=a/2,s="horizontal"===e.get("layout")?0:1,o=1-s,l=["x","y"],c=i.mapDimension(l[s]),d=i.mapDimensionsAll(l[o]);if(!(null==c||d.length<5))for(var u=0;u<i.count();u++){var h=i.get(c,u),p=b(h,d[2],u),f=b(h,d[0],u),m=b(h,d[1],u),g=b(h,d[3],u),_=b(h,d[4],u),v=[];y(v,m,!1),y(v,g,!0),v.push(f,m,_,g),k(v,f),k(v,_),k(v,p),i.setItemLayout(u,{initBaseline:p[o],ends:v})}function b(e,a,n){var l,c=i.get(a,n),d=[];return d[s]=e,d[o]=c,isNaN(e)||isNaN(c)?l=[NaN,NaN]:(l=r.dataToPoint(d),l[s]+=t),l}function y(e,t,a){var r=t.slice(),i=t.slice();r[s]+=n,i[s]-=n,a?e.push(r,i):e.push(i,r)}function k(e,t){var a=t.slice(),r=t.slice();a[s]-=n,r[s]+=n,e.push(a,r)}}function xp(e,t){t=t||{};for(var a=[],r=[],i=t.boundIQR,n="none"===i||0===i,s=0;s<e.length;s++){var o=Object(Sr["c"])(e[s].slice()),l=Object(Sr["q"])(o,.25),c=Object(Sr["q"])(o,.5),d=Object(Sr["q"])(o,.75),u=o[0],h=o[o.length-1],p=(null==i?1.5:i)*(d-l),f=n?u:Math.max(u,l-p),m=n?h:Math.min(h,d+p),g=t.itemNameFormatter,_=Object(U["isFunction"])(g)?g({value:s}):Object(U["isString"])(g)?g.replace("{value}",s+""):s+"";a.push([_,f,l,c,d,m]);for(var v=0;v<o.length;v++){var b=o[v];if(b<f||b>m){var y=[_,b];r.push(y)}}}return{boxData:a,outliers:r}}var wp=a("2262"),Sp={type:"echarts:boxplot",transform:function(e){var t=e.upstream;if(t.sourceFormat!==wp["c"]){var a="";0,Object(Mo["c"])(a)}var r=xp(t.getRawData(),e.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:r.boxData},{data:r.outliers}]}};function Cp(e){e.registerSeriesModel(lp),e.registerChartView(mp),e.registerVisual(gp),e.registerLayout(vp),e.registerTransform(Sp)}var Op=["color","borderColor"],Tp=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.render=function(e,t,a){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,t,a){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,t,a,r){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(e,t):this._incrementalRenderNormal(e,t)},t.prototype.eachRendered=function(e){Ot["traverseElements"](this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var t=e.pipelineContext.large;null!=this._isLargeDraw&&t===this._isLargeDraw||(this._isLargeDraw=t,this._clear())},t.prototype._renderNormal=function(e){var t=e.getData(),a=this._data,r=this.group,i=t.getLayout("isSimpleBox"),n=e.get("clip",!0),s=e.coordinateSystem,o=s.getArea&&s.getArea();this._data||r.removeAll(),t.diff(a).add((function(a){if(t.hasValue(a)){var s=t.getItemLayout(a);if(n&&Dp(o,s))return;var l=Ap(s,a,!0);Ct["c"](l,{shape:{points:s.ends}},e,a),Mp(l,t,a,i),r.add(l),t.setItemGraphicEl(a,l)}})).update((function(s,l){var c=a.getItemGraphicEl(l);if(t.hasValue(s)){var d=t.getItemLayout(s);n&&Dp(o,d)?r.remove(c):(c?(Ct["h"](c,{shape:{points:d.ends}},e,s),Object(Ct["g"])(c)):c=Ap(d,s),Mp(c,t,s,i),r.add(c),t.setItemGraphicEl(s,c))}else r.remove(c)})).remove((function(e){var t=a.getItemGraphicEl(e);t&&r.remove(t)})).execute(),this._data=t},t.prototype._renderLarge=function(e){this._clear(),Pp(e,this.group);var t=e.get("clip",!0)?Object(ia["a"])(e.coordinateSystem,!1,e):null;t?this.group.setClipPath(t):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,t){var a,r=t.getData(),i=r.getLayout("isSimpleBox");while(null!=(a=e.next())){var n=r.getItemLayout(a),s=Ap(n,a);Mp(s,r,a,i),s.incremental=!0,this.group.add(s),this._progressiveEls.push(s)}},t.prototype._incrementalRenderLarge=function(e,t){Pp(t,this.group,this._progressiveEls,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(ra["a"]),jp=function(){function e(){}return e}(),Ip=function(e){function t(t){var a=e.call(this,t)||this;return a.type="normalCandlestickBox",a}return Object(vt["a"])(t,e),t.prototype.getDefaultShape=function(){return new jp},t.prototype.buildPath=function(e,t){var a=t.points;this.__simpleBox?(e.moveTo(a[4][0],a[4][1]),e.lineTo(a[6][0],a[6][1])):(e.moveTo(a[0][0],a[0][1]),e.lineTo(a[1][0],a[1][1]),e.lineTo(a[2][0],a[2][1]),e.lineTo(a[3][0],a[3][1]),e.closePath(),e.moveTo(a[4][0],a[4][1]),e.lineTo(a[5][0],a[5][1]),e.moveTo(a[6][0],a[6][1]),e.lineTo(a[7][0],a[7][1]))},t}(D["b"]);function Ap(e,t,a){var r=e.ends;return new Ip({shape:{points:a?Ep(r,e):r},z2:100})}function Dp(e,t){for(var a=!0,r=0;r<t.ends.length;r++)if(e.contain(t.ends[r][0],t.ends[r][1])){a=!1;break}return a}function Mp(e,t,a,r){var i=t.getItemModel(a);e.useStyle(t.getItemVisual(a,"style")),e.style.strokeNoScale=!0,e.__simpleBox=r,Object(jt["I"])(e,i)}function Ep(e,t){return U["map"](e,(function(e){return e=e.slice(),e[1]=t.initBaseline,e}))}var Rp=function(){function e(){}return e}(),Bp=function(e){function t(t){var a=e.call(this,t)||this;return a.type="largeCandlestickBox",a}return Object(vt["a"])(t,e),t.prototype.getDefaultShape=function(){return new Rp},t.prototype.buildPath=function(e,t){for(var a=t.points,r=0;r<a.length;)if(this.__sign===a[r++]){var i=a[r++];e.moveTo(i,a[r++]),e.lineTo(i,a[r++])}else r+=3},t}(D["b"]);function Pp(e,t,a,r){var i=e.getData(),n=i.getLayout("largePoints"),s=new Bp({shape:{points:n},__sign:1});t.add(s);var o=new Bp({shape:{points:n},__sign:-1});t.add(o),Lp(1,s,e,i),Lp(-1,o,e,i),r&&(s.incremental=!0,o.incremental=!0),a&&a.push(s,o)}function Lp(e,t,a,r){var i=a.get(["itemStyle",e>0?"borderColor":"borderColor0"])||a.get(["itemStyle",e>0?"color":"color0"]),n=a.getModel("itemStyle").getItemStyle(Op);t.useStyle(n),t.style.fill=null,t.style.stroke=i}var Fp=Tp,Np=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],a}return Object(vt["a"])(t,e),t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(e,t,a){var r=t.getItemLayout(e);return r&&a.rect(r.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(yt["b"]);Object(U["mixin"])(Np,sp,!0);var $p=Np;function zp(e){e&&U["isArray"](e.series)&&U["each"](e.series,(function(e){U["isObject"](e)&&"k"===e.type&&(e.type="candlestick")}))}var Vp=["itemStyle","borderColor"],Up=["itemStyle","borderColor0"],Hp=["itemStyle","color"],Gp=["itemStyle","color0"],Wp={seriesType:"candlestick",plan:Object(Ta["a"])(),performRawSeries:!0,reset:function(e,t){function a(e,t){return t.get(e>0?Hp:Gp)}function r(e,t){return t.get(e>0?Vp:Up)}if(!t.isSeriesFiltered(e)){var i=e.pipelineContext.large;return!i&&{progress:function(e,t){var i;while(null!=(i=e.next())){var n=t.getItemModel(i),s=t.getItemLayout(i).sign,o=n.getItemStyle();o.fill=a(s,n),o.stroke=r(s,n)||o.fill;var l=t.ensureUniqueItemVisual(i,"style");Object(U["extend"])(l,o)}}}}}},qp=Wp,Xp={seriesType:"candlestick",plan:Object(Ta["a"])(),reset:function(e){var t=e.coordinateSystem,a=e.getData(),r=Kp(e,a),i=0,n=1,s=["x","y"],o=a.getDimensionIndex(a.mapDimension(s[i])),l=Object(U["map"])(a.mapDimensionsAll(s[n]),a.getDimensionIndex,a),c=l[0],d=l[1],u=l[2],h=l[3];if(a.setLayout({candleWidth:r,isSimpleBox:r<=1.3}),!(o<0||l.length<4))return{progress:e.pipelineContext.large?f:p};function p(e,a){var s,l=a.getStore();while(null!=(s=e.next())){var p=l.get(o,s),f=l.get(c,s),m=l.get(d,s),g=l.get(u,s),_=l.get(h,s),v=Math.min(f,m),b=Math.max(f,m),y=C(v,p),k=C(b,p),x=C(g,p),w=C(_,p),S=[];O(S,k,0),O(S,y,1),S.push(j(w),j(k),j(x),j(y)),a.setItemLayout(s,{sign:Yp(l,s,f,m,d),initBaseline:f>m?k[n]:y[n],ends:S,brushRect:T(g,_,p)})}function C(e,a){var r=[];return r[i]=a,r[n]=e,isNaN(a)||isNaN(e)?[NaN,NaN]:t.dataToPoint(r)}function O(e,t,a){var n=t.slice(),s=t.slice();n[i]=Object(Ot["subPixelOptimize"])(n[i]+r/2,1,!1),s[i]=Object(Ot["subPixelOptimize"])(s[i]-r/2,1,!0),a?e.push(n,s):e.push(s,n)}function T(e,t,a){var s=C(e,a),o=C(t,a);return s[i]-=r/2,o[i]-=r/2,{x:s[0],y:s[1],width:n?r:o[0]-s[0],height:n?o[1]-s[1]:r}}function j(e){return e[i]=Object(Ot["subPixelOptimize"])(e[i],1),e}}function f(e,a){var r,s,l=Object(Ut["a"])(4*e.count),p=0,f=[],m=[],g=a.getStore();while(null!=(s=e.next())){var _=g.get(o,s),v=g.get(c,s),b=g.get(d,s),y=g.get(u,s),k=g.get(h,s);isNaN(_)||isNaN(y)||isNaN(k)?(l[p++]=NaN,p+=3):(l[p++]=Yp(g,s,v,b,d),f[i]=_,f[n]=y,r=t.dataToPoint(f,null,m),l[p++]=r?r[0]:NaN,l[p++]=r?r[1]:NaN,f[n]=k,r=t.dataToPoint(f,null,m),l[p++]=r?r[1]:NaN)}a.setLayout("largePoints",l)}}};function Yp(e,t,a,r,i){var n;return n=a>r?-1:a<r?1:t>0?e.get(i,t-1)<=r?1:-1:1,n}function Kp(e,t){var a,r=e.getBaseAxis(),i="category"===r.type?r.getBandWidth():(a=r.getExtent(),Math.abs(a[1]-a[0])/t.count()),n=Object(Sr["p"])(Object(U["retrieve2"])(e.get("barMaxWidth"),i),i),s=Object(Sr["p"])(Object(U["retrieve2"])(e.get("barMinWidth"),1),i),o=e.get("barWidth");return null!=o?Object(Sr["p"])(o,i):Math.max(Math.min(i/2,n),s)}var Zp=Xp;function Jp(e){e.registerChartView(Fp),e.registerSeriesModel($p),e.registerPreprocessor(zp),e.registerVisual(qp),e.registerLayout(Zp)}function Qp(e,t){var a=t.rippleEffectColor||t.color;e.eachChild((function(e){e.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?a:null,fill:"fill"===t.brushType?a:null}})}))}var ef=function(e){function t(t,a){var r=e.call(this)||this,i=new Et(t,a),n=new xt["a"];return r.add(i),r.add(n),r.updateData(t,a),r}return Object(vt["a"])(t,e),t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var t=e.symbolType,a=e.color,r=e.rippleNumber,i=this.childAt(1),n=0;n<r;n++){var s=Object(kt["a"])(t,-1,-1,2,2,a);s.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var o=-n/r*e.period+e.effectOffset;s.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(o).start(),s.animateStyle(!0).when(e.period,{opacity:0}).delay(o).start(),i.add(s)}Qp(i,e)},t.prototype.updateEffectAnimation=function(e){for(var t=this._effectCfg,a=this.childAt(1),r=["symbolType","period","rippleScale","rippleNumber"],i=0;i<r.length;i++){var n=r[i];if(t[n]!==e[n])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}Qp(a,e)},t.prototype.highlight=function(){Object(jt["r"])(this)},t.prototype.downplay=function(){Object(jt["C"])(this)},t.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},t.prototype.updateData=function(e,t){var a=this,r=e.hostModel;this.childAt(0).updateData(e,t);var i=this.childAt(1),n=e.getItemModel(t),s=e.getItemVisual(t,"symbol"),o=Object(kt["c"])(e.getItemVisual(t,"symbolSize")),l=e.getItemVisual(t,"style"),c=l&&l.fill,d=n.getModel("emphasis");i.setScale(o),i.traverse((function(e){e.setStyle("fill",c)}));var u=Object(kt["b"])(e.getItemVisual(t,"symbolOffset"),o);u&&(i.x=u[0],i.y=u[1]);var h=e.getItemVisual(t,"symbolRotate");i.rotation=(h||0)*Math.PI/180||0;var p={};p.showEffectOn=r.get("showEffectOn"),p.rippleScale=n.get(["rippleEffect","scale"]),p.brushType=n.get(["rippleEffect","brushType"]),p.period=1e3*n.get(["rippleEffect","period"]),p.effectOffset=t/e.count(),p.z=r.getShallow("z")||0,p.zlevel=r.getShallow("zlevel")||0,p.symbolType=s,p.color=c,p.rippleEffectColor=n.get(["rippleEffect","color"]),p.rippleNumber=n.get(["rippleEffect","number"]),"render"===p.showEffectOn?(this._effectCfg?this.updateEffectAnimation(p):this.startEffectAnimation(p),this._effectCfg=p):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(e){"emphasis"===e?"render"!==p.showEffectOn&&a.startEffectAnimation(p):"normal"===e&&"render"!==p.showEffectOn&&a.stopEffectAnimation()}),this._effectCfg=p,Object(jt["J"])(this,d.get("focus"),d.get("blurScope"),d.get("disabled"))},t.prototype.fadeOut=function(e){e&&e()},t}(xt["a"]),tf=ef,af=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.init=function(){this._symbolDraw=new Ft(tf)},t.prototype.render=function(e,t,a){var r=e.getData(),i=this._symbolDraw;i.updateData(r,{clipShape:this._getClipShape(e)}),this.group.add(i.group)},t.prototype._getClipShape=function(e){var t=e.coordinateSystem,a=t&&t.getArea&&t.getArea();return e.get("clip",!0)?a:null},t.prototype.updateTransform=function(e,t,a){var r=e.getData();this.group.dirty();var i=ja("").reset(e,t,a);i.progress&&i.progress({start:0,end:r.count(),count:r.count()},r),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var t=e.coordinateSystem;t&&t.getRoamTransform&&(this.group.transform=Zr["clone"](t.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(ra["a"]),rf=af,nf=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.hasSymbolVisual=!0,a}return Object(vt["a"])(t,e),t.prototype.getInitialData=function(e,t){return Object(bt["a"])(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,t,a){return a.point(t.getItemLayout(e))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}(yt["b"]),sf=nf;function of(e){e.registerChartView(rf),e.registerSeriesModel(sf),e.registerLayout(ja("effectScatter"))}var lf=function(e){function t(t,a,r){var i=e.call(this)||this;return i.add(i.createLine(t,a,r)),i._updateEffectSymbol(t,a),i}return Object(vt["a"])(t,e),t.prototype.createLine=function(e,t,a){return new _c(e,t,a)},t.prototype._updateEffectSymbol=function(e,t){var a=e.getItemModel(t),r=a.getModel("effect"),i=r.get("symbolSize"),n=r.get("symbol");U["isArray"](i)||(i=[i,i]);var s=e.getItemVisual(t,"style"),o=r.get("color")||s&&s.stroke,l=this.childAt(1);this._symbolType!==n&&(this.remove(l),l=Object(kt["a"])(n,-.5,-.5,1,1,o),l.z2=100,l.culling=!0,this.add(l)),l&&(l.setStyle("shadowColor",o),l.setStyle(r.getItemStyle(["color"])),l.scaleX=i[0],l.scaleY=i[1],l.setColor(o),this._symbolType=n,this._symbolScale=i,this._updateEffectAnimation(e,r,t))},t.prototype._updateEffectAnimation=function(e,t,a){var r=this.childAt(1);if(r){var i=e.getItemLayout(a),n=1e3*t.get("period"),s=t.get("loop"),o=t.get("constantSpeed"),l=U["retrieve"](t.get("delay"),(function(t){return t/e.count()*n/3}));if(r.ignore=!0,this._updateAnimationPoints(r,i),o>0&&(n=this._getLineLength(r)/o*1e3),n!==this._period||s!==this._loop){r.stopAnimation();var c=void 0;c=U["isFunction"](l)?l(a):l,r.__t>0&&(c=-n*r.__t),this._animateSymbol(r,n,c,s)}this._period=n,this._loop=s}},t.prototype._animateSymbol=function(e,t,a,r){if(t>0){e.__t=0;var i=this,n=e.animate("",r).when(t,{__t:1}).delay(a).during((function(){i._updateSymbolPosition(e)}));r||n.done((function(){i.remove(e)})),n.start()}},t.prototype._getLineLength=function(e){return xn["dist"](e.__p1,e.__cp1)+xn["dist"](e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,t){e.__p1=t[0],e.__p2=t[1],e.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]},t.prototype.updateData=function(e,t,a){this.childAt(0).updateData(e,t,a),this._updateEffectSymbol(e,t)},t.prototype._updateSymbolPosition=function(e){var t=e.__p1,a=e.__p2,r=e.__cp1,i=e.__t,n=[e.x,e.y],s=n.slice(),o=Xt["h"],l=Xt["i"];n[0]=o(t[0],r[0],a[0],i),n[1]=o(t[1],r[1],a[1],i);var c=l(t[0],r[0],a[0],i),d=l(t[1],r[1],a[1],i);e.rotation=-Math.atan2(d,c)-Math.PI/2,"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==e.__lastT&&e.__lastT<e.__t?(e.scaleY=1.05*xn["dist"](s,n),1===i&&(n[0]=s[0]+(n[0]-s[0])/2,n[1]=s[1]+(n[1]-s[1])/2)):1===e.__lastT?e.scaleY=2*xn["dist"](t,n):e.scaleY=this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=n[0],e.y=n[1]},t.prototype.updateLayout=function(e,t){this.childAt(0).updateLayout(e,t);var a=e.getItemModel(t).getModel("effect");this._updateEffectAnimation(e,a,t)},t}(xt["a"]),cf=lf,df=function(e){function t(t,a,r){var i=e.call(this)||this;return i._createPolyline(t,a,r),i}return Object(vt["a"])(t,e),t.prototype._createPolyline=function(e,t,a){var r=e.getItemLayout(t),i=new Za["a"]({shape:{points:r}});this.add(i),this._updateCommonStl(e,t,a)},t.prototype.updateData=function(e,t,a){var r=e.hostModel,i=this.childAt(0),n={shape:{points:e.getItemLayout(t)}};Ct["h"](i,n,r,t),this._updateCommonStl(e,t,a)},t.prototype._updateCommonStl=function(e,t,a){var r=this.childAt(0),i=e.getItemModel(t),n=a&&a.emphasisLineStyle,s=a&&a.focus,o=a&&a.blurScope,l=a&&a.emphasisDisabled;if(!a||e.hasItemOption){var c=i.getModel("emphasis");n=c.getModel("lineStyle").getLineStyle(),l=c.get("disabled"),s=c.get("focus"),o=c.get("blurScope")}r.useStyle(e.getItemVisual(t,"style")),r.style.fill=null,r.style.strokeNoScale=!0;var d=r.ensureState("emphasis");d.style=n,Object(jt["J"])(this,s,o,l)},t.prototype.updateLayout=function(e,t){var a=this.childAt(0);a.setShape("points",e.getItemLayout(t))},t}(xt["a"]),uf=df,hf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return Object(vt["a"])(t,e),t.prototype.createLine=function(e,t,a){return new uf(e,t,a)},t.prototype._updateAnimationPoints=function(e,t){this._points=t;for(var a=[0],r=0,i=1;i<t.length;i++){var n=t[i-1],s=t[i];r+=xn["dist"](n,s),a.push(r)}if(0!==r){for(i=0;i<a.length;i++)a[i]/=r;this._offsets=a,this._length=r}else this._length=0},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var t=e.__t,a=this._points,r=this._offsets,i=a.length;if(r){var n,s=this._lastFrame;if(t<this._lastFramePercent){var o=Math.min(s+1,i-1);for(n=o;n>=0;n--)if(r[n]<=t)break;n=Math.min(n,i-2)}else{for(n=s;n<i;n++)if(r[n]>t)break;n=Math.min(n-1,i-2)}var l=(t-r[n])/(r[n+1]-r[n]),c=a[n],d=a[n+1];e.x=c[0]*(1-l)+l*d[0],e.y=c[1]*(1-l)+l*d[1];var u=d[0]-c[0],h=d[1]-c[1];e.rotation=-Math.atan2(h,u)-Math.PI/2,this._lastFrame=n,this._lastFramePercent=t,e.ignore=!1}},t}(cf),pf=hf,ff=a("4cdd0"),mf=a("d2f5"),gf=function(){function e(){this.polyline=!1,this.curveness=0,this.segs=[]}return e}(),_f=function(e){function t(t){var a=e.call(this,t)||this;return a._off=0,a.hoverDataIdx=-1,a}return Object(vt["a"])(t,e),t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new gf},t.prototype.buildPath=function(e,t){var a,r=t.segs,i=t.curveness;if(t.polyline)for(a=this._off;a<r.length;){var n=r[a++];if(n>0){e.moveTo(r[a++],r[a++]);for(var s=1;s<n;s++)e.lineTo(r[a++],r[a++])}}else for(a=this._off;a<r.length;){var o=r[a++],l=r[a++],c=r[a++],d=r[a++];if(e.moveTo(o,l),i>0){var u=(o+c)/2-(l-d)*i,h=(l+d)/2-(c-o)*i;e.quadraticCurveTo(u,h,c,d)}else e.lineTo(c,d)}this.incremental&&(this._off=a,this.notClear=!0)},t.prototype.findDataIndex=function(e,t){var a=this.shape,r=a.segs,i=a.curveness,n=this.style.lineWidth;if(a.polyline)for(var s=0,o=0;o<r.length;){var l=r[o++];if(l>0)for(var c=r[o++],d=r[o++],u=1;u<l;u++){var h=r[o++],p=r[o++];if(ff["a"](c,d,h,p,n,e,t))return s}s++}else for(s=0,o=0;o<r.length;){c=r[o++],d=r[o++],h=r[o++],p=r[o++];if(i>0){var f=(c+h)/2-(d-p)*i,m=(d+p)/2-(h-c)*i;if(mf["a"](c,d,f,m,h,p,n,e,t))return s}else if(ff["a"](c,d,h,p,n,e,t))return s;s++}return-1},t.prototype.contain=function(e,t){var a=this.transformCoordToLocal(e,t),r=this.getBoundingRect();if(e=a[0],t=a[1],r.contain(e,t)){var i=this.hoverDataIdx=this.findDataIndex(e,t);return i>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var t=this.shape,a=t.segs,r=1/0,i=1/0,n=-1/0,s=-1/0,o=0;o<a.length;){var l=a[o++],c=a[o++];r=Math.min(l,r),n=Math.max(l,n),i=Math.min(c,i),s=Math.max(c,s)}e=this._rect=new Ba["a"](r,i,n,s)}return e},t}(D["b"]),vf=function(){function e(){this.group=new xt["a"]}return e.prototype.updateData=function(e){this._clear();var t=this._create();t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e)},e.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clear()},e.prototype.incrementalUpdate=function(e,t){var a=this._newAdded[0],r=t.getLayout("linesPoints"),i=a&&a.shape.segs;if(i&&i.length<2e4){var n=i.length,s=new Float32Array(n+r.length);s.set(i),s.set(r,n),a.setShape({segs:s})}else{this._newAdded=[];var o=this._create();o.incremental=!0,o.setShape({segs:r}),this._setCommon(o,t),o.__startIndex=e.start}},e.prototype.remove=function(){this._clear()},e.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},e.prototype._create=function(){var e=new _f({cursor:"default"});return this._newAdded.push(e),this.group.add(e),e},e.prototype._setCommon=function(e,t,a){var r=t.hostModel;e.setShape({polyline:r.get("polyline"),curveness:r.get(["lineStyle","curveness"])}),e.useStyle(r.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var i=t.getVisual("style");i&&i.stroke&&e.setStyle("stroke",i.stroke),e.setStyle("fill",null);var n=Object(Tt["a"])(e);n.seriesIndex=r.seriesIndex,e.on("mousemove",(function(t){n.dataIndex=null;var a=e.hoverDataIdx;a>0&&(n.dataIndex=a+e.__startIndex)}))},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}(),bf=vf,yf={seriesType:"lines",plan:Object(Ta["a"])(),reset:function(e){var t=e.coordinateSystem;if(t){var a=e.get("polyline"),r=e.pipelineContext.large;return{progress:function(i,n){var s=[];if(r){var o=void 0,l=i.end-i.start;if(a){for(var c=0,d=i.start;d<i.end;d++)c+=e.getLineCoordsCount(d);o=new Float32Array(l+2*c)}else o=new Float32Array(4*l);var u=0,h=[];for(d=i.start;d<i.end;d++){var p=e.getLineCoords(d,s);a&&(o[u++]=p);for(var f=0;f<p;f++)h=t.dataToPoint(s[f],!1,h),o[u++]=h[0],o[u++]=h[1]}n.setLayout("linesPoints",o)}else for(d=i.start;d<i.end;d++){var m=n.getItemModel(d),g=(p=e.getLineCoords(d,s),[]);if(a)for(var _=0;_<p;_++)g.push(t.dataToPoint(s[_]));else{g[0]=t.dataToPoint(s[0]),g[1]=t.dataToPoint(s[1]);var v=m.get(["lineStyle","curveness"]);+v&&(g[2]=[(g[0][0]+g[1][0])/2-(g[0][1]-g[1][1])*v,(g[0][1]+g[1][1])/2-(g[1][0]-g[0][0])*v])}n.setItemLayout(d,g)}}}}}},kf=yf,xf=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.render=function(e,t,a){var r=e.getData(),i=this._updateLineDraw(r,e),n=e.get("zlevel"),s=e.get(["effect","trailLength"]),o=a.getZr(),l="svg"===o.painter.getType();l||o.painter.getLayer(n).clear(!0),null==this._lastZlevel||l||o.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&s>0&&(l||o.configLayer(n,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(s/10+.9,1),0)})),i.updateData(r);var c=e.get("clip",!0)&&Object(ia["a"])(e.coordinateSystem,!1,e);c?this.group.setClipPath(c):this.group.removeClipPath(),this._lastZlevel=n,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,t,a){var r=e.getData(),i=this._updateLineDraw(r,e);i.incrementalPrepareUpdate(r),this._clearLayer(a),this._finished=!1},t.prototype.incrementalRender=function(e,t,a){this._lineDraw.incrementalUpdate(e,t.getData()),this._finished=e.end===t.getData().count()},t.prototype.eachRendered=function(e){this._lineDraw&&this._lineDraw.eachRendered(e)},t.prototype.updateTransform=function(e,t,a){var r=e.getData(),i=e.pipelineContext;if(!this._finished||i.large||i.progressiveRender)return{update:!0};var n=kf.reset(e,t,a);n.progress&&n.progress({start:0,end:r.count(),count:r.count()},r),this._lineDraw.updateLayout(),this._clearLayer(a)},t.prototype._updateLineDraw=function(e,t){var a=this._lineDraw,r=this._showEffect(t),i=!!t.get("polyline"),n=t.pipelineContext,s=n.large;return a&&r===this._hasEffet&&i===this._isPolyline&&s===this._isLargeDraw||(a&&a.remove(),a=this._lineDraw=s?new bf:new wc(i?r?pf:uf:r?cf:_c),this._hasEffet=r,this._isPolyline=i,this._isLargeDraw=s),this.group.add(a.group),a},t.prototype._showEffect=function(e){return!!e.get(["effect","show"])},t.prototype._clearLayer=function(e){var t=e.getZr(),a="svg"===t.painter.getType();a||null==this._lastZlevel||t.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,t){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(t)},t.prototype.dispose=function(e,t){this.remove(e,t)},t.type="lines",t}(ra["a"]),wf=xf,Sf="undefined"===typeof Uint32Array?Array:Uint32Array,Cf="undefined"===typeof Float64Array?Array:Float64Array;function Of(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=Object(U["map"])(t,(function(e){var t=[e[0].coord,e[1].coord],a={coords:t};return e[0].name&&(a.fromName=e[0].name),e[1].name&&(a.toName=e[1].name),Object(U["mergeAll"])([a,e[0],e[1]])})))}var Tf=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.visualStyleAccessPath="lineStyle",a.visualDrawType="stroke",a}return Object(vt["a"])(t,e),t.prototype.init=function(t){t.data=t.data||[],Of(t);var a=this._processFlatCoordsArray(t.data);this._flatCoords=a.flatCoords,this._flatCoordsOffset=a.flatCoordsOffset,a.flatCoords&&(t.data=new Float32Array(a.count)),e.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(t){if(Of(t),t.data){var a=this._processFlatCoordsArray(t.data);this._flatCoords=a.flatCoords,this._flatCoordsOffset=a.flatCoordsOffset,a.flatCoords&&(t.data=new Float32Array(a.count))}e.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var t=this._processFlatCoordsArray(e.data);t.flatCoords&&(this._flatCoords?(this._flatCoords=Object(U["concatArray"])(this._flatCoords,t.flatCoords),this._flatCoordsOffset=Object(U["concatArray"])(this._flatCoordsOffset,t.flatCoordsOffset)):(this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset),e.data=new Float32Array(t.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var t=this.getData().getItemModel(e),a=t.option instanceof Array?t.option:t.getShallow("coords");return a},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,t){if(this._flatCoordsOffset){for(var a=this._flatCoordsOffset[2*e],r=this._flatCoordsOffset[2*e+1],i=0;i<r;i++)t[i]=t[i]||[],t[i][0]=this._flatCoords[a+2*i],t[i][1]=this._flatCoords[a+2*i+1];return r}var n=this._getCoordsFromItemModel(e);for(i=0;i<n.length;i++)t[i]=t[i]||[],t[i][0]=n[i][0],t[i][1]=n[i][1];return n.length},t.prototype._processFlatCoordsArray=function(e){var t=0;if(this._flatCoords&&(t=this._flatCoords.length),Object(U["isNumber"])(e[0])){for(var a=e.length,r=new Sf(a),i=new Cf(a),n=0,s=0,o=0,l=0;l<a;){o++;var c=e[l++];r[s++]=n+t,r[s++]=c;for(var d=0;d<c;d++){var u=e[l++],h=e[l++];i[n++]=u,i[n++]=h}}return{flatCoordsOffset:new Uint32Array(r.buffer,0,s),flatCoords:i,count:o}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,t){var a=new Ds["a"](["value"],this);return a.hasItemOption=!1,a.initData(e.data,[],(function(e,t,r,i){if(e instanceof Array)return NaN;a.hasItemOption=!0;var n=e.value;return null!=n?n instanceof Array?n[i]:n:void 0})),a},t.prototype.formatTooltip=function(e,t,a){var r=this.getData(),i=r.getItemModel(e),n=i.get("name");if(n)return n;var s=i.get("fromName"),o=i.get("toName"),l=[];return null!=s&&l.push(s),null!=o&&l.push(o),Object(ar["c"])("nameValue",{name:l.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?1e4:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?2e4:this.get("progressiveThreshold"):e},t.prototype.getZLevelKey=function(){var e=this.getModel("effect"),t=e.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:e.get("show")&&t>0?t+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(yt["b"]),jf=Tf;function If(e){return e instanceof Array||(e=[e,e]),e}var Af={seriesType:"lines",reset:function(e){var t=If(e.get("symbol")),a=If(e.get("symbolSize")),r=e.getData();function i(e,t){var a=e.getItemModel(t),r=If(a.getShallow("symbol",!0)),i=If(a.getShallow("symbolSize",!0));r[0]&&e.setItemVisual(t,"fromSymbol",r[0]),r[1]&&e.setItemVisual(t,"toSymbol",r[1]),i[0]&&e.setItemVisual(t,"fromSymbolSize",i[0]),i[1]&&e.setItemVisual(t,"toSymbolSize",i[1])}return r.setVisual("fromSymbol",t&&t[0]),r.setVisual("toSymbol",t&&t[1]),r.setVisual("fromSymbolSize",a&&a[0]),r.setVisual("toSymbolSize",a&&a[1]),{dataEach:r.hasItemOption?i:null}}},Df=Af;function Mf(e){e.registerChartView(wf),e.registerSeriesModel(jf),e.registerLayout(kf),e.registerVisual(Df)}var Ef=256,Rf=function(){function e(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=Se["d"].createCanvas();this.canvas=e}return e.prototype.update=function(e,t,a,r,i,n){var s=this._getBrush(),o=this._getGradient(i,"inRange"),l=this._getGradient(i,"outOfRange"),c=this.pointSize+this.blurSize,d=this.canvas,u=d.getContext("2d"),h=e.length;d.width=t,d.height=a;for(var p=0;p<h;++p){var f=e[p],m=f[0],g=f[1],_=f[2],v=r(_);u.globalAlpha=v,u.drawImage(s,m-c,g-c)}if(!d.width||!d.height)return d;var b=u.getImageData(0,0,d.width,d.height),y=b.data,k=0,x=y.length,w=this.minOpacity,S=this.maxOpacity,C=S-w;while(k<x){v=y[k+3]/256;var O=4*Math.floor(v*(Ef-1));if(v>0){var T=n(v)?o:l;v>0&&(v=v*C+w),y[k++]=T[O],y[k++]=T[O+1],y[k++]=T[O+2],y[k++]=T[O+3]*v*256}else k+=4}return u.putImageData(b,0,0),d},e.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=Se["d"].createCanvas()),t=this.pointSize+this.blurSize,a=2*t;e.width=a,e.height=a;var r=e.getContext("2d");return r.clearRect(0,0,a,a),r.shadowOffsetX=a,r.shadowBlur=this.blurSize,r.shadowColor="#000",r.beginPath(),r.arc(-t,t,this.pointSize,0,2*Math.PI,!0),r.closePath(),r.fill(),e},e.prototype._getGradient=function(e,t){for(var a=this._gradientPixels,r=a[t]||(a[t]=new Uint8ClampedArray(1024)),i=[0,0,0,0],n=0,s=0;s<256;s++)e[t](s/255,!0,i),r[n++]=i[0],r[n++]=i[1],r[n++]=i[2],r[n++]=i[3];return r},e}(),Bf=Rf;function Pf(e,t,a){var r=e[1]-e[0];t=U["map"](t,(function(t){return{interval:[(t.interval[0]-e[0])/r,(t.interval[1]-e[0])/r]}}));var i=t.length,n=0;return function(e){var r;for(r=n;r<i;r++){var s=t[r].interval;if(s[0]<=e&&e<=s[1]){n=r;break}}if(r===i)for(r=n-1;r>=0;r--){s=t[r].interval;if(s[0]<=e&&e<=s[1]){n=r;break}}return r>=0&&r<i&&a[r]}}function Lf(e,t){var a=e[1]-e[0];return t=[(t[0]-e[0])/a,(t[1]-e[0])/a],function(e){return e>=t[0]&&e<=t[1]}}function Ff(e){var t=e.dimensions;return"lng"===t[0]&&"lat"===t[1]}var Nf=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.render=function(e,t,a){var r;t.eachComponent("visualMap",(function(t){t.eachTargetSeries((function(a){a===e&&(r=t)}))})),this._progressiveEls=null,this.group.removeAll();var i=e.coordinateSystem;"cartesian2d"===i.type||"calendar"===i.type?this._renderOnCartesianAndCalendar(e,a,0,e.getData().count()):Ff(i)&&this._renderOnGeo(i,e,r,a)},t.prototype.incrementalPrepareRender=function(e,t,a){this.group.removeAll()},t.prototype.incrementalRender=function(e,t,a,r){var i=t.coordinateSystem;i&&(Ff(i)?this.render(t,a,r):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(t,r,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){Ot["traverseElements"](this._progressiveEls||this.group,e)},t.prototype._renderOnCartesianAndCalendar=function(e,t,a,r,i){var n,s,o,l,c=e.coordinateSystem,d=Object(na["a"])(c,"cartesian2d");if(d){var u=c.getAxis("x"),h=c.getAxis("y");0,n=u.getBandWidth()+.5,s=h.getBandWidth()+.5,o=u.scale.getExtent(),l=h.scale.getExtent()}for(var p=this.group,f=e.getData(),m=e.getModel(["emphasis","itemStyle"]).getItemStyle(),g=e.getModel(["blur","itemStyle"]).getItemStyle(),_=e.getModel(["select","itemStyle"]).getItemStyle(),v=e.get(["itemStyle","borderRadius"]),b=Object(At["e"])(e),y=e.getModel("emphasis"),k=y.get("focus"),x=y.get("blurScope"),w=y.get("disabled"),S=d?[f.mapDimension("x"),f.mapDimension("y"),f.mapDimension("value")]:[f.mapDimension("time"),f.mapDimension("value")],C=a;C<r;C++){var O=void 0,T=f.getItemVisual(C,"style");if(d){var j=f.get(S[0],C),I=f.get(S[1],C);if(isNaN(f.get(S[2],C))||j<o[0]||j>o[1]||I<l[0]||I>l[1])continue;var A=c.dataToPoint([j,I]);O=new Xr["a"]({shape:{x:A[0]-n/2,y:A[1]-s/2,width:n,height:s},style:T})}else{if(isNaN(f.get(S[1],C)))continue;O=new Xr["a"]({z2:1,shape:c.dataToRect([f.get(S[0],C)]).contentShape,style:T})}if(f.hasItemOption){var D=f.getItemModel(C),M=D.getModel("emphasis");m=M.getModel("itemStyle").getItemStyle(),g=D.getModel(["blur","itemStyle"]).getItemStyle(),_=D.getModel(["select","itemStyle"]).getItemStyle(),v=D.get(["itemStyle","borderRadius"]),k=M.get("focus"),x=M.get("blurScope"),w=M.get("disabled"),b=Object(At["e"])(D)}O.shape.r=v;var E=e.getRawValue(C),R="-";E&&null!=E[2]&&(R=E[2]+""),Object(At["g"])(O,b,{labelFetcher:e,labelDataIndex:C,defaultOpacity:T.opacity,defaultText:R}),O.ensureState("emphasis").style=m,O.ensureState("blur").style=g,O.ensureState("select").style=_,Object(jt["J"])(O,k,x,w),O.incremental=i,i&&(O.states.emphasis.hoverLayer=!0),p.add(O),f.setItemGraphicEl(C,O),this._progressiveEls&&this._progressiveEls.push(O)}},t.prototype._renderOnGeo=function(e,t,a,r){var i=a.targetVisuals.inRange,n=a.targetVisuals.outOfRange,s=t.getData(),o=this._hmLayer||this._hmLayer||new Bf;o.blurSize=t.get("blurSize"),o.pointSize=t.get("pointSize"),o.minOpacity=t.get("minOpacity"),o.maxOpacity=t.get("maxOpacity");var l=e.getViewRect().clone(),c=e.getRoamTransform();l.applyTransform(c);var d=Math.max(l.x,0),u=Math.max(l.y,0),h=Math.min(l.width+l.x,r.getWidth()),p=Math.min(l.height+l.y,r.getHeight()),f=h-d,m=p-u,g=[s.mapDimension("lng"),s.mapDimension("lat"),s.mapDimension("value")],_=s.mapArray(g,(function(t,a,r){var i=e.dataToPoint([t,a]);return i[0]-=d,i[1]-=u,i.push(r),i})),v=a.getExtent(),b="visualMap.continuous"===a.type?Lf(v,a.option.range):Pf(v,a.getPieceList(),a.option.selected);o.update(_,f,m,i.color.getNormalizer(),{inRange:i.color.getColorMapper(),outOfRange:n.color.getColorMapper()},b);var y=new M["a"]({style:{width:f,height:m,x:d,y:u,image:o.canvas},silent:!0});this.group.add(y)},t.type="heatmap",t}(ra["a"]),$f=Nf,zf=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.getInitialData=function(e,t){return Object(bt["a"])(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=zc["a"].get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(yt["b"]),Vf=zf;function Uf(e){e.registerChartView($f),e.registerSeriesModel(Vf)}var Hf=["itemStyle","borderWidth"],Gf=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],Wf=new fr["a"],qf=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.render=function(e,t,a){var r=this.group,i=e.getData(),n=this._data,s=e.coordinateSystem,o=s.getBaseAxis(),l=o.isHorizontal(),c=s.master.getRect(),d={ecSize:{width:a.getWidth(),height:a.getHeight()},seriesModel:e,coordSys:s,coordSysExtent:[[c.x,c.x+c.width],[c.y,c.y+c.height]],isHorizontal:l,valueDim:Gf[+l],categoryDim:Gf[1-+l]};return i.diff(n).add((function(e){if(i.hasValue(e)){var t=nm(i,e),a=Xf(i,e,t,d),n=lm(i,d,a);i.setItemGraphicEl(e,n),r.add(n),fm(n,d,a)}})).update((function(e,t){var a=n.getItemGraphicEl(t);if(i.hasValue(e)){var s=nm(i,e),o=Xf(i,e,s,d),l=um(i,o);a&&l!==a.__pictorialShapeStr&&(r.remove(a),i.setItemGraphicEl(e,null),a=null),a?cm(a,d,o):a=lm(i,d,o,!0),i.setItemGraphicEl(e,a),a.__pictorialSymbolMeta=o,r.add(a),fm(a,d,o)}else r.remove(a)})).remove((function(e){var t=n.getItemGraphicEl(e);t&&dm(n,e,t.__pictorialSymbolMeta.animationModel,t)})).execute(),this._data=i,this.group},t.prototype.remove=function(e,t){var a=this.group,r=this._data;e.get("animation")?r&&r.eachItemGraphicEl((function(t){dm(r,Object(Tt["a"])(t).dataIndex,e,t)})):a.removeAll()},t.type="pictorialBar",t}(ra["a"]);function Xf(e,t,a,r){var i=e.getItemLayout(t),n=a.get("symbolRepeat"),s=a.get("symbolClip"),o=a.get("symbolPosition")||"start",l=a.get("symbolRotate"),c=(l||0)*Math.PI/180||0,d=a.get("symbolPatternSize")||2,u=a.isAnimationEnabled(),h={dataIndex:t,layout:i,itemModel:a,symbolType:e.getItemVisual(t,"symbol")||"circle",style:e.getItemVisual(t,"style"),symbolClip:s,symbolRepeat:n,symbolRepeatDirection:a.get("symbolRepeatDirection"),symbolPatternSize:d,rotation:c,animationModel:u?a:null,hoverScale:u&&a.get(["emphasis","scale"]),z2:a.getShallow("z",!0)||0};Yf(a,n,i,r,h),Zf(e,t,i,n,s,h.boundingLength,h.pxSign,d,r,h),Jf(a,h.symbolScale,c,r,h);var p=h.symbolSize,f=Object(kt["b"])(a.get("symbolOffset"),p);return Qf(a,p,i,n,s,f,o,h.valueLineWidth,h.boundingLength,h.repeatCutLength,r,h),h}function Yf(e,t,a,r,i){var n,s=r.valueDim,o=e.get("symbolBoundingData"),l=r.coordSys.getOtherAxis(r.coordSys.getBaseAxis()),c=l.toGlobalCoord(l.dataToCoord(0)),d=1-+(a[s.wh]<=0);if(U["isArray"](o)){var u=[Kf(l,o[0])-c,Kf(l,o[1])-c];u[1]<u[0]&&u.reverse(),n=u[d]}else n=null!=o?Kf(l,o)-c:t?r.coordSysExtent[s.index][d]-c:a[s.wh];i.boundingLength=n,t&&(i.repeatCutLength=a[s.wh]),i.pxSign=n>0?1:-1}function Kf(e,t){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t)))}function Zf(e,t,a,r,i,n,s,o,l,c){var d,u=l.valueDim,h=l.categoryDim,p=Math.abs(a[h.wh]),f=e.getItemVisual(t,"symbolSize");d=U["isArray"](f)?f.slice():null==f?["100%","100%"]:[f,f],d[h.index]=Object(Sr["p"])(d[h.index],p),d[u.index]=Object(Sr["p"])(d[u.index],r?p:Math.abs(n)),c.symbolSize=d;var m=c.symbolScale=[d[0]/o,d[1]/o];m[u.index]*=(l.isHorizontal?-1:1)*s}function Jf(e,t,a,r,i){var n=e.get(Hf)||0;n&&(Wf.attr({scaleX:t[0],scaleY:t[1],rotation:a}),Wf.updateTransform(),n/=Wf.getLineScale(),n*=t[r.valueDim.index]),i.valueLineWidth=n||0}function Qf(e,t,a,r,i,n,s,o,l,c,d,u){var h=d.categoryDim,p=d.valueDim,f=u.pxSign,m=Math.max(t[p.index]+o,0),g=m;if(r){var _=Math.abs(l),v=U["retrieve"](e.get("symbolMargin"),"15%")+"",b=!1;v.lastIndexOf("!")===v.length-1&&(b=!0,v=v.slice(0,v.length-1));var y=Object(Sr["p"])(v,t[p.index]),k=Math.max(m+2*y,0),x=b?0:2*y,w=Object(Sr["j"])(r),S=w?r:mm((_+x)/k),C=_-S*m;y=C/2/(b?S:Math.max(S-1,1)),k=m+2*y,x=b?0:2*y,w||"fixed"===r||(S=c?mm((Math.abs(c)+x)/k):0),g=S*k-x,u.repeatTimes=S,u.symbolMargin=y}var O=f*(g/2),T=u.pathPosition=[];T[h.index]=a[h.wh]/2,T[p.index]="start"===s?O:"end"===s?l-O:l/2,n&&(T[0]+=n[0],T[1]+=n[1]);var j=u.bundlePosition=[];j[h.index]=a[h.xy],j[p.index]=a[p.xy];var I=u.barRectShape=U["extend"]({},a);I[p.wh]=f*Math.max(Math.abs(a[p.wh]),Math.abs(T[p.index]+O)),I[h.wh]=a[h.wh];var A=u.clipShape={};A[h.xy]=-a[h.xy],A[h.wh]=d.ecSize[h.wh],A[p.xy]=0,A[p.wh]=a[p.wh]}function em(e){var t=e.symbolPatternSize,a=Object(kt["a"])(e.symbolType,-t/2,-t/2,t,t);return a.attr({culling:!0}),"image"!==a.type&&a.setStyle({strokeNoScale:!0}),a}function tm(e,t,a,r){var i=e.__pictorialBundle,n=a.symbolSize,s=a.valueLineWidth,o=a.pathPosition,l=t.valueDim,c=a.repeatTimes||0,d=0,u=n[t.valueDim.index]+s+2*a.symbolMargin;for(hm(e,(function(e){e.__pictorialAnimationIndex=d,e.__pictorialRepeatTimes=c,d<c?pm(e,null,f(d),a,r):pm(e,null,{scaleX:0,scaleY:0},a,r,(function(){i.remove(e)})),d++}));d<c;d++){var h=em(a);h.__pictorialAnimationIndex=d,h.__pictorialRepeatTimes=c,i.add(h);var p=f(d);pm(h,{x:p.x,y:p.y,scaleX:0,scaleY:0},{scaleX:p.scaleX,scaleY:p.scaleY,rotation:p.rotation},a,r)}function f(e){var t=o.slice(),r=a.pxSign,i=e;return("start"===a.symbolRepeatDirection?r>0:r<0)&&(i=c-1-e),t[l.index]=u*(i-c/2+.5)+o[l.index],{x:t[0],y:t[1],scaleX:a.symbolScale[0],scaleY:a.symbolScale[1],rotation:a.rotation}}}function am(e,t,a,r){var i=e.__pictorialBundle,n=e.__pictorialMainPath;n?pm(n,null,{x:a.pathPosition[0],y:a.pathPosition[1],scaleX:a.symbolScale[0],scaleY:a.symbolScale[1],rotation:a.rotation},a,r):(n=e.__pictorialMainPath=em(a),i.add(n),pm(n,{x:a.pathPosition[0],y:a.pathPosition[1],scaleX:0,scaleY:0,rotation:a.rotation},{scaleX:a.symbolScale[0],scaleY:a.symbolScale[1]},a,r))}function rm(e,t,a){var r=U["extend"]({},t.barRectShape),i=e.__pictorialBarRect;i?pm(i,null,{shape:r},t,a):(i=e.__pictorialBarRect=new Xr["a"]({z2:2,shape:r,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),i.disableMorphing=!0,e.add(i))}function im(e,t,a,r){if(a.symbolClip){var i=e.__pictorialClipPath,n=U["extend"]({},a.clipShape),s=t.valueDim,o=a.animationModel,l=a.dataIndex;if(i)Ct["h"](i,{shape:n},o,l);else{n[s.wh]=0,i=new Xr["a"]({shape:n}),e.__pictorialBundle.setClipPath(i),e.__pictorialClipPath=i;var c={};c[s.wh]=a.clipShape[s.wh],Ot[r?"updateProps":"initProps"](i,{shape:c},o,l)}}}function nm(e,t){var a=e.getItemModel(t);return a.getAnimationDelayParams=sm,a.isAnimationEnabled=om,a}function sm(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function om(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function lm(e,t,a,r){var i=new xt["a"],n=new xt["a"];return i.add(n),i.__pictorialBundle=n,n.x=a.bundlePosition[0],n.y=a.bundlePosition[1],a.symbolRepeat?tm(i,t,a):am(i,t,a),rm(i,a,r),im(i,t,a,r),i.__pictorialShapeStr=um(e,a),i.__pictorialSymbolMeta=a,i}function cm(e,t,a){var r=a.animationModel,i=a.dataIndex,n=e.__pictorialBundle;Ct["h"](n,{x:a.bundlePosition[0],y:a.bundlePosition[1]},r,i),a.symbolRepeat?tm(e,t,a,!0):am(e,t,a,!0),rm(e,a,!0),im(e,t,a,!0)}function dm(e,t,a,r){var i=r.__pictorialBarRect;i&&i.removeTextContent();var n=[];hm(r,(function(e){n.push(e)})),r.__pictorialMainPath&&n.push(r.__pictorialMainPath),r.__pictorialClipPath&&(a=null),U["each"](n,(function(e){Ct["e"](e,{scaleX:0,scaleY:0},a,t,(function(){r.parent&&r.parent.remove(r)}))})),e.setItemGraphicEl(t,null)}function um(e,t){return[e.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function hm(e,t,a){U["each"](e.__pictorialBundle.children(),(function(r){r!==e.__pictorialBarRect&&t.call(a,r)}))}function pm(e,t,a,r,i,n){t&&e.attr(t),r.symbolClip&&!i?a&&e.attr(a):a&&Ot[i?"updateProps":"initProps"](e,a,r.animationModel,r.dataIndex,n)}function fm(e,t,a){var r=a.dataIndex,i=a.itemModel,n=i.getModel("emphasis"),s=n.getModel("itemStyle").getItemStyle(),o=i.getModel(["blur","itemStyle"]).getItemStyle(),l=i.getModel(["select","itemStyle"]).getItemStyle(),c=i.getShallow("cursor"),d=n.get("focus"),u=n.get("blurScope"),h=n.get("scale");hm(e,(function(e){if(e instanceof M["a"]){var t=e.style;e.useStyle(U["extend"]({image:t.image,x:t.x,y:t.y,width:t.width,height:t.height},a.style))}else e.useStyle(a.style);var r=e.ensureState("emphasis");r.style=s,h&&(r.scaleX=1.1*e.scaleX,r.scaleY=1.1*e.scaleY),e.ensureState("blur").style=o,e.ensureState("select").style=l,c&&(e.cursor=c),e.z2=a.z2}));var p=t.valueDim.posDesc[+(a.boundingLength>0)],f=e.__pictorialBarRect;Object(At["g"])(f,Object(At["e"])(i),{labelFetcher:t.seriesModel,labelDataIndex:r,defaultText:Object(It["b"])(t.seriesModel.getData(),r),inheritColor:a.style.fill,defaultOpacity:a.style.opacity,defaultOutsidePosition:p}),Object(jt["J"])(e,d,u,n.get("disabled"))}function mm(e){var t=Math.round(e);return Math.abs(e-t)<1e-4?t:Math.ceil(e)}var gm=qf,_m=a("17a1"),vm=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.hasSymbolVisual=!0,a.defaultSymbol="roundRect",a}return Object(vt["a"])(t,e),t.prototype.getInitialData=function(t){return t.stack=null,e.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=Object(Xi["d"])(_m["a"].defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(_m["a"]),bm=vm,ym=a("81e4");function km(e){e.registerChartView(gm),e.registerSeriesModel(bm),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,Object(U["curry"])(ym["c"],"pictorialBar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Object(ym["a"])("pictorialBar"))}var xm=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a._layers=[],a}return Object(vt["a"])(t,e),t.prototype.render=function(e,t,a){var r=e.getData(),i=this,n=this.group,s=e.getLayerSeries(),o=r.getLayout("layoutInfo"),l=o.rect,c=o.boundaryGap;function d(e){return e.name}n.x=0,n.y=l.y+c[0];var u=new io["a"](this._layersSeries||[],s,d,d),h=[];function p(t,a,o){var l=i._layers;if("remove"!==t){for(var c,d,u=[],p=[],f=s[a].indices,m=0;m<f.length;m++){var g=r.getItemLayout(f[m]),_=g.x,v=g.y0,b=g.y;u.push(_,v),p.push(_,v+b),c=r.getItemVisual(f[m],"style")}var y=r.getItemLayout(f[0]),k=e.getModel("label"),x=k.get("margin"),w=e.getModel("emphasis");if("add"===t){var S=h[a]=new xt["a"];d=new aa({shape:{points:u,stackedOnPoints:p,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),S.add(d),n.add(S),e.isAnimationEnabled()&&d.setClipPath(wm(d.getBoundingRect(),e,(function(){d.removeClipPath()})))}else{S=l[o];d=S.childAt(0),n.add(S),h[a]=S,Ct["h"](d,{shape:{points:u,stackedOnPoints:p}},e),Object(Ct["g"])(d)}Object(At["g"])(d,Object(At["e"])(e),{labelDataIndex:f[m-1],defaultText:r.getName(f[m-1]),inheritColor:c.fill},{normal:{verticalAlign:"middle"}}),d.setTextConfig({position:null,local:!0});var C=d.getTextContent();C&&(C.x=y.x-x,C.y=y.y0+y.y/2),d.useStyle(c),r.setItemGraphicEl(a,d),Object(jt["I"])(d,e),Object(jt["J"])(d,w.get("focus"),w.get("blurScope"),w.get("disabled"))}else n.remove(l[a])}u.add(Object(U["bind"])(p,this,"add")).update(Object(U["bind"])(p,this,"update")).remove(Object(U["bind"])(p,this,"remove")).execute(),this._layersSeries=s,this._layers=h},t.type="themeRiver",t}(ra["a"]);function wm(e,t,a){var r=new Xr["a"]({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return Ct["c"](r,{shape:{x:e.x-50,width:e.width+100,height:e.height+20}},t,a),r}var Sm=xm,Cm=2,Om=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new tr["a"](U["bind"](this.getData,this),U["bind"](this.getRawData,this))},t.prototype.fixData=function(e){var t=e.length,a={},r=Object(qt["j"])(e,(function(e){return a.hasOwnProperty(e[0]+"")||(a[e[0]+""]=-1),e[2]})),i=[];r.buckets.each((function(e,t){i.push({name:t,dataList:e})}));for(var n=i.length,s=0;s<n;++s){for(var o=i[s].name,l=0;l<i[s].dataList.length;++l){var c=i[s].dataList[l][0]+"";a[c]=s}for(var c in a)a.hasOwnProperty(c)&&a[c]!==s&&(a[c]=s,e[t]=[c,0,o],t++)}return e},t.prototype.getInitialData=function(e,t){for(var a=this.getReferringComponents("singleAxis",qt["b"]).models[0],r=a.get("type"),i=U["filter"](e.data,(function(e){return void 0!==e[2]})),n=this.fixData(i||[]),s=[],o=this.nameMap=U["createHashMap"](),l=0,c=0;c<n.length;++c)s.push(n[c][Cm]),o.get(n[c][Cm])||(o.set(n[c][Cm],l),l++);var d=Object(Ms["b"])(n,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:Object(np["a"])(r)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,u=new Ds["a"](d,this);return u.initData(n),u},t.prototype.getLayerSeries=function(){for(var e=this.getData(),t=e.count(),a=[],r=0;r<t;++r)a[r]=r;var i=e.mapDimension("single"),n=Object(qt["j"])(a,(function(t){return e.get("name",t)})),s=[];return n.buckets.each((function(t,a){t.sort((function(t,a){return e.get(i,t)-e.get(i,a)})),s.push({name:a,indices:t})})),s},t.prototype.getAxisTooltipData=function(e,t,a){U["isArray"](e)||(e=e?[e]:[]);for(var r,i=this.getData(),n=this.getLayerSeries(),s=[],o=n.length,l=0;l<o;++l){for(var c=Number.MAX_VALUE,d=-1,u=n[l].indices.length,h=0;h<u;++h){var p=i.get(e[0],n[l].indices[h]),f=Math.abs(p-t);f<=c&&(r=p,c=f,d=n[l].indices[h])}s.push(d)}return{dataIndices:s,nestestValue:r}},t.prototype.formatTooltip=function(e,t,a){var r=this.getData(),i=r.getName(e),n=r.get(r.mapDimension("value"),e);return Object(ar["c"])("nameValue",{name:i,value:n})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(yt["b"]),Tm=Om;function jm(e,t){e.eachSeriesByType("themeRiver",(function(e){var t=e.getData(),a=e.coordinateSystem,r={},i=a.getRect();r.rect=i;var n=e.get("boundaryGap"),s=a.getAxis();if(r.boundaryGap=n,"horizontal"===s.orient){n[0]=Sr["p"](n[0],i.height),n[1]=Sr["p"](n[1],i.height);var o=i.height-n[0]-n[1];Im(t,e,o)}else{n[0]=Sr["p"](n[0],i.width),n[1]=Sr["p"](n[1],i.width);var l=i.width-n[0]-n[1];Im(t,e,l)}t.setLayout("layoutInfo",r)}))}function Im(e,t,a){if(e.count())for(var r,i=t.coordinateSystem,n=t.getLayerSeries(),s=e.mapDimension("single"),o=e.mapDimension("value"),l=U["map"](n,(function(t){return U["map"](t.indices,(function(t){var a=i.dataToPoint(e.get(s,t));return a[1]=e.get(o,t),a}))})),c=Am(l),d=c.y0,u=a/c.max,h=n.length,p=n[0].indices.length,f=0;f<p;++f){r=d[f]*u,e.setItemLayout(n[0].indices[f],{layerIndex:0,x:l[0][f][0],y0:r,y:l[0][f][1]*u});for(var m=1;m<h;++m)r+=l[m-1][f][1]*u,e.setItemLayout(n[m].indices[f],{layerIndex:m,x:l[m][f][0],y0:r,y:l[m][f][1]*u})}}function Am(e){for(var t=e.length,a=e[0].length,r=[],i=[],n=0,s=0;s<a;++s){for(var o=0,l=0;l<t;++l)o+=e[l][s][1];o>n&&(n=o),r.push(o)}for(var c=0;c<a;++c)i[c]=(n-r[c])/2;n=0;for(var d=0;d<a;++d){var u=r[d]+i[d];u>n&&(n=u)}return{y0:i,max:n}}function Dm(e){e.registerChartView(Sm),e.registerSeriesModel(Tm),e.registerLayout(jm),e.registerProcessor(Object(Xa["a"])("themeRiver"))}var Mm=a("ccf4"),Em=2,Rm=4,Bm=function(e){function t(t,a,r,i){var n=e.call(this)||this;n.z2=Em,n.textConfig={inside:!0},Object(Tt["a"])(n).seriesIndex=a.seriesIndex;var s=new we["a"]({z2:Rm,silent:t.getModel().get(["label","silent"])});return n.setTextContent(s),n.updateData(!0,t,a,r,i),n}return Object(vt["a"])(t,e),t.prototype.updateData=function(e,t,a,r,i){this.node=t,t.piece=this,a=a||this._seriesModel,r=r||this._ecModel;var n=this;Object(Tt["a"])(n).dataIndex=t.dataIndex;var s=t.getModel(),o=s.getModel("emphasis"),l=t.getLayout(),c=U["extend"]({},l);c.label=null;var d=t.getVisual("style");d.lineJoin="bevel";var u=t.getVisual("decal");u&&(d.decal=Object(Yi["a"])(u,i));var h=Object(Mm["a"])(s.getModel("itemStyle"),c,!0);U["extend"](c,h),U["each"](jt["g"],(function(e){var t=n.ensureState(e),a=s.getModel([e,"itemStyle"]);t.style=a.getItemStyle();var r=Object(Mm["a"])(a,c);r&&(t.shape=r)})),e?(n.setShape(c),n.shape.r=l.r0,Ct["h"](n,{shape:{r:l.r}},a,t.dataIndex)):(Ct["h"](n,{shape:c},a),Object(Ct["g"])(n)),n.useStyle(d),this._updateLabel(a);var p=s.getShallow("cursor");p&&n.attr("cursor",p),this._seriesModel=a||this._seriesModel,this._ecModel=r||this._ecModel;var f=o.get("focus"),m="ancestor"===f?t.getAncestorsIndices():"descendant"===f?t.getDescendantIndices():f;Object(jt["J"])(this,m,o.get("blurScope"),o.get("disabled"))},t.prototype._updateLabel=function(e){var t=this,a=this.node.getModel(),r=a.getModel("label"),i=this.node.getLayout(),n=i.endAngle-i.startAngle,s=(i.startAngle+i.endAngle)/2,o=Math.cos(s),l=Math.sin(s),c=this,d=c.getTextContent(),u=this.node.dataIndex,h=r.get("minAngle")/180*Math.PI,p=r.get("show")&&!(null!=h&&Math.abs(n)<h);function f(e,t){var a=e.get(t);return null==a?r.get(t):a}d.ignore=!p,U["each"](jt["a"],(function(r){var h="normal"===r?a.getModel("label"):a.getModel([r,"label"]),p="normal"===r,m=p?d:d.ensureState(r),g=e.getFormattedLabel(u,r);p&&(g=g||t.node.name),m.style=Object(At["c"])(h,{},null,"normal"!==r,!0),g&&(m.style.text=g);var _=h.get("show");null==_||p||(m.ignore=!_);var v,b=f(h,"position"),y=p?c:c.states[r],k=y.style.fill;y.textConfig={outsideFill:"inherit"===h.get("color")?k:null,inside:"outside"!==b};var x=f(h,"distance")||0,w=f(h,"align");"outside"===b?(v=i.r+x,w=s>Math.PI/2?"right":"left"):w&&"center"!==w?"left"===w?(v=i.r0+x,s>Math.PI/2&&(w="right")):"right"===w&&(v=i.r-x,s>Math.PI/2&&(w="left")):(v=n===2*Math.PI&&0===i.r0?0:(i.r+i.r0)/2,w="center"),m.style.align=w,m.style.verticalAlign=f(h,"verticalAlign")||"middle",m.x=v*o+i.cx,m.y=v*l+i.cy;var S=f(h,"rotate"),C=0;"radial"===S?(C=-s,C<-Math.PI/2&&(C+=Math.PI)):"tangential"===S?(C=Math.PI/2-s,C>Math.PI/2?C-=Math.PI:C<-Math.PI/2&&(C+=Math.PI)):U["isNumber"](S)&&(C=S*Math.PI/180),m.rotation=C})),d.dirtyStyle()},t}(Zc["a"]),Pm=Bm,Lm="sunburstRootToNode",Fm="sunburstHighlight",Nm="sunburstUnhighlight";function $m(e){e.registerAction({type:Lm,update:"updateView"},(function(e,t){function a(t,a){var r=Ls(e,[Lm],t);if(r){var i=t.getViewRoot();i&&(e.direction=Ns(i,r.node)?"rollUp":"drillDown"),t.resetViewRoot(r.node)}}t.eachComponent({mainType:"series",subType:"sunburst",query:e},a)})),e.registerAction({type:Fm,update:"none"},(function(e,t,a){function r(t){var a=Ls(e,[Fm],t);a&&(e.dataIndex=a.node.dataIndex)}e=Object(U["extend"])({},e),t.eachComponent({mainType:"series",subType:"sunburst",query:e},r),a.dispatchAction(Object(U["extend"])(e,{type:"highlight"}))})),e.registerAction({type:Nm,update:"updateView"},(function(e,t,a){e=Object(U["extend"])({},e),a.dispatchAction(Object(U["extend"])(e,{type:"downplay"}))}))}var zm=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.render=function(e,t,a,r){var i=this;this.seriesModel=e,this.api=a,this.ecModel=t;var n=e.getData(),s=n.tree.root,o=e.getViewRoot(),l=this.group,c=e.get("renderLabelForZeroData"),d=[];o.eachNode((function(e){d.push(e)}));var u=this._oldChildren||[];function h(e,t){function a(e){return e.getId()}function r(a,r){var i=null==a?null:e[a],n=null==r?null:t[r];p(i,n)}0===e.length&&0===t.length||new io["a"](t,e,a,a).add(r).update(r).remove(U["curry"](r,null)).execute()}function p(r,i){if(c||!r||r.getValue()||(r=null),r!==s&&i!==s)if(i&&i.piece)r?(i.piece.updateData(!1,r,e,t,a),n.setItemGraphicEl(r.dataIndex,i.piece)):f(i);else if(r){var o=new Pm(r,e,t,a);l.add(o),n.setItemGraphicEl(r.dataIndex,o)}}function f(e){e&&e.piece&&(l.remove(e.piece),e.piece=null)}function m(r,n){n.depth>0?(i.virtualPiece?i.virtualPiece.updateData(!1,r,e,t,a):(i.virtualPiece=new Pm(r,e,t,a),l.add(i.virtualPiece)),n.piece.off("click"),i.virtualPiece.on("click",(function(e){i._rootToNode(n.parentNode)}))):i.virtualPiece&&(l.remove(i.virtualPiece),i.virtualPiece=null)}h(d,u),m(s,o),this._initEvents(),this._oldChildren=d},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",(function(t){var a=!1,r=e.seriesModel.getViewRoot();r.eachNode((function(r){if(!a&&r.piece&&r.piece===t.target){var i=r.getModel().get("nodeClick");if("rootToNode"===i)e._rootToNode(r);else if("link"===i){var n=r.getModel(),s=n.get("link");if(s){var o=n.get("target",!0)||"_blank";Object(sa["l"])(s,o)}}a=!0}}))}))},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:Lm,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,t){var a=t.getData(),r=a.getItemLayout(0);if(r){var i=e[0]-r.cx,n=e[1]-r.cy,s=Math.sqrt(i*i+n*n);return s<=r.r&&s>=r.r0}},t.type="sunburst",t}(ra["a"]),Vm=zm,Um=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.ignoreStyleOnData=!0,a}return Object(vt["a"])(t,e),t.prototype.getInitialData=function(e,t){var a={name:e.name,children:e.data};Hm(a);var r=this._levelModels=U["map"](e.levels||[],(function(e){return new sr["a"](e,this,t)}),this),i=Ps.createTree(a,this,n);function n(e){e.wrapMethod("getItemModel",(function(e,t){var a=i.getNodeByDataIndex(t),n=r[a.depth];return n&&(e.parentModel=n),e}))}return i.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(t){var a=e.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return a.treePathInfo=$s(r,this),a},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){Qs(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(yt["b"]);function Hm(e){var t=0;U["each"](e.children,(function(e){Hm(e);var a=e.value;U["isArray"](a)&&(a=a[0]),t+=a}));var a=e.value;U["isArray"](a)&&(a=a[0]),(null==a||isNaN(a))&&(a=t),a<0&&(a=0),U["isArray"](e.value)?e.value[0]=a:e.value=a}var Gm=Um,Wm=Math.PI/180;function qm(e,t,a){t.eachSeriesByType(e,(function(e){var t=e.get("center"),r=e.get("radius");U["isArray"](r)||(r=[0,r]),U["isArray"](t)||(t=[t,t]);var i=a.getWidth(),n=a.getHeight(),s=Math.min(i,n),o=Object(Sr["p"])(t[0],i),l=Object(Sr["p"])(t[1],n),c=Object(Sr["p"])(r[0],s/2),d=Object(Sr["p"])(r[1],s/2),u=-e.get("startAngle")*Wm,h=e.get("minAngle")*Wm,p=e.getData().tree.root,f=e.getViewRoot(),m=f.depth,g=e.get("sort");null!=g&&Xm(f,g);var _=0;U["each"](f.children,(function(e){!isNaN(e.getValue())&&_++}));var v=f.getValue(),b=Math.PI/(v||_)*2,y=f.depth>0,k=f.height-(y?-1:1),x=(d-c)/(k||1),w=e.get("clockwise"),S=e.get("stillShowZeroSum"),C=w?1:-1,O=function(t,a){if(t){var r=a;if(t!==p){var i=t.getValue(),n=0===v&&S?b:i*b;n<h&&(n=h),r=a+C*n;var d=t.depth-m-(y?-1:1),u=c+x*d,f=c+x*(d+1),g=e.getLevelModel(t);if(g){var _=g.get("r0",!0),k=g.get("r",!0),T=g.get("radius",!0);null!=T&&(_=T[0],k=T[1]),null!=_&&(u=Object(Sr["p"])(_,s/2)),null!=k&&(f=Object(Sr["p"])(k,s/2))}t.setLayout({angle:n,startAngle:a,endAngle:r,clockwise:w,cx:o,cy:l,r0:u,r:f})}if(t.children&&t.children.length){var j=0;U["each"](t.children,(function(e){j+=O(e,a+j)}))}return r-a}};if(y){var T=c,j=c+x,I=2*Math.PI;p.setLayout({angle:I,startAngle:u,endAngle:u+I,clockwise:w,cx:o,cy:l,r0:T,r:j})}O(f,u)}))}function Xm(e,t){var a=e.children||[];e.children=Ym(a,t),a.length&&U["each"](e.children,(function(e){Xm(e,t)}))}function Ym(e,t){if(U["isFunction"](t)){var a=U["map"](e,(function(e,t){var a=e.getValue();return{params:{depth:e.depth,height:e.height,dataIndex:e.dataIndex,getValue:function(){return a}},index:t}}));return a.sort((function(e,a){return t(e.params,a.params)})),U["map"](a,(function(t){return e[t.index]}))}var r="asc"===t;return e.sort((function(e,t){var a=(e.getValue()-t.getValue())*(r?1:-1);return 0===a?(e.dataIndex-t.dataIndex)*(r?-1:1):a}))}function Km(e){var t={};function a(e,a,r){var i=e;while(i&&i.depth>1)i=i.parentNode;var n=a.getColorFromPalette(i.name||i.dataIndex+"",t);return e.depth>1&&Object(U["isString"])(n)&&(n=Object(oa["lift"])(n,(e.depth-1)/(r-1)*.5)),n}e.eachSeriesByType("sunburst",(function(e){var t=e.getData(),r=t.tree;r.eachNode((function(i){var n=i.getModel(),s=n.getModel("itemStyle").getItemStyle();s.fill||(s.fill=a(i,e,r.root.height));var o=t.ensureUniqueItemVisual(i.dataIndex,"style");Object(U["extend"])(o,s)}))}))}function Zm(e){e.registerChartView(Vm),e.registerSeriesModel(Gm),e.registerLayout(Object(U["curry"])(qm,"sunburst")),e.registerProcessor(Object(U["curry"])(Xa["a"],"sunburst")),e.registerVisual(Km),$m(e)}var Jm={color:"fill",borderColor:"stroke"},Qm={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},eg=Object(qt["o"])(),tg=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(e,t){return Object(bt["a"])(null,this)},t.prototype.getDataParams=function(t,a,r){var i=e.prototype.getDataParams.call(this,t,a);return r&&(i.info=eg(r).info),i},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t}(yt["b"]),ag=tg;function rg(e,t){return t=t||[0,0],U["map"](["x","y"],(function(a,r){var i=this.getAxis(a),n=t[r],s=e[r]/2;return"category"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(n-s)-i.dataToCoord(n+s))}),this)}function ig(e){var t=e.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:U["bind"](rg,e)}}}function ng(e,t){return t=t||[0,0],U["map"]([0,1],(function(a){var r=t[a],i=e[a]/2,n=[],s=[];return n[a]=r-i,s[a]=r+i,n[1-a]=s[1-a]=t[1-a],Math.abs(this.dataToPoint(n)[a]-this.dataToPoint(s)[a])}),this)}function sg(e){var t=e.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:e.getZoom()},api:{coord:function(t){return e.dataToPoint(t)},size:U["bind"](ng,e)}}}function og(e,t){var a=this.getAxis(),r=t instanceof Array?t[0]:t,i=(e instanceof Array?e[0]:e)/2;return"category"===a.type?a.getBandWidth():Math.abs(a.dataToCoord(r-i)-a.dataToCoord(r+i))}function lg(e){var t=e.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:Object(U["bind"])(og,e)}}}function cg(e,t){return t=t||[0,0],U["map"](["Radius","Angle"],(function(a,r){var i="get"+a+"Axis",n=this[i](),s=t[r],o=e[r]/2,l="category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(s-o)-n.dataToCoord(s+o));return"Angle"===a&&(l=l*Math.PI/180),l}),this)}function dg(e){var t=e.getRadiusAxis(),a=e.getAngleAxis(),r=t.getExtent();return r[0]>r[1]&&r.reverse(),{coordSys:{type:"polar",cx:e.cx,cy:e.cy,r:r[1],r0:r[0]},api:{coord:function(r){var i=t.dataToRadius(r[0]),n=a.dataToAngle(r[1]),s=e.coordToPoint([i,n]);return s.push(i,n*Math.PI/180),s},size:U["bind"](cg,e)}}}function ug(e){var t=e.getRect(),a=e.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:e.getCellWidth(),cellHeight:e.getCellHeight(),rangeInfo:{start:a.start,end:a.end,weeks:a.weeks,dayCount:a.allDay}},api:{coord:function(t,a){return e.dataToPoint(t,a)}}}}function hg(e,t,a,r){return e&&(e.legacy||!1!==e.legacy&&!a&&!r&&"tspan"!==t&&("text"===t||Object(U["hasOwn"])(e,"text")))}function pg(e,t,a){var r,i,n,s=e;if("text"===t)n=s;else{n={},Object(U["hasOwn"])(s,"text")&&(n.text=s.text),Object(U["hasOwn"])(s,"rich")&&(n.rich=s.rich),Object(U["hasOwn"])(s,"textFill")&&(n.fill=s.textFill),Object(U["hasOwn"])(s,"textStroke")&&(n.stroke=s.textStroke),Object(U["hasOwn"])(s,"fontFamily")&&(n.fontFamily=s.fontFamily),Object(U["hasOwn"])(s,"fontSize")&&(n.fontSize=s.fontSize),Object(U["hasOwn"])(s,"fontStyle")&&(n.fontStyle=s.fontStyle),Object(U["hasOwn"])(s,"fontWeight")&&(n.fontWeight=s.fontWeight),i={type:"text",style:n,silent:!0},r={};var o=Object(U["hasOwn"])(s,"textPosition");a?r.position=o?s.textPosition:"inside":o&&(r.position=s.textPosition),Object(U["hasOwn"])(s,"textPosition")&&(r.position=s.textPosition),Object(U["hasOwn"])(s,"textOffset")&&(r.offset=s.textOffset),Object(U["hasOwn"])(s,"textRotation")&&(r.rotation=s.textRotation),Object(U["hasOwn"])(s,"textDistance")&&(r.distance=s.textDistance)}return fg(n,e),Object(U["each"])(n.rich,(function(e){fg(e,e)})),{textConfig:r,textContent:i}}function fg(e,t){t&&(t.font=t.textFont||t.font,Object(U["hasOwn"])(t,"textStrokeWidth")&&(e.lineWidth=t.textStrokeWidth),Object(U["hasOwn"])(t,"textAlign")&&(e.align=t.textAlign),Object(U["hasOwn"])(t,"textVerticalAlign")&&(e.verticalAlign=t.textVerticalAlign),Object(U["hasOwn"])(t,"textLineHeight")&&(e.lineHeight=t.textLineHeight),Object(U["hasOwn"])(t,"textWidth")&&(e.width=t.textWidth),Object(U["hasOwn"])(t,"textHeight")&&(e.height=t.textHeight),Object(U["hasOwn"])(t,"textBackgroundColor")&&(e.backgroundColor=t.textBackgroundColor),Object(U["hasOwn"])(t,"textPadding")&&(e.padding=t.textPadding),Object(U["hasOwn"])(t,"textBorderColor")&&(e.borderColor=t.textBorderColor),Object(U["hasOwn"])(t,"textBorderWidth")&&(e.borderWidth=t.textBorderWidth),Object(U["hasOwn"])(t,"textBorderRadius")&&(e.borderRadius=t.textBorderRadius),Object(U["hasOwn"])(t,"textBoxShadowColor")&&(e.shadowColor=t.textBoxShadowColor),Object(U["hasOwn"])(t,"textBoxShadowBlur")&&(e.shadowBlur=t.textBoxShadowBlur),Object(U["hasOwn"])(t,"textBoxShadowOffsetX")&&(e.shadowOffsetX=t.textBoxShadowOffsetX),Object(U["hasOwn"])(t,"textBoxShadowOffsetY")&&(e.shadowOffsetY=t.textBoxShadowOffsetY))}function mg(e,t,a){var r=e;r.textPosition=r.textPosition||a.position||"inside",null!=a.offset&&(r.textOffset=a.offset),null!=a.rotation&&(r.textRotation=a.rotation),null!=a.distance&&(r.textDistance=a.distance);var i=r.textPosition.indexOf("inside")>=0,n=e.fill||"#000";gg(r,t);var s=null==r.textFill;return i?s&&(r.textFill=a.insideFill||"#fff",!r.textStroke&&a.insideStroke&&(r.textStroke=a.insideStroke),!r.textStroke&&(r.textStroke=n),null==r.textStrokeWidth&&(r.textStrokeWidth=2)):(s&&(r.textFill=e.fill||a.outsideFill||"#000"),!r.textStroke&&a.outsideStroke&&(r.textStroke=a.outsideStroke)),r.text=t.text,r.rich=t.rich,Object(U["each"])(t.rich,(function(e){gg(e,e)})),r}function gg(e,t){t&&(Object(U["hasOwn"])(t,"fill")&&(e.textFill=t.fill),Object(U["hasOwn"])(t,"stroke")&&(e.textStroke=t.fill),Object(U["hasOwn"])(t,"lineWidth")&&(e.textStrokeWidth=t.lineWidth),Object(U["hasOwn"])(t,"font")&&(e.font=t.font),Object(U["hasOwn"])(t,"fontStyle")&&(e.fontStyle=t.fontStyle),Object(U["hasOwn"])(t,"fontWeight")&&(e.fontWeight=t.fontWeight),Object(U["hasOwn"])(t,"fontSize")&&(e.fontSize=t.fontSize),Object(U["hasOwn"])(t,"fontFamily")&&(e.fontFamily=t.fontFamily),Object(U["hasOwn"])(t,"align")&&(e.textAlign=t.align),Object(U["hasOwn"])(t,"verticalAlign")&&(e.textVerticalAlign=t.verticalAlign),Object(U["hasOwn"])(t,"lineHeight")&&(e.textLineHeight=t.lineHeight),Object(U["hasOwn"])(t,"width")&&(e.textWidth=t.width),Object(U["hasOwn"])(t,"height")&&(e.textHeight=t.height),Object(U["hasOwn"])(t,"backgroundColor")&&(e.textBackgroundColor=t.backgroundColor),Object(U["hasOwn"])(t,"padding")&&(e.textPadding=t.padding),Object(U["hasOwn"])(t,"borderColor")&&(e.textBorderColor=t.borderColor),Object(U["hasOwn"])(t,"borderWidth")&&(e.textBorderWidth=t.borderWidth),Object(U["hasOwn"])(t,"borderRadius")&&(e.textBorderRadius=t.borderRadius),Object(U["hasOwn"])(t,"shadowColor")&&(e.textBoxShadowColor=t.shadowColor),Object(U["hasOwn"])(t,"shadowBlur")&&(e.textBoxShadowBlur=t.shadowBlur),Object(U["hasOwn"])(t,"shadowOffsetX")&&(e.textBoxShadowOffsetX=t.shadowOffsetX),Object(U["hasOwn"])(t,"shadowOffsetY")&&(e.textBoxShadowOffsetY=t.shadowOffsetY),Object(U["hasOwn"])(t,"textShadowColor")&&(e.textShadowColor=t.textShadowColor),Object(U["hasOwn"])(t,"textShadowBlur")&&(e.textShadowBlur=t.textShadowBlur),Object(U["hasOwn"])(t,"textShadowOffsetX")&&(e.textShadowOffsetX=t.textShadowOffsetX),Object(U["hasOwn"])(t,"textShadowOffsetY")&&(e.textShadowOffsetY=t.textShadowOffsetY))}var _g=a("7f41"),vg={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},bg=Object(U["keys"])(vg),yg=(Object(U["reduce"])(de["a"],(function(e,t){return e[t]=1,e}),{}),de["a"].join(", "),["","style","shape","extra"]),kg=Object(qt["o"])();function xg(e,t,a,r,i){var n=e+"Animation",s=Object(Ct["a"])(e,r,i)||{},o=kg(t).userDuring;return s.duration>0&&(s.during=o?Object(U["bind"])(Mg,{el:t,userDuring:o}):null,s.setToFinal=!0,s.scope=e),Object(U["extend"])(s,a[n]),s}function wg(e,t,a,r){r=r||{};var i=r.dataIndex,n=r.isInit,s=r.clearStyle,o=a.isAnimationEnabled(),l=kg(e),c=t.style;l.userDuring=t.during;var d={},u={};if(Pg(e,t,u),Rg("shape",t,u),Rg("extra",t,u),!n&&o&&(Bg(e,t,d),Eg("shape",e,t,d),Eg("extra",e,t,d),Lg(e,t,c,d)),u.style=c,Tg(e,u,s),Ig(e,t),o)if(n){var h={};Object(U["each"])(yg,(function(e){var a=e?t[e]:t;a&&a.enterFrom&&(e&&(h[e]=h[e]||{}),Object(U["extend"])(e?h[e]:h,a.enterFrom))}));var p=xg("enter",e,t,a,i);p.duration>0&&e.animateFrom(h,p)}else jg(e,t,i||0,a,d);Sg(e,t),c?e.dirty():e.markRedraw()}function Sg(e,t){for(var a=kg(e).leaveToProps,r=0;r<yg.length;r++){var i=yg[r],n=i?t[i]:t;n&&n.leaveTo&&(a||(a=kg(e).leaveToProps={}),i&&(a[i]=a[i]||{}),Object(U["extend"])(i?a[i]:a,n.leaveTo))}}function Cg(e,t,a,r){if(e){var i=e.parent,n=kg(e).leaveToProps;if(n){var s=xg("update",e,t,a,0);s.done=function(){i.remove(e),r&&r()},e.animateTo(n,s)}else i.remove(e),r&&r()}}function Og(e){return"all"===e}function Tg(e,t,a){var r=t.style;if(!e.isGroup&&r){if(a){e.useStyle({});for(var i=e.animators,n=0;n<i.length;n++){var s=i[n];"style"===s.targetName&&s.changeTarget(e.style)}}e.setStyle(r)}t&&(t.style=null,t&&e.attr(t),t.style=r)}function jg(e,t,a,r,i){if(i){var n=xg("update",e,t,r,a);n.duration>0&&e.animateFrom(i,n)}}function Ig(e,t){Object(U["hasOwn"])(t,"silent")&&(e.silent=t.silent),Object(U["hasOwn"])(t,"ignore")&&(e.ignore=t.ignore),e instanceof Ki["c"]&&Object(U["hasOwn"])(t,"invisible")&&(e.invisible=t.invisible),e instanceof D["b"]&&Object(U["hasOwn"])(t,"autoBatch")&&(e.autoBatch=t.autoBatch)}var Ag={},Dg={setTransform:function(e,t){return Ag.el[e]=t,this},getTransform:function(e){return Ag.el[e]},setShape:function(e,t){var a=Ag.el,r=a.shape||(a.shape={});return r[e]=t,a.dirtyShape&&a.dirtyShape(),this},getShape:function(e){var t=Ag.el.shape;if(t)return t[e]},setStyle:function(e,t){var a=Ag.el,r=a.style;return r&&(r[e]=t,a.dirtyStyle&&a.dirtyStyle()),this},getStyle:function(e){var t=Ag.el.style;if(t)return t[e]},setExtra:function(e,t){var a=Ag.el.extra||(Ag.el.extra={});return a[e]=t,this},getExtra:function(e){var t=Ag.el.extra;if(t)return t[e]}};function Mg(){var e=this,t=e.el;if(t){var a=kg(t).userDuring,r=e.userDuring;a===r?(Ag.el=t,r(Dg)):e.el=e.userDuring=null}}function Eg(e,t,a,r){var i=a[e];if(i){var n,s=t[e];if(s){var o=a.transition,l=i.transition;if(l)if(!n&&(n=r[e]={}),Og(l))Object(U["extend"])(n,s);else for(var c=Object(qt["r"])(l),d=0;d<c.length;d++){var u=c[d],h=s[u];n[u]=h}else if(Og(o)||Object(U["indexOf"])(o,e)>=0){!n&&(n=r[e]={});var p=Object(U["keys"])(s);for(d=0;d<p.length;d++){u=p[d],h=s[u];Fg(i[u],h)&&(n[u]=h)}}}}}function Rg(e,t,a){var r=t[e];if(r)for(var i=a[e]={},n=Object(U["keys"])(r),s=0;s<n.length;s++){var o=n[s];i[o]=Object(_g["a"])(r[o])}}function Bg(e,t,a){for(var r=t.transition,i=Og(r)?de["a"]:Object(qt["r"])(r||[]),n=0;n<i.length;n++){var s=i[n];if("style"!==s&&"shape"!==s&&"extra"!==s){var o=e[s];0,a[s]=o}}}function Pg(e,t,a){for(var r=0;r<bg.length;r++){var i=bg[r],n=vg[i],s=t[i];s&&(a[n[0]]=s[0],a[n[1]]=s[1])}for(r=0;r<de["a"].length;r++){var o=de["a"][r];null!=t[o]&&(a[o]=t[o])}}function Lg(e,t,a,r){if(a){var i,n=e.style;if(n){var s=a.transition,o=t.transition;if(s&&!Og(s)){var l=Object(qt["r"])(s);!i&&(i=r.style={});for(var c=0;c<l.length;c++){var d=l[c],u=n[d];i[d]=u}}else if(e.getAnimationStyleProps&&(Og(o)||Og(s)||Object(U["indexOf"])(o,"style")>=0)){var h=e.getAnimationStyleProps(),p=h?h.style:null;if(p){!i&&(i=r.style={});var f=Object(U["keys"])(a);for(c=0;c<f.length;c++){d=f[c];if(p[d]){u=n[d];i[d]=u}}}}}}}function Fg(e,t){return Object(U["isArrayLike"])(e)?e!==t:null!=e&&isFinite(e)}var Ng=Object(qt["o"])(),$g=["percent","easing","shape","style","extra"];function zg(e){e.stopAnimation("keyframe"),e.attr(Ng(e))}function Vg(e,t,a){if(a.isAnimationEnabled()&&t)if(Object(U["isArray"])(t))Object(U["each"])(t,(function(t){Vg(e,t,a)}));else{var r=t.keyframes,i=t.duration;if(a&&null==i){var n=Object(Ct["a"])("enter",a,0);i=n&&n.duration}if(r&&i){var s=Ng(e);Object(U["each"])(yg,(function(a){if(!a||e[a]){var n;r.sort((function(e,t){return e.percent-t.percent})),Object(U["each"])(r,(function(r){var o=e.animators,l=a?r[a]:r;if(l){var c=Object(U["keys"])(l);if(a||(c=Object(U["filter"])(c,(function(e){return Object(U["indexOf"])($g,e)<0}))),c.length){n||(n=e.animate(a,t.loop,!0),n.scope="keyframe");for(var d=0;d<o.length;d++)o[d]!==n&&o[d].targetName===n.targetName&&o[d].stopTracks(c);a&&(s[a]=s[a]||{});var u=a?s[a]:s;Object(U["each"])(c,(function(t){u[t]=((a?e[a]:e)||{})[t]})),n.whenWithKeys(i*r.percent,l,c,r.easing)}}})),n&&n.delay(t.delay||0).duration(i).start(t.easing)}}))}}}var Ug="emphasis",Hg="normal",Gg="blur",Wg="select",qg=[Hg,Ug,Gg,Wg],Xg={normal:["itemStyle"],emphasis:[Ug,"itemStyle"],blur:[Gg,"itemStyle"],select:[Wg,"itemStyle"]},Yg={normal:["label"],emphasis:[Ug,"label"],blur:[Gg,"label"],select:[Wg,"label"]},Kg=["x","y"],Zg="e\0\0",Jg={normal:{},emphasis:{},blur:{},select:{}},Qg={cartesian2d:ig,geo:sg,single:lg,polar:dg,calendar:ug};function e_(e){return e instanceof D["b"]}function t_(e){return e instanceof Ki["c"]}function a_(e,t){t.copyTransform(e),t_(t)&&t_(e)&&(t.setStyle(e.style),t.z=e.z,t.z2=e.z2,t.zlevel=e.zlevel,t.invisible=e.invisible,t.ignore=e.ignore,e_(t)&&e_(e)&&t.setShape(e.shape))}var r_=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.render=function(e,t,a,r){this._progressiveEls=null;var i=this._data,n=e.getData(),s=this.group,o=d_(e,n,t,a);i||s.removeAll(),n.diff(i).add((function(t){h_(a,null,t,o(t,r),e,s,n)})).remove((function(t){var a=i.getItemGraphicEl(t);Cg(a,eg(a).option,e)})).update((function(t,l){var c=i.getItemGraphicEl(l);h_(a,c,t,o(t,r),e,s,n)})).execute();var l=e.get("clip",!0)?Object(ia["a"])(e.coordinateSystem,!1,e):null;l?s.setClipPath(l):s.removeClipPath(),this._data=n},t.prototype.incrementalPrepareRender=function(e,t,a){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(e,t,a,r,i){var n=t.getData(),s=d_(t,n,a,r),o=this._progressiveEls=[];function l(e){e.isGroup||(e.incremental=!0,e.ensureState("emphasis").hoverLayer=!0)}for(var c=e.start;c<e.end;c++){var d=h_(null,null,c,s(c,i),t,this.group,n);d&&(d.traverse(l),o.push(d))}},t.prototype.eachRendered=function(e){Ot["traverseElements"](this._progressiveEls||this.group,e)},t.prototype.filterForExposedEvent=function(e,t,a,r){var i=t.element;if(null==i||a.name===i)return!0;while((a=a.__hostTarget||a.parent)&&a!==this.group)if(a.name===i)return!0;return!1},t.type="custom",t}(ra["a"]),i_=r_;function n_(e){var t,a=e.type;if("path"===a){var r=e.shape,i=null!=r.width&&null!=r.height?{x:r.x||0,y:r.y||0,width:r.width,height:r.height}:null,n=C_(r);t=Ot["makePath"](n,null,i,r.layout||"center"),eg(t).customPathData=n}else if("image"===a)t=new M["a"]({}),eg(t).customImagePath=e.style.image;else if("text"===a)t=new we["a"]({});else if("group"===a)t=new xt["a"];else{if("compoundPath"===a)throw new Error('"compoundPath" is not supported yet.');var s=Ot["getShapeClass"](a);if(!s){var o="";0,Object(Mo["c"])(o)}t=new s}return eg(t).customGraphicType=a,t.name=e.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function s_(e,t,a,r,i,n,s){zg(t);var o=i&&i.normal.cfg;o&&t.setTextConfig(o),r&&null==r.transition&&(r.transition=Kg);var l=r&&r.style;if(l){if("text"===t.type){var c=l;Object(U["hasOwn"])(c,"textFill")&&(c.fill=c.textFill),Object(U["hasOwn"])(c,"textStroke")&&(c.stroke=c.textStroke)}var d=void 0,u=e_(t)?l.decal:null;e&&u&&(u.dirty=!0,d=Object(Yi["a"])(u,e)),l.__decalPattern=d}if(t_(t)&&l){d=l.__decalPattern;d&&(l.decal=d)}wg(t,r,n,{dataIndex:a,isInit:s,clearStyle:!0}),Vg(t,r.keyframeAnimation,n)}function o_(e,t,a,r,i){var n=t.isGroup?null:t,s=i&&i[e].cfg;if(n){var o=n.ensureState(e);if(!1===r){var l=n.getState(e);l&&(l.style=null)}else o.style=r||null;s&&(o.textConfig=s),Object(jt["G"])(n)}}function l_(e,t,a){if(!e.isGroup){var r=e,i=a.currentZ,n=a.currentZLevel;r.z=i,r.zlevel=n;var s=t.z2;null!=s&&(r.z2=s||0);for(var o=0;o<qg.length;o++)c_(r,t,qg[o])}}function c_(e,t,a){var r,i=a===Hg,n=i?t:v_(t,a),s=n?n.z2:null;null!=s&&(r=i?e:e.ensureState(a),r.z2=s||0)}function d_(e,t,a,r){var i=e.get("renderItem"),n=e.coordinateSystem,s={};n&&(s=n.prepareCustoms?n.prepareCustoms(n):Qg[n.type](n));for(var o,l,c=Object(U["defaults"])({getWidth:r.getWidth,getHeight:r.getHeight,getZr:r.getZr,getDevicePixelRatio:r.getDevicePixelRatio,value:y,style:x,ordinalRawValue:k,styleEmphasis:w,visual:O,barLayout:T,currentSeriesIndices:j,font:I},s.api||{}),d={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:s.coordSys,dataInsideLength:t.count(),encode:u_(e.getData())},u={},h={},p={},f={},m=0;m<qg.length;m++){var g=qg[m];p[g]=e.getModel(Xg[g]),f[g]=e.getModel(Yg[g])}function _(e){return e===o?l||(l=t.getItemModel(e)):t.getItemModel(e)}function v(e,a){return t.hasItemOption?e===o?u[a]||(u[a]=_(e).getModel(Xg[a])):_(e).getModel(Xg[a]):p[a]}function b(e,a){return t.hasItemOption?e===o?h[a]||(h[a]=_(e).getModel(Yg[a])):_(e).getModel(Yg[a]):f[a]}return function(e,a){return o=e,l=null,u={},h={},i&&i(Object(U["defaults"])({dataIndexInside:e,dataIndex:t.getRawIndex(e),actionType:a?a.type:null},d),c)};function y(e,a){return null==a&&(a=o),t.getStore().get(t.getDimensionIndex(e||0),a)}function k(e,a){null==a&&(a=o),e=e||0;var r=t.getDimensionInfo(e);if(!r){var i=t.getDimensionIndex(e);return i>=0?t.getStore().get(i,a):void 0}var n=t.get(r.name,a),s=r&&r.ordinalMeta;return s?s.categories[n]:n}function x(a,r){null==r&&(r=o);var i=t.getItemVisual(r,"style"),n=i&&i.fill,s=i&&i.opacity,l=v(r,Hg).getItemStyle();null!=n&&(l.fill=n),null!=s&&(l.opacity=s);var c={inheritColor:Object(U["isString"])(n)?n:"#000"},d=b(r,Hg),u=At["c"](d,null,c,!1,!0);u.text=d.getShallow("show")?Object(U["retrieve2"])(e.getFormattedLabel(r,Hg),Object(It["b"])(t,r)):null;var h=At["b"](d,c,!1);return C(a,l),l=mg(l,u,h),a&&S(l,a),l.legacy=!0,l}function w(a,r){null==r&&(r=o);var i=v(r,Ug).getItemStyle(),n=b(r,Ug),s=At["c"](n,null,null,!0,!0);s.text=n.getShallow("show")?Object(U["retrieve3"])(e.getFormattedLabel(r,Ug),e.getFormattedLabel(r,Hg),Object(It["b"])(t,r)):null;var l=At["b"](n,null,!0);return C(a,i),i=mg(i,s,l),a&&S(i,a),i.legacy=!0,i}function S(e,t){for(var a in t)Object(U["hasOwn"])(t,a)&&(e[a]=t[a])}function C(e,t){e&&(e.textFill&&(t.textFill=e.textFill),e.textPosition&&(t.textPosition=e.textPosition))}function O(e,a){if(null==a&&(a=o),Object(U["hasOwn"])(Jm,e)){var r=t.getItemVisual(a,"style");return r?r[Jm[e]]:null}if(Object(U["hasOwn"])(Qm,e))return t.getItemVisual(a,e)}function T(e){if("cartesian2d"===n.type){var t=n.getBaseAxis();return Object(ym["b"])(Object(U["defaults"])({axis:t},e))}}function j(){return a.getCurrentSeriesIndices()}function I(e){return At["d"](e,a)}}function u_(e){var t={};return Object(U["each"])(e.dimensions,(function(a){var r=e.getDimensionInfo(a);if(!r.isExtraCoord){var i=r.coordDim,n=t[i]=t[i]||[];n[r.coordDimIndex]=e.getDimensionIndex(a)}})),t}function h_(e,t,a,r,i,n,s){if(r){var o=p_(e,t,a,r,i,n);return o&&s.setItemGraphicEl(a,o),o&&Object(jt["J"])(o,r.focus,r.blurScope,r.emphasisDisabled),o}n.remove(t)}function p_(e,t,a,r,i,n){var s=-1,o=t;t&&f_(t,r,i)&&(s=Object(U["indexOf"])(n.childrenRef(),t),t=null);var l=!t,c=t;c?c.clearStates():(c=n_(r),o&&a_(o,c)),!1===r.morph?c.disableMorphing=!0:c.disableMorphing&&(c.disableMorphing=!1),Jg.normal.cfg=Jg.normal.conOpt=Jg.emphasis.cfg=Jg.emphasis.conOpt=Jg.blur.cfg=Jg.blur.conOpt=Jg.select.cfg=Jg.select.conOpt=null,Jg.isLegacy=!1,g_(c,a,r,i,l,Jg),m_(c,a,r,i,l),s_(e,c,a,r,Jg,i,l),Object(U["hasOwn"])(r,"info")&&(eg(c).info=r.info);for(var d=0;d<qg.length;d++){var u=qg[d];if(u!==Hg){var h=v_(r,u),p=b_(r,h,u);o_(u,c,h,p,Jg)}}return l_(c,r,i),"group"===r.type&&y_(e,c,a,r,i),s>=0?n.replaceAt(c,s):n.add(c),c}function f_(e,t,a){var r=eg(e),i=t.type,n=t.shape,s=t.style;return a.isUniversalTransitionEnabled()||null!=i&&i!==r.customGraphicType||"path"===i&&O_(n)&&C_(n)!==r.customPathData||"image"===i&&Object(U["hasOwn"])(s,"image")&&s.image!==r.customImagePath}function m_(e,t,a,r,i){var n=a.clipPath;if(!1===n)e&&e.getClipPath()&&e.removeClipPath();else if(n){var s=e.getClipPath();s&&f_(s,n,r)&&(s=null),s||(s=n_(n),e.setClipPath(s)),s_(null,s,t,n,null,r,i)}}function g_(e,t,a,r,i,n){if(!e.isGroup){__(a,null,n),__(a,Ug,n);var s=n.normal.conOpt,o=n.emphasis.conOpt,l=n.blur.conOpt,c=n.select.conOpt;if(null!=s||null!=o||null!=c||null!=l){var d=e.getTextContent();if(!1===s)d&&e.removeTextContent();else{s=n.normal.conOpt=s||{type:"text"},d?d.clearStates():(d=n_(s),e.setTextContent(d)),s_(null,d,t,s,null,r,i);for(var u=s&&s.style,h=0;h<qg.length;h++){var p=qg[h];if(p!==Hg){var f=n[p].conOpt;o_(p,d,f,b_(s,f,p),null)}}u?d.dirty():d.markRedraw()}}}}function __(e,t,a){var r=t?v_(e,t):e,i=t?b_(e,r,Ug):e.style,n=e.type,s=r?r.textConfig:null,o=e.textContent,l=o?t?v_(o,t):o:null;if(i&&(a.isLegacy||hg(i,n,!!s,!!l))){a.isLegacy=!0;var c=pg(i,n,!t);!s&&c.textConfig&&(s=c.textConfig),!l&&c.textContent&&(l=c.textContent)}if(!t&&l){var d=l;!d.type&&(d.type="text")}var u=t?a[t]:a.normal;u.cfg=s,u.conOpt=l}function v_(e,t){return t?e?e[t]:null:e}function b_(e,t,a){var r=t&&t.style;return null==r&&a===Ug&&e&&(r=e.styleEmphasis),r}function y_(e,t,a,r,i){var n=r.children,s=n?n.length:0,o=r.$mergeChildren,l="byName"===o||r.diffChildrenByName,c=!1===o;if(s||l||c)if(l)k_({api:e,oldChildren:t.children()||[],newChildren:n||[],dataIndex:a,seriesModel:i,group:t});else{c&&t.removeAll();for(var d=0;d<s;d++)n[d]&&p_(e,t.childAt(d),a,n[d],i,t);for(var u=t.childCount()-1;u>=d;u--){var h=t.childAt(u);Cg(h,eg(t).option,i)}}}function k_(e){new io["a"](e.oldChildren,e.newChildren,x_,x_,e).add(w_).update(w_).remove(S_).execute()}function x_(e,t){var a=e&&e.name;return null!=a?a:Zg+t}function w_(e,t){var a=this.context,r=null!=e?a.newChildren[e]:null,i=null!=t?a.oldChildren[t]:null;p_(a.api,i,a.dataIndex,r,a.seriesModel,a.group)}function S_(e){var t=this.context,a=t.oldChildren[e];Cg(a,eg(a).option,t.seriesModel)}function C_(e){return e&&(e.pathData||e.d)}function O_(e){return e&&(Object(U["hasOwn"])(e,"pathData")||Object(U["hasOwn"])(e,"d"))}function T_(e){e.registerChartView(i_),e.registerSeriesModel(ag)}var j_=a("52ed"),I_=a("e015"),A_=a("7a07"),D_=a("43e2"),M_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(vt["a"])(t,e),t.prototype.makeElOption=function(e,t,a,r,i){var n=a.axis;"angle"===n.dim&&(this.animationThreshold=Math.PI/18);var s=n.polar,o=s.getOtherAxis(n),l=o.getExtent(),c=n.dataToCoord(t),d=r.get("type");if(d&&"none"!==d){var u=D_["b"](r),h=R_[d](n,s,c,l);h.style=u,e.graphicKey=h.type,e.pointer=h}var p=r.get(["label","margin"]),f=E_(t,a,r,s,p);D_["c"](e,a,r,i,f)},t}(A_["a"]);function E_(e,t,a,r,i){var n=t.axis,s=n.dataToCoord(e),o=r.getAngleAxis().getExtent()[0];o=o/180*Math.PI;var l,c,d,u=r.getRadiusAxis().getExtent();if("radius"===n.dim){var h=Zr["create"]();Zr["rotate"](h,h,o),Zr["translate"](h,h,[r.cx,r.cy]),l=Ot["applyTransform"]([s,-i],h);var p=t.getModel("axisLabel").get("rotate")||0,f=pr["a"].innerTextLayout(o,p*Math.PI/180,-1);c=f.textAlign,d=f.textVerticalAlign}else{var m=u[1];l=r.coordToPoint([m+i,s]);var g=r.cx,_=r.cy;c=Math.abs(l[0]-g)/m<.3?"center":l[0]>g?"left":"right",d=Math.abs(l[1]-_)/m<.3?"middle":l[1]>_?"top":"bottom"}return{position:l,align:c,verticalAlign:d}}var R_={line:function(e,t,a,r){return"angle"===e.dim?{type:"Line",shape:D_["f"](t.coordToPoint([r[0],a]),t.coordToPoint([r[1],a]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:a}}},shadow:function(e,t,a,r){var i=Math.max(1,e.getBandWidth()),n=Math.PI/180;return"angle"===e.dim?{type:"Sector",shape:D_["h"](t.cx,t.cy,r[0],r[1],(-a-i/2)*n,(i/2-a)*n)}:{type:"Sector",shape:D_["h"](t.cx,t.cy,a-i/2,a+i/2,0,2*Math.PI)}}},B_=M_,P_=a("78ae"),L_=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.findAxisModel=function(e){var t,a=this.ecModel;return a.eachComponent(e,(function(e){e.getCoordSysModel()===this&&(t=e)}),this),t},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={z:0,center:["50%","50%"],radius:"80%"},t}(lr["a"]),F_=L_,N_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(vt["a"])(t,e),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",qt["b"]).models[0]},t.type="polarAxis",t}(lr["a"]);U["mixin"](N_,or["a"]);var $_=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.type="angleAxis",t}(N_),z_=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.type="radiusAxis",t}(N_),V_=function(e){function t(t,a){return e.call(this,"radius",t,a)||this}return Object(vt["a"])(t,e),t.prototype.pointToData=function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},t}(yr["a"]);V_.prototype.dataToRadius=yr["a"].prototype.dataToCoord,V_.prototype.radiusToData=yr["a"].prototype.coordToData;var U_=V_,H_=Object(qt["o"])(),G_=function(e){function t(t,a){return e.call(this,"angle",t,a||[0,360])||this}return Object(vt["a"])(t,e),t.prototype.pointToData=function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},t.prototype.calculateCategoryInterval=function(){var e=this,t=e.getLabelModel(),a=e.scale,r=a.getExtent(),i=a.count();if(r[1]-r[0]<1)return 0;var n=r[0],s=e.dataToCoord(n+1)-e.dataToCoord(n),o=Math.abs(s),l=E["d"](null==n?"":n+"",t.getFont(),"center","top"),c=Math.max(l.height,7),d=c/o;isNaN(d)&&(d=1/0);var u=Math.max(0,Math.floor(d)),h=H_(e.model),p=h.lastAutoInterval,f=h.lastTickCount;return null!=p&&null!=f&&Math.abs(p-u)<=1&&Math.abs(f-i)<=1&&p>u?u=p:(h.lastTickCount=i,h.lastAutoInterval=u),u},t}(yr["a"]);G_.prototype.dataToAngle=yr["a"].prototype.dataToCoord,G_.prototype.angleToData=yr["a"].prototype.coordToData;var W_=G_,q_=["radius","angle"],X_=function(){function e(e){this.dimensions=q_,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new U_,this._angleAxis=new W_,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return e.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},e.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},e.prototype.getAxis=function(e){var t="_"+e+"Axis";return this[t]},e.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},e.prototype.getAxesByScale=function(e){var t=[],a=this._angleAxis,r=this._radiusAxis;return a.scale.type===e&&t.push(a),r.scale.type===e&&t.push(r),t},e.prototype.getAngleAxis=function(){return this._angleAxis},e.prototype.getRadiusAxis=function(){return this._radiusAxis},e.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},e.prototype.getTooltipAxes=function(e){var t=null!=e&&"auto"!==e?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},e.prototype.dataToPoint=function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},e.prototype.pointToData=function(e,t){var a=this.pointToCoord(e);return[this._radiusAxis.radiusToData(a[0],t),this._angleAxis.angleToData(a[1],t)]},e.prototype.pointToCoord=function(e){var t=e[0]-this.cx,a=e[1]-this.cy,r=this.getAngleAxis(),i=r.getExtent(),n=Math.min(i[0],i[1]),s=Math.max(i[0],i[1]);r.inverse?n=s-360:s=n+360;var o=Math.sqrt(t*t+a*a);t/=o,a/=o;var l=Math.atan2(-a,t)/Math.PI*180,c=l<n?1:-1;while(l<n||l>s)l+=360*c;return[o,l]},e.prototype.coordToPoint=function(e){var t=e[0],a=e[1]/180*Math.PI,r=Math.cos(a)*t+this.cx,i=-Math.sin(a)*t+this.cy;return[r,i]},e.prototype.getArea=function(){var e=this.getAngleAxis(),t=this.getRadiusAxis(),a=t.getExtent().slice();a[0]>a[1]&&a.reverse();var r=e.getExtent(),i=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:a[0],r:a[1],startAngle:-r[0]*i,endAngle:-r[1]*i,clockwise:e.inverse,contain:function(e,t){var a=e-this.cx,r=t-this.cy,i=a*a+r*r-1e-4,n=this.r,s=this.r0;return i<=n*n&&i>=s*s}}},e.prototype.convertToPixel=function(e,t,a){var r=Y_(t);return r===this?this.dataToPoint(a):null},e.prototype.convertFromPixel=function(e,t,a){var r=Y_(t);return r===this?this.pointToData(a):null},e}();function Y_(e){var t=e.seriesModel,a=e.polarModel;return a&&a.coordinateSystem||t&&t.coordinateSystem}var K_=X_;function Z_(e,t,a){var r=t.get("center"),i=a.getWidth(),n=a.getHeight();e.cx=Object(Sr["p"])(r[0],i),e.cy=Object(Sr["p"])(r[1],n);var s=e.getRadiusAxis(),o=Math.min(i,n)/2,l=t.get("radius");null==l?l=[0,"100%"]:U["isArray"](l)||(l=[0,l]);var c=[Object(Sr["p"])(l[0],o),Object(Sr["p"])(l[1],o)];s.inverse?s.setExtent(c[1],c[0]):s.setExtent(c[0],c[1])}function J_(e,t){var a=this,r=a.getAngleAxis(),i=a.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),e.eachSeries((function(e){if(e.coordinateSystem===a){var t=e.getData();U["each"](Object(Wd["d"])(t,"radius"),(function(e){i.scale.unionExtentFromData(t,e)})),U["each"](Object(Wd["d"])(t,"angle"),(function(e){r.scale.unionExtentFromData(t,e)}))}})),Object(Wd["i"])(r.scale,r.model),Object(Wd["i"])(i.scale,i.model),"category"===r.type&&!r.onBand){var n=r.getExtent(),s=360/r.scale.count();r.inverse?n[1]+=s:n[1]-=s,r.setExtent(n[0],n[1])}}function Q_(e){return"angleAxis"===e.mainType}function ev(e,t){if(e.type=t.get("type"),e.scale=Object(Wd["a"])(t),e.onBand=t.get("boundaryGap")&&"category"===e.type,e.inverse=t.get("inverse"),Q_(t)){e.inverse=e.inverse!==t.get("clockwise");var a=t.get("startAngle");e.setExtent(a,a+(e.inverse?-360:360))}t.axis=e,e.model=t}var tv={dimensions:q_,create:function(e,t){var a=[];return e.eachComponent("polar",(function(e,r){var i=new K_(r+"");i.update=J_;var n=i.getRadiusAxis(),s=i.getAngleAxis(),o=e.findAxisModel("radiusAxis"),l=e.findAxisModel("angleAxis");ev(n,o),ev(s,l),Z_(i,e,t),a.push(i),e.coordinateSystem=i,i.model=e})),e.eachSeries((function(e){if("polar"===e.get("coordinateSystem")){var t=e.getReferringComponents("polar",qt["b"]).models[0];0,e.coordinateSystem=t.coordinateSystem}})),a}},av=tv,rv=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function iv(e,t,a){t[1]>t[0]&&(t=t.slice().reverse());var r=e.coordToPoint([t[0],a]),i=e.coordToPoint([t[1],a]);return{x1:r[0],y1:r[1],x2:i[0],y2:i[1]}}function nv(e){var t=e.getRadiusAxis();return t.inverse?0:1}function sv(e){var t=e[0],a=e[e.length-1];t&&a&&Math.abs(Math.abs(t.coord-a.coord)-360)<1e-4&&e.pop()}var ov=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.axisPointerClass="PolarAxisPointer",a}return Object(vt["a"])(t,e),t.prototype.render=function(e,t){if(this.group.removeAll(),e.get("show")){var a=e.axis,r=a.polar,i=r.getRadiusAxis().getExtent(),n=a.getTicksCoords(),s=a.getMinorTicksCoords(),o=U["map"](a.getViewLabels(),(function(e){e=U["clone"](e);var t=a.scale,r="ordinal"===t.type?t.getRawOrdinalNumber(e.tickValue):e.tickValue;return e.coord=a.dataToCoord(r),e}));sv(o),sv(n),U["each"](rv,(function(t){!e.get([t,"show"])||a.scale.isBlank()&&"axisLine"!==t||lv[t](this.group,e,r,n,s,i,o)}),this)}},t.type="angleAxis",t}(I_["a"]),lv={axisLine:function(e,t,a,r,i,n){var s,o=t.getModel(["axisLine","lineStyle"]),l=nv(a),c=l?0:1;s=0===n[c]?new fr["a"]({shape:{cx:a.cx,cy:a.cy,r:n[l]},style:o.getLineStyle(),z2:1,silent:!0}):new mr["a"]({shape:{cx:a.cx,cy:a.cy,r:n[l],r0:n[c]},style:o.getLineStyle(),z2:1,silent:!0}),s.style.fill=null,e.add(s)},axisTick:function(e,t,a,r,i,n){var s=t.getModel("axisTick"),o=(s.get("inside")?-1:1)*s.get("length"),l=n[nv(a)],c=U["map"](r,(function(e){return new Kr["a"]({shape:iv(a,[l,l+o],e.coord)})}));e.add(Ot["mergePath"](c,{style:U["defaults"](s.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(e,t,a,r,i,n){if(i.length){for(var s=t.getModel("axisTick"),o=t.getModel("minorTick"),l=(s.get("inside")?-1:1)*o.get("length"),c=n[nv(a)],d=[],u=0;u<i.length;u++)for(var h=0;h<i[u].length;h++)d.push(new Kr["a"]({shape:iv(a,[c,c+l],i[u][h].coord)}));e.add(Ot["mergePath"](d,{style:U["defaults"](o.getModel("lineStyle").getLineStyle(),U["defaults"](s.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(e,t,a,r,i,n,s){var o=t.getCategories(!0),l=t.getModel("axisLabel"),c=l.get("margin"),d=t.get("triggerEvent");U["each"](s,(function(r,i){var s=l,u=r.tickValue,h=n[nv(a)],p=a.coordToPoint([h+c,r.coord]),f=a.cx,m=a.cy,g=Math.abs(p[0]-f)/h<.3?"center":p[0]>f?"left":"right",_=Math.abs(p[1]-m)/h<.3?"middle":p[1]>m?"top":"bottom";if(o&&o[u]){var v=o[u];U["isObject"](v)&&v.textStyle&&(s=new sr["a"](v.textStyle,l,l.ecModel))}var b=new we["a"]({silent:pr["a"].isLabelSilent(t),style:Object(At["c"])(s,{x:p[0],y:p[1],fill:s.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:r.formattedLabel,align:g,verticalAlign:_})});if(e.add(b),d){var y=pr["a"].makeAxisEventDataBase(t);y.targetType="axisLabel",y.value=r.rawLabel,Object(Tt["a"])(b).eventData=y}}),this)},splitLine:function(e,t,a,r,i,n){var s=t.getModel("splitLine"),o=s.getModel("lineStyle"),l=o.get("color"),c=0;l=l instanceof Array?l:[l];for(var d=[],u=0;u<r.length;u++){var h=c++%l.length;d[h]=d[h]||[],d[h].push(new Kr["a"]({shape:iv(a,n,r[u].coord)}))}for(u=0;u<d.length;u++)e.add(Ot["mergePath"](d[u],{style:U["defaults"]({stroke:l[u%l.length]},o.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(e,t,a,r,i,n){if(i.length){for(var s=t.getModel("minorSplitLine"),o=s.getModel("lineStyle"),l=[],c=0;c<i.length;c++)for(var d=0;d<i[c].length;d++)l.push(new Kr["a"]({shape:iv(a,n,i[c][d].coord)}));e.add(Ot["mergePath"](l,{style:o.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(e,t,a,r,i,n){if(r.length){var s=t.getModel("splitArea"),o=s.getModel("areaStyle"),l=o.get("color"),c=0;l=l instanceof Array?l:[l];for(var d=[],u=Math.PI/180,h=-r[0].coord*u,p=Math.min(n[0],n[1]),f=Math.max(n[0],n[1]),m=t.get("clockwise"),g=1,_=r.length;g<=_;g++){var v=g===_?r[0].coord:r[g].coord,b=c++%l.length;d[b]=d[b]||[],d[b].push(new Zc["a"]({shape:{cx:a.cx,cy:a.cy,r0:p,r:f,startAngle:h,endAngle:-v*u,clockwise:m},silent:!0})),h=-v*u}for(g=0;g<d.length;g++)e.add(Ot["mergePath"](d[g],{style:U["defaults"]({fill:l[g%l.length]},o.getAreaStyle()),silent:!0}))}}},cv=ov,dv=["axisLine","axisTickLabel","axisName"],uv=["splitLine","splitArea","minorSplitLine"],hv=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.axisPointerClass="PolarAxisPointer",a}return Object(vt["a"])(t,e),t.prototype.render=function(e,t){if(this.group.removeAll(),e.get("show")){var a=this._axisGroup,r=this._axisGroup=new xt["a"];this.group.add(r);var i=e.axis,n=i.polar,s=n.getAngleAxis(),o=i.getTicksCoords(),l=i.getMinorTicksCoords(),c=s.getExtent()[0],d=i.getExtent(),u=fv(n,e,c),h=new pr["a"](e,u);U["each"](dv,h.add,h),r.add(h.getGroup()),Ot["groupTransition"](a,r,e),U["each"](uv,(function(t){e.get([t,"show"])&&!i.scale.isBlank()&&pv[t](this.group,e,n,c,d,o,l)}),this)}},t.type="radiusAxis",t}(I_["a"]),pv={splitLine:function(e,t,a,r,i,n){var s=t.getModel("splitLine"),o=s.getModel("lineStyle"),l=o.get("color"),c=0;l=l instanceof Array?l:[l];for(var d=[],u=0;u<n.length;u++){var h=c++%l.length;d[h]=d[h]||[],d[h].push(new fr["a"]({shape:{cx:a.cx,cy:a.cy,r:Math.max(n[u].coord,0)}}))}for(u=0;u<d.length;u++)e.add(Ot["mergePath"](d[u],{style:U["defaults"]({stroke:l[u%l.length],fill:null},o.getLineStyle()),silent:!0}))},minorSplitLine:function(e,t,a,r,i,n,s){if(s.length){for(var o=t.getModel("minorSplitLine"),l=o.getModel("lineStyle"),c=[],d=0;d<s.length;d++)for(var u=0;u<s[d].length;u++)c.push(new fr["a"]({shape:{cx:a.cx,cy:a.cy,r:s[d][u].coord}}));e.add(Ot["mergePath"](c,{style:U["defaults"]({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(e,t,a,r,i,n){if(n.length){var s=t.getModel("splitArea"),o=s.getModel("areaStyle"),l=o.get("color"),c=0;l=l instanceof Array?l:[l];for(var d=[],u=n[0].coord,h=1;h<n.length;h++){var p=c++%l.length;d[p]=d[p]||[],d[p].push(new Zc["a"]({shape:{cx:a.cx,cy:a.cy,r0:u,r:n[h].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),u=n[h].coord}for(h=0;h<d.length;h++)e.add(Ot["mergePath"](d[h],{style:U["defaults"]({fill:l[h%l.length]},o.getAreaStyle()),silent:!0}))}}};function fv(e,t,a){return{position:[e.cx,e.cy],rotation:a/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}var mv=hv;function gv(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function _v(e,t){return t.dim+e.model.componentIndex}function vv(e,t,a){var r={},i=bv(U["filter"](t.getSeriesByType(e),(function(e){return!t.isSeriesFiltered(e)&&e.coordinateSystem&&"polar"===e.coordinateSystem.type})));t.eachSeriesByType(e,(function(e){if("polar"===e.coordinateSystem.type){var t=e.getData(),a=e.coordinateSystem,n=a.getBaseAxis(),s=_v(a,n),o=gv(e),l=i[s][o],c=l.offset,d=l.width,u=a.getOtherAxis(n),h=e.coordinateSystem.cx,p=e.coordinateSystem.cy,f=e.get("barMinHeight")||0,m=e.get("barMinAngle")||0;r[o]=r[o]||[];for(var g=t.mapDimension(u.dim),_=t.mapDimension(n.dim),v=Object(Nt["c"])(t,g),b="radius"!==n.dim||!e.get("roundCap",!0),y=u.dataToCoord(0),k=0,x=t.count();k<x;k++){var w=t.get(g,k),S=t.get(_,k),C=w>=0?"p":"n",O=y;v&&(r[o][S]||(r[o][S]={p:y,n:y}),O=r[o][S][C]);var T=void 0,j=void 0,I=void 0,A=void 0;if("radius"===u.dim){var D=u.dataToCoord(w)-y,M=n.dataToCoord(S);Math.abs(D)<f&&(D=(D<0?-1:1)*f),T=O,j=O+D,I=M-c,A=I-d,v&&(r[o][S][C]=j)}else{var E=u.dataToCoord(w,b)-y,R=n.dataToCoord(S);Math.abs(E)<m&&(E=(E<0?-1:1)*m),T=R+c,j=T+d,I=O,A=O+E,v&&(r[o][S][C]=A)}t.setItemLayout(k,{cx:h,cy:p,r0:T,r:j,startAngle:-I*Math.PI/180,endAngle:-A*Math.PI/180,clockwise:I>=A})}}}))}function bv(e){var t={};U["each"](e,(function(e,a){var r=e.getData(),i=e.coordinateSystem,n=i.getBaseAxis(),s=_v(i,n),o=n.getExtent(),l="category"===n.type?n.getBandWidth():Math.abs(o[1]-o[0])/r.count(),c=t[s]||{bandWidth:l,remainedWidth:l,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},d=c.stacks;t[s]=c;var u=gv(e);d[u]||c.autoWidthCount++,d[u]=d[u]||{width:0,maxWidth:0};var h=Object(Sr["p"])(e.get("barWidth"),l),p=Object(Sr["p"])(e.get("barMaxWidth"),l),f=e.get("barGap"),m=e.get("barCategoryGap");h&&!d[u].width&&(h=Math.min(c.remainedWidth,h),d[u].width=h,c.remainedWidth-=h),p&&(d[u].maxWidth=p),null!=f&&(c.gap=f),null!=m&&(c.categoryGap=m)}));var a={};return U["each"](t,(function(e,t){a[t]={};var r=e.stacks,i=e.bandWidth,n=Object(Sr["p"])(e.categoryGap,i),s=Object(Sr["p"])(e.gap,1),o=e.remainedWidth,l=e.autoWidthCount,c=(o-n)/(l+(l-1)*s);c=Math.max(c,0),U["each"](r,(function(e,t){var a=e.maxWidth;a&&a<c&&(a=Math.min(a,o),e.width&&(a=Math.min(a,e.width)),o-=a,e.width=a,l--)})),c=(o-n)/(l+(l-1)*s),c=Math.max(c,0);var d,u=0;U["each"](r,(function(e,t){e.width||(e.width=c),d=e,u+=e.width*(1+s)})),d&&(u-=d.width*s);var h=-u/2;U["each"](r,(function(e,r){a[t][r]=a[t][r]||{offset:h,width:e.width},h+=e.width*(1+s)}))})),a}var yv=vv,kv={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},xv={splitNumber:5},wv=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.type="polar",t}(gr["a"]);function Sv(e){Object(T["a"])(P_["a"]),I_["a"].registerAxisPointerClass("PolarAxisPointer",B_),e.registerCoordinateSystem("polar",av),e.registerComponentModel(F_),e.registerComponentView(wv),Object(pu["a"])(e,"angle",$_,kv),Object(pu["a"])(e,"radius",z_,xv),e.registerComponentView(cv),e.registerComponentView(mv),e.registerLayout(Object(U["curry"])(yv,"bar"))}function Cv(e,t){t=t||{};var a=e.coordinateSystem,r=e.axis,i={},n=r.position,s=r.orient,o=a.getRect(),l=[o.x,o.x+o.width,o.y,o.y+o.height],c={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};i.position=["vertical"===s?c.vertical[n]:l[0],"horizontal"===s?c.horizontal[n]:l[3]];var d={horizontal:0,vertical:1};i.rotation=Math.PI/2*d[s];var u={top:-1,bottom:1,right:1,left:-1};i.labelDirection=i.tickDirection=i.nameDirection=u[n],e.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),U["retrieve"](t.labelInside,e.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var h=t.rotate;return null==h&&(h=e.get(["axisLabel","rotate"])),i.labelRotation="top"===n?-h:h,i.z2=1,i}var Ov=a("c43b"),Tv=["axisLine","axisTickLabel","axisName"],jv=["splitArea","splitLine"],Iv=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.axisPointerClass="SingleAxisPointer",a}return Object(vt["a"])(t,e),t.prototype.render=function(t,a,r,i){var n=this.group;n.removeAll();var s=this._axisGroup;this._axisGroup=new xt["a"];var o=Cv(t),l=new pr["a"](t,o);U["each"](Tv,l.add,l),n.add(this._axisGroup),n.add(l.getGroup()),U["each"](jv,(function(e){t.get([e,"show"])&&Av[e](this,this.group,this._axisGroup,t)}),this),Ot["groupTransition"](s,this._axisGroup,t),e.prototype.render.call(this,t,a,r,i)},t.prototype.remove=function(){Object(Ov["b"])(this)},t.type="singleAxis",t}(I_["a"]),Av={splitLine:function(e,t,a,r){var i=r.axis;if(!i.scale.isBlank()){var n=r.getModel("splitLine"),s=n.getModel("lineStyle"),o=s.get("color");o=o instanceof Array?o:[o];for(var l=r.coordinateSystem.getRect(),c=i.isHorizontal(),d=[],u=0,h=i.getTicksCoords({tickModel:n}),p=[],f=[],m=0;m<h.length;++m){var g=i.toGlobalCoord(h[m].coord);c?(p[0]=g,p[1]=l.y,f[0]=g,f[1]=l.y+l.height):(p[0]=l.x,p[1]=g,f[0]=l.x+l.width,f[1]=g);var _=u++%o.length;d[_]=d[_]||[],d[_].push(new Kr["a"]({subPixelOptimize:!0,shape:{x1:p[0],y1:p[1],x2:f[0],y2:f[1]},silent:!0}))}var v=s.getLineStyle(["color"]);for(m=0;m<d.length;++m)t.add(Ot["mergePath"](d[m],{style:U["defaults"]({stroke:o[m%o.length]},v),silent:!0}))}},splitArea:function(e,t,a,r){Object(Ov["a"])(e,a,r,r)}},Dv=Iv,Mv=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},t}(lr["a"]);Object(U["mixin"])(Mv,or["a"].prototype);var Ev=Mv,Rv=function(e){function t(t,a,r,i,n){var s=e.call(this,t,a,r)||this;return s.type=i||"value",s.position=n||"bottom",s}return Object(vt["a"])(t,e),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.pointToData=function(e,t){return this.coordinateSystem.pointToData(e)[0]},t}(yr["a"]),Bv=Rv,Pv=["single"],Lv=function(){function e(e,t,a){this.type="single",this.dimension="single",this.dimensions=Pv,this.axisPointerEnabled=!0,this.model=e,this._init(e,t,a)}return e.prototype._init=function(e,t,a){var r=this.dimension,i=new Bv(r,Wd["a"](e),[0,0],e.get("type"),e.get("position")),n="category"===i.type;i.onBand=n&&e.get("boundaryGap"),i.inverse=e.get("inverse"),i.orient=e.get("orient"),e.axis=i,i.model=e,i.coordinateSystem=this,this._axis=i},e.prototype.update=function(e,t){e.eachSeries((function(e){if(e.coordinateSystem===this){var t=e.getData();Object(U["each"])(t.mapDimensionsAll(this.dimension),(function(e){this._axis.scale.unionExtentFromData(t,e)}),this),Wd["i"](this._axis.scale,this._axis.model)}}),this)},e.prototype.resize=function(e,t){this._rect=Object(Mn["g"])({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},e.prototype.getRect=function(){return this._rect},e.prototype._adjustAxis=function(){var e=this._rect,t=this._axis,a=t.isHorizontal(),r=a?[0,e.width]:[0,e.height],i=t.reverse?1:0;t.setExtent(r[i],r[1-i]),this._updateAxisTransform(t,a?e.x:e.y)},e.prototype._updateAxisTransform=function(e,t){var a=e.getExtent(),r=a[0]+a[1],i=e.isHorizontal();e.toGlobalCoord=i?function(e){return e+t}:function(e){return r-e+t},e.toLocalCoord=i?function(e){return e-t}:function(e){return r-e+t}},e.prototype.getAxis=function(){return this._axis},e.prototype.getBaseAxis=function(){return this._axis},e.prototype.getAxes=function(){return[this._axis]},e.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},e.prototype.containPoint=function(e){var t=this.getRect(),a=this.getAxis(),r=a.orient;return"horizontal"===r?a.contain(a.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:a.contain(a.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},e.prototype.pointToData=function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e["horizontal"===t.orient?0:1]))]},e.prototype.dataToPoint=function(e){var t=this.getAxis(),a=this.getRect(),r=[],i="horizontal"===t.orient?0:1;return e instanceof Array&&(e=e[0]),r[i]=t.toGlobalCoord(t.dataToCoord(+e)),r[1-i]=0===i?a.y+a.height/2:a.x+a.width/2,r},e.prototype.convertToPixel=function(e,t,a){var r=Fv(t);return r===this?this.dataToPoint(a):null},e.prototype.convertFromPixel=function(e,t,a){var r=Fv(t);return r===this?this.pointToData(a):null},e}();function Fv(e){var t=e.seriesModel,a=e.singleAxisModel;return a&&a.coordinateSystem||t&&t.coordinateSystem}var Nv=Lv;function $v(e,t){var a=[];return e.eachComponent("singleAxis",(function(r,i){var n=new Nv(r,e,t);n.name="single_"+i,n.resize(r,t),r.coordinateSystem=n,a.push(n)})),e.eachSeries((function(e){if("singleAxis"===e.get("coordinateSystem")){var t=e.getReferringComponents("singleAxis",qt["b"]).models[0];e.coordinateSystem=t&&t.coordinateSystem}})),a}var zv={create:$v,dimensions:Pv},Vv=zv,Uv=["x","y"],Hv=["width","height"],Gv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(vt["a"])(t,e),t.prototype.makeElOption=function(e,t,a,r,i){var n=a.axis,s=n.coordinateSystem,o=Xv(s,1-qv(n)),l=s.dataToPoint(t)[0],c=r.get("type");if(c&&"none"!==c){var d=D_["b"](r),u=Wv[c](n,l,o);u.style=d,e.graphicKey=u.type,e.pointer=u}var h=Cv(a);D_["a"](t,e,h,a,r,i)},t.prototype.getHandleTransform=function(e,t,a){var r=Cv(t,{labelInside:!1});r.labelMargin=a.get(["handle","margin"]);var i=D_["d"](t.axis,e,r);return{x:i[0],y:i[1],rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,t,a,r){var i=a.axis,n=i.coordinateSystem,s=qv(i),o=Xv(n,s),l=[e.x,e.y];l[s]+=t[s],l[s]=Math.min(o[1],l[s]),l[s]=Math.max(o[0],l[s]);var c=Xv(n,1-s),d=(c[1]+c[0])/2,u=[d,d];return u[s]=l[s],{x:l[0],y:l[1],rotation:e.rotation,cursorPoint:u,tooltipOption:{verticalAlign:"middle"}}},t}(A_["a"]),Wv={line:function(e,t,a){var r=D_["f"]([t,a[0]],[t,a[1]],qv(e));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(e,t,a){var r=e.getBandWidth(),i=a[1]-a[0];return{type:"Rect",shape:D_["g"]([t-r/2,a[0]],[r,i],qv(e))}}};function qv(e){return e.isHorizontal()?0:1}function Xv(e,t){var a=e.getRect();return[a[Uv[t]],a[Uv[t]]+a[Hv[t]]]}var Yv=Gv,Kv=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.type="single",t}(gr["a"]);function Zv(e){Object(T["a"])(P_["a"]),I_["a"].registerAxisPointerClass("SingleAxisPointer",Yv),e.registerComponentView(Kv),e.registerComponentView(Dv),e.registerComponentModel(Ev),Object(pu["a"])(e,"single",Ev,Ev.defaultOption),e.registerCoordinateSystem("single",Vv)}var Jv=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.init=function(t,a,r){var i=Object(Mn["f"])(t);e.prototype.init.apply(this,arguments),Qv(t,i)},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),Qv(this.option,t)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}(lr["a"]);function Qv(e,t){var a,r=e.cellSize;a=U["isArray"](r)?r:e.cellSize=[r,r],1===a.length&&(a[1]=a[0]);var i=U["map"]([0,1],(function(e){return Object(Mn["j"])(t,e)&&(a[e]="auto"),null!=a[e]&&"auto"!==a[e]}));Object(Mn["h"])(e,t,{type:"box",ignoreSize:i})}var eb=Jv,tb=a("1ff7a"),ab=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.render=function(e,t,a){var r=this.group;r.removeAll();var i=e.coordinateSystem,n=i.getRangeInfo(),s=i.getOrient(),o=t.getLocaleModel();this._renderDayRect(e,n,r),this._renderLines(e,n,s,r),this._renderYearText(e,n,s,r),this._renderMonthText(e,o,s,r),this._renderWeekText(e,o,n,s,r)},t.prototype._renderDayRect=function(e,t,a){for(var r=e.coordinateSystem,i=e.getModel("itemStyle").getItemStyle(),n=r.getCellWidth(),s=r.getCellHeight(),o=t.start.time;o<=t.end.time;o=r.getNextNDay(o,1).time){var l=r.dataToRect([o],!1).tl,c=new Xr["a"]({shape:{x:l[0],y:l[1],width:n,height:s},cursor:"default",style:i});a.add(c)}},t.prototype._renderLines=function(e,t,a,r){var i=this,n=e.coordinateSystem,s=e.getModel(["splitLine","lineStyle"]).getLineStyle(),o=e.get(["splitLine","show"]),l=s.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var c=t.start,d=0;c.time<=t.end.time;d++){h(c.formatedDate),0===d&&(c=n.getDateInfo(t.start.y+"-"+t.start.m));var u=c.date;u.setMonth(u.getMonth()+1),c=n.getDateInfo(u)}function h(t){i._firstDayOfMonth.push(n.getDateInfo(t)),i._firstDayPoints.push(n.dataToRect([t],!1).tl);var l=i._getLinePointsOfOneWeek(e,t,a);i._tlpoints.push(l[0]),i._blpoints.push(l[l.length-1]),o&&i._drawSplitline(l,s,r)}h(n.getNextNDay(t.end.time,1).formatedDate),o&&this._drawSplitline(i._getEdgesPoints(i._tlpoints,l,a),s,r),o&&this._drawSplitline(i._getEdgesPoints(i._blpoints,l,a),s,r)},t.prototype._getEdgesPoints=function(e,t,a){var r=[e[0].slice(),e[e.length-1].slice()],i="horizontal"===a?0:1;return r[0][i]=r[0][i]-t/2,r[1][i]=r[1][i]+t/2,r},t.prototype._drawSplitline=function(e,t,a){var r=new Za["a"]({z2:20,shape:{points:e},style:t});a.add(r)},t.prototype._getLinePointsOfOneWeek=function(e,t,a){for(var r=e.coordinateSystem,i=r.getDateInfo(t),n=[],s=0;s<7;s++){var o=r.getNextNDay(i.time,s),l=r.dataToRect([o.time],!1);n[2*o.day]=l.tl,n[2*o.day+1]=l["horizontal"===a?"bl":"tr"]}return n},t.prototype._formatterLabel=function(e,t){return Object(U["isString"])(e)&&e?Object(sa["g"])(e,t):Object(U["isFunction"])(e)?e(t):t.nameMap},t.prototype._yearTextPositionControl=function(e,t,a,r,i){var n=t[0],s=t[1],o=["center","bottom"];"bottom"===r?(s+=i,o=["center","top"]):"left"===r?n-=i:"right"===r?(n+=i,o=["center","top"]):s-=i;var l=0;return"left"!==r&&"right"!==r||(l=Math.PI/2),{rotation:l,x:n,y:s,style:{align:o[0],verticalAlign:o[1]}}},t.prototype._renderYearText=function(e,t,a,r){var i=e.getModel("yearLabel");if(i.get("show")){var n=i.get("margin"),s=i.get("position");s||(s="horizontal"!==a?"top":"left");var o=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],l=(o[0][0]+o[1][0])/2,c=(o[0][1]+o[1][1])/2,d="horizontal"===a?0:1,u={top:[l,o[d][1]],bottom:[l,o[1-d][1]],left:[o[1-d][0],c],right:[o[d][0],c]},h=t.start.y;+t.end.y>+t.start.y&&(h=h+"-"+t.end.y);var p=i.get("formatter"),f={start:t.start.y,end:t.end.y,nameMap:h},m=this._formatterLabel(p,f),g=new we["a"]({z2:30,style:Object(At["c"])(i,{text:m})});g.attr(this._yearTextPositionControl(g,u[s],a,s,n)),r.add(g)}},t.prototype._monthTextPositionControl=function(e,t,a,r,i){var n="left",s="top",o=e[0],l=e[1];return"horizontal"===a?(l+=i,t&&(n="center"),"start"===r&&(s="bottom")):(o+=i,t&&(s="middle"),"start"===r&&(n="right")),{x:o,y:l,align:n,verticalAlign:s}},t.prototype._renderMonthText=function(e,t,a,r){var i=e.getModel("monthLabel");if(i.get("show")){var n=i.get("nameMap"),s=i.get("margin"),o=i.get("position"),l=i.get("align"),c=[this._tlpoints,this._blpoints];n&&!Object(U["isString"])(n)||(n&&(t=Object(tb["d"])(n)||t),n=t.get(["time","monthAbbr"])||[]);var d="start"===o?0:1,u="horizontal"===a?0:1;s="start"===o?-s:s;for(var h="center"===l,p=0;p<c[d].length-1;p++){var f=c[d][p].slice(),m=this._firstDayOfMonth[p];if(h){var g=this._firstDayPoints[p];f[u]=(g[u]+c[0][p+1][u])/2}var _=i.get("formatter"),v=n[+m.m-1],b={yyyy:m.y,yy:(m.y+"").slice(2),MM:m.m,M:+m.m,nameMap:v},y=this._formatterLabel(_,b),k=new we["a"]({z2:30,style:Object(U["extend"])(Object(At["c"])(i,{text:y}),this._monthTextPositionControl(f,h,a,o,s))});r.add(k)}}},t.prototype._weekTextPositionControl=function(e,t,a,r,i){var n="center",s="middle",o=e[0],l=e[1],c="start"===a;return"horizontal"===t?(o=o+r+(c?1:-1)*i[0]/2,n=c?"right":"left"):(l=l+r+(c?1:-1)*i[1]/2,s=c?"bottom":"top"),{x:o,y:l,align:n,verticalAlign:s}},t.prototype._renderWeekText=function(e,t,a,r,i){var n=e.getModel("dayLabel");if(n.get("show")){var s=e.coordinateSystem,o=n.get("position"),l=n.get("nameMap"),c=n.get("margin"),d=s.getFirstDayOfWeek();if(!l||Object(U["isString"])(l)){l&&(t=Object(tb["d"])(l)||t);var u=t.get(["time","dayOfWeekShort"]);l=u||Object(U["map"])(t.get(["time","dayOfWeekAbbr"]),(function(e){return e[0]}))}var h=s.getNextNDay(a.end.time,7-a.lweek).time,p=[s.getCellWidth(),s.getCellHeight()];c=Object(Sr["p"])(c,Math.min(p[1],p[0])),"start"===o&&(h=s.getNextNDay(a.start.time,-(7+a.fweek)).time,c=-c);for(var f=0;f<7;f++){var m=s.getNextNDay(h,f),g=s.dataToRect([m.time],!1).center,_=f;_=Math.abs((f+d)%7);var v=new we["a"]({z2:30,style:Object(U["extend"])(Object(At["c"])(n,{text:l[_]}),this._weekTextPositionControl(g,r,o,c,p))});i.add(v)}}},t.type="calendar",t}(gr["a"]),rb=ab,ib=864e5,nb=function(){function e(t,a,r){this.type="calendar",this.dimensions=e.dimensions,this.getDimensionsInfo=e.getDimensionsInfo,this._model=t}return e.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},e.prototype.getRangeInfo=function(){return this._rangeInfo},e.prototype.getModel=function(){return this._model},e.prototype.getRect=function(){return this._rect},e.prototype.getCellWidth=function(){return this._sw},e.prototype.getCellHeight=function(){return this._sh},e.prototype.getOrient=function(){return this._orient},e.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},e.prototype.getDateInfo=function(e){e=Sr["o"](e);var t=e.getFullYear(),a=e.getMonth()+1,r=a<10?"0"+a:""+a,i=e.getDate(),n=i<10?"0"+i:""+i,s=e.getDay();return s=Math.abs((s+7-this.getFirstDayOfWeek())%7),{y:t+"",m:r,d:n,day:s,time:e.getTime(),formatedDate:t+"-"+r+"-"+n,date:e}},e.prototype.getNextNDay=function(e,t){return t=t||0,0===t||(e=new Date(this.getDateInfo(e).time),e.setDate(e.getDate()+t)),this.getDateInfo(e)},e.prototype.update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var a=this._rangeInfo.weeks||1,r=["width","height"],i=this._model.getCellSize().slice(),n=this._model.getBoxLayoutParams(),s="horizontal"===this._orient?[a,7]:[7,a];U["each"]([0,1],(function(e){c(i,e)&&(n[r[e]]=i[e]*s[e])}));var o={width:t.getWidth(),height:t.getHeight()},l=this._rect=Mn["g"](n,o);function c(e,t){return null!=e[t]&&"auto"!==e[t]}U["each"]([0,1],(function(e){c(i,e)||(i[e]=l[r[e]]/s[e])})),this._sw=i[0],this._sh=i[1]},e.prototype.dataToPoint=function(e,t){U["isArray"](e)&&(e=e[0]),null==t&&(t=!0);var a=this.getDateInfo(e),r=this._rangeInfo,i=a.formatedDate;if(t&&!(a.time>=r.start.time&&a.time<r.end.time+ib))return[NaN,NaN];var n=a.day,s=this._getRangeInfo([r.start.time,i]).nthWeek;return"vertical"===this._orient?[this._rect.x+n*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]:[this._rect.x+s*this._sw+this._sw/2,this._rect.y+n*this._sh+this._sh/2]},e.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time},e.prototype.dataToRect=function(e,t){var a=this.dataToPoint(e,t);return{contentShape:{x:a[0]-(this._sw-this._lineWidth)/2,y:a[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:a,tl:[a[0]-this._sw/2,a[1]-this._sh/2],tr:[a[0]+this._sw/2,a[1]-this._sh/2],br:[a[0]+this._sw/2,a[1]+this._sh/2],bl:[a[0]-this._sw/2,a[1]+this._sh/2]}},e.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,a=Math.floor((e[1]-this._rect.y)/this._sh)+1,r=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(a,t-1,r):this._getDateByWeeksAndDay(t,a-1,r)},e.prototype.convertToPixel=function(e,t,a){var r=sb(t);return r===this?r.dataToPoint(a):null},e.prototype.convertFromPixel=function(e,t,a){var r=sb(t);return r===this?r.pointToData(a):null},e.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},e.prototype._initRangeOption=function(){var e,t=this._model.get("range");if(U["isArray"](t)&&1===t.length&&(t=t[0]),U["isArray"](t))e=t;else{var a=t.toString();if(/^\d{4}$/.test(a)&&(e=[a+"-01-01",a+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(a)){var r=this.getDateInfo(a),i=r.date;i.setMonth(i.getMonth()+1);var n=this.getNextNDay(i,-1);e=[r.formatedDate,n.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(a)&&(e=[a,a])}if(!e)return t;var s=this._getRangeInfo(e);return s.start.time>s.end.time&&e.reverse(),e},e.prototype._getRangeInfo=function(e){var t,a=[this.getDateInfo(e[0]),this.getDateInfo(e[1])];a[0].time>a[1].time&&(t=!0,a.reverse());var r=Math.floor(a[1].time/ib)-Math.floor(a[0].time/ib)+1,i=new Date(a[0].time),n=i.getDate(),s=a[1].date.getDate();i.setDate(n+r-1);var o=i.getDate();if(o!==s){var l=i.getTime()-a[1].time>0?1:-1;while((o=i.getDate())!==s&&(i.getTime()-a[1].time)*l>0)r-=l,i.setDate(o-l)}var c=Math.floor((r+a[0].day+6)/7),d=t?1-c:c-1;return t&&a.reverse(),{range:[a[0].formatedDate,a[1].formatedDate],start:a[0],end:a[1],allDay:r,weeks:c,nthWeek:d,fweek:a[0].day,lweek:a[1].day}},e.prototype._getDateByWeeksAndDay=function(e,t,a){var r=this._getRangeInfo(a);if(e>r.weeks||0===e&&t<r.fweek||e===r.weeks&&t>r.lweek)return null;var i=7*(e-1)-r.fweek+t,n=new Date(r.start.time);return n.setDate(+r.start.d+i),this.getDateInfo(n)},e.create=function(t,a){var r=[];return t.eachComponent("calendar",(function(i){var n=new e(i,t,a);r.push(n),i.coordinateSystem=n})),t.eachSeries((function(e){"calendar"===e.get("coordinateSystem")&&(e.coordinateSystem=r[e.get("calendarIndex")||0])})),r},e.dimensions=["time","value"],e}();function sb(e){var t=e.calendarModel,a=e.seriesModel,r=t?t.coordinateSystem:a?a.coordinateSystem:null;return r}var ob=nb;function lb(e){e.registerComponentModel(eb),e.registerComponentView(rb),e.registerCoordinateSystem("calendar",ob)}function cb(e,t){var a=e.existing;if(t.id=e.keyInfo.id,!t.type&&a&&(t.type=a.type),null==t.parentId){var r=t.parentOption;r?t.parentId=r.id:a&&(t.parentId=a.parentId)}t.parentOption=null}function db(e,t){var a;return U["each"](t,(function(t){null!=e[t]&&"auto"!==e[t]&&(a=!0)})),a}function ub(e,t,a){var r=U["extend"]({},a),i=e[t],n=a.$action||"merge";"merge"===n?i?(U["merge"](i,r,!0),Object(Mn["h"])(i,r,{ignoreSize:!0}),Object(Mn["c"])(a,i),fb(a,i),fb(a,i,"shape"),fb(a,i,"style"),fb(a,i,"extra"),a.clipPath=i.clipPath):e[t]=r:"replace"===n?e[t]=r:"remove"===n&&i&&(e[t]=null)}var hb=["transition","enterFrom","leaveTo"],pb=hb.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function fb(e,t,a){if(a&&(!e[a]&&t[a]&&(e[a]={}),e=e[a],t=t[a]),e&&t)for(var r=a?hb:pb,i=0;i<r.length;i++){var n=r[i];null==e[n]&&null!=t[n]&&(e[n]=t[n])}}function mb(e,t){if(e&&(e.hv=t.hv=[db(t,["left","right"]),db(t,["top","bottom"])],"group"===e.type)){var a=e,r=t;null==a.width&&(a.width=r.width=0),null==a.height&&(a.height=r.height=0)}}var gb=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.preventAutoZ=!0,a}return Object(vt["a"])(t,e),t.prototype.mergeOption=function(t,a){var r=this.option.elements;this.option.elements=null,e.prototype.mergeOption.call(this,t,a),this.option.elements=r},t.prototype.optionUpdated=function(e,t){var a=this.option,r=(t?a:e).elements,i=a.elements=t?[]:a.elements,n=[];this._flatten(r,n,null);var s=qt["q"](i,n,"normalMerge"),o=this._elOptionsToUpdate=[];U["each"](s,(function(e,t){var a=e.newOption;a&&(o.push(a),cb(e,a),ub(i,t,a),mb(i[t],a))}),this),a.elements=U["filter"](i,(function(e){return e&&delete e.$action,null!=e}))},t.prototype._flatten=function(e,t,a){U["each"](e,(function(e){if(e){a&&(e.parentOption=a),t.push(e);var r=e.children;r&&r.length&&this._flatten(r,t,e),delete e.children}}),this)},t.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e},t.type="graphic",t.defaultOption={elements:[]},t}(lr["a"]),_b={path:null,compoundPath:null,group:xt["a"],image:M["a"],text:we["a"]},vb=qt["o"](),bb=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.init=function(){this._elMap=U["createHashMap"]()},t.prototype.render=function(e,t,a){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,a)},t.prototype._updateElements=function(e){var t=e.useElOptionsToUpdate();if(t){var a=this._elMap,r=this.group,i=e.get("z"),n=e.get("zlevel");U["each"](t,(function(t){var s=qt["e"](t.id,null),o=null!=s?a.get(s):null,l=qt["e"](t.parentId,null),c=null!=l?a.get(l):r,d=t.type,u=t.style;"text"===d&&u&&t.hv&&t.hv[1]&&(u.textVerticalAlign=u.textBaseline=u.verticalAlign=u.align=null);var h=t.textContent,p=t.textConfig;if(u&&hg(u,d,!!p,!!h)){var f=pg(u,d,!0);!p&&f.textConfig&&(p=t.textConfig=f.textConfig),!h&&f.textContent&&(h=f.textContent)}var m=Sb(t);var g=t.$action||"merge",_="merge"===g,v="replace"===g;if(_){var b=!o,y=o;b?y=kb(s,c,t.type,a):(y&&(vb(y).isNew=!1),zg(y)),y&&(wg(y,m,e,{isInit:b}),wb(y,t,i,n))}else if(v){xb(o,t,a,e);var k=kb(s,c,t.type,a);k&&(wg(k,m,e,{isInit:!0}),wb(k,t,i,n))}else"remove"===g&&(Sg(o,t),xb(o,t,a,e));var x=a.get(s);if(x&&h)if(_){var w=x.getTextContent();w?w.attr(h):x.setTextContent(new we["a"](h))}else v&&x.setTextContent(new we["a"](h));if(x){var S=t.clipPath;if(S){var C=S.type,O=void 0;b=!1;if(_){var T=x.getClipPath();b=!T||vb(T).type!==C,O=b?yb(C):T}else v&&(b=!0,O=yb(C));x.setClipPath(O),wg(O,S,e,{isInit:b}),Vg(O,S.keyframeAnimation,e)}var j=vb(x);x.setTextConfig(p),j.option=t,Cb(x,e,t),Ot["setTooltipConfig"]({el:x,componentModel:e,itemName:x.name,itemTooltipOption:t.tooltip}),Vg(x,t.keyframeAnimation,e)}}))}},t.prototype._relocate=function(e,t){for(var a=e.option.elements,r=this.group,i=this._elMap,n=t.getWidth(),s=t.getHeight(),o=["x","y"],l=0;l<a.length;l++){var c=a[l],d=qt["e"](c.id,null),u=null!=d?i.get(d):null;if(u&&u.isGroup){var h=u.parent,p=h===r,f=vb(u),m=vb(h);f.width=Object(Sr["p"])(f.option.width,p?n:m.width)||0,f.height=Object(Sr["p"])(f.option.height,p?s:m.height)||0}}for(l=a.length-1;l>=0;l--){c=a[l],d=qt["e"](c.id,null),u=null!=d?i.get(d):null;if(u){h=u.parent,m=vb(h);var g=h===r?{width:n,height:s}:{width:m.width,height:m.height},_={},v=Mn["i"](u,c,g,null,{hv:c.hv,boundingMode:c.bounding},_);if(!vb(u).isNew&&v){for(var b=c.transition,y={},k=0;k<o.length;k++){var x=o[k],w=_[x];b&&(Og(b)||U["indexOf"](b,x)>=0)?y[x]=w:u[x]=w}Object(Ct["h"])(u,y,e,0)}else u.attr(_)}}},t.prototype._clear=function(){var e=this,t=this._elMap;t.each((function(a){xb(a,vb(a).option,t,e._lastGraphicModel)})),this._elMap=U["createHashMap"]()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(gr["a"]);function yb(e){var t=U["hasOwn"](_b,e)?_b[e]:Ot["getShapeClass"](e);var a=new t({});return vb(a).type=e,a}function kb(e,t,a,r){var i=yb(a);return t.add(i),r.set(e,i),vb(i).id=e,vb(i).isNew=!0,i}function xb(e,t,a,r){var i=e&&e.parent;i&&("group"===e.type&&e.traverse((function(e){xb(e,t,a,r)})),Cg(e,t,r),a.removeKey(vb(e).id))}function wb(e,t,a,r){e.isGroup||U["each"]([["cursor",Ki["c"].prototype.cursor],["zlevel",r||0],["z",a||0],["z2",0]],(function(a){var r=a[0];U["hasOwn"](t,r)?e[r]=U["retrieve2"](t[r],a[1]):null==e[r]&&(e[r]=a[1])})),U["each"](U["keys"](t),(function(a){if(0===a.indexOf("on")){var r=t[a];e[a]=U["isFunction"](r)?r:null}})),U["hasOwn"](t,"draggable")&&(e.draggable=t.draggable),null!=t.name&&(e.name=t.name),null!=t.id&&(e.id=t.id)}function Sb(e){return e=U["extend"]({},e),U["each"](["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(Mn["a"]),(function(t){delete e[t]})),e}function Cb(e,t,a){var r=Object(Tt["a"])(e).eventData;e.silent||e.ignore||r||(r=Object(Tt["a"])(e).eventData={componentType:"graphic",componentIndex:t.componentIndex,name:e.name}),r&&(r.info=a.info)}function Ob(e){e.registerComponentModel(gb),e.registerComponentView(bb),e.registerPreprocessor((function(e){var t=e.graphic;Object(U["isArray"])(t)?t[0]&&t[0].elements?e.graphic=[e.graphic[0]]:e.graphic=[{elements:t}]:t&&!t.elements&&(e.graphic=[{elements:[t]}])}))}var Tb=["x","y","radius","angle","single"],jb=["cartesian2d","polar","singleAxis"];function Ib(e){var t=e.get("coordinateSystem");return Object(U["indexOf"])(jb,t)>=0}function Ab(e){return e+"Axis"}function Db(e,t){var a,r=Object(U["createHashMap"])(),i=[],n=Object(U["createHashMap"])();e.eachComponent({mainType:"dataZoom",query:t},(function(e){n.get(e.uid)||o(e)}));do{a=!1,e.eachComponent("dataZoom",s)}while(a);function s(e){!n.get(e.uid)&&l(e)&&(o(e),a=!0)}function o(e){n.set(e.uid,!0),i.push(e),c(e)}function l(e){var t=!1;return e.eachTargetAxis((function(e,a){var i=r.get(e);i&&i[a]&&(t=!0)})),t}function c(e){e.eachTargetAxis((function(e,t){(r.get(e)||r.set(e,[]))[t]=!0}))}return i}function Mb(e){var t=e.ecModel,a={infoList:[],infoMap:Object(U["createHashMap"])()};return e.eachTargetAxis((function(e,r){var i=t.getComponent(Ab(e),r);if(i){var n=i.getCoordSysModel();if(n){var s=n.uid,o=a.infoMap.get(s);o||(o={model:n,axisModels:[]},a.infoList.push(o),a.infoMap.set(s,o)),o.axisModels.push(i)}}})),a}var Eb=function(){function e(){this.indexList=[],this.indexMap=[]}return e.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},e}(),Rb=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a._autoThrottle=!0,a._noTarget=!0,a._rangePropMode=["percent","percent"],a}return Object(vt["a"])(t,e),t.prototype.init=function(e,t,a){var r=Bb(e);this.settledOption=r,this.mergeDefaultAndTheme(e,a),this._doInit(r)},t.prototype.mergeOption=function(e){var t=Bb(e);Object(U["merge"])(this.option,e,!0),Object(U["merge"])(this.settledOption,t,!0),this._doInit(t)},t.prototype._doInit=function(e){var t=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var a=this.settledOption;Object(U["each"])([["start","startValue"],["end","endValue"]],(function(e,r){"value"===this._rangePropMode[r]&&(t[e[0]]=a[e[0]]=null)}),this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),t=this._targetAxisInfoMap=Object(U["createHashMap"])(),a=this._fillSpecifiedTargetAxis(t);a?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(t,this._orient)),this._noTarget=!0,t.each((function(e){e.indexList.length&&(this._noTarget=!1)}),this)},t.prototype._fillSpecifiedTargetAxis=function(e){var t=!1;return Object(U["each"])(Tb,(function(a){var r=this.getReferringComponents(Ab(a),qt["a"]);if(r.specified){t=!0;var i=new Eb;Object(U["each"])(r.models,(function(e){i.add(e.componentIndex)})),e.set(a,i)}}),this),t},t.prototype._fillAutoTargetAxisByOrient=function(e,t){var a=this.ecModel,r=!0;if(r){var i="vertical"===t?"y":"x",n=a.findComponents({mainType:i+"Axis"});s(n,i)}if(r){n=a.findComponents({mainType:"singleAxis",filter:function(e){return e.get("orient",!0)===t}});s(n,"single")}function s(t,a){var i=t[0];if(i){var n=new Eb;if(n.add(i.componentIndex),e.set(a,n),r=!1,"x"===a||"y"===a){var s=i.getReferringComponents("grid",qt["b"]).models[0];s&&Object(U["each"])(t,(function(e){i.componentIndex!==e.componentIndex&&s===e.getReferringComponents("grid",qt["b"]).models[0]&&n.add(e.componentIndex)}))}}}r&&Object(U["each"])(Tb,(function(t){if(r){var i=a.findComponents({mainType:Ab(t),filter:function(e){return"category"===e.get("type",!0)}});if(i[0]){var n=new Eb;n.add(i[0].componentIndex),e.set(t,n),r=!1}}}),this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis((function(t){!e&&(e=t)}),this),"y"===e?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var t=this.ecModel.option;this.option.throttle=t.animation&&t.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var t=this._rangePropMode,a=this.get("rangeMode");Object(U["each"])([["start","startValue"],["end","endValue"]],(function(r,i){var n=null!=e[r[0]],s=null!=e[r[1]];n&&!s?t[i]="percent":!n&&s?t[i]="value":a?t[i]=a[i]:n&&(t[i]="percent")}))},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis((function(t,a){null==e&&(e=this.ecModel.getComponent(Ab(t),a))}),this),e},t.prototype.eachTargetAxis=function(e,t){this._targetAxisInfoMap.each((function(a,r){Object(U["each"])(a.indexList,(function(a){e.call(t,r,a)}))}))},t.prototype.getAxisProxy=function(e,t){var a=this.getAxisModel(e,t);if(a)return a.__dzAxisProxy},t.prototype.getAxisModel=function(e,t){var a=this._targetAxisInfoMap.get(e);if(a&&a.indexMap[t])return this.ecModel.getComponent(Ab(e),t)},t.prototype.setRawRange=function(e){var t=this.option,a=this.settledOption;Object(U["each"])([["start","startValue"],["end","endValue"]],(function(r){null==e[r[0]]&&null==e[r[1]]||(t[r[0]]=a[r[0]]=e[r[0]],t[r[1]]=a[r[1]]=e[r[1]])}),this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var t=this.option;Object(U["each"])(["start","startValue","end","endValue"],(function(a){t[a]=e[a]}))},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,t){if(null!=e||null!=t)return this.getAxisProxy(e,t).getDataValueWindow();var a=this.findRepresentativeAxisProxy();return a?a.getDataValueWindow():void 0},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var t,a=this._targetAxisInfoMap.keys(),r=0;r<a.length;r++)for(var i=a[r],n=this._targetAxisInfoMap.get(i),s=0;s<n.indexList.length;s++){var o=this.getAxisProxy(i,n.indexList[s]);if(o.hostedBy(this))return o;t||(t=o)}return t},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(lr["a"]);function Bb(e){var t={};return Object(U["each"])(["start","end","startValue","endValue","throttle"],(function(a){e.hasOwnProperty(a)&&(t[a]=e[a])})),t}var Pb=Rb,Lb=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.type="dataZoom.select",t}(Pb),Fb=Lb,Nb=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.render=function(e,t,a,r){this.dataZoomModel=e,this.ecModel=t,this.api=a},t.type="dataZoom",t}(gr["a"]),$b=Nb,zb=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.type="dataZoom.select",t}($b),Vb=zb,Ub=a("46c2"),Hb=U["each"],Gb=Sr["c"],Wb=function(){function e(e,t,a,r){this._dimName=e,this._axisIndex=t,this.ecModel=r,this._dataZoomModel=a}return e.prototype.hostedBy=function(e){return this._dataZoomModel===e},e.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},e.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},e.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries((function(t){if(Ib(t)){var a=Ab(this._dimName),r=t.getReferringComponents(a,qt["b"]).models[0];r&&this._axisIndex===r.componentIndex&&e.push(t)}}),this),e},e.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},e.prototype.getMinMaxSpan=function(){return U["clone"](this._minMaxSpan)},e.prototype.calculateDataWindow=function(e){var t,a=this._dataExtent,r=this.getAxisModel(),i=r.axis.scale,n=this._dataZoomModel.getRangePropMode(),s=[0,100],o=[],l=[];Hb(["start","end"],(function(r,c){var d=e[r],u=e[r+"Value"];"percent"===n[c]?(null==d&&(d=s[c]),u=i.parse(Sr["l"](d,s,a))):(t=!0,u=null==u?a[c]:i.parse(u),d=Sr["l"](u,a,s)),l[c]=u,o[c]=d})),Gb(l),Gb(o);var c=this._minMaxSpan;function d(e,t,a,r,n){var s=n?"Span":"ValueSpan";Yd(0,e,a,"all",c["min"+s],c["max"+s]);for(var o=0;o<2;o++)t[o]=Sr["l"](e[o],a,r,!0),n&&(t[o]=i.parse(t[o]))}return t?d(l,o,a,s,!1):d(o,l,s,a,!0),{valueWindow:l,percentWindow:o}},e.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=qb(this,this._dimName,t),this._updateMinMaxSpan();var a=this.calculateDataWindow(e.settledOption);this._valueWindow=a.valueWindow,this._percentWindow=a.percentWindow,this._setAxisModel()}},e.prototype.filterData=function(e,t){if(e===this._dataZoomModel){var a=this._dimName,r=this.getTargetSeriesModels(),i=e.get("filterMode"),n=this._valueWindow;"none"!==i&&Hb(r,(function(e){var t=e.getData(),r=t.mapDimensionsAll(a);if(r.length){if("weakFilter"===i){var o=t.getStore(),l=U["map"](r,(function(e){return t.getDimensionIndex(e)}),t);t.filterSelf((function(e){for(var t,a,i,s=0;s<r.length;s++){var c=o.get(l[s],e),d=!isNaN(c),u=c<n[0],h=c>n[1];if(d&&!u&&!h)return!0;d&&(i=!0),u&&(t=!0),h&&(a=!0)}return i&&t&&a}))}else Hb(r,(function(a){if("empty"===i)e.setData(t=t.map(a,(function(e){return s(e)?e:NaN})));else{var r={};r[a]=n,t.selectRange(r)}}));Hb(r,(function(e){t.setApproximateExtent(n,e)}))}}))}function s(e){return e>=n[0]&&e<=n[1]}},e.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,a=this._dataExtent;Hb(["min","max"],(function(r){var i=t.get(r+"Span"),n=t.get(r+"ValueSpan");null!=n&&(n=this.getAxisModel().axis.scale.parse(n)),null!=n?i=Sr["l"](a[0]+n,a,[0,100],!0):null!=i&&(n=Sr["l"](i,[0,100],a,!0)-a[0]),e[r+"Span"]=i,e[r+"ValueSpan"]=n}),this)},e.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,a=this._valueWindow;if(t){var r=Sr["f"](a,[0,500]);r=Math.min(r,20);var i=e.axis.scale.rawExtentInfo;0!==t[0]&&i.setDeterminedMinMax("min",+a[0].toFixed(r)),100!==t[1]&&i.setDeterminedMinMax("max",+a[1].toFixed(r)),i.freeze()}},e}();function qb(e,t,a){var r=[1/0,-1/0];Hb(a,(function(e){Object(Wd["k"])(r,e.getData(),t)}));var i=e.getAxisModel(),n=Object(Ub["a"])(i.axis.scale,i,r).calculate();return[n.min,n.max]}var Xb=Wb,Yb={getTargetSeries:function(e){function t(t){e.eachComponent("dataZoom",(function(a){a.eachTargetAxis((function(r,i){var n=e.getComponent(Ab(r),i);t(r,i,n,a)}))}))}t((function(e,t,a,r){a.__dzAxisProxy=null}));var a=[];t((function(t,r,i,n){i.__dzAxisProxy||(i.__dzAxisProxy=new Xb(t,r,n,e),a.push(i.__dzAxisProxy))}));var r=Object(U["createHashMap"])();return Object(U["each"])(a,(function(e){Object(U["each"])(e.getTargetSeriesModels(),(function(e){r.set(e.uid,e)}))})),r},overallReset:function(e,t){e.eachComponent("dataZoom",(function(e){e.eachTargetAxis((function(t,a){e.getAxisProxy(t,a).reset(e)})),e.eachTargetAxis((function(a,r){e.getAxisProxy(a,r).filterData(e,t)}))})),e.eachComponent("dataZoom",(function(e){var t=e.findRepresentativeAxisProxy();if(t){var a=t.getDataPercentWindow(),r=t.getDataValueWindow();e.setCalculatedRange({start:a[0],end:a[1],startValue:r[0],endValue:r[1]})}}))}},Kb=Yb;function Zb(e){e.registerAction("dataZoom",(function(e,t){var a=Db(t,e);Object(U["each"])(a,(function(t){t.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})}))}))}var Jb=!1;function Qb(e){Jb||(Jb=!0,e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,Kb),Zb(e),e.registerSubTypeDefaulter("dataZoom",(function(){return"slider"})))}function ey(e){e.registerComponentModel(Fb),e.registerComponentView(Vb),Qb(e)}var ty=function(){function e(){}return e}(),ay={};function ry(e,t){ay[e]=t}function iy(e){return ay[e]}var ny=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.optionUpdated=function(){e.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;U["each"](this.option.feature,(function(e,a){var r=iy(a);r&&(r.getDefaultOption&&(r.defaultOption=r.getDefaultOption(t)),U["merge"](e,r.defaultOption))}))},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}(lr["a"]),sy=ny,oy=a("4250"),ly=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(vt["a"])(t,e),t.prototype.render=function(e,t,a,r){var i=this.group;if(i.removeAll(),e.get("show")){var n=+e.get("itemSize"),s="vertical"===e.get("orient"),o=e.get("feature")||{},l=this._features||(this._features={}),c=[];U["each"](o,(function(e,t){c.push(t)})),new io["a"](this._featureNames||[],c).add(d).update(d).remove(U["curry"](d,null)).execute(),this._featureNames=c,oy["a"](i,e,a),i.add(oy["b"](i.getBoundingRect(),e)),s||i.eachChild((function(e){var t=e.__title,r=e.ensureState("emphasis"),s=r.textConfig||(r.textConfig={}),o=e.getTextContent(),l=o&&o.ensureState("emphasis");if(l&&!U["isFunction"](l)&&t){var c=l.style||(l.style={}),d=E["d"](t,we["a"].makeFont(c)),u=e.x+i.x,h=e.y+i.y+n,p=!1;h+d.height>a.getHeight()&&(s.position="top",p=!0);var f=p?-5-d.height:n+10;u+d.width/2>a.getWidth()?(s.position=["100%",f],c.align="right"):u-d.width/2<0&&(s.position=[0,f],c.align="left")}}))}function d(i,n){var s,d=c[i],h=c[n],p=o[d],f=new sr["a"](p,e,e.ecModel);if(r&&null!=r.newTitle&&r.featureName===d&&(p.title=r.newTitle),d&&!h){if(cy(d))s={onclick:f.option.onclick,featureName:d};else{var m=iy(d);if(!m)return;s=new m}l[d]=s}else if(s=l[h],!s)return;s.uid=Object(Xi["c"])("toolbox-feature"),s.model=f,s.ecModel=t,s.api=a;var g=s instanceof ty;d||!h?!f.get("show")||g&&s.unusable?g&&s.remove&&s.remove(t,a):(u(f,s,d),f.setIconStatus=function(e,t){var a=this.option,r=this.iconPaths;a.iconStatus=a.iconStatus||{},a.iconStatus[e]=t,r[e]&&("emphasis"===t?jt["r"]:jt["C"])(r[e])},s instanceof ty&&s.render&&s.render(f,t,a,r)):g&&s.dispose&&s.dispose(t,a)}function u(r,o,l){var c,d,u=r.getModel("iconStyle"),h=r.getModel(["emphasis","iconStyle"]),p=o instanceof ty&&o.getIcons?o.getIcons():r.get("icon"),f=r.get("title")||{};U["isString"](p)?(c={},c[l]=p):c=p,U["isString"](f)?(d={},d[l]=f):d=f;var m=r.iconPaths={};U["each"](c,(function(l,c){var p=Ot["createIcon"](l,{},{x:-n/2,y:-n/2,width:n,height:n});p.setStyle(u.getItemStyle());var f=p.ensureState("emphasis");f.style=h.getItemStyle();var g=new we["a"]({style:{text:d[c],align:h.get("textAlign"),borderRadius:h.get("textBorderRadius"),padding:h.get("textPadding"),fill:null},ignore:!0});p.setTextContent(g),Ot["setTooltipConfig"]({el:p,componentModel:e,itemName:c,formatterParamsExtra:{title:d[c]}}),p.__title=d[c],p.on("mouseover",(function(){var t=h.getItemStyle(),r=s?null==e.get("right")&&"right"!==e.get("left")?"right":"left":null==e.get("bottom")&&"bottom"!==e.get("top")?"bottom":"top";g.setStyle({fill:h.get("textFill")||t.fill||t.stroke||"#000",backgroundColor:h.get("textBackgroundColor")}),p.setTextConfig({position:h.get("textPosition")||r}),g.ignore=!e.get("showTitle"),a.enterEmphasis(this)})).on("mouseout",(function(){"emphasis"!==r.get(["iconStatus",c])&&a.leaveEmphasis(this),g.hide()})),("emphasis"===r.get(["iconStatus",c])?jt["r"]:jt["C"])(p),i.add(p),p.on("click",U["bind"](o.onclick,o,t,a,c)),m[c]=p}))}},t.prototype.updateView=function(e,t,a,r){U["each"](this._features,(function(e){e instanceof ty&&e.updateView&&e.updateView(e.model,t,a,r)}))},t.prototype.remove=function(e,t){U["each"](this._features,(function(a){a instanceof ty&&a.remove&&a.remove(e,t)})),this.group.removeAll()},t.prototype.dispose=function(e,t){U["each"](this._features,(function(a){a instanceof ty&&a.dispose&&a.dispose(e,t)}))},t.type="toolbox",t}(gr["a"]);function cy(e){return 0===e.indexOf("my")}var dy=ly,uy=a("b3a2"),hy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(vt["a"])(t,e),t.prototype.onclick=function(e,t){var a=this.model,r=a.get("name")||e.get("title.0.text")||"echarts",i="svg"===t.getZr().painter.getType(),n=i?"svg":a.get("type",!0)||"png",s=t.getConnectedDataURL({type:n,backgroundColor:a.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:a.get("connectedBackgroundColor"),excludeComponents:a.get("excludeComponents"),pixelRatio:a.get("pixelRatio")}),o=uy["a"].browser;if(Object(U["isFunction"])(MouseEvent)&&(o.newEdge||!o.ie&&!o.edge)){var l=document.createElement("a");l.download=r+"."+n,l.target="_blank",l.href=s;var c=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});l.dispatchEvent(c)}else if(window.navigator.msSaveOrOpenBlob||i){var d=s.split(","),u=d[0].indexOf("base64")>-1,h=i?decodeURIComponent(d[1]):d[1];u&&(h=window.atob(h));var p=r+"."+n;if(window.navigator.msSaveOrOpenBlob){var f=h.length,m=new Uint8Array(f);while(f--)m[f]=h.charCodeAt(f);var g=new Blob([m]);window.navigator.msSaveOrOpenBlob(g,p)}else{var _=document.createElement("iframe");document.body.appendChild(_);var v=_.contentWindow,b=v.document;b.open("image/svg+xml","replace"),b.write(h),b.close(),v.focus(),b.execCommand("SaveAs",!0,p),document.body.removeChild(_)}}else{var y=a.get("lang"),k='<body style="margin:0;"><img src="'+s+'" style="max-width:100%;" title="'+(y&&y[0]||"")+'" /></body>',x=window.open();x.document.write(k),x.document.title=r}},t.getDefaultOption=function(e){var t={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return t},t}(ty),py=hy,fy="__ec_magicType_stack__",my=[["line","bar"],["stack"]],gy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(vt["a"])(t,e),t.prototype.getIcons=function(){var e=this.model,t=e.get("icon"),a={};return U["each"](e.get("type"),(function(e){t[e]&&(a[e]=t[e])})),a},t.getDefaultOption=function(e){var t={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return t},t.prototype.onclick=function(e,t,a){var r=this.model,i=r.get(["seriesIndex",a]);if(_y[a]){var n,s={series:[]},o=function(e){var t=e.subType,i=e.id,n=_y[a](t,i,e,r);n&&(U["defaults"](n,e.option),s.series.push(n));var o=e.coordinateSystem;if(o&&"cartesian2d"===o.type&&("line"===a||"bar"===a)){var l=o.getAxesByScale("ordinal")[0];if(l){var c=l.dim,d=c+"Axis",u=e.getReferringComponents(d,qt["b"]).models[0],h=u.componentIndex;s[d]=s[d]||[];for(var p=0;p<=h;p++)s[d][h]=s[d][h]||{};s[d][h].boundaryGap="bar"===a}}};U["each"](my,(function(e){U["indexOf"](e,a)>=0&&U["each"](e,(function(e){r.setIconStatus(e,"normal")}))})),r.setIconStatus(a,"emphasis"),e.eachComponent({mainType:"series",query:null==i?null:{seriesIndex:i}},o);var l=a;"stack"===a&&(n=U["merge"]({stack:r.option.title.tiled,tiled:r.option.title.stack},r.option.title),"emphasis"!==r.get(["iconStatus",a])&&(l="tiled")),t.dispatchAction({type:"changeMagicType",currentType:l,newOption:s,newTitle:n,featureName:"magicType"})}},t}(ty),_y={line:function(e,t,a,r){if("bar"===e)return U["merge"]({id:t,type:"line",data:a.get("data"),stack:a.get("stack"),markPoint:a.get("markPoint"),markLine:a.get("markLine")},r.get(["option","line"])||{},!0)},bar:function(e,t,a,r){if("line"===e)return U["merge"]({id:t,type:"bar",data:a.get("data"),stack:a.get("stack"),markPoint:a.get("markPoint"),markLine:a.get("markLine")},r.get(["option","bar"])||{},!0)},stack:function(e,t,a,r){var i=a.get("stack")===fy;if("line"===e||"bar"===e)return r.setIconStatus("stack",i?"normal":"emphasis"),U["merge"]({id:t,stack:i?"":fy},r.get(["option","stack"])||{},!0)}};Mr["m"]({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},(function(e,t){t.mergeOption(e.newOption)}));var vy=gy,by=new Array(60).join("-"),yy="\t";function ky(e){var t={},a=[],r=[];return e.eachRawSeries((function(e){var i=e.coordinateSystem;if(!i||"cartesian2d"!==i.type&&"polar"!==i.type)a.push(e);else{var n=i.getBaseAxis();if("category"===n.type){var s=n.dim+"_"+n.index;t[s]||(t[s]={categoryAxis:n,valueAxis:i.getOtherAxis(n),series:[]},r.push({axisDim:n.dim,axisIndex:n.index})),t[s].series.push(e)}else a.push(e)}})),{seriesGroupByCategoryAxis:t,other:a,meta:r}}function xy(e){var t=[];return U["each"](e,(function(e,a){var r=e.categoryAxis,i=e.valueAxis,n=i.dim,s=[" "].concat(U["map"](e.series,(function(e){return e.name}))),o=[r.model.getCategories()];U["each"](e.series,(function(e){var t=e.getRawData();o.push(e.getRawData().mapArray(t.mapDimension(n),(function(e){return e})))}));for(var l=[s.join(yy)],c=0;c<o[0].length;c++){for(var d=[],u=0;u<o.length;u++)d.push(o[u][c]);l.push(d.join(yy))}t.push(l.join("\n"))})),t.join("\n\n"+by+"\n\n")}function wy(e){return U["map"](e,(function(e){var t=e.getRawData(),a=[e.name],r=[];return t.each(t.dimensions,(function(){for(var e=arguments.length,i=arguments[e-1],n=t.getName(i),s=0;s<e-1;s++)r[s]=arguments[s];a.push((n?n+yy:"")+r.join(yy))})),a.join("\n")})).join("\n\n"+by+"\n\n")}function Sy(e){var t=ky(e);return{value:U["filter"]([xy(t.seriesGroupByCategoryAxis),wy(t.other)],(function(e){return!!e.replace(/[\n\t\s]/g,"")})).join("\n\n"+by+"\n\n"),meta:t.meta}}function Cy(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Oy(e){var t=e.slice(0,e.indexOf("\n"));if(t.indexOf(yy)>=0)return!0}var Ty=new RegExp("["+yy+"]+","g");function jy(e){for(var t=e.split(/\n+/g),a=Cy(t.shift()).split(Ty),r=[],i=U["map"](a,(function(e){return{name:e,data:[]}})),n=0;n<t.length;n++){var s=Cy(t[n]).split(Ty);r.push(s.shift());for(var o=0;o<s.length;o++)i[o]&&(i[o].data[n]=s[o])}return{series:i,categories:r}}function Iy(e){for(var t=e.split(/\n+/g),a=Cy(t.shift()),r=[],i=0;i<t.length;i++){var n=Cy(t[i]);if(n){var s=n.split(Ty),o="",l=void 0,c=!1;isNaN(s[0])?(c=!0,o=s[0],s=s.slice(1),r[i]={name:o,value:[]},l=r[i].value):l=r[i]=[];for(var d=0;d<s.length;d++)l.push(+s[d]);1===l.length&&(c?r[i].value=l[0]:r[i]=l[0])}}return{name:a,data:r}}function Ay(e,t){var a=e.split(new RegExp("\n*"+by+"\n*","g")),r={series:[]};return U["each"](a,(function(e,a){if(Oy(e)){var i=jy(e),n=t[a],s=n.axisDim+"Axis";n&&(r[s]=r[s]||[],r[s][n.axisIndex]={data:i.categories},r.series=r.series.concat(i.series))}else{i=Iy(e);r.series.push(i)}})),r}var Dy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(vt["a"])(t,e),t.prototype.onclick=function(e,t){setTimeout((function(){t.dispatchAction({type:"hideTip"})}));var a=t.getDom(),r=this.model;this._dom&&a.removeChild(this._dom);var i=document.createElement("div");i.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",i.style.backgroundColor=r.get("backgroundColor")||"#fff";var n=document.createElement("h4"),s=r.get("lang")||[];n.innerHTML=s[0]||r.get("title"),n.style.cssText="margin:10px 20px",n.style.color=r.get("textColor");var o=document.createElement("div"),l=document.createElement("textarea");o.style.cssText="overflow:auto";var c=r.get("optionToContent"),d=r.get("contentToOption"),u=Sy(e);if(U["isFunction"](c)){var h=c(t.getOption());U["isString"](h)?o.innerHTML=h:U["isDom"](h)&&o.appendChild(h)}else{l.readOnly=r.get("readOnly");var p=l.style;p.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",p.color=r.get("textColor"),p.borderColor=r.get("textareaBorderColor"),p.backgroundColor=r.get("textareaColor"),l.value=u.value,o.appendChild(l)}var f=u.meta,m=document.createElement("div");m.style.cssText="position:absolute;bottom:5px;left:0;right:0";var g="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",_=document.createElement("div"),v=document.createElement("div");g+=";background-color:"+r.get("buttonColor"),g+=";color:"+r.get("buttonTextColor");var b=this;function y(){a.removeChild(i),b._dom=null}Object(Dr["a"])(_,"click",y),Object(Dr["a"])(v,"click",(function(){if(null==d&&null!=c||null!=d&&null==c)y();else{var e;try{e=U["isFunction"](d)?d(o,t.getOption()):Ay(l.value,f)}catch(a){throw y(),new Error("Data view format error "+a)}e&&t.dispatchAction({type:"changeDataView",newOption:e}),y()}})),_.innerHTML=s[1],v.innerHTML=s[2],v.style.cssText=_.style.cssText=g,!r.get("readOnly")&&m.appendChild(v),m.appendChild(_),i.appendChild(n),i.appendChild(o),i.appendChild(m),o.style.height=a.clientHeight-80+"px",a.appendChild(i),this._dom=i},t.prototype.remove=function(e,t){this._dom&&t.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,t){this.remove(e,t)},t.getDefaultOption=function(e){var t={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return t},t}(ty);function My(e,t){return U["map"](e,(function(e,a){var r=t&&t[a];if(U["isObject"](r)&&!U["isArray"](r)){var i=U["isObject"](e)&&!U["isArray"](e);i||(e={value:e});var n=null!=r.name&&null==e.name;return e=U["defaults"](e,r),n&&delete e.name,e}return e}))}Mr["m"]({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},(function(e,t){var a=[];U["each"](e.newOption.series,(function(e){var r=t.getSeriesByName(e.name)[0];if(r){var i=r.get("data");a.push({name:e.name,data:My(e.data,i)})}else a.push(U["extend"]({type:"scatter"},e))})),t.mergeOption(U["defaults"]({series:a},e.newOption))}));var Ey=Dy,Ry=U["each"],By=Object(qt["o"])();function Py(e,t){var a=$y(e);Ry(t,(function(t,r){for(var i=a.length-1;i>=0;i--){var n=a[i];if(n[r])break}if(i<0){var s=e.queryComponents({mainType:"dataZoom",subType:"select",id:r})[0];if(s){var o=s.getPercentRange();a[0][r]={dataZoomId:r,start:o[0],end:o[1]}}}})),a.push(t)}function Ly(e){var t=$y(e),a=t[t.length-1];t.length>1&&t.pop();var r={};return Ry(a,(function(e,a){for(var i=t.length-1;i>=0;i--)if(e=t[i][a],e){r[a]=e;break}})),r}function Fy(e){By(e).snapshots=null}function Ny(e){return $y(e).length}function $y(e){var t=By(e);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var zy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(vt["a"])(t,e),t.prototype.onclick=function(e,t){Fy(e),t.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){var t={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])};return t},t}(ty);Mr["m"]({type:"restore",event:"restore",update:"prepareAndUpdate"},(function(e,t){t.resetOption("recreate")}));var Vy=zy,Uy=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],Hy=function(){function e(e,t,a){var r=this;this._targetInfoList=[];var i=Wy(t,e);Object(U["each"])(qy,(function(e,t){(!a||!a.include||Object(U["indexOf"])(a.include,t)>=0)&&e(i,r._targetInfoList)}))}return e.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,(function(e,t,a){if((e.coordRanges||(e.coordRanges=[])).push(t),!e.coordRange){e.coordRange=t;var r=Ky[e.brushType](0,a,t);e.__rangeOffset={offset:Jy[e.brushType](r.values,e.range,[1,1]),xyMinMax:r.xyMinMax}}})),e},e.prototype.matchOutputRanges=function(e,t,a){Object(U["each"])(e,(function(e){var r=this.findTargetInfo(e,t);r&&!0!==r&&Object(U["each"])(r.coordSyses,(function(r){var i=Ky[e.brushType](1,r,e.range,!0);a(e,i.values,r,t)}))}),this)},e.prototype.setInputRanges=function(e,t){Object(U["each"])(e,(function(e){var a=this.findTargetInfo(e,t);if(e.range=e.range||[],a&&!0!==a){e.panelId=a.panelId;var r=Ky[e.brushType](0,a.coordSys,e.coordRange),i=e.__rangeOffset;e.range=i?Jy[e.brushType](r.values,i.offset,ek(r.xyMinMax,i.xyMinMax)):r.values}}),this)},e.prototype.makePanelOpts=function(e,t){return Object(U["map"])(this._targetInfoList,(function(a){var r=a.getPanelRect();return{panelId:a.panelId,defaultBrushType:t?t(a):null,clipPath:hh(r),isTargetByCursor:fh(r,e,a.coordSysModel),getLinearBrushOtherExtent:ph(r)}}))},e.prototype.controlSeries=function(e,t,a){var r=this.findTargetInfo(e,a);return!0===r||r&&Object(U["indexOf"])(r.coordSyses,t.coordinateSystem)>=0},e.prototype.findTargetInfo=function(e,t){for(var a=this._targetInfoList,r=Wy(t,e),i=0;i<a.length;i++){var n=a[i],s=e.panelId;if(s){if(n.panelId===s)return n}else for(var o=0;o<Xy.length;o++)if(Xy[o](r,n))return n}return!0},e}();function Gy(e){return e[0]>e[1]&&e.reverse(),e}function Wy(e,t){return Object(qt["s"])(e,t,{includeMainTypes:Uy})}var qy={grid:function(e,t){var a=e.xAxisModels,r=e.yAxisModels,i=e.gridModels,n=Object(U["createHashMap"])(),s={},o={};(a||r||i)&&(Object(U["each"])(a,(function(e){var t=e.axis.grid.model;n.set(t.id,t),s[t.id]=!0})),Object(U["each"])(r,(function(e){var t=e.axis.grid.model;n.set(t.id,t),o[t.id]=!0})),Object(U["each"])(i,(function(e){n.set(e.id,e),s[e.id]=!0,o[e.id]=!0})),n.each((function(e){var i=e.coordinateSystem,n=[];Object(U["each"])(i.getCartesians(),(function(e,t){(Object(U["indexOf"])(a,e.getAxis("x").model)>=0||Object(U["indexOf"])(r,e.getAxis("y").model)>=0)&&n.push(e)})),t.push({panelId:"grid--"+e.id,gridModel:e,coordSysModel:e,coordSys:n[0],coordSyses:n,getPanelRect:Yy.grid,xAxisDeclared:s[e.id],yAxisDeclared:o[e.id]})})))},geo:function(e,t){Object(U["each"])(e.geoModels,(function(e){var a=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:a,coordSyses:[a],getPanelRect:Yy.geo})}))}},Xy=[function(e,t){var a=e.xAxisModel,r=e.yAxisModel,i=e.gridModel;return!i&&a&&(i=a.axis.grid.model),!i&&r&&(i=r.axis.grid.model),i&&i===t.gridModel},function(e,t){var a=e.geoModel;return a&&a===t.geoModel}],Yy={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var e=this.coordSys,t=e.getBoundingRect().clone();return t.applyTransform(Ot["getTransform"](e)),t}},Ky={lineX:Object(U["curry"])(Zy,0),lineY:Object(U["curry"])(Zy,1),rect:function(e,t,a,r){var i=e?t.pointToData([a[0][0],a[1][0]],r):t.dataToPoint([a[0][0],a[1][0]],r),n=e?t.pointToData([a[0][1],a[1][1]],r):t.dataToPoint([a[0][1],a[1][1]],r),s=[Gy([i[0],n[0]]),Gy([i[1],n[1]])];return{values:s,xyMinMax:s}},polygon:function(e,t,a,r){var i=[[1/0,-1/0],[1/0,-1/0]],n=Object(U["map"])(a,(function(a){var n=e?t.pointToData(a,r):t.dataToPoint(a,r);return i[0][0]=Math.min(i[0][0],n[0]),i[1][0]=Math.min(i[1][0],n[1]),i[0][1]=Math.max(i[0][1],n[0]),i[1][1]=Math.max(i[1][1],n[1]),n}));return{values:n,xyMinMax:i}}};function Zy(e,t,a,r){var i=a.getAxis(["x","y"][e]),n=Gy(Object(U["map"])([0,1],(function(e){return t?i.coordToData(i.toLocalCoord(r[e]),!0):i.toGlobalCoord(i.dataToCoord(r[e]))}))),s=[];return s[e]=n,s[1-e]=[NaN,NaN],{values:n,xyMinMax:s}}var Jy={lineX:Object(U["curry"])(Qy,0),lineY:Object(U["curry"])(Qy,1),rect:function(e,t,a){return[[e[0][0]-a[0]*t[0][0],e[0][1]-a[0]*t[0][1]],[e[1][0]-a[1]*t[1][0],e[1][1]-a[1]*t[1][1]]]},polygon:function(e,t,a){return Object(U["map"])(e,(function(e,r){return[e[0]-a[0]*t[r][0],e[1]-a[1]*t[r][1]]}))}};function Qy(e,t,a,r){return[t[0]-r[e]*a[0],t[1]-r[e]*a[1]]}function ek(e,t){var a=tk(e),r=tk(t),i=[a[0]/r[0],a[1]/r[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function tk(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}var ak=Hy,rk=a("afab"),ik=U["each"],nk=Object(qt["p"])("toolbox-dataZoom_"),sk=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(vt["a"])(t,e),t.prototype.render=function(e,t,a,r){this._brushController||(this._brushController=new uh(a.getZr()),this._brushController.on("brush",U["bind"](this._onBrush,this)).mount()),dk(e,t,this,r,a),ck(e,t)},t.prototype.onclick=function(e,t,a){ok[a].call(this)},t.prototype.remove=function(e,t){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,t){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var t=e.areas;if(e.isEnd&&t.length){var a={},r=this.ecModel;this._brushController.updateCovers([]);var i=new ak(lk(this.model),r,{include:["grid"]});i.matchOutputRanges(t,r,(function(e,t,a){if("cartesian2d"===a.type){var r=e.brushType;"rect"===r?(n("x",a,t[0]),n("y",a,t[1])):n({lineX:"x",lineY:"y"}[r],a,t)}})),Py(r,a),this._dispatchZoomAction(a)}function n(e,t,i){var n=t.getAxis(e),o=n.model,l=s(e,o,r),c=l.findRepresentativeAxisProxy(o).getMinMaxSpan();null==c.minValueSpan&&null==c.maxValueSpan||(i=Yd(0,i.slice(),n.scale.getExtent(),0,c.minValueSpan,c.maxValueSpan)),l&&(a[l.id]={dataZoomId:l.id,startValue:i[0],endValue:i[1]})}function s(e,t,a){var r;return a.eachComponent({mainType:"dataZoom",subType:"select"},(function(a){var i=a.getAxisModel(e,t.componentIndex);i&&(r=a)})),r}},t.prototype._dispatchZoomAction=function(e){var t=[];ik(e,(function(e,a){t.push(U["clone"](e))})),t.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:t})},t.getDefaultOption=function(e){var t={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return t},t}(ty),ok={zoom:function(){var e=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:e})},back:function(){this._dispatchZoomAction(Ly(this.ecModel))}};function lk(e){var t={xAxisIndex:e.get("xAxisIndex",!0),yAxisIndex:e.get("yAxisIndex",!0),xAxisId:e.get("xAxisId",!0),yAxisId:e.get("yAxisId",!0)};return null==t.xAxisIndex&&null==t.xAxisId&&(t.xAxisIndex="all"),null==t.yAxisIndex&&null==t.yAxisId&&(t.yAxisIndex="all"),t}function ck(e,t){e.setIconStatus("back",Ny(t)>1?"emphasis":"normal")}function dk(e,t,a,r,i){var n=a._isZoomActive;r&&"takeGlobalCursor"===r.type&&(n="dataZoomSelect"===r.key&&r.dataZoomSelectActive),a._isZoomActive=n,e.setIconStatus("zoom",n?"emphasis":"normal");var s=new ak(lk(e),t,{include:["grid"]}),o=s.makePanelOpts(i,(function(e){return e.xAxisDeclared&&!e.yAxisDeclared?"lineX":!e.xAxisDeclared&&e.yAxisDeclared?"lineY":"rect"}));a._brushController.setPanels(o).enableBrush(!(!n||!o.length)&&{brushType:"auto",brushStyle:e.getModel("brushStyle").getItemStyle()})}Object(rk["b"])("dataZoom",(function(e){var t=e.getComponent("toolbox",0),a=["feature","dataZoom"];if(t&&null!=t.get(a)){var r=t.getModel(a),i=[],n=lk(r),s=Object(qt["s"])(e,n);return ik(s.xAxisModels,(function(e){return o(e,"xAxis","xAxisIndex")})),ik(s.yAxisModels,(function(e){return o(e,"yAxis","yAxisIndex")})),i}function o(e,t,a){var n=e.componentIndex,s={type:"select",$fromToolbox:!0,filterMode:r.get("filterMode",!0)||"filter",id:nk+t+n};s[a]=n,i.push(s)}}));var uk=sk;function hk(e){e.registerComponentModel(sy),e.registerComponentView(dy),ry("saveAsImage",py),ry("magicType",vy),ry("dataView",Ey),ry("dataZoom",uk),ry("restore",Vy),Object(T["a"])(ey)}var pk=a("0fac"),fk=["rect","polygon","keep","clear"];function mk(e,t){var a=Object(qt["r"])(e?e.brush:[]);if(a.length){var r=[];U["each"](a,(function(e){var t=e.hasOwnProperty("toolbox")?e.toolbox:[];t instanceof Array&&(r=r.concat(t))}));var i=e&&e.toolbox;U["isArray"](i)&&(i=i[0]),i||(i={feature:{}},e.toolbox=[i]);var n=i.feature||(i.feature={}),s=n.brush||(n.brush={}),o=s.type||(s.type=[]);o.push.apply(o,r),gk(o),t&&!o.length&&o.push.apply(o,fk)}}function gk(e){var t={};U["each"](e,(function(e){t[e]=1})),e.length=0,U["each"](t,(function(t,a){e.push(a)}))}var _k=a("fbcc"),vk=U["each"];function bk(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!0}function yk(e,t,a){var r={};return vk(t,(function(t){var n=r[t]=i();vk(e[t],(function(e,r){if(Ko.isValidType(r)){var i={type:r,visual:e};a&&a(i,t),n[r]=new Ko(i),"opacity"===r&&(i=U["clone"](i),i.type="colorAlpha",n.__hidden.__alphaForOpacity=new Ko(i))}}))})),r;function i(){var e=function(){};e.prototype.__hidden=e.prototype;var t=new e;return t}}function kk(e,t,a){var r;U["each"](a,(function(e){t.hasOwnProperty(e)&&bk(t[e])&&(r=!0)})),r&&U["each"](a,(function(a){t.hasOwnProperty(a)&&bk(t[a])?e[a]=U["clone"](t[a]):delete e[a]}))}function xk(e,t,a,r,i,n){var s,o={};function l(e){return Object(_k["a"])(a,s,e)}function c(e,t){Object(_k["c"])(a,s,e,t)}function d(e,d){s=null==n?e:d;var u=a.getRawDataItem(s);if(!u||!1!==u.visualMap)for(var h=r.call(i,e),p=t[h],f=o[h],m=0,g=f.length;m<g;m++){var _=f[m];p[_]&&p[_].applyVisual(e,l,c)}}U["each"](e,(function(e){var a=Ko.prepareVisualTypes(t[e]);o[e]=a})),null==n?a.each(d):a.each([n],d)}function wk(e,t,a,r){var i={};return U["each"](e,(function(e){var a=Ko.prepareVisualTypes(t[e]);i[e]=a})),{progress:function(e,n){var s,o;function l(e){return Object(_k["a"])(n,o,e)}function c(e,t){Object(_k["c"])(n,o,e,t)}null!=r&&(s=n.getDimensionIndex(r));var d=n.getStore();while(null!=(o=e.next())){var u=n.getRawDataItem(o);if(!u||!1!==u.visualMap)for(var h=null!=r?d.get(s,o):o,p=a(h),f=t[p],m=i[p],g=0,_=m.length;g<_;g++){var v=m[g];f[v]&&f[v].applyVisual(h,l,c)}}}}}var Sk=a("5140");function Ck(e){var t=e.brushType,a={point:function(r){return Ok[t].point(r,a,e)},rect:function(r){return Ok[t].rect(r,a,e)}};return a}var Ok={lineX:Tk(0),lineY:Tk(1),rect:{point:function(e,t,a){return e&&a.boundingRect.contain(e[0],e[1])},rect:function(e,t,a){return e&&a.boundingRect.intersect(e)}},polygon:{point:function(e,t,a){return e&&a.boundingRect.contain(e[0],e[1])&&Sk["a"](a.range,e[0],e[1])},rect:function(e,t,a){var r=a.range;if(!e||r.length<=1)return!1;var i=e.x,n=e.y,s=e.width,o=e.height,l=r[0];return!!(Sk["a"](r,i,n)||Sk["a"](r,i+s,n)||Sk["a"](r,i,n+o)||Sk["a"](r,i+s,n+o)||Ba["a"].create(e).contain(l[0],l[1])||Object(Ot["linePolygonIntersect"])(i,n,i+s,n,r)||Object(Ot["linePolygonIntersect"])(i,n,i,n+o,r)||Object(Ot["linePolygonIntersect"])(i+s,n,i+s,n+o,r)||Object(Ot["linePolygonIntersect"])(i,n+o,i+s,n+o,r))||void 0}}};function Tk(e){var t=["x","y"],a=["width","height"];return{point:function(t,a,r){if(t){var i=r.range,n=t[e];return jk(n,i)}},rect:function(r,i,n){if(r){var s=n.range,o=[r[t[e]],r[t[e]]+r[a[e]]];return o[1]<o[0]&&o.reverse(),jk(o[0],s)||jk(o[1],s)||jk(s[0],o)||jk(s[1],o)}}}}function jk(e,t){return t[0]<=e&&e<=t[1]}var Ik=["inBrush","outOfBrush"],Ak="__ecBrushSelect",Dk="__ecInBrushSelectEvent";function Mk(e){e.eachComponent({mainType:"brush"},(function(t){var a=t.brushTargetManager=new ak(t.option,e);a.setInputRanges(t.areas,e)}))}function Ek(e,t,a){var r,i,n=[];e.eachComponent({mainType:"brush"},(function(e){a&&"takeGlobalCursor"===a.type&&e.setBrushOption("brush"===a.key?a.brushOption:{brushType:!1})})),Mk(e),e.eachComponent({mainType:"brush"},(function(t,a){var s={brushId:t.id,brushIndex:a,brushName:t.name,areas:U["clone"](t.areas),selected:[]};n.push(s);var o=t.option,l=o.brushLink,c=[],d=[],u=[],h=!1;a||(r=o.throttleType,i=o.throttleDelay);var p=U["map"](t.areas,(function(e){var t=Fk[e.brushType],a=U["defaults"]({boundingRect:t?t(e):void 0},e);return a.selectors=Ck(a),a})),f=yk(t.option,Ik,(function(e){e.mappingMethod="fixed"}));function m(e){return"all"===l||!!c[e]}function g(e){return!!e.length}function _(e,t){var a=e.coordinateSystem;h=h||a.hasAxisBrushed(),m(t)&&a.eachActiveState(e.getData(),(function(e,t){"active"===e&&(d[t]=1)}))}function v(a,r,i){if(a.brushSelector&&!Lk(t,r)&&(U["each"](p,(function(r){t.brushTargetManager.controlSeries(r,a,e)&&i.push(r),h=h||g(i)})),m(r)&&g(i))){var n=a.getData();n.each((function(e){Pk(a,i,n,e)&&(d[e]=1)}))}}U["isArray"](l)&&U["each"](l,(function(e){c[e]=1})),e.eachSeries((function(e,t){var a=u[t]=[];"parallel"===e.subType?_(e,t):v(e,t,a)})),e.eachSeries((function(e,t){var a={seriesId:e.id,seriesIndex:t,seriesName:e.name,dataIndex:[]};s.selected.push(a);var r=u[t],i=e.getData(),n=m(t)?function(e){return d[e]?(a.dataIndex.push(i.getRawIndex(e)),"inBrush"):"outOfBrush"}:function(t){return Pk(e,r,i,t)?(a.dataIndex.push(i.getRawIndex(t)),"inBrush"):"outOfBrush"};(m(t)?h:g(r))&&xk(Ik,f,i,n)}))})),Rk(t,r,i,n,a)}function Rk(e,t,a,r,i){if(i){var n=e.getZr();if(!n[Dk]){n[Ak]||(n[Ak]=Bk);var s=Fd["b"](n,Ak,a,t);s(e,r)}}}function Bk(e,t){if(!e.isDisposed()){var a=e.getZr();a[Dk]=!0,e.dispatchAction({type:"brushSelect",batch:t}),a[Dk]=!1}}function Pk(e,t,a,r){for(var i=0,n=t.length;i<n;i++){var s=t[i];if(e.brushSelector(r,a,s.selectors,s))return!0}}function Lk(e,t){var a=e.option.seriesIndex;return null!=a&&"all"!==a&&(U["isArray"](a)?U["indexOf"](a,t)<0:t!==a)}var Fk={rect:function(e){return Nk(e.range)},polygon:function(e){for(var t,a=e.range,r=0,i=a.length;r<i;r++){t=t||[[1/0,-1/0],[1/0,-1/0]];var n=a[r];n[0]<t[0][0]&&(t[0][0]=n[0]),n[0]>t[0][1]&&(t[0][1]=n[0]),n[1]<t[1][0]&&(t[1][0]=n[1]),n[1]>t[1][1]&&(t[1][1]=n[1])}return t&&Nk(t)}};function Nk(e){return new Ba["a"](e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}var $k=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.init=function(e,t){this.ecModel=e,this.api=t,this.model,(this._brushController=new uh(t.getZr())).on("brush",U["bind"](this._onBrush,this)).mount()},t.prototype.render=function(e,t,a,r){this.model=e,this._updateController(e,t,a,r)},t.prototype.updateTransform=function(e,t,a,r){Mk(t),this._updateController(e,t,a,r)},t.prototype.updateVisual=function(e,t,a,r){this.updateTransform(e,t,a,r)},t.prototype.updateView=function(e,t,a,r){this._updateController(e,t,a,r)},t.prototype._updateController=function(e,t,a,r){(!r||r.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(a)).enableBrush(e.brushOption).updateCovers(e.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(e){var t=this.model.id,a=this.model.brushTargetManager.setOutputRanges(e.areas,this.ecModel);(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:t,areas:U["clone"](a),$from:t}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:t,areas:U["clone"](a),$from:t})},t.type="brush",t}(gr["a"]),zk=$k,Vk="#ddd",Uk=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.areas=[],a.brushOption={},a}return Object(vt["a"])(t,e),t.prototype.optionUpdated=function(e,t){var a=this.option;!t&&kk(a,e,["inBrush","outOfBrush"]);var r=a.inBrush=a.inBrush||{};a.outOfBrush=a.outOfBrush||{color:Vk},r.hasOwnProperty("liftZ")||(r.liftZ=5)},t.prototype.setAreas=function(e){e&&(this.areas=U["map"](e,(function(e){return Hk(this.option,e)}),this))},t.prototype.setBrushOption=function(e){this.brushOption=Hk(this.option,e),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},t}(lr["a"]);function Hk(e,t){return U["merge"]({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new sr["a"](e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick,z:e.z},t,!0)}var Gk=Uk,Wk=["rect","polygon","lineX","lineY","keep","clear"],qk=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(vt["a"])(t,e),t.prototype.render=function(e,t,a){var r,i,n;t.eachComponent({mainType:"brush"},(function(e){r=e.brushType,i=e.brushOption.brushMode||"single",n=n||!!e.areas.length})),this._brushType=r,this._brushMode=i,U["each"](e.get("type",!0),(function(t){e.setIconStatus(t,("keep"===t?"multiple"===i:"clear"===t?n:t===r)?"emphasis":"normal")}))},t.prototype.updateView=function(e,t,a){this.render(e,t,a)},t.prototype.getIcons=function(){var e=this.model,t=e.get("icon",!0),a={};return U["each"](e.get("type",!0),(function(e){t[e]&&(a[e]=t[e])})),a},t.prototype.onclick=function(e,t,a){var r=this._brushType,i=this._brushMode;"clear"===a?(t.dispatchAction({type:"axisAreaSelect",intervals:[]}),t.dispatchAction({type:"brush",command:"clear",areas:[]})):t.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===a?r:r!==a&&a,brushMode:"keep"===a?"multiple"===i?"single":"multiple":i}})},t.getDefaultOption=function(e){var t={show:!0,type:Wk.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.getLocaleModel().get(["toolbox","brush","title"])};return t},t}(ty),Xk=qk;function Yk(e){e.registerComponentView(zk),e.registerComponentModel(Gk),e.registerPreprocessor(mk),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,Ek),e.registerAction({type:"brush",event:"brush",update:"updateVisual"},(function(e,t){t.eachComponent({mainType:"brush",query:e},(function(t){t.setAreas(e.areas)}))})),e.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},U["noop"]),e.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},U["noop"]),ry("brush",Xk)}var Kk=a("e4ca"),Zk=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.layoutMode="box",a}return Object(vt["a"])(t,e),t.prototype.init=function(e,t,a){this.mergeDefaultAndTheme(e,a),this._initData()},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(e){null==e&&(e=this.option.currentIndex);var t=this._data.count();this.option.loop?e=(e%t+t)%t:(e>=t&&(e=t-1),e<0&&(e=0)),this.option.currentIndex=e},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(e){this.option.autoPlay=!!e},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var e,t=this.option,a=t.data||[],r=t.axisType,i=this._names=[];"category"===r?(e=[],Object(U["each"])(a,(function(t,a){var r,n=Object(qt["e"])(Object(qt["h"])(t),"");Object(U["isObject"])(t)?(r=Object(U["clone"])(t),r.value=a):r=a,e.push(r),i.push(n)}))):e=a;var n={category:"ordinal",time:"time",value:"number"}[r]||"number",s=this._data=new Ds["a"]([{name:"value",type:n}],this);s.initData(e,i)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},t.type="timeline",t.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},t}(lr["a"]),Jk=Zk,Qk=a("365b"),ex=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.type="timeline.slider",t.defaultOption=Object(Xi["d"])(Jk.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),t}(Jk);Object(U["mixin"])(ex,Qk["a"].prototype);var tx=ex,ax=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.type="timeline",t}(gr["a"]),rx=ax,ix=function(e){function t(t,a,r,i){var n=e.call(this,t,a,r)||this;return n.type=i||"value",n}return Object(vt["a"])(t,e),t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},t}(yr["a"]),nx=ix,sx=a("95f8"),ox=a("6fcd"),lx=Math.PI,cx=Object(qt["o"])(),dx=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.init=function(e,t){this.api=t},t.prototype.render=function(e,t,a){if(this.model=e,this.api=a,this.ecModel=t,this.group.removeAll(),e.get("show",!0)){var r=this._layout(e,a),i=this._createGroup("_mainGroup"),n=this._createGroup("_labelGroup"),s=this._axis=this._createAxis(r,e);e.formatTooltip=function(e){var t=s.scale.getLabel({value:e});return Object(ar["c"])("nameValue",{noName:!0,value:t})},Object(U["each"])(["AxisLine","AxisTick","Control","CurrentPointer"],(function(t){this["_render"+t](r,i,s,e)}),this),this._renderAxisLabel(r,n,s,e),this._position(r,e)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(e,t){var a,r=e.get(["label","position"]),i=e.get("orient"),n=hx(e,t);a=null==r||"auto"===r?"horizontal"===i?n.y+n.height/2<t.getHeight()/2?"-":"+":n.x+n.width/2<t.getWidth()/2?"+":"-":Object(U["isString"])(r)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[i][r]:r;var s,o,l,c={horizontal:"center",vertical:a>=0||"+"===a?"left":"right"},d={horizontal:a>=0||"+"===a?"top":"bottom",vertical:"middle"},u={horizontal:0,vertical:lx/2},h="vertical"===i?n.height:n.width,p=e.getModel("controlStyle"),f=p.get("show",!0),m=f?p.get("itemSize"):0,g=f?p.get("itemGap"):0,_=m+g,v=e.get(["label","rotate"])||0;v=v*lx/180;var b=p.get("position",!0),y=f&&p.get("showPlayBtn",!0),k=f&&p.get("showPrevBtn",!0),x=f&&p.get("showNextBtn",!0),w=0,S=h;"left"===b||"bottom"===b?(y&&(s=[0,0],w+=_),k&&(o=[w,0],w+=_),x&&(l=[S-m,0],S-=_)):(y&&(s=[S-m,0],S-=_),k&&(o=[0,0],w+=_),x&&(l=[S-m,0],S-=_));var C=[w,S];return e.get("inverse")&&C.reverse(),{viewRect:n,mainLength:h,orient:i,rotation:u[i],labelRotation:v,labelPosOpt:a,labelAlign:e.get(["label","align"])||c[i],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||d[i],playPosition:s,prevBtnPosition:o,nextBtnPosition:l,axisExtent:C,controlSize:m,controlGap:g}},t.prototype._position=function(e,t){var a=this._mainGroup,r=this._labelGroup,i=e.viewRect;if("vertical"===e.orient){var n=Zr["create"](),s=i.x,o=i.y+i.height;Zr["translate"](n,n,[-s,-o]),Zr["rotate"](n,n,-lx/2),Zr["translate"](n,n,[s,o]),i=i.clone(),i.applyTransform(n)}var l=g(i),c=g(a.getBoundingRect()),d=g(r.getBoundingRect()),u=[a.x,a.y],h=[r.x,r.y];h[0]=u[0]=l[0][0];var p=e.labelPosOpt;if(null==p||Object(U["isString"])(p)){var f="+"===p?0:1;_(u,c,l,1,f),_(h,d,l,1,1-f)}else{f=p>=0?0:1;_(u,c,l,1,f),h[1]=u[1]+p}function m(e){e.originX=l[0][0]-e.x,e.originY=l[1][0]-e.y}function g(e){return[[e.x,e.x+e.width],[e.y,e.y+e.height]]}function _(e,t,a,r,i){e[r]+=a[r][i]-t[r][i]}a.setPosition(u),r.setPosition(h),a.rotation=r.rotation=e.rotation,m(a),m(r)},t.prototype._createAxis=function(e,t){var a=t.getData(),r=t.get("axisType"),i=ux(t,r);i.getTicks=function(){return a.mapArray(["value"],(function(e){return{value:e}}))};var n=a.getDataExtent("value");i.setExtent(n[0],n[1]),i.calcNiceTicks();var s=new nx("value",i,e.axisExtent,r);return s.model=t,s},t.prototype._createGroup=function(e){var t=this[e]=new xt["a"];return this.group.add(t),t},t.prototype._renderAxisLine=function(e,t,a,r){var i=a.getExtent();if(r.get(["lineStyle","show"])){var n=new Kr["a"]({shape:{x1:i[0],y1:0,x2:i[1],y2:0},style:Object(U["extend"])({lineCap:"round"},r.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});t.add(n);var s=this._progressLine=new Kr["a"]({shape:{x1:i[0],x2:this._currentPointer?this._currentPointer.x:i[0],y1:0,y2:0},style:Object(U["defaults"])({lineCap:"round",lineWidth:n.style.lineWidth},r.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});t.add(s)}},t.prototype._renderAxisTick=function(e,t,a,r){var i=this,n=r.getData(),s=a.scale.getTicks();this._tickSymbols=[],Object(U["each"])(s,(function(e){var s=a.dataToCoord(e.value),o=n.getItemModel(e.value),l=o.getModel("itemStyle"),c=o.getModel(["emphasis","itemStyle"]),d=o.getModel(["progress","itemStyle"]),u={x:s,y:0,onclick:Object(U["bind"])(i._changeTimeline,i,e.value)},h=fx(o,l,t,u);h.ensureState("emphasis").style=c.getItemStyle(),h.ensureState("progress").style=d.getItemStyle(),Object(jt["o"])(h);var p=Object(Tt["a"])(h);o.get("tooltip")?(p.dataIndex=e.value,p.dataModel=r):p.dataIndex=p.dataModel=null,i._tickSymbols.push(h)}))},t.prototype._renderAxisLabel=function(e,t,a,r){var i=this,n=a.getLabelModel();if(n.get("show")){var s=r.getData(),o=a.getViewLabels();this._tickLabels=[],Object(U["each"])(o,(function(r){var n=r.tickValue,o=s.getItemModel(n),l=o.getModel("label"),c=o.getModel(["emphasis","label"]),d=o.getModel(["progress","label"]),u=a.dataToCoord(r.tickValue),h=new we["a"]({x:u,y:0,rotation:e.labelRotation-e.rotation,onclick:Object(U["bind"])(i._changeTimeline,i,n),silent:!1,style:Object(At["c"])(l,{text:r.formattedLabel,align:e.labelAlign,verticalAlign:e.labelBaseline})});h.ensureState("emphasis").style=Object(At["c"])(c),h.ensureState("progress").style=Object(At["c"])(d),t.add(h),Object(jt["o"])(h),cx(h).dataIndex=n,i._tickLabels.push(h)}))}},t.prototype._renderControl=function(e,t,a,r){var i=e.controlSize,n=e.rotation,s=r.getModel("controlStyle").getItemStyle(),o=r.getModel(["emphasis","controlStyle"]).getItemStyle(),l=r.getPlayState(),c=r.get("inverse",!0);function d(e,a,l,c){if(e){var d=Object(E["g"])(Object(U["retrieve2"])(r.get(["controlStyle",a+"BtnSize"]),i),i),u=[0,-d/2,d,d],h=px(r,a+"Icon",u,{x:e[0],y:e[1],originX:i/2,originY:0,rotation:c?-n:0,rectHover:!0,style:s,onclick:l});h.ensureState("emphasis").style=o,t.add(h),Object(jt["o"])(h)}}d(e.nextBtnPosition,"next",Object(U["bind"])(this._changeTimeline,this,c?"-":"+")),d(e.prevBtnPosition,"prev",Object(U["bind"])(this._changeTimeline,this,c?"+":"-")),d(e.playPosition,l?"stop":"play",Object(U["bind"])(this._handlePlayClick,this,!l),!0)},t.prototype._renderCurrentPointer=function(e,t,a,r){var i=r.getData(),n=r.getCurrentIndex(),s=i.getItemModel(n).getModel("checkpointStyle"),o=this,l={onCreate:function(e){e.draggable=!0,e.drift=Object(U["bind"])(o._handlePointerDrag,o),e.ondragend=Object(U["bind"])(o._handlePointerDragend,o),mx(e,o._progressLine,n,a,r,!0)},onUpdate:function(e){mx(e,o._progressLine,n,a,r)}};this._currentPointer=fx(s,s,this._mainGroup,{},this._currentPointer,l)},t.prototype._handlePlayClick=function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},t.prototype._handlePointerDrag=function(e,t,a){this._clearTimer(),this._pointerChangeTimeline([a.offsetX,a.offsetY])},t.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},t.prototype._pointerChangeTimeline=function(e,t){var a=this._toAxisCoord(e)[0],r=this._axis,i=Sr["c"](r.getExtent().slice());a>i[1]&&(a=i[1]),a<i[0]&&(a=i[0]),this._currentPointer.x=a,this._currentPointer.markRedraw(),this._progressLine.shape.x2=a,this._progressLine.dirty();var n=this._findNearestTick(a),s=this.model;(t||n!==s.getCurrentIndex()&&s.get("realtime"))&&this._changeTimeline(n)},t.prototype._doPlayStop=function(){var e=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout((function(){var t=e.model;e._changeTimeline(t.getCurrentIndex()+(t.get("rewind",!0)?-1:1))}),this.model.get("playInterval")))},t.prototype._toAxisCoord=function(e){var t=this._mainGroup.getLocalTransform();return Ot["applyTransform"](e,t,!0)},t.prototype._findNearestTick=function(e){var t,a=this.model.getData(),r=1/0,i=this._axis;return a.each(["value"],(function(a,n){var s=i.dataToCoord(a),o=Math.abs(s-e);o<r&&(r=o,t=n)})),t},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(e){var t=this.model.getCurrentIndex();"+"===e?e=t+1:"-"===e&&(e=t-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})},t.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex(),t=this._tickSymbols,a=this._tickLabels;if(t)for(var r=0;r<t.length;r++)t&&t[r]&&t[r].toggleState("progress",r<e);if(a)for(r=0;r<a.length;r++)a&&a[r]&&a[r].toggleState("progress",cx(a[r]).dataIndex<=e)},t.type="timeline.slider",t}(rx);function ux(e,t){if(t=t||e.get("type"),t)switch(t){case"category":return new sx["a"]({ordinalMeta:e.getCategories(),extent:[1/0,-1/0]});case"time":return new ox["a"]({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new wr["a"]}}function hx(e,t){return Mn["g"](e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},e.get("padding"))}function px(e,t,a,r){var i=r.style,n=Ot["createIcon"](e.get(["controlStyle",t]),r||{},new Ba["a"](a[0],a[1],a[2],a[3]));return i&&n.setStyle(i),n}function fx(e,t,a,r,i,n){var s=t.get("color");if(i)i.setColor(s),a.add(i),n&&n.onUpdate(i);else{var o=e.get("symbol");i=Object(kt["a"])(o,-1,-1,2,2,s),i.setStyle("strokeNoScale",!0),a.add(i),n&&n.onCreate(i)}var l=t.getItemStyle(["color"]);i.setStyle(l),r=Object(U["merge"])({rectHover:!0,z2:100},r,!0);var c=Object(kt["c"])(e.get("symbolSize"));r.scaleX=c[0]/2,r.scaleY=c[1]/2;var d=Object(kt["b"])(e.get("symbolOffset"),c);d&&(r.x=(r.x||0)+d[0],r.y=(r.y||0)+d[1]);var u=e.get("symbolRotate");return r.rotation=(u||0)*Math.PI/180||0,i.attr(r),i.updateTransform(),i}function mx(e,t,a,r,i,n){if(!e.dragging){var s=i.getModel("checkpointStyle"),o=r.dataToCoord(i.getData().get("value",a));if(n||!s.get("animation",!0))e.attr({x:o,y:0}),t&&t.attr({shape:{x2:o}});else{var l={duration:s.get("animationDuration",!0),easing:s.get("animationEasing",!0)};e.stopAnimation(null,!0),e.animateTo({x:o,y:0},l),t&&t.animateTo({shape:{x2:o}},l)}}}var gx=dx;function _x(e){e.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},(function(e,t,a){var r=t.getComponent("timeline");return r&&null!=e.currentIndex&&(r.setCurrentIndex(e.currentIndex),!r.get("loop",!0)&&r.isIndexMax()&&r.getPlayState()&&(r.setPlayState(!1),a.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),t.resetOption("timeline",{replaceMerge:r.get("replaceMerge",!0)}),Object(U["defaults"])({currentIndex:r.option.currentIndex},e)})),e.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},(function(e,t){var a=t.getComponent("timeline");a&&null!=e.playState&&a.setPlayState(e.playState)}))}function vx(e){var t=e&&e.timeline;U["isArray"](t)||(t=t?[t]:[]),U["each"](t,(function(e){e&&bx(e)}))}function bx(e){var t=e.type,a={number:"value",time:"time"};if(a[t]&&(e.axisType=a[t],delete e.type),yx(e),kx(e,"controlPosition")){var r=e.controlStyle||(e.controlStyle={});kx(r,"position")||(r.position=e.controlPosition),"none"!==r.position||kx(r,"show")||(r.show=!1,delete r.position),delete e.controlPosition}U["each"](e.data||[],(function(e){U["isObject"](e)&&!U["isArray"](e)&&(!kx(e,"value")&&kx(e,"name")&&(e.value=e.name),yx(e))}))}function yx(e){var t=e.itemStyle||(e.itemStyle={}),a=t.emphasis||(t.emphasis={}),r=e.label||e.label||{},i=r.normal||(r.normal={}),n={normal:1,emphasis:1};U["each"](r,(function(e,t){n[t]||kx(i,t)||(i[t]=e)})),a.label&&!kx(r,"emphasis")&&(r.emphasis=a.label,delete a.label)}function kx(e,t){return e.hasOwnProperty(t)}function xx(e){e.registerComponentModel(tx),e.registerComponentView(gx),e.registerSubTypeDefaulter("timeline",(function(){return"slider"})),_x(e),e.registerPreprocessor(vx)}function wx(e,t){if(!e)return!1;for(var a=Object(U["isArray"])(e)?e:[e],r=0;r<a.length;r++)if(a[r]&&a[r][t])return!0;return!1}function Sx(e){Object(qt["f"])(e,"label",["show"])}var Cx=Object(qt["o"])(),Ox=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.createdBySelf=!1,a}return Object(vt["a"])(t,e),t.prototype.init=function(e,t,a){this.mergeDefaultAndTheme(e,a),this._mergeOption(e,a,!1,!0)},t.prototype.isAnimationEnabled=function(){if(uy["a"].node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},t.prototype.mergeOption=function(e,t){this._mergeOption(e,t,!1,!1)},t.prototype._mergeOption=function(e,t,a,r){var i=this.mainType;a||t.eachSeries((function(e){var a=e.get(this.mainType,!0),n=Cx(e)[i];a&&a.data?(n?n._mergeOption(a,t,!0):(r&&Sx(a),U["each"](a.data,(function(e){e instanceof Array?(Sx(e[0]),Sx(e[1])):Sx(e)})),n=this.createMarkerModelFromSeries(a,this,t),U["extend"](n,{mainType:this.mainType,seriesIndex:e.seriesIndex,name:e.name,createdBySelf:!0}),n.__hostSeries=e),Cx(e)[i]=n):Cx(e)[i]=null}),this)},t.prototype.formatTooltip=function(e,t,a){var r=this.getData(),i=this.getRawValue(e),n=r.getName(e);return Object(ar["c"])("section",{header:this.name,blocks:[Object(ar["c"])("nameValue",{name:n,value:i,noName:!n,noValue:null==i})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(e){this._data=e},t.getMarkerModelFromSeries=function(e,t){return Cx(e)[t]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(lr["a"]);U["mixin"](Ox,Qk["a"].prototype);var Tx=Ox,jx=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.createMarkerModelFromSeries=function(e,a,r){return new t(e,a,r)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(Tx),Ix=jx,Ax=a("ca62");function Dx(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}function Mx(e){return!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}function Ex(e,t,a,r,i,n){var s=[],o=Object(Nt["c"])(t,r),l=o?t.getCalculationInfo("stackResultDimension"):r,c=zx(t,l,e),d=t.indicesOfNearest(l,c)[0];s[i]=t.get(a,d),s[n]=t.get(l,d);var u=t.get(r,d),h=Sr["g"](t.get(r,d));return h=Math.min(h,20),h>=0&&(s[n]=+s[n].toFixed(h)),[s,u]}var Rx={min:Object(U["curry"])(Ex,"min"),max:Object(U["curry"])(Ex,"max"),average:Object(U["curry"])(Ex,"average"),median:Object(U["curry"])(Ex,"median")};function Bx(e,t){var a=e.getData(),r=e.coordinateSystem;if(t&&!Mx(t)&&!Object(U["isArray"])(t.coord)&&r){var i=r.dimensions,n=Px(t,a,r,e);if(t=Object(U["clone"])(t),t.type&&Rx[t.type]&&n.baseAxis&&n.valueAxis){var s=Object(U["indexOf"])(i,n.baseAxis.dim),o=Object(U["indexOf"])(i,n.valueAxis.dim),l=Rx[t.type](a,n.baseDataDim,n.valueDataDim,s,o);t.coord=l[0],t.value=l[1]}else{for(var c=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis],d=0;d<2;d++)Rx[c[d]]&&(c[d]=zx(a,a.mapDimension(i[d]),c[d]));t.coord=c}}return t}function Px(e,t,a,r){var i={};return null!=e.valueIndex||null!=e.valueDim?(i.valueDataDim=null!=e.valueIndex?t.getDimension(e.valueIndex):e.valueDim,i.valueAxis=a.getAxis(Lx(r,i.valueDataDim)),i.baseAxis=a.getOtherAxis(i.valueAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim)):(i.baseAxis=r.getBaseAxis(),i.valueAxis=a.getOtherAxis(i.baseAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim),i.valueDataDim=t.mapDimension(i.valueAxis.dim)),i}function Lx(e,t){var a=e.getData().getDimensionInfo(t);return a&&a.coordDim}function Fx(e,t){return!(e&&e.containData&&t.coord&&!Dx(t))||e.containData(t.coord)}function Nx(e,t,a){return!(e&&e.containZone&&t.coord&&a.coord&&!Dx(t)&&!Dx(a))||e.containZone(t.coord,a.coord)}function $x(e,t){return e?function(e,a,r,i){var n=i<2?e.coord&&e.coord[i]:e.value;return Object(Ax["d"])(n,t[i])}:function(e,a,r,i){return Object(Ax["d"])(e.value,t[i])}}function zx(e,t,a){if("average"===a){var r=0,i=0;return e.each(t,(function(e,t){isNaN(e)||(r+=e,i++)})),r/i}return"median"===a?e.getMedian(t):e.getDataExtent(t)["max"===a?1:0]}var Vx=Object(qt["o"])(),Ux=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.init=function(){this.markerGroupMap=Object(U["createHashMap"])()},t.prototype.render=function(e,t,a){var r=this,i=this.markerGroupMap;i.each((function(e){Vx(e).keep=!1})),t.eachSeries((function(e){var i=Tx.getMarkerModelFromSeries(e,r.type);i&&r.renderSeries(e,i,t,a)})),i.each((function(e){!Vx(e).keep&&r.group.remove(e.group)}))},t.prototype.markKeep=function(e){Vx(e).keep=!0},t.prototype.toggleBlurSeries=function(e,t){var a=this;Object(U["each"])(e,(function(e){var r=Tx.getMarkerModelFromSeries(e,a.type);if(r){var i=r.getData();i.eachItemGraphicEl((function(e){e&&(t?Object(jt["q"])(e):Object(jt["B"])(e))}))}}))},t.type="marker",t}(gr["a"]),Hx=Ux;function Gx(e,t,a){var r=t.coordinateSystem;e.each((function(i){var n,s=e.getItemModel(i),o=Sr["p"](s.get("x"),a.getWidth()),l=Sr["p"](s.get("y"),a.getHeight());if(isNaN(o)||isNaN(l)){if(t.getMarkerPosition)n=t.getMarkerPosition(e.getValues(e.dimensions,i));else if(r){var c=e.get(r.dimensions[0],i),d=e.get(r.dimensions[1],i);n=r.dataToPoint([c,d])}}else n=[o,l];isNaN(o)||(n[0]=o),isNaN(l)||(n[1]=l),e.setItemLayout(i,n)}))}var Wx=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.updateTransform=function(e,t,a){t.eachSeries((function(e){var t=Tx.getMarkerModelFromSeries(e,"markPoint");t&&(Gx(t.getData(),e,a),this.markerGroupMap.get(e.id).updateLayout())}),this)},t.prototype.renderSeries=function(e,t,a,r){var i=e.coordinateSystem,n=e.id,s=e.getData(),o=this.markerGroupMap,l=o.get(n)||o.set(n,new Ft),c=qx(i,e,t);t.setData(c),Gx(t.getData(),e,r),c.each((function(e){var a=c.getItemModel(e),r=a.getShallow("symbol"),i=a.getShallow("symbolSize"),n=a.getShallow("symbolRotate"),o=a.getShallow("symbolOffset"),l=a.getShallow("symbolKeepAspect");if(Object(U["isFunction"])(r)||Object(U["isFunction"])(i)||Object(U["isFunction"])(n)||Object(U["isFunction"])(o)){var d=t.getRawValue(e),u=t.getDataParams(e);Object(U["isFunction"])(r)&&(r=r(d,u)),Object(U["isFunction"])(i)&&(i=i(d,u)),Object(U["isFunction"])(n)&&(n=n(d,u)),Object(U["isFunction"])(o)&&(o=o(d,u))}var h=a.getModel("itemStyle").getItemStyle(),p=Object(_k["b"])(s,"color");h.fill||(h.fill=p),c.setItemVisual(e,{symbol:r,symbolSize:i,symbolRotate:n,symbolOffset:o,symbolKeepAspect:l,style:h})})),l.updateData(c),this.group.add(l.group),c.eachItemGraphicEl((function(e){e.traverse((function(e){Object(Tt["a"])(e).dataModel=t}))})),this.markKeep(l),l.group.silent=t.get("silent")||e.get("silent")},t.type="markPoint",t}(Hx);function qx(e,t,a){var r;r=e?Object(U["map"])(e&&e.dimensions,(function(e){var a=t.getData().getDimensionInfo(t.getData().mapDimension(e))||{};return Object(U["extend"])(Object(U["extend"])({},a),{name:e,ordinalMeta:null})})):[{name:"value",type:"float"}];var i=new Ds["a"](r,a),n=Object(U["map"])(a.get("data"),Object(U["curry"])(Bx,t));e&&(n=Object(U["filter"])(n,Object(U["curry"])(Fx,e)));var s=$x(!!e,r);return i.initData(n,null,s),i}var Xx=Wx;function Yx(e){e.registerComponentModel(Ix),e.registerComponentView(Xx),e.registerPreprocessor((function(e){wx(e.series,"markPoint")&&(e.markPoint=e.markPoint||{})}))}var Kx=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.createMarkerModelFromSeries=function(e,a,r){return new t(e,a,r)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(Tx),Zx=Kx,Jx=Object(qt["o"])(),Qx=function(e,t,a,r){var i,n=e.getData();if(Object(U["isArray"])(r))i=r;else{var s=r.type;if("min"===s||"max"===s||"average"===s||"median"===s||null!=r.xAxis||null!=r.yAxis){var o=void 0,l=void 0;if(null!=r.yAxis||null!=r.xAxis)o=t.getAxis(null!=r.yAxis?"y":"x"),l=Object(U["retrieve"])(r.yAxis,r.xAxis);else{var c=Px(r,n,t,e);o=c.valueAxis;var d=Object(Nt["b"])(n,c.valueDataDim);l=zx(n,d,s)}var u="x"===o.dim?0:1,h=1-u,p=Object(U["clone"])(r),f={coord:[]};p.type=null,p.coord=[],p.coord[h]=-1/0,f.coord[h]=1/0;var m=a.get("precision");m>=0&&Object(U["isNumber"])(l)&&(l=+l.toFixed(Math.min(m,20))),p.coord[u]=f.coord[u]=l,i=[p,f,{type:s,valueIndex:r.valueIndex,value:l}]}else i=[]}var g=[Bx(e,i[0]),Bx(e,i[1]),Object(U["extend"])({},i[2])];return g[2].type=g[2].type||null,Object(U["merge"])(g[2],g[0]),Object(U["merge"])(g[2],g[1]),g};function ew(e){return!isNaN(e)&&!isFinite(e)}function tw(e,t,a,r){var i=1-e,n=r.dimensions[e];return ew(t[i])&&ew(a[i])&&t[e]===a[e]&&r.getAxis(n).containData(t[e])}function aw(e,t){if("cartesian2d"===e.type){var a=t[0].coord,r=t[1].coord;if(a&&r&&(tw(1,a,r,e)||tw(0,a,r,e)))return!0}return Fx(e,t[0])&&Fx(e,t[1])}function rw(e,t,a,r,i){var n,s=r.coordinateSystem,o=e.getItemModel(t),l=Sr["p"](o.get("x"),i.getWidth()),c=Sr["p"](o.get("y"),i.getHeight());if(isNaN(l)||isNaN(c)){if(r.getMarkerPosition)n=r.getMarkerPosition(e.getValues(e.dimensions,t));else{var d=s.dimensions,u=e.get(d[0],t),h=e.get(d[1],t);n=s.dataToPoint([u,h])}if(Object(na["a"])(s,"cartesian2d")){var p=s.getAxis("x"),f=s.getAxis("y");d=s.dimensions;ew(e.get(d[0],t))?n[0]=p.toGlobalCoord(p.getExtent()[a?0:1]):ew(e.get(d[1],t))&&(n[1]=f.toGlobalCoord(f.getExtent()[a?0:1]))}isNaN(l)||(n[0]=l),isNaN(c)||(n[1]=c)}else n=[l,c];e.setItemLayout(t,n)}var iw=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.updateTransform=function(e,t,a){t.eachSeries((function(e){var t=Tx.getMarkerModelFromSeries(e,"markLine");if(t){var r=t.getData(),i=Jx(t).from,n=Jx(t).to;i.each((function(t){rw(i,t,!0,e,a),rw(n,t,!1,e,a)})),r.each((function(e){r.setItemLayout(e,[i.getItemLayout(e),n.getItemLayout(e)])})),this.markerGroupMap.get(e.id).updateLayout()}}),this)},t.prototype.renderSeries=function(e,t,a,r){var i=e.coordinateSystem,n=e.id,s=e.getData(),o=this.markerGroupMap,l=o.get(n)||o.set(n,new wc);this.group.add(l.group);var c=nw(i,e,t),d=c.from,u=c.to,h=c.line;Jx(t).from=d,Jx(t).to=u,t.setData(h);var p=t.get("symbol"),f=t.get("symbolSize"),m=t.get("symbolRotate"),g=t.get("symbolOffset");function _(t,a,i){var n=t.getItemModel(a);rw(t,a,i,e,r);var o=n.getModel("itemStyle").getItemStyle();null==o.fill&&(o.fill=Object(_k["b"])(s,"color")),t.setItemVisual(a,{symbolKeepAspect:n.get("symbolKeepAspect"),symbolOffset:Object(U["retrieve2"])(n.get("symbolOffset",!0),g[i?0:1]),symbolRotate:Object(U["retrieve2"])(n.get("symbolRotate",!0),m[i?0:1]),symbolSize:Object(U["retrieve2"])(n.get("symbolSize"),f[i?0:1]),symbol:Object(U["retrieve2"])(n.get("symbol",!0),p[i?0:1]),style:o})}Object(U["isArray"])(p)||(p=[p,p]),Object(U["isArray"])(f)||(f=[f,f]),Object(U["isArray"])(m)||(m=[m,m]),Object(U["isArray"])(g)||(g=[g,g]),c.from.each((function(e){_(d,e,!0),_(u,e,!1)})),h.each((function(e){var t=h.getItemModel(e).getModel("lineStyle").getLineStyle();h.setItemLayout(e,[d.getItemLayout(e),u.getItemLayout(e)]),null==t.stroke&&(t.stroke=d.getItemVisual(e,"style").fill),h.setItemVisual(e,{fromSymbolKeepAspect:d.getItemVisual(e,"symbolKeepAspect"),fromSymbolOffset:d.getItemVisual(e,"symbolOffset"),fromSymbolRotate:d.getItemVisual(e,"symbolRotate"),fromSymbolSize:d.getItemVisual(e,"symbolSize"),fromSymbol:d.getItemVisual(e,"symbol"),toSymbolKeepAspect:u.getItemVisual(e,"symbolKeepAspect"),toSymbolOffset:u.getItemVisual(e,"symbolOffset"),toSymbolRotate:u.getItemVisual(e,"symbolRotate"),toSymbolSize:u.getItemVisual(e,"symbolSize"),toSymbol:u.getItemVisual(e,"symbol"),style:t})})),l.updateData(h),c.line.eachItemGraphicEl((function(e){Object(Tt["a"])(e).dataModel=t,e.traverse((function(e){Object(Tt["a"])(e).dataModel=t}))})),this.markKeep(l),l.group.silent=t.get("silent")||e.get("silent")},t.type="markLine",t}(Hx);function nw(e,t,a){var r;r=e?Object(U["map"])(e&&e.dimensions,(function(e){var a=t.getData().getDimensionInfo(t.getData().mapDimension(e))||{};return Object(U["extend"])(Object(U["extend"])({},a),{name:e,ordinalMeta:null})})):[{name:"value",type:"float"}];var i=new Ds["a"](r,a),n=new Ds["a"](r,a),s=new Ds["a"]([],a),o=Object(U["map"])(a.get("data"),Object(U["curry"])(Qx,t,e,a));e&&(o=Object(U["filter"])(o,Object(U["curry"])(aw,e)));var l=$x(!!e,r);return i.initData(Object(U["map"])(o,(function(e){return e[0]})),null,l),n.initData(Object(U["map"])(o,(function(e){return e[1]})),null,l),s.initData(Object(U["map"])(o,(function(e){return e[2]}))),s.hasItemOption=!0,{from:i,to:n,line:s}}var sw=iw;function ow(e){e.registerComponentModel(Zx),e.registerComponentView(sw),e.registerPreprocessor((function(e){wx(e.series,"markLine")&&(e.markLine=e.markLine||{})}))}var lw=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.createMarkerModelFromSeries=function(e,a,r){return new t(e,a,r)},t.type="markArea",t.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t}(Tx),cw=lw,dw=Object(qt["o"])(),uw=function(e,t,a,r){var i=Bx(e,r[0]),n=Bx(e,r[1]),s=i.coord,o=n.coord;s[0]=Object(U["retrieve"])(s[0],-1/0),s[1]=Object(U["retrieve"])(s[1],-1/0),o[0]=Object(U["retrieve"])(o[0],1/0),o[1]=Object(U["retrieve"])(o[1],1/0);var l=Object(U["mergeAll"])([{},i,n]);return l.coord=[i.coord,n.coord],l.x0=i.x,l.y0=i.y,l.x1=n.x,l.y1=n.y,l};function hw(e){return!isNaN(e)&&!isFinite(e)}function pw(e,t,a,r){var i=1-e;return hw(t[i])&&hw(a[i])}function fw(e,t){var a=t.coord[0],r=t.coord[1],i={coord:a,x:t.x0,y:t.y0},n={coord:r,x:t.x1,y:t.y1};return Object(na["a"])(e,"cartesian2d")?!(!a||!r||!pw(1,a,r,e)&&!pw(0,a,r,e))||Nx(e,i,n):Fx(e,i)||Fx(e,n)}function mw(e,t,a,r,i){var n,s=r.coordinateSystem,o=e.getItemModel(t),l=Sr["p"](o.get(a[0]),i.getWidth()),c=Sr["p"](o.get(a[1]),i.getHeight());if(isNaN(l)||isNaN(c)){if(r.getMarkerPosition)n=r.getMarkerPosition(e.getValues(a,t));else{var d=e.get(a[0],t),u=e.get(a[1],t),h=[d,u];s.clampData&&s.clampData(h,h),n=s.dataToPoint(h,!0)}if(Object(na["a"])(s,"cartesian2d")){var p=s.getAxis("x"),f=s.getAxis("y");d=e.get(a[0],t),u=e.get(a[1],t);hw(d)?n[0]=p.toGlobalCoord(p.getExtent()["x0"===a[0]?0:1]):hw(u)&&(n[1]=f.toGlobalCoord(f.getExtent()["y0"===a[1]?0:1]))}isNaN(l)||(n[0]=l),isNaN(c)||(n[1]=c)}else n=[l,c];return n}var gw=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],_w=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.updateTransform=function(e,t,a){t.eachSeries((function(e){var t=Tx.getMarkerModelFromSeries(e,"markArea");if(t){var r=t.getData();r.each((function(t){var i=Object(U["map"])(gw,(function(i){return mw(r,t,i,e,a)}));r.setItemLayout(t,i);var n=r.getItemGraphicEl(t);n.setShape("points",i)}))}}),this)},t.prototype.renderSeries=function(e,t,a,r){var i=e.coordinateSystem,n=e.id,s=e.getData(),o=this.markerGroupMap,l=o.get(n)||o.set(n,{group:new xt["a"]});this.group.add(l.group),this.markKeep(l);var c=vw(i,e,t);t.setData(c),c.each((function(t){var a=Object(U["map"])(gw,(function(a){return mw(c,t,a,e,r)})),n=i.getAxis("x").scale,o=i.getAxis("y").scale,l=n.getExtent(),d=o.getExtent(),u=[n.parse(c.get("x0",t)),n.parse(c.get("x1",t))],h=[o.parse(c.get("y0",t)),o.parse(c.get("y1",t))];Sr["c"](u),Sr["c"](h);var p=!(l[0]>u[1]||l[1]<u[0]||d[0]>h[1]||d[1]<h[0]),f=!p;c.setItemLayout(t,{points:a,allClipped:f});var m=c.getItemModel(t).getModel("itemStyle").getItemStyle(),g=Object(_k["b"])(s,"color");m.fill||(m.fill=g,Object(U["isString"])(m.fill)&&(m.fill=oa["modifyAlpha"](m.fill,.4))),m.stroke||(m.stroke=g),c.setItemVisual(t,"style",m)})),c.diff(dw(l).data).add((function(e){var t=c.getItemLayout(e);if(!t.allClipped){var a=new Ka["a"]({shape:{points:t.points}});c.setItemGraphicEl(e,a),l.group.add(a)}})).update((function(e,a){var r=dw(l).data.getItemGraphicEl(a),i=c.getItemLayout(e);i.allClipped?r&&l.group.remove(r):(r?Ct["h"](r,{shape:{points:i.points}},t,e):r=new Ka["a"]({shape:{points:i.points}}),c.setItemGraphicEl(e,r),l.group.add(r))})).remove((function(e){var t=dw(l).data.getItemGraphicEl(e);l.group.remove(t)})).execute(),c.eachItemGraphicEl((function(e,a){var r=c.getItemModel(a),i=c.getItemVisual(a,"style");e.useStyle(c.getItemVisual(a,"style")),Object(At["g"])(e,Object(At["e"])(r),{labelFetcher:t,labelDataIndex:a,defaultText:c.getName(a)||"",inheritColor:Object(U["isString"])(i.fill)?oa["modifyAlpha"](i.fill,1):"#000"}),Object(jt["I"])(e,r),Object(jt["J"])(e,null,null,r.get(["emphasis","disabled"])),Object(Tt["a"])(e).dataModel=t})),dw(l).data=c,l.group.silent=t.get("silent")||e.get("silent")},t.type="markArea",t}(Hx);function vw(e,t,a){var r,i,n=["x0","y0","x1","y1"];if(e){var s=Object(U["map"])(e&&e.dimensions,(function(e){var a=t.getData(),r=a.getDimensionInfo(a.mapDimension(e))||{};return Object(U["extend"])(Object(U["extend"])({},r),{name:e,ordinalMeta:null})}));i=Object(U["map"])(n,(function(e,t){return{name:e,type:s[t%2].type}})),r=new Ds["a"](i,a)}else i=[{name:"value",type:"float"}],r=new Ds["a"](i,a);var o=Object(U["map"])(a.get("data"),Object(U["curry"])(uw,t,e,a));e&&(o=Object(U["filter"])(o,Object(U["curry"])(fw,e)));var l=e?function(e,t,a,r){var n=e.coord[Math.floor(r/2)][r%2];return Object(Ax["d"])(n,i[r])}:function(e,t,a,r){return Object(Ax["d"])(e.value,i[r])};return r.initData(o,null,l),r.hasItemOption=!0,r}var bw=_w;function yw(e){e.registerComponentModel(cw),e.registerComponentView(bw),e.registerPreprocessor((function(e){wx(e.series,"markArea")&&(e.markArea=e.markArea||{})}))}var kw=a("2fca"),xw=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.type="dataZoom.inside",t.defaultOption=Object(Xi["d"])(Pb.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(Pb),ww=xw,Sw=Object(qt["o"])();function Cw(e,t,a){Sw(e).coordSysRecordMap.each((function(e){var r=e.dataZoomInfoMap.get(t.uid);r&&(r.getRange=a)}))}function Ow(e,t){for(var a=Sw(e).coordSysRecordMap,r=a.keys(),i=0;i<r.length;i++){var n=r[i],s=a.get(n),o=s.dataZoomInfoMap;if(o){var l=t.uid,c=o.get(l);c&&(o.removeKey(l),o.keys().length||Tw(a,s))}}}function Tw(e,t){if(t){e.removeKey(t.model.uid);var a=t.controller;a&&a.dispose()}}function jw(e,t){var a={model:t,containsPoint:Object(U["curry"])(Aw,t),dispatchAction:Object(U["curry"])(Iw,e),dataZoomInfoMap:null,controller:null},r=a.controller=new Vr(e.getZr());return Object(U["each"])(["pan","zoom","scrollMove"],(function(e){r.on(e,(function(t){var r=[];a.dataZoomInfoMap.each((function(i){if(t.isAvailableBehavior(i.model.option)){var n=(i.getRange||{})[e],s=n&&n(i.dzReferCoordSysInfo,a.model.mainType,a.controller,t);!i.model.get("disabled",!0)&&s&&r.push({dataZoomId:i.model.id,start:s[0],end:s[1]})}})),r.length&&a.dispatchAction(r)}))})),a}function Iw(e,t){e.isDisposed()||e.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function Aw(e,t,a,r){return e.coordinateSystem.containPoint([a,r])}function Dw(e){var t,a="type_",r={type_true:2,type_move:1,type_false:0,type_undefined:-1},i=!0;return e.each((function(e){var n=e.model,s=!n.get("disabled",!0)&&(!n.get("zoomLock",!0)||"move");r[a+s]>r[a+t]&&(t=s),i=i&&n.get("preventDefaultMouseMove",!0)})),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!i}}}function Mw(e){e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,(function(e,t){var a=Sw(t),r=a.coordSysRecordMap||(a.coordSysRecordMap=Object(U["createHashMap"])());r.each((function(e){e.dataZoomInfoMap=null})),e.eachComponent({mainType:"dataZoom",subType:"inside"},(function(e){var a=Mb(e);Object(U["each"])(a.infoList,(function(a){var i=a.model.uid,n=r.get(i)||r.set(i,jw(t,a.model)),s=n.dataZoomInfoMap||(n.dataZoomInfoMap=Object(U["createHashMap"])());s.set(e.uid,{dzReferCoordSysInfo:a,model:e,getRange:null})}))})),r.each((function(e){var t,a=e.controller,i=e.dataZoomInfoMap;if(i){var n=i.keys()[0];null!=n&&(t=i.get(n))}if(t){var s=Dw(i);a.enable(s.controlType,s.opt),a.setPointerChecker(e.containsPoint),Fd["b"](e,"dispatchAction",t.model.get("throttle",!0),"fixRate")}else Tw(r,e)}))}))}var Ew=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return Object(vt["a"])(t,e),t.prototype.render=function(t,a,r){e.prototype.render.apply(this,arguments),t.noTarget()?this._clear():(this.range=t.getPercentRange(),Cw(r,t,{pan:Object(U["bind"])(Rw.pan,this),zoom:Object(U["bind"])(Rw.zoom,this),scrollMove:Object(U["bind"])(Rw.scrollMove,this)}))},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){Ow(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}($b),Rw={zoom:function(e,t,a,r){var i=this.range,n=i.slice(),s=e.axisModels[0];if(s){var o=Pw[t](null,[r.originX,r.originY],s,a,e),l=(o.signal>0?o.pixelStart+o.pixelLength-o.pixel:o.pixel-o.pixelStart)/o.pixelLength*(n[1]-n[0])+n[0],c=Math.max(1/r.scale,0);n[0]=(n[0]-l)*c+l,n[1]=(n[1]-l)*c+l;var d=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return Yd(0,n,[0,100],0,d.minSpan,d.maxSpan),this.range=n,i[0]!==n[0]||i[1]!==n[1]?n:void 0}},pan:Bw((function(e,t,a,r,i,n){var s=Pw[r]([n.oldX,n.oldY],[n.newX,n.newY],t,i,a);return s.signal*(e[1]-e[0])*s.pixel/s.pixelLength})),scrollMove:Bw((function(e,t,a,r,i,n){var s=Pw[r]([0,0],[n.scrollDelta,n.scrollDelta],t,i,a);return s.signal*(e[1]-e[0])*n.scrollDelta}))};function Bw(e){return function(t,a,r,i){var n=this.range,s=n.slice(),o=t.axisModels[0];if(o){var l=e(s,o,t,a,r,i);return Yd(l,s,[0,100],"all"),this.range=s,n[0]!==s[0]||n[1]!==s[1]?s:void 0}}}var Pw={grid:function(e,t,a,r,i){var n=a.axis,s={},o=i.model.coordinateSystem.getRect();return e=e||[0,0],"x"===n.dim?(s.pixel=t[0]-e[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=n.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=n.inverse?-1:1),s},polar:function(e,t,a,r,i){var n=a.axis,s={},o=i.model.coordinateSystem,l=o.getRadiusAxis().getExtent(),c=o.getAngleAxis().getExtent();return e=e?o.pointToCoord(e):[0,0],t=o.pointToCoord(t),"radiusAxis"===a.mainType?(s.pixel=t[0]-e[0],s.pixelLength=l[1]-l[0],s.pixelStart=l[0],s.signal=n.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=c[1]-c[0],s.pixelStart=c[0],s.signal=n.inverse?-1:1),s},singleAxis:function(e,t,a,r,i){var n=a.axis,s=i.model.coordinateSystem.getRect(),o={};return e=e||[0,0],"horizontal"===n.orient?(o.pixel=t[0]-e[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=n.inverse?1:-1):(o.pixel=t[1]-e[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=n.inverse?-1:1),o}},Lw=Ew;function Fw(e){Qb(e),e.registerComponentModel(ww),e.registerComponentView(Lw),Mw(e)}var Nw=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=Object(Xi["d"])(Pb.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(Pb),$w=Nw,zw=Xr["a"],Vw=7,Uw=1,Hw=30,Gw=7,Ww="horizontal",qw="vertical",Xw=5,Yw=["line","bar","candlestick","scatter"],Kw={easing:"cubicOut",duration:100,delay:0},Zw=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a._displayables={},a}return Object(vt["a"])(t,e),t.prototype.init=function(e,t){this.api=t,this._onBrush=Object(U["bind"])(this._onBrush,this),this._onBrushEnd=Object(U["bind"])(this._onBrushEnd,this)},t.prototype.render=function(t,a,r,i){if(e.prototype.render.apply(this,arguments),Fd["b"](this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),!1!==t.get("show")){if(t.noTarget())return this._clear(),void this.group.removeAll();i&&"dataZoom"===i.type&&i.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){Fd["a"](this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var t=this._displayables.sliderGroup=new xt["a"];this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(t),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,t=this.api,a=e.get("brushSelect"),r=a?Gw:0,i=this._findCoordRect(),n={width:t.getWidth(),height:t.getHeight()},s=this._orient===Ww?{right:n.width-i.x-i.width,top:n.height-Hw-Vw-r,width:i.width,height:Hw}:{right:Vw,top:i.y,width:Hw,height:i.height},o=Mn["f"](e.option);Object(U["each"])(["right","top","width","height"],(function(e){"ph"===o[e]&&(o[e]=s[e])}));var l=Mn["g"](o,n);this._location={x:l.x,y:l.y},this._size=[l.width,l.height],this._orient===qw&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,t=this._location,a=this._orient,r=this.dataZoomModel.getFirstTargetAxisModel(),i=r&&r.get("inverse"),n=this._displayables.sliderGroup,s=(this._dataShadowInfo||{}).otherAxisInverse;n.attr(a!==Ww||i?a===Ww&&i?{scaleY:s?1:-1,scaleX:-1}:a!==qw||i?{scaleY:s?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:s?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:s?1:-1,scaleX:1});var o=e.getBoundingRect([n]);e.x=t.x-o.x,e.y=t.y-o.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,t=this._size,a=this._displayables.sliderGroup,r=e.get("brushSelect");a.add(new zw({silent:!0,shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var i=new zw({shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:"transparent"},z2:0,onclick:Object(U["bind"])(this._onClickPanel,this)}),n=this.api.getZr();r?(i.on("mousedown",this._onBrushStart,this),i.cursor="crosshair",n.on("mousemove",this._onBrush),n.on("mouseup",this._onBrushEnd)):(n.off("mousemove",this._onBrush),n.off("mouseup",this._onBrushEnd)),a.add(i)},t.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],e){var t=this._size,a=this._shadowSize||[],r=e.series,i=r.getRawData(),n=r.getShadowDim?r.getShadowDim():e.otherDim;if(null!=n){var s=this._shadowPolygonPts,o=this._shadowPolylinePts;if(i!==this._shadowData||n!==this._shadowDim||t[0]!==a[0]||t[1]!==a[1]){var l=i.getDataExtent(n),c=.3*(l[1]-l[0]);l=[l[0]-c,l[1]+c];var d,u=[0,t[1]],h=[0,t[0]],p=[[t[0],0],[0,0]],f=[],m=h[1]/(i.count()-1),g=0,_=Math.round(i.count()/t[0]);i.each([n],(function(e,t){if(_>0&&t%_)g+=m;else{var a=null==e||isNaN(e)||""===e,r=a?0:Object(Sr["l"])(e,l,u,!0);a&&!d&&t?(p.push([p[p.length-1][0],0]),f.push([f[f.length-1][0],0])):!a&&d&&(p.push([g,0]),f.push([g,0])),p.push([g,r]),f.push([g,r]),g+=m,d=a}})),s=this._shadowPolygonPts=p,o=this._shadowPolylinePts=f}this._shadowData=i,this._shadowDim=n,this._shadowSize=[t[0],t[1]];for(var v=this.dataZoomModel,b=0;b<3;b++){var y=k(1===b);this._displayables.sliderGroup.add(y),this._displayables.dataShadowSegs.push(y)}}}function k(e){var t=v.getModel(e?"selectedDataBackground":"dataBackground"),a=new xt["a"],r=new Ka["a"]({shape:{points:s},segmentIgnoreThreshold:1,style:t.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),i=new Za["a"]({shape:{points:o},segmentIgnoreThreshold:1,style:t.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return a.add(r),a.add(i),a}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,t=e.get("showDataShadow");if(!1!==t){var a,r=this.ecModel;return e.eachTargetAxis((function(i,n){var s=e.getAxisProxy(i,n).getTargetSeriesModels();Object(U["each"])(s,(function(e){if(!a&&!(!0!==t&&Object(U["indexOf"])(Yw,e.get("type"))<0)){var s,o=r.getComponent(Ab(i),n).axis,l=Jw(i),c=e.coordinateSystem;null!=l&&c.getOtherAxis&&(s=c.getOtherAxis(o).inverse),l=e.getData().mapDimension(l),a={thisAxis:o,series:e,thisDim:i,otherDim:l,otherAxisInverse:s}}}),this)}),this),a}},t.prototype._renderHandle=function(){var e=this.group,t=this._displayables,a=t.handles=[null,null],r=t.handleLabels=[null,null],i=this._displayables.sliderGroup,n=this._size,s=this.dataZoomModel,o=this.api,l=s.get("borderRadius")||0,c=s.get("brushSelect"),d=t.filler=new zw({silent:c,style:{fill:s.get("fillerColor")},textConfig:{position:"inside"}});i.add(d),i.add(new zw({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:n[0],height:n[1],r:l},style:{stroke:s.get("dataBackgroundColor")||s.get("borderColor"),lineWidth:Uw,fill:"rgba(0,0,0,0)"}})),Object(U["each"])([0,1],(function(t){var n=s.get("handleIcon");!kt["d"][n]&&n.indexOf("path://")<0&&n.indexOf("image://")<0&&(n="path://"+n);var o=Object(kt["a"])(n,-1,0,2,2,null,!0);o.attr({cursor:Qw(this._orient),draggable:!0,drift:Object(U["bind"])(this._onDragMove,this,t),ondragend:Object(U["bind"])(this._onDragEnd,this),onmouseover:Object(U["bind"])(this._showDataInfo,this,!0),onmouseout:Object(U["bind"])(this._showDataInfo,this,!1),z2:5});var l=o.getBoundingRect(),c=s.get("handleSize");this._handleHeight=Object(Sr["p"])(c,this._size[1]),this._handleWidth=l.width/l.height*this._handleHeight,o.setStyle(s.getModel("handleStyle").getItemStyle()),o.style.strokeNoScale=!0,o.rectHover=!0,o.ensureState("emphasis").style=s.getModel(["emphasis","handleStyle"]).getItemStyle(),Object(jt["o"])(o);var d=s.get("handleColor");null!=d&&(o.style.fill=d),i.add(a[t]=o);var u=s.getModel("textStyle");e.add(r[t]=new we["a"]({silent:!0,invisible:!0,style:Object(At["c"])(u,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:u.getTextColor(),font:u.getFont()}),z2:10}))}),this);var u=d;if(c){var h=Object(Sr["p"])(s.get("moveHandleSize"),n[1]),p=t.moveHandle=new Xr["a"]({style:s.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:n[1]-.5,height:h}}),f=.8*h,m=t.moveHandleIcon=Object(kt["a"])(s.get("moveHandleIcon"),-f/2,-f/2,f,f,"#fff",!0);m.silent=!0,m.y=n[1]+h/2-.5,p.ensureState("emphasis").style=s.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var g=Math.min(n[1]/2,Math.max(h,10));u=t.moveZone=new Xr["a"]({invisible:!0,shape:{y:n[1]-g,height:h+g}}),u.on("mouseover",(function(){o.enterEmphasis(p)})).on("mouseout",(function(){o.leaveEmphasis(p)})),i.add(p),i.add(m),i.add(u)}u.attr({draggable:!0,cursor:Qw(this._orient),drift:Object(U["bind"])(this._onDragMove,this,"all"),ondragstart:Object(U["bind"])(this._showDataInfo,this,!0),ondragend:Object(U["bind"])(this._onDragEnd,this),onmouseover:Object(U["bind"])(this._showDataInfo,this,!0),onmouseout:Object(U["bind"])(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),t=this._getViewExtent();this._handleEnds=[Object(Sr["l"])(e[0],[0,100],t,!0),Object(Sr["l"])(e[1],[0,100],t,!0)]},t.prototype._updateInterval=function(e,t){var a=this.dataZoomModel,r=this._handleEnds,i=this._getViewExtent(),n=a.findRepresentativeAxisProxy().getMinMaxSpan(),s=[0,100];Yd(t,r,i,a.get("zoomLock")?"all":e,null!=n.minSpan?Object(Sr["l"])(n.minSpan,s,i,!0):null,null!=n.maxSpan?Object(Sr["l"])(n.maxSpan,s,i,!0):null);var o=this._range,l=this._range=Object(Sr["c"])([Object(Sr["l"])(r[0],i,s,!0),Object(Sr["l"])(r[1],i,s,!0)]);return!o||o[0]!==l[0]||o[1]!==l[1]},t.prototype._updateView=function(e){var t=this._displayables,a=this._handleEnds,r=Object(Sr["c"])(a.slice()),i=this._size;Object(U["each"])([0,1],(function(e){var r=t.handles[e],n=this._handleHeight;r.attr({scaleX:n/2,scaleY:n/2,x:a[e]+(e?-1:1),y:i[1]/2-n/2})}),this),t.filler.setShape({x:r[0],y:0,width:r[1]-r[0],height:i[1]});var n={x:r[0],width:r[1]-r[0]};t.moveHandle&&(t.moveHandle.setShape(n),t.moveZone.setShape(n),t.moveZone.getBoundingRect(),t.moveHandleIcon&&t.moveHandleIcon.attr("x",n.x+n.width/2));for(var s=t.dataShadowSegs,o=[0,r[0],r[1],i[0]],l=0;l<s.length;l++){var c=s[l],d=c.getClipPath();d||(d=new Xr["a"],c.setClipPath(d)),d.setShape({x:o[l],y:0,width:o[l+1]-o[l],height:i[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var t=this.dataZoomModel,a=this._displayables,r=a.handleLabels,i=this._orient,n=["",""];if(t.get("showDetail")){var s=t.findRepresentativeAxisProxy();if(s){var o=s.getAxisModel().axis,l=this._range,c=e?s.calculateDataWindow({start:l[0],end:l[1]}).valueWindow:s.getDataValueWindow();n=[this._formatLabel(c[0],o),this._formatLabel(c[1],o)]}}var d=Object(Sr["c"])(this._handleEnds.slice());function u(e){var t=Ot["getTransform"](a.handles[e].parent,this.group),s=Ot["transformDirection"](0===e?"right":"left",t),o=this._handleWidth/2+Xw,l=Ot["applyTransform"]([d[e]+(0===e?-o:o),this._size[1]/2],t);r[e].setStyle({x:l[0],y:l[1],verticalAlign:i===Ww?"middle":s,align:i===Ww?s:"center",text:n[e]})}u.call(this,0),u.call(this,1)},t.prototype._formatLabel=function(e,t){var a=this.dataZoomModel,r=a.get("labelFormatter"),i=a.get("labelPrecision");null!=i&&"auto"!==i||(i=t.getPixelPrecision());var n=null==e||isNaN(e)?"":"category"===t.type||"time"===t.type?t.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(i,20));return Object(U["isFunction"])(r)?r(e,n):Object(U["isString"])(r)?r.replace("{value}",n):n},t.prototype._showDataInfo=function(e){e=this._dragging||e;var t=this._displayables,a=t.handleLabels;a[0].attr("invisible",!e),a[1].attr("invisible",!e),t.moveHandle&&this.api[e?"enterEmphasis":"leaveEmphasis"](t.moveHandle,1)},t.prototype._onDragMove=function(e,t,a,r){this._dragging=!0,Dr["g"](r.event);var i=this._displayables.sliderGroup.getLocalTransform(),n=Ot["applyTransform"]([t,a],i,!0),s=this._updateInterval(e,n[0]),o=this.dataZoomModel.get("realtime");this._updateView(!o),s&&o&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var e=this.dataZoomModel.get("realtime");!e&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var t=this._size,a=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(a[0]<0||a[0]>t[0]||a[1]<0||a[1]>t[1])){var r=this._handleEnds,i=(r[0]+r[1])/2,n=this._updateInterval("all",a[0]-i);this._updateView(),n&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){var t=e.offsetX,a=e.offsetY;this._brushStart=new sd["a"](t,a),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var t=this._displayables.brushRect;if(this._brushing=!1,t){t.attr("ignore",!0);var a=t.shape,r=+new Date;if(!(r-this._brushStartTime<200&&Math.abs(a.width)<5)){var i=this._getViewExtent(),n=[0,100];this._range=Object(Sr["c"])([Object(Sr["l"])(a.x,i,n,!0),Object(Sr["l"])(a.x+a.width,i,n,!0)]),this._handleEnds=[a.x,a.x+a.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(Dr["g"](e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,t){var a=this._displayables,r=this.dataZoomModel,i=a.brushRect;i||(i=a.brushRect=new zw({silent:!0,style:r.getModel("brushStyle").getItemStyle()}),a.sliderGroup.add(i)),i.attr("ignore",!1);var n=this._brushStart,s=this._displayables.sliderGroup,o=s.transformCoordToLocal(e,t),l=s.transformCoordToLocal(n.x,n.y),c=this._size;o[0]=Math.max(Math.min(c[0],o[0]),0),i.setShape({x:l[0],y:0,width:o[0]-l[0],height:c[1]})},t.prototype._dispatchZoomAction=function(e){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?Kw:null,start:t[0],end:t[1]})},t.prototype._findCoordRect=function(){var e,t=Mb(this.dataZoomModel).infoList;if(!e&&t.length){var a=t[0].model.coordinateSystem;e=a.getRect&&a.getRect()}if(!e){var r=this.api.getWidth(),i=this.api.getHeight();e={x:.2*r,y:.2*i,width:.6*r,height:.6*i}}return e},t.type="dataZoom.slider",t}($b);function Jw(e){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[e]}function Qw(e){return"vertical"===e?"ns-resize":"ew-resize"}var eS=Zw;function tS(e){e.registerComponentModel($w),e.registerComponentView(eS),Qb(e)}function aS(e){Object(T["a"])(Fw),Object(T["a"])(tS)}var rS={get:function(e,t,a){var r=U["clone"]((iS[e]||{})[t]);return a&&U["isArray"](r)?r[r.length-1]:r}},iS={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},nS=rS,sS=Ko.mapVisual,oS=Ko.eachVisual,lS=U["isArray"],cS=U["each"],dS=Sr["c"],uS=Sr["l"],hS=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.stateList=["inRange","outOfRange"],a.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],a.layoutMode={type:"box",ignoreSize:!0},a.dataBound=[-1/0,1/0],a.targetVisuals={},a.controllerVisuals={},a}return Object(vt["a"])(t,e),t.prototype.init=function(e,t,a){this.mergeDefaultAndTheme(e,a)},t.prototype.optionUpdated=function(e,t){var a=this.option;!t&&kk(a,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var t=this.stateList;e=U["bind"](e,this),this.controllerVisuals=yk(this.option.controller,t,e),this.targetVisuals=yk(this.option.target,t,e)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesIndex,t=[];return null==e||"all"===e?this.ecModel.eachSeries((function(e,a){t.push(a)})):t=qt["r"](e),t},t.prototype.eachTargetSeries=function(e,t){U["each"](this.getTargetSeriesIndices(),(function(a){var r=this.ecModel.getSeriesByIndex(a);r&&e.call(t,r)}),this)},t.prototype.isTargetSeries=function(e){var t=!1;return this.eachTargetSeries((function(a){a===e&&(t=!0)})),t},t.prototype.formatValueText=function(e,t,a){var r,i=this.option,n=i.precision,s=this.dataBound,o=i.formatter;a=a||["<",">"],U["isArray"](e)&&(e=e.slice(),r=!0);var l=t?e:r?[c(e[0]),c(e[1])]:c(e);return U["isString"](o)?o.replace("{value}",r?l[0]:l).replace("{value2}",r?l[1]:l):U["isFunction"](o)?r?o(e[0],e[1]):o(e):r?e[0]===s[0]?a[0]+" "+l[1]:e[1]===s[1]?a[1]+" "+l[0]:l[0]+" - "+l[1]:l;function c(e){return e===s[0]?"min":e===s[1]?"max":(+e).toFixed(Math.min(n,20))}},t.prototype.resetExtent=function(){var e=this.option,t=dS([e.min,e.max]);this._dataExtent=t},t.prototype.getDataDimensionIndex=function(e){var t=this.option.dimension;if(null!=t)return e.getDimensionIndex(t);for(var a=e.dimensions,r=a.length-1;r>=0;r--){var i=a[r],n=e.getDimensionInfo(i);if(!n.isCalculationCoord)return n.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,t=this.option,a={inRange:t.inRange,outOfRange:t.outOfRange},r=t.target||(t.target={}),i=t.controller||(t.controller={});U["merge"](r,a),U["merge"](i,a);var n=this.isCategory();function s(a){lS(t.color)&&!a.inRange&&(a.inRange={color:t.color.slice().reverse()}),a.inRange=a.inRange||{color:e.get("gradientColor")}}function o(e,t,a){var r=e[t],i=e[a];r&&!i&&(i=e[a]={},cS(r,(function(e,t){if(Ko.isValidType(t)){var a=nS.get(t,"inactive",n);null!=a&&(i[t]=a,"color"!==t||i.hasOwnProperty("opacity")||i.hasOwnProperty("colorAlpha")||(i.opacity=[0,0]))}})))}function l(e){var t=(e.inRange||{}).symbol||(e.outOfRange||{}).symbol,a=(e.inRange||{}).symbolSize||(e.outOfRange||{}).symbolSize,r=this.get("inactiveColor"),i=this.getItemSymbol(),s=i||"roundRect";cS(this.stateList,(function(i){var o=this.itemSize,l=e[i];l||(l=e[i]={color:n?r:[r]}),null==l.symbol&&(l.symbol=t&&U["clone"](t)||(n?s:[s])),null==l.symbolSize&&(l.symbolSize=a&&U["clone"](a)||(n?o[0]:[o[0],o[0]])),l.symbol=sS(l.symbol,(function(e){return"none"===e?s:e}));var c=l.symbolSize;if(null!=c){var d=-1/0;oS(c,(function(e){e>d&&(d=e)})),l.symbolSize=sS(c,(function(e){return uS(e,[0,d],[0,o[0]],!0)}))}}),this)}s.call(this,r),s.call(this,i),o.call(this,r,"inRange","outOfRange"),l.call(this,i)},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(lr["a"]),pS=hS,fS=[20,140],mS=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.optionUpdated=function(t,a){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual((function(e){e.mappingMethod="linear",e.dataExtent=this.getExtent()})),this._resetRange()},t.prototype.resetItemSize=function(){e.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(null==t[0]||isNaN(t[0]))&&(t[0]=fS[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=fS[1])},t.prototype._resetRange=function(){var e=this.getExtent(),t=this.option.range;!t||t.auto?(e.auto=1,this.option.range=e):U["isArray"](t)&&(t[0]>t[1]&&t.reverse(),t[0]=Math.max(t[0],e[0]),t[1]=Math.min(t[1],e[1]))},t.prototype.completeVisualOption=function(){e.prototype.completeVisualOption.apply(this,arguments),U["each"](this.stateList,(function(e){var t=this.option.controller[e].symbolSize;t&&t[0]!==t[1]&&(t[0]=t[1]/3)}),this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),t=Sr["c"]((this.get("range")||[]).slice());return t[0]>e[1]&&(t[0]=e[1]),t[1]>e[1]&&(t[1]=e[1]),t[0]<e[0]&&(t[0]=e[0]),t[1]<e[0]&&(t[1]=e[0]),t},t.prototype.getValueState=function(e){var t=this.option.range,a=this.getExtent();return(t[0]<=a[0]||t[0]<=e)&&(t[1]>=a[1]||e<=t[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var t=[];return this.eachTargetSeries((function(a){var r=[],i=a.getData();i.each(this.getDataDimensionIndex(i),(function(t,a){e[0]<=t&&t<=e[1]&&r.push(a)}),this),t.push({seriesId:a.id,dataIndex:r})}),this),t},t.prototype.getVisualMeta=function(e){var t=gS(this,"outOfRange",this.getExtent()),a=gS(this,"inRange",this.option.range.slice()),r=[];function i(t,a){r.push({value:t,color:e(t,a)})}for(var n=0,s=0,o=a.length,l=t.length;s<l&&(!a.length||t[s]<=a[0]);s++)t[s]<a[n]&&i(t[s],"outOfRange");for(var c=1;n<o;n++,c=0)c&&r.length&&i(a[n],"outOfRange"),i(a[n],"inRange");for(c=1;s<l;s++)(!a.length||a[a.length-1]<t[s])&&(c&&(r.length&&i(r[r.length-1].value,"outOfRange"),c=0),i(t[s],"outOfRange"));var d=r.length;return{stops:r,outerColors:[d?r[0].color:"transparent",d?r[d-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=Object(Xi["d"])(pS.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(pS);function gS(e,t,a){if(a[0]===a[1])return a.slice();for(var r=200,i=(a[1]-a[0])/r,n=a[0],s=[],o=0;o<=r&&n<a[1];o++)s.push(n),n+=i;return s.push(a[1]),s}var _S=mS,vS=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.autoPositionValues={left:1,right:1,top:1,bottom:1},a}return Object(vt["a"])(t,e),t.prototype.init=function(e,t){this.ecModel=e,this.api=t},t.prototype.render=function(e,t,a,r){this.visualMapModel=e,!1!==e.get("show")?this.doRender(e,t,a,r):this.group.removeAll()},t.prototype.renderBackground=function(e){var t=this.visualMapModel,a=sa["j"](t.get("padding")||0),r=e.getBoundingRect();e.add(new Xr["a"]({z2:-1,silent:!0,shape:{x:r.x-a[3],y:r.y-a[0],width:r.width+a[3]+a[1],height:r.height+a[0]+a[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))},t.prototype.getControllerVisual=function(e,t,a){a=a||{};var r=a.forceState,i=this.visualMapModel,n={};if("color"===t){var s=i.get("contentColor");n.color=s}function o(e){return n[e]}function l(e,t){n[e]=t}var c=i.controllerVisuals[r||i.getValueState(e)],d=Ko.prepareVisualTypes(c);return U["each"](d,(function(r){var i=c[r];a.convertOpacityToAlpha&&"opacity"===r&&(r="colorAlpha",i=c.__alphaForOpacity),Ko.dependsOn(r,t)&&i&&i.applyVisual(e,o,l)})),n[t]},t.prototype.positionGroup=function(e){var t=this.visualMapModel,a=this.api;Mn["i"](e,t.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()})},t.prototype.doRender=function(e,t,a,r){},t.type="visualMap",t}(gr["a"]),bS=vS,yS=[["left","right","width"],["top","bottom","height"]];function kS(e,t,a){var r=e.option,i=r.align;if(null!=i&&"auto"!==i)return i;for(var n={width:t.getWidth(),height:t.getHeight()},s="horizontal"===r.orient?1:0,o=yS[s],l=[0,null,10],c={},d=0;d<3;d++)c[yS[1-s][d]]=l[d],c[o[d]]=2===d?a[0]:r[o[d]];var u=[["x","width",3],["y","height",0]][s],h=Object(Mn["g"])(c,n,r.padding);return o[(h.margin[u[2]]||0)+h[u[0]]+.5*h[u[1]]<.5*n[u[1]]?0:1]}function xS(e,t){return U["each"](e||[],(function(e){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")})),e}var wS=Sr["l"],SS=U["each"],CS=Math.min,OS=Math.max,TS=12,jS=6,IS=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a._shapes={},a._dataInterval=[],a._handleEnds=[],a._hoverLinkDataIndices=[],a}return Object(vt["a"])(t,e),t.prototype.doRender=function(e,t,a,r){this._api=a,r&&"selectDataRange"===r.type&&r.from===this.uid||this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(t);var a=e.get("text");this._renderEndsText(t,a,0),this._renderEndsText(t,a,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},t.prototype._renderEndsText=function(e,t,a){if(t){var r=t[1-a];r=null!=r?r+"":"";var i=this.visualMapModel,n=i.get("textGap"),s=i.itemSize,o=this._shapes.mainGroup,l=this._applyTransform([s[0]/2,0===a?-n:s[1]+n],o),c=this._applyTransform(0===a?"bottom":"top",o),d=this._orient,u=this.visualMapModel.textStyleModel;this.group.add(new we["a"]({style:Object(At["c"])(u,{x:l[0],y:l[1],verticalAlign:"horizontal"===d?"middle":c,align:"horizontal"===d?c:"center",text:r})}))}},t.prototype._renderBar=function(e){var t=this.visualMapModel,a=this._shapes,r=t.itemSize,i=this._orient,n=this._useHandle,s=kS(t,this.api,r),o=a.mainGroup=this._createBarGroup(s),l=new xt["a"];o.add(l),l.add(a.outOfRange=AS()),l.add(a.inRange=AS(null,n?ES(this._orient):null,U["bind"](this._dragHandle,this,"all",!1),U["bind"](this._dragHandle,this,"all",!0))),l.setClipPath(new Xr["a"]({shape:{x:0,y:0,width:r[0],height:r[1],r:3}}));var c=t.textStyleModel.getTextRect("国"),d=OS(c.width,c.height);n&&(a.handleThumbs=[],a.handleLabels=[],a.handleLabelPoints=[],this._createHandle(t,o,0,r,d,i),this._createHandle(t,o,1,r,d,i)),this._createIndicator(t,o,r,d,i),e.add(o)},t.prototype._createHandle=function(e,t,a,r,i,n){var s=U["bind"](this._dragHandle,this,a,!1),o=U["bind"](this._dragHandle,this,a,!0),l=Object(E["g"])(e.get("handleSize"),r[0]),c=Object(kt["a"])(e.get("handleIcon"),-l/2,-l/2,l,l,null,!0),d=ES(this._orient);c.attr({cursor:d,draggable:!0,drift:s,ondragend:o,onmousemove:function(e){Dr["g"](e.event)}}),c.x=r[0]/2,c.useStyle(e.getModel("handleStyle").getItemStyle()),c.setStyle({strokeNoScale:!0,strokeFirst:!0}),c.style.lineWidth*=2,c.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),Object(jt["F"])(c,!0),t.add(c);var u=this.visualMapModel.textStyleModel,h=new we["a"]({cursor:d,draggable:!0,drift:s,onmousemove:function(e){Dr["g"](e.event)},ondragend:o,style:Object(At["c"])(u,{x:0,y:0,text:""})});h.ensureState("blur").style={opacity:.1},h.stateTransition={duration:200},this.group.add(h);var p=[l,0],f=this._shapes;f.handleThumbs[a]=c,f.handleLabelPoints[a]=p,f.handleLabels[a]=h},t.prototype._createIndicator=function(e,t,a,r,i){var n=Object(E["g"])(e.get("indicatorSize"),a[0]),s=Object(kt["a"])(e.get("indicatorIcon"),-n/2,-n/2,n,n,null,!0);s.attr({cursor:"move",invisible:!0,silent:!0,x:a[0]/2});var o=e.getModel("indicatorStyle").getItemStyle();if(s instanceof M["a"]){var l=s.style;s.useStyle(U["extend"]({image:l.image,x:l.x,y:l.y,width:l.width,height:l.height},o))}else s.useStyle(o);t.add(s);var c=this.visualMapModel.textStyleModel,d=new we["a"]({silent:!0,invisible:!0,style:Object(At["c"])(c,{x:0,y:0,text:""})});this.group.add(d);var u=[("horizontal"===i?r/2:jS)+a[0]/2,0],h=this._shapes;h.indicator=s,h.indicatorLabel=d,h.indicatorLabelPoint=u,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,t,a,r){if(this._useHandle){if(this._dragging=!t,!t){var i=this._applyTransform([a,r],this._shapes.mainGroup,!0);this._updateInterval(e,i[1]),this._hideIndicator(),this._updateView()}t===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?!this._hovering&&this._clearHoverLinkToSeries():MS(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),a=e.getExtent(),r=[0,e.itemSize[1]];this._handleEnds=[wS(t[0],a,r,!0),wS(t[1],a,r,!0)]},t.prototype._updateInterval=function(e,t){t=t||0;var a=this.visualMapModel,r=this._handleEnds,i=[0,a.itemSize[1]];Yd(t,r,i,e,0);var n=a.getExtent();this._dataInterval=[wS(r[0],i,n,!0),wS(r[1],i,n,!0)]},t.prototype._updateView=function(e){var t=this.visualMapModel,a=t.getExtent(),r=this._shapes,i=[0,t.itemSize[1]],n=e?i:this._handleEnds,s=this._createBarVisual(this._dataInterval,a,n,"inRange"),o=this._createBarVisual(a,a,i,"outOfRange");r.inRange.setStyle({fill:s.barColor}).setShape("points",s.barPoints),r.outOfRange.setStyle({fill:o.barColor}).setShape("points",o.barPoints),this._updateHandle(n,s)},t.prototype._createBarVisual=function(e,t,a,r){var i={forceState:r,convertOpacityToAlpha:!0},n=this._makeColorGradient(e,i),s=[this.getControllerVisual(e[0],"symbolSize",i),this.getControllerVisual(e[1],"symbolSize",i)],o=this._createBarPoints(a,s);return{barColor:new Wt["a"](0,0,0,1,n),barPoints:o,handlesColor:[n[0].color,n[n.length-1].color]}},t.prototype._makeColorGradient=function(e,t){var a=100,r=[],i=(e[1]-e[0])/a;r.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var n=1;n<a;n++){var s=e[0]+i*n;if(s>e[1])break;r.push({color:this.getControllerVisual(s,"color",t),offset:n/a})}return r.push({color:this.getControllerVisual(e[1],"color",t),offset:1}),r},t.prototype._createBarPoints=function(e,t){var a=this.visualMapModel.itemSize;return[[a[0]-t[0],e[0]],[a[0],e[0]],[a[0],e[1]],[a[0]-t[1],e[1]]]},t.prototype._createBarGroup=function(e){var t=this._orient,a=this.visualMapModel.get("inverse");return new xt["a"]("horizontal"!==t||a?"horizontal"===t&&a?{scaleX:"bottom"===e?-1:1,rotation:-Math.PI/2}:"vertical"!==t||a?{scaleX:"left"===e?1:-1}:{scaleX:"left"===e?1:-1,scaleY:-1}:{scaleX:"bottom"===e?1:-1,rotation:Math.PI/2})},t.prototype._updateHandle=function(e,t){if(this._useHandle){var a=this._shapes,r=this.visualMapModel,i=a.handleThumbs,n=a.handleLabels,s=r.itemSize,o=r.getExtent();SS([0,1],(function(l){var c=i[l];c.setStyle("fill",t.handlesColor[l]),c.y=e[l];var d=wS(e[l],[0,s[1]],o,!0),u=this.getControllerVisual(d,"symbolSize");c.scaleX=c.scaleY=u/s[0],c.x=s[0]-u/2;var h=Ot["applyTransform"](a.handleLabelPoints[l],Ot["getTransform"](c,this.group));n[l].setStyle({x:h[0],y:h[1],text:r.formatValueText(this._dataInterval[l]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",a.mainGroup):"center"})}),this)}},t.prototype._showIndicator=function(e,t,a,r){var i=this.visualMapModel,n=i.getExtent(),s=i.itemSize,o=[0,s[1]],l=this._shapes,c=l.indicator;if(c){c.attr("invisible",!1);var d={convertOpacityToAlpha:!0},u=this.getControllerVisual(e,"color",d),h=this.getControllerVisual(e,"symbolSize"),p=wS(e,n,o,!0),f=s[0]-h/2,m={x:c.x,y:c.y};c.y=p,c.x=f;var g=Ot["applyTransform"](l.indicatorLabelPoint,Ot["getTransform"](c,this.group)),_=l.indicatorLabel;_.attr("invisible",!1);var v=this._applyTransform("left",l.mainGroup),b=this._orient,y="horizontal"===b;_.setStyle({text:(a||"")+i.formatValueText(t),verticalAlign:y?v:"middle",align:y?"center":v});var k={x:f,y:p,style:{fill:u}},x={style:{x:g[0],y:g[1]}};if(i.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var w={duration:100,easing:"cubicInOut",additive:!0};c.x=m.x,c.y=m.y,c.animateTo(k,w),_.animateTo(x,w)}else c.attr(k),_.attr(x);this._firstShowIndicator=!1;var S=this._shapes.handleLabels;if(S)for(var C=0;C<S.length;C++)this._api.enterBlur(S[C])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",(function(t){if(e._hovering=!0,!e._dragging){var a=e.visualMapModel.itemSize,r=e._applyTransform([t.offsetX,t.offsetY],e._shapes.mainGroup,!0,!0);r[1]=CS(OS(0,r[1]),a[1]),e._doHoverLinkToSeries(r[1],0<=r[0]&&r[0]<=a[0])}})).on("mouseout",(function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()}))},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,t){var a=this.visualMapModel,r=a.itemSize;if(a.option.hoverLink){var i=[0,r[1]],n=a.getExtent();e=CS(OS(i[0],e),i[1]);var s=DS(a,n,i),o=[e-s,e+s],l=wS(e,i,n,!0),c=[wS(o[0],i,n,!0),wS(o[1],i,n,!0)];o[0]<i[0]&&(c[0]=-1/0),o[1]>i[1]&&(c[1]=1/0),t&&(c[0]===-1/0?this._showIndicator(l,c[1],"< ",s):c[1]===1/0?this._showIndicator(l,c[0],"> ",s):this._showIndicator(l,l,"≈ ",s));var d=this._hoverLinkDataIndices,u=[];(t||MS(a))&&(u=this._hoverLinkDataIndices=a.findTargetDataIndices(c));var h=qt["d"](d,u);this._dispatchHighDown("downplay",xS(h[0],a)),this._dispatchHighDown("highlight",xS(h[1],a))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var t=e.target,a=this.visualMapModel;if(t&&null!=Object(Tt["a"])(t).dataIndex){var r=Object(Tt["a"])(t),i=this.ecModel.getSeriesByIndex(r.seriesIndex);if(a.isTargetSeries(i)){var n=i.getData(r.dataType),s=n.getStore().get(a.getDataDimensionIndex(n),r.dataIndex);isNaN(s)||this._showIndicator(s,s)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var t=this._shapes.handleLabels;if(t)for(var a=0;a<t.length;a++)this._api.leaveBlur(t[a])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",xS(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,t,a,r){var i=Ot["getTransform"](t,r?null:this.group);return U["isArray"](e)?Ot["applyTransform"](e,i,a):Ot["transformDirection"](e,i,a)},t.prototype._dispatchHighDown=function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(bS);function AS(e,t,a,r){return new Ka["a"]({shape:{points:e},draggable:!!a,cursor:t,drift:a,onmousemove:function(e){Dr["g"](e.event)},ondragend:r})}function DS(e,t,a){var r=TS/2,i=e.get("hoverLinkDataSize");return i&&(r=wS(i,t,a,!0)/2),r}function MS(e){var t=e.get("hoverLinkOnHandle");return!!(null==t?e.get("realtime"):t)}function ES(e){return"vertical"===e?"ns-resize":"ew-resize"}var RS=IS,BS={type:"selectDataRange",event:"dataRangeSelected",update:"update"},PS=function(e,t){t.eachComponent({mainType:"visualMap",query:e},(function(t){t.setSelected(e.selected)}))},LS=[{createOnAllSeries:!0,reset:function(e,t){var a=[];return t.eachComponent("visualMap",(function(t){var r=e.pipelineContext;!t.isTargetSeries(e)||r&&r.large||a.push(wk(t.stateList,t.targetVisuals,U["bind"](t.getValueState,t),t.getDataDimensionIndex(e.getData())))})),a}},{createOnAllSeries:!0,reset:function(e,t){var a=e.getData(),r=[];t.eachComponent("visualMap",(function(t){if(t.isTargetSeries(e)){var i=t.getVisualMeta(U["bind"](FS,null,e,t))||{stops:[],outerColors:[]},n=t.getDataDimensionIndex(a);n>=0&&(i.dimension=n,r.push(i))}})),e.getData().setVisual("visualMeta",r)}}];function FS(e,t,a,r){for(var i=t.targetVisuals[r],n=Ko.prepareVisualTypes(i),s={color:Object(_k["b"])(e.getData(),"color")},o=0,l=n.length;o<l;o++){var c=n[o],d=i["opacity"===c?"__alphaForOpacity":c];d&&d.applyVisual(a,u,h)}return s.color;function u(e){return s[e]}function h(e,t){s[e]=t}}var NS=U["each"];function $S(e){var t=e&&e.visualMap;U["isArray"](t)||(t=t?[t]:[]),NS(t,(function(e){if(e){zS(e,"splitList")&&!zS(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var t=e.pieces;t&&U["isArray"](t)&&NS(t,(function(e){U["isObject"](e)&&(zS(e,"start")&&!zS(e,"min")&&(e.min=e.start),zS(e,"end")&&!zS(e,"max")&&(e.max=e.end))}))}}))}function zS(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}var VS=!1;function US(e){VS||(VS=!0,e.registerSubTypeDefaulter("visualMap",(function(e){return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?"piecewise":"continuous"})),e.registerAction(BS,PS),Object(U["each"])(LS,(function(t){e.registerVisual(e.PRIORITY.VISUAL.COMPONENT,t)})),e.registerPreprocessor($S))}function HS(e){e.registerComponentModel(_S),e.registerComponentView(RS),US(e)}var GS=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a._pieceList=[],a}return Object(vt["a"])(t,e),t.prototype.optionUpdated=function(t,a){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var r=this._mode=this._determineMode();this._pieceList=[],WS[this._mode].call(this,this._pieceList),this._resetSelected(t,a);var i=this.option.categories;this.resetVisual((function(e,t){"categories"===r?(e.mappingMethod="category",e.categories=U["clone"](i)):(e.dataExtent=this.getExtent(),e.mappingMethod="piecewise",e.pieceList=U["map"](this._pieceList,(function(e){return e=U["clone"](e),"inRange"!==t&&(e.visual=null),e})))}))},t.prototype.completeVisualOption=function(){var t=this.option,a={},r=Ko.listVisualTypes(),i=this.isCategory();function n(e,t,a){return e&&e[t]&&e[t].hasOwnProperty(a)}U["each"](t.pieces,(function(e){U["each"](r,(function(t){e.hasOwnProperty(t)&&(a[t]=1)}))})),U["each"](a,(function(e,a){var r=!1;U["each"](this.stateList,(function(e){r=r||n(t,e,a)||n(t.target,e,a)}),this),!r&&U["each"](this.stateList,(function(e){(t[e]||(t[e]={}))[a]=nS.get(a,"inRange"===e?"active":"inactive",i)}))}),this),e.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,t){var a=this.option,r=this._pieceList,i=(t?a:e).selected||{};if(a.selected=i,U["each"](r,(function(e,t){var a=this.getSelectedMapKey(e);i.hasOwnProperty(a)||(i[a]=!0)}),this),"single"===a.selectedMode){var n=!1;U["each"](r,(function(e,t){var a=this.getSelectedMapKey(e);i[a]&&(n?i[a]=!1:n=!0)}),this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(e){return"categories"===this._mode?e.value+"":e.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(e){this.option.selected=U["clone"](e)},t.prototype.getValueState=function(e){var t=Ko.findPieceIndex(e,this._pieceList);return null!=t&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var t=[],a=this._pieceList;return this.eachTargetSeries((function(r){var i=[],n=r.getData();n.each(this.getDataDimensionIndex(n),(function(t,r){var n=Ko.findPieceIndex(t,a);n===e&&i.push(r)}),this),t.push({seriesId:r.id,dataIndex:i})}),this),t},t.prototype.getRepresentValue=function(e){var t;if(this.isCategory())t=e.value;else if(null!=e.value)t=e.value;else{var a=e.interval||[];t=a[0]===-1/0&&a[1]===1/0?0:(a[0]+a[1])/2}return t},t.prototype.getVisualMeta=function(e){if(!this.isCategory()){var t=[],a=["",""],r=this,i=this._pieceList.slice();if(i.length){var n=i[0].interval[0];n!==-1/0&&i.unshift({interval:[-1/0,n]}),n=i[i.length-1].interval[1],n!==1/0&&i.push({interval:[n,1/0]})}else i.push({interval:[-1/0,1/0]});var s=-1/0;return U["each"](i,(function(e){var t=e.interval;t&&(t[0]>s&&o([s,t[0]],"outOfRange"),o(t.slice()),s=t[1])}),this),{stops:t,outerColors:a}}function o(i,n){var s=r.getRepresentValue({interval:i});n||(n=r.getValueState(s));var o=e(s,n);i[0]===-1/0?a[0]=o:i[1]===1/0?a[1]=o:t.push({value:i[0],color:o},{value:i[1],color:o})}},t.type="visualMap.piecewise",t.defaultOption=Object(Xi["d"])(pS.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(pS),WS={splitNumber:function(e){var t=this.option,a=Math.min(t.precision,20),r=this.getExtent(),i=t.splitNumber;i=Math.max(parseInt(i,10),1),t.splitNumber=i;var n=(r[1]-r[0])/i;while(+n.toFixed(a)!==n&&a<5)a++;t.precision=a,n=+n.toFixed(a),t.minOpen&&e.push({interval:[-1/0,r[0]],close:[0,0]});for(var s=0,o=r[0];s<i;o+=n,s++){var l=s===i-1?r[1]:o+n;e.push({interval:[o,l],close:[1,1]})}t.maxOpen&&e.push({interval:[r[1],1/0],close:[0,0]}),Object(Sr["t"])(e),U["each"](e,(function(e,t){e.index=t,e.text=this.formatValueText(e.interval)}),this)},categories:function(e){var t=this.option;U["each"](t.categories,(function(t){e.push({text:this.formatValueText(t,!0),value:t})}),this),qS(t,e)},pieces:function(e){var t=this.option;U["each"](t.pieces,(function(t,a){U["isObject"](t)||(t={value:t});var r={text:"",index:a};if(null!=t.label&&(r.text=t.label),t.hasOwnProperty("value")){var i=r.value=t.value;r.interval=[i,i],r.close=[1,1]}else{for(var n=r.interval=[],s=r.close=[0,0],o=[1,0,1],l=[-1/0,1/0],c=[],d=0;d<2;d++){for(var u=[["gte","gt","min"],["lte","lt","max"]][d],h=0;h<3&&null==n[d];h++)n[d]=t[u[h]],s[d]=o[h],c[d]=2===h;null==n[d]&&(n[d]=l[d])}c[0]&&n[1]===1/0&&(s[0]=0),c[1]&&n[0]===-1/0&&(s[1]=0),n[0]===n[1]&&s[0]&&s[1]&&(r.value=n[0])}r.visual=Ko.retrieveVisuals(t),e.push(r)}),this),qS(t,e),Object(Sr["t"])(e),U["each"](e,(function(e){var t=e.close,a=[["<","≤"][t[1]],[">","≥"][t[0]]];e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,a)}),this)}};function qS(e,t){var a=e.inverse;("vertical"===e.orient?!a:a)&&t.reverse()}var XS=GS,YS=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return Object(vt["a"])(t,e),t.prototype.doRender=function(){var e=this.group;e.removeAll();var t=this.visualMapModel,a=t.get("textGap"),r=t.textStyleModel,i=r.getFont(),n=r.getTextColor(),s=this._getItemAlign(),o=t.itemSize,l=this._getViewData(),c=l.endsText,d=U["retrieve"](t.get("showLabel",!0),!c);c&&this._renderEndsText(e,c[0],o,d,s),U["each"](l.viewPieceList,(function(r){var l=r.piece,c=new xt["a"];c.onclick=U["bind"](this._onItemClick,this,l),this._enableHoverLink(c,r.indexInModelPieceList);var u=t.getRepresentValue(l);if(this._createItemSymbol(c,u,[0,0,o[0],o[1]]),d){var h=this.visualMapModel.getValueState(u);c.add(new we["a"]({style:{x:"right"===s?-a:o[0]+a,y:o[1]/2,text:l.text,verticalAlign:"middle",align:s,font:i,fill:n,opacity:"outOfRange"===h?.5:1}}))}e.add(c)}),this),c&&this._renderEndsText(e,c[1],o,d,s),Mn["b"](t.get("orient"),e,t.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,t){var a=this;e.on("mouseover",(function(){return r("highlight")})).on("mouseout",(function(){return r("downplay")}));var r=function(e){var r=a.visualMapModel;r.option.hoverLink&&a.api.dispatchAction({type:e,batch:xS(r.findTargetDataIndices(t),r)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,t=e.option;if("vertical"===t.orient)return kS(e,this.api,e.itemSize);var a=t.align;return a&&"auto"!==a||(a="left"),a},t.prototype._renderEndsText=function(e,t,a,r,i){if(t){var n=new xt["a"],s=this.visualMapModel.textStyleModel;n.add(new we["a"]({style:Object(At["c"])(s,{x:r?"right"===i?a[0]:0:a[0]/2,y:a[1]/2,verticalAlign:"middle",align:r?i:"center",text:t})})),e.add(n)}},t.prototype._getViewData=function(){var e=this.visualMapModel,t=U["map"](e.getPieceList(),(function(e,t){return{piece:e,indexInModelPieceList:t}})),a=e.get("text"),r=e.get("orient"),i=e.get("inverse");return("horizontal"===r?i:!i)?t.reverse():a&&(a=a.slice().reverse()),{viewPieceList:t,endsText:a}},t.prototype._createItemSymbol=function(e,t,a){e.add(Object(kt["a"])(this.getControllerVisual(t,"symbol"),a[0],a[1],a[2],a[3],this.getControllerVisual(t,"color")))},t.prototype._onItemClick=function(e){var t=this.visualMapModel,a=t.option,r=a.selectedMode;if(r){var i=U["clone"](a.selected),n=t.getSelectedMapKey(e);"single"===r||!0===r?(i[n]=!0,U["each"](i,(function(e,t){i[t]=t===n}))):i[n]=!i[n],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:i})}},t.type="visualMap.piecewise",t}(bS),KS=YS;function ZS(e){e.registerComponentModel(XS),e.registerComponentView(KS),US(e)}function JS(e){Object(T["a"])(HS),Object(T["a"])(ZS)}var QS={label:{enabled:!0},decal:{show:!1}},eC=Object(qt["o"])(),tC={};function aC(e,t){var a=e.getModel("aria");if(a.get("enabled")){var r=U["clone"](QS);U["merge"](r.label,e.getLocaleModel().get("aria"),!1),U["merge"](a.option,r,!1),i(),n()}function i(){var t=a.getModel("decal"),r=t.get("show");if(r){var i=U["createHashMap"]();e.eachSeries((function(e){if(!e.isColorBySeries()){var t=i.get(e.type);t||(t={},i.set(e.type,t)),eC(e).scope=t}})),e.eachRawSeries((function(t){if(!e.isSeriesFiltered(t))if(U["isFunction"](t.enableAriaDecal))t.enableAriaDecal();else{var a=t.getData();if(t.isColorBySeries()){var r=Object(Js["b"])(t.ecModel,t.name,tC,e.getSeriesCount()),i=a.getVisual("decal");a.setVisual("decal",c(i,r))}else{var n=t.getRawData(),s={},o=eC(t).scope;a.each((function(e){var t=a.getRawIndex(e);s[t]=e}));var l=n.count();n.each((function(e){var r=s[e],i=n.getName(e)||e+"",d=Object(Js["b"])(t.ecModel,i,o,l),u=a.getItemVisual(r,"decal");a.setItemVisual(r,"decal",c(u,d))}))}}function c(e,t){var a=e?U["extend"](U["extend"]({},t),e):t;return a.dirty=!0,a}}))}}function n(){var r=e.getLocaleModel().get("aria"),i=a.getModel("label");if(i.option=U["defaults"](i.option,r),i.get("enabled")){var n=t.getZr().dom;if(i.get("description"))n.setAttribute("aria-label",i.get("description"));else{var c,d=e.getSeriesCount(),u=i.get(["data","maxCount"])||10,h=i.get(["series","maxCount"])||10,p=Math.min(d,h);if(!(d<1)){var f=o();if(f){var m=i.get(["general","withTitle"]);c=s(m,{title:f})}else c=i.get(["general","withoutTitle"]);var g=[],_=d>1?i.get(["series","multiple","prefix"]):i.get(["series","single","prefix"]);c+=s(_,{seriesCount:d}),e.eachSeries((function(e,t){if(t<p){var a=void 0,r=e.get("name"),n=r?"withName":"withoutName";a=d>1?i.get(["series","multiple",n]):i.get(["series","single",n]),a=s(a,{seriesId:e.seriesIndex,seriesName:e.get("name"),seriesType:l(e.subType)});var o=e.getData();if(o.count()>u){var c=i.get(["data","partialData"]);a+=s(c,{displayCnt:u})}else a+=i.get(["data","allData"]);for(var h=i.get(["data","separator","middle"]),f=i.get(["data","separator","end"]),m=[],_=0;_<o.count();_++)if(_<u){var v=o.getName(_),b=o.getValues(_),y=i.get(["data",v?"withName":"withoutName"]);m.push(s(y,{name:v,value:b.join(h)}))}a+=m.join(h)+f,g.push(a)}}));var v=i.getModel(["series","multiple","separator"]),b=v.get("middle"),y=v.get("end");c+=g.join(b)+y,n.setAttribute("aria-label",c)}}}}function s(e,t){if(!U["isString"](e))return e;var a=e;return U["each"](t,(function(e,t){a=a.replace(new RegExp("\\{\\s*"+t+"\\s*\\}","g"),e)})),a}function o(){var t=e.get("title");return t&&t.length&&(t=t[0]),t&&t.text}function l(t){return e.getLocaleModel().get(["series","typeNames"])[t]||"自定义图"}}function rC(e){if(e&&e.aria){var t=e.aria;null!=t.show&&(t.enabled=t.show),t.label=t.label||{},U["each"](["description","general","series","data"],(function(e){null!=t[e]&&(t.label[e]=t[e])}))}}function iC(e){e.registerPreprocessor(rC),e.registerVisual(e.PRIORITY.VISUAL.ARIA,aC)}var nC={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},sC=function(){function e(e){var t=this._condVal=Object(U["isString"])(e)?new RegExp(e):Object(U["isRegExp"])(e)?e:null;if(null==t){var a="";0,Object(Mo["c"])(a)}}return e.prototype.evaluate=function(e){var t=typeof e;return Object(U["isString"])(t)?this._condVal.test(e):!!Object(U["isNumber"])(t)&&this._condVal.test(e+"")},e}(),oC=function(){function e(){}return e.prototype.evaluate=function(){return this.value},e}(),lC=function(){function e(){}return e.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(!e[t].evaluate())return!1;return!0},e}(),cC=function(){function e(){}return e.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(e[t].evaluate())return!0;return!1},e}(),dC=function(){function e(){}return e.prototype.evaluate=function(){return!this.child.evaluate()},e}(),uC=function(){function e(){}return e.prototype.evaluate=function(){for(var e=!!this.valueParser,t=this.getValue,a=t(this.valueGetterParam),r=e?this.valueParser(a):null,i=0;i<this.subCondList.length;i++)if(!this.subCondList[i].evaluate(e?r:a))return!1;return!0},e}();function hC(e,t){if(!0===e||!1===e){var a=new oC;return a.value=e,a}var r="";return gC(e)||Object(Mo["c"])(r),e.and?pC("and",e,t):e.or?pC("or",e,t):e.not?fC(e,t):mC(e,t)}function pC(e,t,a){var r=t[e],i="";Object(U["isArray"])(r)||Object(Mo["c"])(i),r.length||Object(Mo["c"])(i);var n="and"===e?new lC:new cC;return n.children=Object(U["map"])(r,(function(e){return hC(e,a)})),n.children.length||Object(Mo["c"])(i),n}function fC(e,t){var a=e.not,r="";gC(a)||Object(Mo["c"])(r);var i=new dC;return i.child=hC(a,t),i.child||Object(Mo["c"])(r),i}function mC(e,t){for(var a="",r=t.prepareGetValue(e),i=[],n=Object(U["keys"])(e),s=e.parser,o=s?Object(Ax["c"])(s):null,l=0;l<n.length;l++){var c=n[l];if("parser"!==c&&!t.valueGetterAttrMap.get(c)){var d=Object(U["hasOwn"])(nC,c)?nC[c]:c,u=e[c],h=o?o(u):u,p=Object(Ax["b"])(d,h)||"reg"===d&&new sC(h);p||Object(Mo["c"])(a),i.push(p)}}i.length||Object(Mo["c"])(a);var f=new uC;return f.valueGetterParam=r,f.valueParser=o,f.getValue=t.getValue,f.subCondList=i,f}function gC(e){return Object(U["isObject"])(e)&&!Object(U["isArrayLike"])(e)}var _C=function(){function e(e,t){this._cond=hC(e,t)}return e.prototype.evaluate=function(){return this._cond.evaluate()},e}();function vC(e,t){return new _C(e,t)}var bC={type:"echarts:filter",transform:function(e){for(var t,a=e.upstream,r=vC(e.config,{valueGetterAttrMap:Object(U["createHashMap"])({dimension:!0}),prepareGetValue:function(e){var t="",r=e.dimension;Object(U["hasOwn"])(e,"dimension")||Object(Mo["c"])(t);var i=a.getDimensionInfo(r);return i||Object(Mo["c"])(t),{dimIdx:i.index}},getValue:function(e){return a.retrieveValueFromItem(t,e.dimIdx)}}),i=[],n=0,s=a.count();n<s;n++)t=a.getRawDataItem(n),r.evaluate()&&i.push(t);return{data:i}}};var yC={type:"echarts:sort",transform:function(e){var t=e.upstream,a=e.config,r="",i=Object(qt["r"])(a);i.length||Object(Mo["c"])(r);var n=[];Object(U["each"])(i,(function(e){var a=e.dimension,i=e.order,s=e.parser,o=e.incomparable;if(null==a&&Object(Mo["c"])(r),"asc"!==i&&"desc"!==i&&Object(Mo["c"])(r),o&&"min"!==o&&"max"!==o){var l="";0,Object(Mo["c"])(l)}if("asc"!==i&&"desc"!==i){var c="";0,Object(Mo["c"])(c)}var d=t.getDimensionInfo(a);d||Object(Mo["c"])(r);var u=s?Object(Ax["c"])(s):null;s&&!u&&Object(Mo["c"])(r),n.push({dimIdx:d.index,parser:u,comparator:new Ax["a"](i,o)})}));var s=t.sourceFormat;s!==wp["c"]&&s!==wp["e"]&&Object(Mo["c"])(r);for(var o=[],l=0,c=t.count();l<c;l++)o.push(t.getRawDataItem(l));return o.sort((function(e,a){for(var r=0;r<n.length;r++){var i=n[r],s=t.retrieveValueFromItem(e,i.dimIdx),o=t.retrieveValueFromItem(a,i.dimIdx);i.parser&&(s=i.parser(s),o=i.parser(o));var l=i.comparator.evaluate(s,o);if(0!==l)return l}return 0})),{data:o}}};function kC(e){e.registerTransform(bC),e.registerTransform(yC)}var xC=a("cb34"),wC=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataset",t}return Object(vt["a"])(t,e),t.prototype.init=function(t,a,r){e.prototype.init.call(this,t,a,r),this._sourceManager=new xC["a"](this),Object(xC["b"])(this)},t.prototype.mergeOption=function(t,a){e.prototype.mergeOption.call(this,t,a),Object(xC["b"])(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:wp["a"]},t}(lr["a"]),SC=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataset",t}return Object(vt["a"])(t,e),t.type="dataset",t}(gr["a"]);function CC(e){e.registerComponentModel(wC),e.registerComponentView(SC)}var OC=ue["a"].CMD;function TC(e,t){return Math.abs(e-t)<1e-5}function jC(e){var t,a,r,i,n,s=e.data,o=e.len(),l=[],c=0,d=0,u=0,h=0;function p(e,a){t&&t.length>2&&l.push(t),t=[e,a]}function f(e,a,r,i){TC(e,r)&&TC(a,i)||t.push(e,a,r,i,r,i)}function m(e,a,r,i,n,s){var o=Math.abs(a-e),l=4*Math.tan(o/4)/3,c=a<e?-1:1,d=Math.cos(e),u=Math.sin(e),h=Math.cos(a),p=Math.sin(a),f=d*n+r,m=u*s+i,g=h*n+r,_=p*s+i,v=n*l*c,b=s*l*c;t.push(f-v*u,m+b*d,g+v*p,_-b*h,g,_)}for(var g=0;g<o;){var _=s[g++],v=1===g;switch(v&&(c=s[g],d=s[g+1],u=c,h=d,_!==OC.L&&_!==OC.C&&_!==OC.Q||(t=[u,h])),_){case OC.M:c=u=s[g++],d=h=s[g++],p(u,h);break;case OC.L:a=s[g++],r=s[g++],f(c,d,a,r),c=a,d=r;break;case OC.C:t.push(s[g++],s[g++],s[g++],s[g++],c=s[g++],d=s[g++]);break;case OC.Q:a=s[g++],r=s[g++],i=s[g++],n=s[g++],t.push(c+2/3*(a-c),d+2/3*(r-d),i+2/3*(a-i),n+2/3*(r-n),i,n),c=i,d=n;break;case OC.A:var b=s[g++],y=s[g++],k=s[g++],x=s[g++],w=s[g++],S=s[g++]+w;g+=1;var C=!s[g++];a=Math.cos(w)*k+b,r=Math.sin(w)*x+y,v?(u=a,h=r,p(u,h)):f(c,d,a,r),c=Math.cos(S)*k+b,d=Math.sin(S)*x+y;for(var O=(C?-1:1)*Math.PI/2,T=w;C?T>S:T<S;T+=O){var j=C?Math.max(T+O,S):Math.min(T+O,S);m(T,j,b,y,k,x)}break;case OC.R:u=c=s[g++],h=d=s[g++],a=u+s[g++],r=h+s[g++],p(a,h),f(a,h,a,r),f(a,r,u,r),f(u,r,u,h),f(u,h,a,h);break;case OC.Z:t&&f(c,d,u,h),c=u,d=h;break}}return t&&t.length>2&&l.push(t),l}function IC(e,t,a,r,i,n,s,o,l,c){if(TC(e,a)&&TC(t,r)&&TC(i,s)&&TC(n,o))l.push(s,o);else{var d=2/c,u=d*d,h=s-e,p=o-t,f=Math.sqrt(h*h+p*p);h/=f,p/=f;var m=a-e,g=r-t,_=i-s,v=n-o,b=m*m+g*g,y=_*_+v*v;if(b<u&&y<u)l.push(s,o);else{var k=h*m+p*g,x=-h*_-p*v,w=b-k*k,S=y-x*x;if(w<u&&k>=0&&S<u&&x>=0)l.push(s,o);else{var C=[],O=[];Object(Xt["g"])(e,a,i,s,.5,C),Object(Xt["g"])(t,r,n,o,.5,O),IC(C[0],O[0],C[1],O[1],C[2],O[2],C[3],O[3],l,c),IC(C[4],O[4],C[5],O[5],C[6],O[6],C[7],O[7],l,c)}}}}function AC(e,t){var a=jC(e),r=[];t=t||1;for(var i=0;i<a.length;i++){var n=a[i],s=[],o=n[0],l=n[1];s.push(o,l);for(var c=2;c<n.length;){var d=n[c++],u=n[c++],h=n[c++],p=n[c++],f=n[c++],m=n[c++];IC(o,l,d,u,h,p,f,m,s,t),o=f,l=m}r.push(s)}return r}function DC(e,t,a){var r=e[t],i=e[1-t],n=Math.abs(r/i),s=Math.ceil(Math.sqrt(n*a)),o=Math.floor(a/s);0===o&&(o=1,s=a);for(var l=[],c=0;c<s;c++)l.push(o);var d=s*o,u=a-d;if(u>0)for(c=0;c<u;c++)l[c%s]+=1;return l}function MC(e,t,a){for(var r=e.r0,i=e.r,n=e.startAngle,s=e.endAngle,o=Math.abs(s-n),l=o*i,c=i-r,d=l>Math.abs(c),u=DC([l,c],d?0:1,t),h=(d?o:c)/u.length,p=0;p<u.length;p++)for(var f=(d?c:o)/u[p],m=0;m<u[p];m++){var g={};d?(g.startAngle=n+h*p,g.endAngle=n+h*(p+1),g.r0=r+f*m,g.r=r+f*(m+1)):(g.startAngle=n+f*m,g.endAngle=n+f*(m+1),g.r0=r+h*p,g.r=r+h*(p+1)),g.clockwise=e.clockwise,g.cx=e.cx,g.cy=e.cy,a.push(g)}}function EC(e,t,a){for(var r=e.width,i=e.height,n=r>i,s=DC([r,i],n?0:1,t),o=n?"width":"height",l=n?"height":"width",c=n?"x":"y",d=n?"y":"x",u=e[o]/s.length,h=0;h<s.length;h++)for(var p=e[l]/s[h],f=0;f<s[h];f++){var m={};m[c]=h*u,m[d]=f*p,m[o]=u,m[l]=p,m.x+=e.x,m.y+=e.y,a.push(m)}}function RC(e,t,a,r){return e*r-a*t}function BC(e,t,a,r,i,n,s,o){var l=a-e,c=r-t,d=s-i,u=o-n,h=RC(d,u,l,c);if(Math.abs(h)<1e-6)return null;var p=e-i,f=t-n,m=RC(p,f,d,u)/h;return m<0||m>1?null:new sd["a"](m*l+e,m*c+t)}function PC(e,t,a){var r=new sd["a"];sd["a"].sub(r,a,t),r.normalize();var i=new sd["a"];sd["a"].sub(i,e,t);var n=i.dot(r);return n}function LC(e,t){var a=e[e.length-1];a&&a[0]===t[0]&&a[1]===t[1]||e.push(t)}function FC(e,t,a){for(var r=e.length,i=[],n=0;n<r;n++){var s=e[n],o=e[(n+1)%r],l=BC(s[0],s[1],o[0],o[1],t.x,t.y,a.x,a.y);l&&i.push({projPt:PC(l,t,a),pt:l,idx:n})}if(i.length<2)return[{points:e},{points:e}];i.sort((function(e,t){return e.projPt-t.projPt}));var c=i[0],d=i[i.length-1];if(d.idx<c.idx){var u=c;c=d,d=u}var h=[c.pt.x,c.pt.y],p=[d.pt.x,d.pt.y],f=[h],m=[p];for(n=c.idx+1;n<=d.idx;n++)LC(f,e[n].slice());LC(f,p),LC(f,h);for(n=d.idx+1;n<=c.idx+r;n++)LC(m,e[n%r].slice());return LC(m,h),LC(m,p),[{points:f},{points:m}]}function NC(e){var t=e.points,a=[],r=[];Object(ls["d"])(t,a,r);var i=new Ba["a"](a[0],a[1],r[0]-a[0],r[1]-a[1]),n=i.width,s=i.height,o=i.x,l=i.y,c=new sd["a"],d=new sd["a"];return n>s?(c.x=d.x=o+n/2,c.y=l,d.y=l+s):(c.y=d.y=l+s/2,c.x=o,d.x=o+n),FC(t,c,d)}function $C(e,t,a,r){if(1===a)r.push(t);else{var i=Math.floor(a/2),n=e(t);$C(e,n[0],i,r),$C(e,n[1],a-i,r)}return r}function zC(e,t){for(var a=[],r=0;r<t;r++)a.push(Object(Jr["a"])(e));return a}function VC(e,t){t.setStyle(e.style),t.z=e.z,t.z2=e.z2,t.zlevel=e.zlevel}function UC(e){for(var t=[],a=0;a<e.length;)t.push([e[a++],e[a++]]);return t}function HC(e,t){var a,r=[],i=e.shape;switch(e.type){case"rect":EC(i,t,r),a=Xr["a"];break;case"sector":MC(i,t,r),a=Zc["a"];break;case"circle":MC({r0:0,r:i.r,startAngle:0,endAngle:2*Math.PI,cx:i.cx,cy:i.cy},t,r),a=Zc["a"];break;default:var n=e.getComputedTransform(),s=n?Math.sqrt(Math.max(n[0]*n[0]+n[1]*n[1],n[2]*n[2]+n[3]*n[3])):1,o=Object(U["map"])(AC(e.getUpdatedPathProxy(),s),(function(e){return UC(e)})),l=o.length;if(0===l)$C(NC,{points:o[0]},t,r);else if(l===t)for(var c=0;c<l;c++)r.push({points:o[c]});else{var d=0,u=Object(U["map"])(o,(function(e){var t=[],a=[];Object(ls["d"])(e,t,a);var r=(a[1]-t[1])*(a[0]-t[0]);return d+=r,{poly:e,area:r}}));u.sort((function(e,t){return t.area-e.area}));var h=t;for(c=0;c<l;c++){var p=u[c];if(h<=0)break;var f=c===l-1?h:Math.ceil(p.area/d*t);f<0||($C(NC,{points:p.poly},f,r),h-=f)}}a=Ka["a"];break}if(!a)return zC(e,t);var m=[];for(c=0;c<r.length;c++){var g=new a;g.setShape(r[c]),VC(e,g),m.push(g)}return m}function GC(e,t){var a=e.length,r=t.length;if(a===r)return[e,t];for(var i=[],n=[],s=a<r?e:t,o=Math.min(a,r),l=Math.abs(r-a)/6,c=(o-2)/6,d=Math.ceil(l/c)+1,u=[s[0],s[1]],h=l,p=2;p<o;){var f=s[p-2],m=s[p-1],g=s[p++],_=s[p++],v=s[p++],b=s[p++],y=s[p++],k=s[p++];if(h<=0)u.push(g,_,v,b,y,k);else{for(var x=Math.min(h,d-1)+1,w=1;w<=x;w++){var S=w/x;Object(Xt["g"])(f,g,v,y,S,i),Object(Xt["g"])(m,_,b,k,S,n),f=i[3],m=n[3],u.push(i[1],n[1],i[2],n[2],f,m),g=i[5],_=n[5],v=i[6],b=n[6]}h-=x-1}}return s===e?[u,t]:[e,u]}function WC(e,t){for(var a=e.length,r=e[a-2],i=e[a-1],n=[],s=0;s<t.length;)n[s++]=r,n[s++]=i;return n}function qC(e,t){for(var a,r,i,n=[],s=[],o=0;o<Math.max(e.length,t.length);o++){var l=e[o],c=t[o],d=void 0,u=void 0;l?c?(a=GC(l,c),d=a[0],u=a[1],r=d,i=u):(u=WC(i||l,l),d=l):(d=WC(r||c,c),u=c),n.push(d),s.push(u)}return[n,s]}function XC(e){for(var t=0,a=0,r=0,i=e.length,n=0,s=i-2;n<i;s=n,n+=2){var o=e[s],l=e[s+1],c=e[n],d=e[n+1],u=o*d-c*l;t+=u,a+=(o+c)*u,r+=(l+d)*u}return 0===t?[e[0]||0,e[1]||0]:[a/t/3,r/t/3,t]}function YC(e,t,a,r){for(var i=(e.length-2)/6,n=1/0,s=0,o=e.length,l=o-2,c=0;c<i;c++){for(var d=6*c,u=0,h=0;h<o;h+=2){var p=0===h?d:(d+h-2)%l+2,f=e[p]-a[0],m=e[p+1]-a[1],g=t[h]-r[0],_=t[h+1]-r[1],v=g-f,b=_-m;u+=v*v+b*b}u<n&&(n=u,s=c)}return s}function KC(e){for(var t=[],a=e.length,r=0;r<a;r+=2)t[r]=e[a-r-2],t[r+1]=e[a-r-1];return t}function ZC(e,t,a,r){for(var i,n=[],s=0;s<e.length;s++){var o=e[s],l=t[s],c=XC(o),d=XC(l);null==i&&(i=c[2]<0!==d[2]<0);var u=[],h=[],p=0,f=1/0,m=[],g=o.length;i&&(o=KC(o));for(var _=6*YC(o,l,c,d),v=g-2,b=0;b<v;b+=2){var y=(_+b)%v+2;u[b+2]=o[y]-c[0],u[b+3]=o[y+1]-c[1]}if(u[0]=o[_]-c[0],u[1]=o[_+1]-c[1],a>0)for(var k=r/a,x=-r/2;x<=r/2;x+=k){var w=Math.sin(x),S=Math.cos(x),C=0;for(b=0;b<o.length;b+=2){var O=u[b],T=u[b+1],j=l[b]-d[0],I=l[b+1]-d[1],A=j*S-I*w,D=j*w+I*S;m[b]=A,m[b+1]=D;var M=A-O,E=D-T;C+=M*M+E*E}if(C<f){f=C,p=x;for(var R=0;R<m.length;R++)h[R]=m[R]}}else for(var B=0;B<g;B+=2)h[B]=l[B]-d[0],h[B+1]=l[B+1]-d[1];n.push({from:u,to:h,fromCp:c,toCp:d,rotation:-p})}return n}function JC(e){return e.__isCombineMorphing}var QC="__mOriginal_";function eO(e,t,a){var r=QC+t,i=e[r]||e[t];e[r]||(e[r]=e[t]);var n=a.replace,s=a.after,o=a.before;e[t]=function(){var e,t=arguments;return o&&o.apply(this,t),e=n?n.apply(this,t):i.apply(this,t),s&&s.apply(this,t),e}}function tO(e,t){var a=QC+t;e[a]&&(e[t]=e[a],e[a]=null)}function aO(e,t){for(var a=0;a<e.length;a++)for(var r=e[a],i=0;i<r.length;){var n=r[i],s=r[i+1];r[i++]=t[0]*n+t[2]*s+t[4],r[i++]=t[1]*n+t[3]*s+t[5]}}function rO(e,t){var a=e.getUpdatedPathProxy(),r=t.getUpdatedPathProxy(),i=qC(jC(a),jC(r)),n=i[0],s=i[1],o=e.getComputedTransform(),l=t.getComputedTransform();function c(){this.transform=null}o&&aO(n,o),l&&aO(s,l),eO(t,"updateTransform",{replace:c}),t.transform=null;var d=ZC(n,s,10,Math.PI),u=[];eO(t,"buildPath",{replace:function(e){for(var a=t.__morphT,r=1-a,i=[],n=0;n<d.length;n++){var s=d[n],o=s.from,l=s.to,c=s.rotation*a,h=s.fromCp,p=s.toCp,f=Math.sin(c),m=Math.cos(c);Object(xn["lerp"])(i,h,p,a);for(var g=0;g<o.length;g+=2){var _=o[g],v=o[g+1],b=l[g],y=l[g+1],k=_*r+b*a,x=v*r+y*a;u[g]=k*m-x*f+i[0],u[g+1]=k*f+x*m+i[1]}var w=u[0],S=u[1];e.moveTo(w,S);for(g=2;g<o.length;){b=u[g++],y=u[g++];var C=u[g++],O=u[g++],T=u[g++],j=u[g++];w===b&&S===y&&C===T&&O===j?e.lineTo(T,j):e.bezierCurveTo(b,y,C,O,T,j),w=T,S=j}}}})}function iO(e,t,a){if(!e||!t)return t;var r=a.done,i=a.during;function n(){tO(t,"buildPath"),tO(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape()}return rO(e,t),t.__morphT=0,t.animateTo({__morphT:1},Object(U["defaults"])({during:function(e){t.dirtyShape(),i&&i(e)},done:function(){n(),r&&r()}},a)),t}function nO(e,t,a,r,i,n){var s=16;e=i===a?0:Math.round(32767*(e-a)/(i-a)),t=n===r?0:Math.round(32767*(t-r)/(n-r));for(var o,l=0,c=(1<<s)/2;c>0;c/=2){var d=0,u=0;(e&c)>0&&(d=1),(t&c)>0&&(u=1),l+=c*c*(3*d^u),0===u&&(1===d&&(e=c-1-e,t=c-1-t),o=e,e=t,t=o)}return l}function sO(e){var t=1/0,a=1/0,r=-1/0,i=-1/0,n=Object(U["map"])(e,(function(e){var n=e.getBoundingRect(),s=e.getComputedTransform(),o=n.x+n.width/2+(s?s[4]:0),l=n.y+n.height/2+(s?s[5]:0);return t=Math.min(o,t),a=Math.min(l,a),r=Math.max(o,r),i=Math.max(l,i),[o,l]})),s=Object(U["map"])(n,(function(n,s){return{cp:n,z:nO(n[0],n[1],t,a,r,i),path:e[s]}}));return s.sort((function(e,t){return e.z-t.z})).map((function(e){return e.path}))}function oO(e){return HC(e.path,e.count)}function lO(){return{fromIndividuals:[],toIndividuals:[],count:0}}function cO(e,t,a){var r=[];function i(e){for(var t=0;t<e.length;t++){var a=e[t];JC(a)?i(a.childrenRef()):a instanceof D["b"]&&r.push(a)}}i(e);var n=r.length;if(!n)return lO();var s=a.dividePath||oO,o=s({path:t,count:n});if(o.length!==n)return console.error("Invalid morphing: unmatched splitted path"),lO();r=sO(r),o=sO(o);for(var l=a.done,c=a.during,d=a.individualDelay,u=new de["c"],h=0;h<n;h++){var p=r[h],f=o[h];f.parent=t,f.copyTransform(u),d||rO(p,f)}function m(e){for(var t=0;t<o.length;t++)o[t].addSelfToZr(e)}function g(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,tO(t,"addSelfToZr"),tO(t,"removeSelfFromZr")}t.__isCombineMorphing=!0,t.childrenRef=function(){return o},eO(t,"addSelfToZr",{after:function(e){m(e)}}),eO(t,"removeSelfFromZr",{after:function(e){for(var t=0;t<o.length;t++)o[t].removeSelfFromZr(e)}});var _=o.length;if(d){var v=_,b=function(){v--,0===v&&(g(),l&&l())};for(h=0;h<_;h++){var y=d?Object(U["defaults"])({delay:(a.delay||0)+d(h,_,r[h],o[h]),done:b},a):a;iO(r[h],o[h],y)}}else t.__morphT=0,t.animateTo({__morphT:1},Object(U["defaults"])({during:function(e){for(var a=0;a<_;a++){var r=o[a];r.__morphT=t.__morphT,r.dirtyShape()}c&&c(e)},done:function(){g();for(var t=0;t<e.length;t++)tO(e[t],"updateTransform");l&&l()}},a));return t.__zr&&m(t.__zr),{fromIndividuals:r,toIndividuals:o,count:_}}function dO(e,t,a){var r=t.length,i=[],n=a.dividePath||oO;function s(e){for(var t=0;t<e.length;t++){var a=e[t];JC(a)?s(a.childrenRef()):a instanceof D["b"]&&i.push(a)}}if(JC(e)){s(e.childrenRef());var o=i.length;if(o<r)for(var l=0,c=o;c<r;c++)i.push(Object(Jr["a"])(i[l++%o]));i.length=r}else{i=n({path:e,count:r});var d=e.getComputedTransform();for(c=0;c<i.length;c++)i[c].setLocalTransform(d);if(i.length!==r)return console.error("Invalid morphing: unmatched splitted path"),lO()}i=sO(i),t=sO(t);var u=a.individualDelay;for(c=0;c<r;c++){var h=u?Object(U["defaults"])({delay:(a.delay||0)+u(c,r,i[c],t[c])},a):a;iO(i[c],t[c],h)}return{fromIndividuals:i,toIndividuals:t,count:t.length}}function uO(e){return Object(U["isArray"])(e[0])}function hO(e,t){for(var a=[],r=e.length,i=0;i<r;i++)a.push({one:e[i],many:[]});for(i=0;i<t.length;i++){var n=t[i].length,s=void 0;for(s=0;s<n;s++)a[s%r].many.push(t[i][s])}var o=0;for(i=r-1;i>=0;i--)if(!a[i].many.length){var l=a[o].many;if(l.length<=1){if(!o)return a;o=0}n=l.length;var c=Math.ceil(n/2);a[i].many=l.slice(c,n),a[o].many=l.slice(0,c),o++}return a}var pO={clone:function(e){for(var t=[],a=1-Math.pow(1-e.path.style.opacity,1/e.count),r=0;r<e.count;r++){var i=Object(Jr["a"])(e.path);i.setStyle("opacity",a),t.push(i)}return t},split:null};function fO(e,t,a,r,i,n){if(e.length&&t.length){var s=Object(Ct["a"])("update",r,i);if(s&&s.duration>0){var o,l,c=r.getModel("universalTransition").get("delay"),d=Object.assign({setToFinal:!0},s);uO(e)&&(o=e,l=t),uO(t)&&(o=t,l=e);for(var u=o?o===e:e.length>t.length,h=o?hO(l,o):hO(u?t:e,[u?e:t]),p=0,f=0;f<h.length;f++)p+=h[f].many.length;var m=0;for(f=0;f<h.length;f++)g(h[f],u,m,p),m+=h[f].many.length}}function g(e,t,r,i,s){var o=e.many,l=e.one;if(1!==o.length||s)for(var u=Object(U["defaults"])({dividePath:pO[a],individualDelay:c&&function(e,t,a,n){return c(e+r,i)}},d),h=t?cO(o,l,u):dO(l,o,u),p=h.fromIndividuals,f=h.toIndividuals,m=p.length,_=0;_<m;_++){y=c?Object(U["defaults"])({delay:c(_,m)},d):d;n(p[_],f[_],t?o[_]:e.one,t?e.one:o[_],y)}else{var v=t?o[0]:l,b=t?l:o[0];if(JC(v))g({many:[v],one:b},!0,r,i,!0);else{var y=c?Object(U["defaults"])({delay:c(r,i)},d):d;iO(v,b,y),n(v,b,v,b,y)}}}}function mO(e){if(!e)return[];if(Object(U["isArray"])(e)){for(var t=[],a=0;a<e.length;a++)t.push(mO(e[a]));return t}var r=[];return e.traverse((function(e){e instanceof D["b"]&&!e.disableMorphing&&!e.invisible&&!e.ignore&&r.push(e)})),r}var gO=1e4,_O=Object(qt["o"])();function vO(e){for(var t=e.dimensions,a=0;a<t.length;a++){var r=e.getDimensionInfo(t[a]);if(r&&0===r.otherDims.itemGroupId)return t[a]}}function bO(e){var t=[];return Object(U["each"])(e,(function(e){var a=e.data;if(!(a.count()>gO))for(var r=a.getIndices(),i=vO(a),n=0;n<r.length;n++)t.push({data:a,dim:e.dim||i,divide:e.divide,dataIndex:n})})),t}function yO(e,t,a){e.traverse((function(e){e instanceof D["b"]&&Object(Ct["c"])(e,{style:{opacity:0}},t,{dataIndex:a,isFrom:!0})}))}function kO(e){if(e.parent){var t=e.getComputedTransform();e.setLocalTransform(t),e.parent.remove(e)}}function xO(e){e.stopAnimation(),e.isGroup&&e.traverse((function(e){e.stopAnimation()}))}function wO(e,t,a){var r=Object(Ct["a"])("update",a,t);r&&e.traverse((function(e){if(e instanceof Ki["c"]){var t=Object(Ct["b"])(e);t&&e.animateFrom({style:t},r)}}))}function SO(e,t){var a=e.length;if(a!==t.length)return!1;for(var r=0;r<a;r++){var i=e[r],n=t[r];if(i.data.getId(i.dataIndex)!==n.data.getId(n.dataIndex))return!1}return!0}function CO(e,t,a){var r=bO(e),i=bO(t);function n(e,t,a,r,i){(a||e)&&t.animateFrom({style:a&&a!==e?Object(U["extend"])(Object(U["extend"])({},a.style),e.style):e.style},i)}function s(e){for(var t=0;t<e.length;t++)if(e[t].dim)return e[t].dim}var o=s(r),l=s(i),c=!1;function d(e,t){return function(a){var r=a.data,i=a.dataIndex;if(t)return r.getId(i);var n=r.hostModel&&r.hostModel.get("dataGroupId"),s=e?o||l:l||o,c=s&&r.getDimensionInfo(s),d=c&&c.ordinalMeta;if(c){var u=r.get(c.name,i);return d&&d.categories[u]||u+""}var h=r.getRawDataItem(i);return h&&h.groupId?h.groupId+"":n||r.getId(i)}}var u=SO(r,i),h={};if(!u)for(var p=0;p<i.length;p++){var f=i[p],m=f.data.getItemGraphicEl(f.dataIndex);m&&(h[m.id]=!0)}function g(e,t){var a=r[t],s=i[e],o=s.data.hostModel,l=a.data.getItemGraphicEl(a.dataIndex),d=s.data.getItemGraphicEl(s.dataIndex);l!==d?l&&h[l.id]||d&&(xO(d),l?(xO(l),kO(l),c=!0,fO(mO(l),mO(d),s.divide,o,e,n)):yO(d,o,e)):d&&wO(d,s.dataIndex,o)}new io["a"](r,i,d(!0,u),d(!1,u),null,"multiple").update(g).updateManyToOne((function(e,t){var a=i[e],s=a.data,o=s.hostModel,l=s.getItemGraphicEl(a.dataIndex),d=Object(U["filter"])(Object(U["map"])(t,(function(e){return r[e].data.getItemGraphicEl(r[e].dataIndex)})),(function(e){return e&&e!==l&&!h[e.id]}));l&&(xO(l),d.length?(Object(U["each"])(d,(function(e){xO(e),kO(e)})),c=!0,fO(mO(d),mO(l),a.divide,o,e,n)):yO(l,o,a.dataIndex))})).updateOneToMany((function(e,t){var a=r[t],s=a.data.getItemGraphicEl(a.dataIndex);if(!s||!h[s.id]){var o=Object(U["filter"])(Object(U["map"])(e,(function(e){return i[e].data.getItemGraphicEl(i[e].dataIndex)})),(function(e){return e&&e!==s})),l=i[e[0]].data.hostModel;o.length&&(Object(U["each"])(o,(function(e){return xO(e)})),s?(xO(s),kO(s),c=!0,fO(mO(s),mO(o),a.divide,l,e[0],n)):Object(U["each"])(o,(function(t){return yO(t,l,e[0])})))}})).updateManyToMany((function(e,t){new io["a"](t,e,(function(e){return r[e].data.getId(r[e].dataIndex)}),(function(e){return i[e].data.getId(i[e].dataIndex)})).update((function(a,r){g(e[a],t[r])})).execute()})).execute(),c&&Object(U["each"])(t,(function(e){var t=e.data,r=t.hostModel,i=r&&a.getViewOfSeriesModel(r),n=Object(Ct["a"])("update",r,0);i&&r.isAnimationEnabled()&&n&&n.duration>0&&i.group.traverse((function(e){e instanceof D["b"]&&!e.animators.length&&e.animateFrom({style:{opacity:0}},n)}))}))}function OO(e){var t=e.getModel("universalTransition").get("seriesKey");return t||e.id}function TO(e){return Object(U["isArray"])(e)?e.sort().join(","):e}function jO(e){if(e.hostModel)return e.hostModel.getModel("universalTransition").get("divideShape")}function IO(e,t){var a=Object(U["createHashMap"])(),r=Object(U["createHashMap"])(),i=Object(U["createHashMap"])();return Object(U["each"])(e.oldSeries,(function(t,a){var n=e.oldData[a],s=OO(t),o=TO(s);r.set(o,n),Object(U["isArray"])(s)&&Object(U["each"])(s,(function(e){i.set(e,{data:n,key:o})}))})),Object(U["each"])(t.updatedSeries,(function(e){if(e.isUniversalTransitionEnabled()&&e.isAnimationEnabled()){var t=e.getData(),n=OO(e),s=TO(n),o=r.get(s);if(o)a.set(s,{oldSeries:[{divide:jO(o),data:o}],newSeries:[{divide:jO(t),data:t}]});else if(Object(U["isArray"])(n)){0;var l=[];Object(U["each"])(n,(function(e){var t=r.get(e);t&&l.push({divide:jO(t),data:t})})),l.length&&a.set(s,{oldSeries:l,newSeries:[{data:t,divide:jO(t)}]})}else{var c=i.get(n);if(c){var d=a.get(c.key);d||(d={oldSeries:[{data:c.data,divide:jO(c.data)}],newSeries:[]},a.set(c.key,d)),d.newSeries.push({data:t,divide:jO(t)})}}}})),a}function AO(e,t){for(var a=0;a<e.length;a++){var r=null!=t.seriesIndex&&t.seriesIndex===e[a].seriesIndex||null!=t.seriesId&&t.seriesId===e[a].id;if(r)return a}}function DO(e,t,a,r){var i=[],n=[];Object(U["each"])(Object(qt["r"])(e.from),(function(e){var a=AO(t.oldSeries,e);a>=0&&i.push({data:t.oldData[a],divide:jO(t.oldData[a]),dim:e.dimension})})),Object(U["each"])(Object(qt["r"])(e.to),(function(e){var t=AO(a.updatedSeries,e);if(t>=0){var r=a.updatedSeries[t].getData();n.push({data:r,divide:jO(r),dim:e.dimension})}})),i.length>0&&n.length>0&&CO(i,n,r)}function MO(e){e.registerUpdateLifecycle("series:beforeupdate",(function(e,t,a){Object(U["each"])(Object(qt["r"])(a.seriesTransition),(function(e){Object(U["each"])(Object(qt["r"])(e.to),(function(e){for(var t=a.updatedSeries,r=0;r<t.length;r++)(null!=e.seriesIndex&&e.seriesIndex===t[r].seriesIndex||null!=e.seriesId&&e.seriesId===t[r].id)&&(t[r][yt["a"]]=!0)}))}))})),e.registerUpdateLifecycle("series:transition",(function(e,t,a){var r=_O(t);if(r.oldSeries&&a.updatedSeries&&a.optionChanged){var i=a.seriesTransition;if(i)Object(U["each"])(Object(qt["r"])(i),(function(e){DO(e,r,a,t)}));else{var n=IO(r,a);Object(U["each"])(n.keys(),(function(e){var a=n.get(e);CO(a.oldSeries,a.newSeries,t)}))}Object(U["each"])(a.updatedSeries,(function(e){e[yt["a"]]&&(e[yt["a"]]=!1)}))}for(var s=e.getSeries(),o=r.oldSeries=[],l=r.oldData=[],c=0;c<s.length;c++){var d=s[c].getData();d.count()<gO&&(o.push(s[c]),l.push(d))}}))}var EO=a("d9f9");function RO(e,t){let a="";try{a=JSON.parse(t);const r=new Function("objData",`return ((${a})).toFixed(2)`);return r(e)}catch(r){return console.log("逻辑表达式错误"+r),"逻辑表达式配置错误"}}Object(T["a"])([I["a"]]),Object(T["a"])([_t]),Object(T["a"])([Aa,Da["a"],Ma["a"],Ha,Ir,qn,Ys,jl,qc,nd,vd,Oh,ip,Cp,Jp,of,Mf,Uf,km,Dm,Zm,T_]),Object(T["a"])(j_["a"]),Object(T["a"])(Sv),Object(T["a"])(Wn),Object(T["a"])(Zv),Object(T["a"])(Ch),Object(T["a"])(lb),Object(T["a"])(Ob),Object(T["a"])(hk),Object(T["a"])(pk["a"]),Object(T["a"])(P_["a"]),Object(T["a"])(Yk),Object(T["a"])(Kk["a"]),Object(T["a"])(xx),Object(T["a"])(Yx),Object(T["a"])(ow),Object(T["a"])(yw),Object(T["a"])(kw["a"]),Object(T["a"])(aS),Object(T["a"])(Fw),Object(T["a"])(tS),Object(T["a"])(JS),Object(T["a"])(HS),Object(T["a"])(ZS),Object(T["a"])(iC),Object(T["a"])(kC),Object(T["a"])(CC),Object(T["a"])(MO),Object(T["a"])(EO["a"]);var BO={props:{taskId:{type:String,default:""},projectId:{type:String,default:""}},data(){return{queryFilter:1,edit_index_id:0,deliverFilterQuery:[],tagName:{},tagResult:[],sort:{sortBy:"percent",descending:!0},isAddDialogShow:!1,formData:{metricsName:"",computeLogic:""},columns:[{colKey:"tag_value",title:"标签值",width:"140",align:"center",ellipsis:!0},{colKey:"count",title:"数量",width:"140",align:"center"},{colKey:"percent",title:"占比",width:"140",align:"center",sortType:"all",sorter:(e,t)=>e.count-t.count}],chartsOption:{title:{text:"",left:"center",top:"center"},tooltip:{trigger:"item"},legend:{top:"5%",left:"center"},series:[{name:"Access From",type:"pie",radius:["40%","50%"],emphasis:{label:{show:!0,fontSize:12,fontWeight:"bold"}},labelLine:{show:!1},data:[{value:0,name:"有效数据"},{value:0,name:"无效数据"}]}]},labelResult:[],computeDataByLogic:RO}},mounted(){this.initData()},methods:{async initData(){this.fetchDelivers(),await this.fetchTemplateTags(),this.fetchTagsMetrics(),this.fetchStats(),this.fetchLabelResult()},handleChange(){this.fetchStats(),this.fetchLabelResult()},async initChart(){const e=document.getElementById("percentChart"),t=j["B"](e);this.chartsOption&&t.setOption(this.chartsOption)},handleUpdatelabelResult(){this.fetchLabelResult(),this.fetchTagsMetrics()},sortChange(e,t){console.log("sort-change",e,t),this.sort=e,this.labelResult=t.currentDataSource},getDownloadUrl(){var e;const t={task_id:this.taskId,project_id:this.projectId,tag_name:(null===(e=this.tagName)||void 0===e?void 0:e.value)||""};return`/api/export/task-dashboard-tag-stat?task_id=${t.task_id}&project_id=${t.project_id}&tag_name=${t.tag_name}`},dataChange(e){this.labelResult.value=e},resetForm(){this.formData={metricsName:"",computeLogic:""}},transTagToObj(e){return e.reduce((e,t)=>{let a="unknownKey";return t.tag_value&&(a=t.tag_value),e[a]=t.count,e},{})},handleAddMetrics(){this.isAddDialogShow=!0},handleEditTags(e){this.formData={metricsName:e.index_name,computeLogic:JSON.parse(e.index_logic)},this.edit_index_id=e.index_id,this.isAddDialogShow=!0},handleCloseDialog(){this.edit_index_id=0,this.isAddDialogShow=!1,this.resetForm()},handleDeleteTags(e){this.fetchDeleteTagMetrics(e)}},asyncMethods:{fetchDelivers(){const e={task_id:this.taskId,page:{start:0,size:1e3,return_total:1},from:1,deliver_status_list:[30,60,70,10,20]};return Object(y["j"])(e).then(e=>e.data).catch(e=>{console.log(e),this.$Message.error("列表数据获取失败，请刷新重试")})},fetchStats(){const e={task_id:this.taskId,project_id:this.projectId,deliver_ids:this.deliverFilterQuery.map(e=>e.value)};return Object(k["c"])("api/task","listTaskLabelResultEffectStatistics",e).then(e=>{this.chartsOption.title.text="已标注\n"+(e.effect_num+e.invalid_num),this.chartsOption.series[0].data=[{value:e.effect_num,name:"有效数据"},{value:e.invalid_num,name:"无效数据"}],this.initChart(),console.log(e)}).catch(e=>{this.$Message.error(e.message)})},fetchLabelResult(){var e;const t={task_id:this.taskId,project_id:this.projectId,deliver_ids:this.deliverFilterQuery.map(e=>null===e||void 0===e?void 0:e.value),tag_name:null===(e=this.tagName)||void 0===e?void 0:e.value,query_type:this.queryFilter};return Object(k["c"])("api/task","listTaskLabelResultStatistics",t).then(e=>{const t=e.reduce((e,t)=>e+t.count,0);return e.map(e=>{const a=JSON.parse(e.tag_value);let r="";return r=Array.isArray((null===a||void 0===a?void 0:a[0])||"")?a.map(e=>e.join("-")).join(","):Array.isArray(a)?null===a||void 0===a?void 0:a.join(","):a,{...e,tag_value:r,percent:(e.count/t*100).toFixed(2)+"%"}})}).catch(e=>(console.log(e),[]))},fetchTemplateTags(){const e={task_id:this.taskId};return Object(k["c"])("api/workbench","getTask",e).then(e=>{const{template_component:t}=e;try{var a;const e=JSON.parse(t),r=null===(a=e.items)||void 0===a?void 0:a.filter(e=>["z-multiple-select","z-cascader"].includes(e.component)).map(e=>({value:e.attributes.name,label:e.attributes.label}));return this.tagName=null===r||void 0===r?void 0:r[0],r}catch(r){this.$Message.error("模板解析错误")}})},fetchTagsMetrics(){var e;const t={project_id:this.projectId,task_id:this.taskId,tag_name:null===(e=this.tagName)||void 0===e?void 0:e.value};return w(t).then(e=>e)},fetchSubmitAddMetrics(){var e;const{metricsName:t,computeLogic:a}=this.formData,r={project_id:this.projectId,task_id:this.taskId,tag_name:null===(e=this.tagName)||void 0===e?void 0:e.value,index_name:t,index_logic:JSON.stringify(a)};return this.edit_index_id?C({...r,index_id:this.edit_index_id}).then(e=>(this.resetForm(),this.isAddDialogShow=!1,this.fetchTagsMetrics(),e.data)):S(r).then(e=>(this.resetForm(),this.isAddDialogShow=!1,this.fetchTagsMetrics(),e.data))},fetchDeleteTagMetrics(e){const t={project_id:this.projectId,index_id:e.index_id};return O(t).then(e=>(this.isAddDialogShow=!1,this.fetchTagsMetrics(),e.data))}}},PO=BO,LO=(a("1d12"),a("092f"),Object(m["a"])(PO,v,b,!1,null,"18915a18",null)),FO=LO.exports,NO=a("f294"),$O=a("5a3e"),zO=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.task?a("Modal",{attrs:{width:"600",title:"编辑任务","mask-closable":!1},on:{"on-cancel":function(t){return e.hideModal()}},model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[a("div",{staticStyle:{position:"relative"}},[e.Fetch.isResolved?e._e():a("Spin",{attrs:{fix:""}}),a("Form",{ref:"editForm",attrs:{model:e.editForm,"label-position":"left","label-width":100,"label-colon":""}},[a("b",{staticStyle:{"line-height":"2.5"}},[e._v("任务信息")]),a("FormItem",{attrs:{label:"任务名称",prop:"name",rules:{required:!0,message:"名称不能为空"}}},[a("Input",{attrs:{placeholder:"请填写任务名称"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1),a("b",{staticStyle:{"line-height":"2.5"}},[e._v("任务题目")]),a("FormItem",{attrs:{label:"题目数",prop:"num",rules:{required:!0,message:"题目数不能为空"}}},[a("Row",[a("Col",{attrs:{span:12}},[a("InputNumber",{staticStyle:{width:"100%"},attrs:{placeholder:"请填写题目数",min:1,max:e.statProject.free_detail_num+e.task.task_num,precision:0},model:{value:e.editForm.num,callback:function(t){e.$set(e.editForm,"num",t)},expression:"editForm.num"}})],1),a("Col",{staticClass:"mlm",attrs:{span:10}},[e._v("（可填写的最大值："+e._s(e.statProject.free_detail_num+e.task.task_num)+"）")])],1),a("div",{staticClass:"txt-muted"},[e._v("tip: 系统将自动分配未被任务占用的题目")])],1),1===e.type?[a("b",{staticStyle:{"line-height":"2.5"}},[e._v("选择接受任务的公司")]),a("FormItem",{attrs:{label:"公司",prop:"supplier",rules:{required:!0,message:"公司不能为空"}}},[a("Select",{attrs:{transfer:"",filterable:"",clearable:""},model:{value:e.editForm.supplier,callback:function(t){e.$set(e.editForm,"supplier",t)},expression:"editForm.supplier"}},e._l(e.project.suppliers,(function(t){return a("Option",{key:t.company_id.toString(),attrs:{value:t.company_id.toString(),label:t.company_name}},[a("span",[e._v(e._s(t.company_name))])])})),1)],1)]:[a("b",{staticStyle:{"line-height":"2.5"}},[e._v("选择接受任务的标注小组")]),a("FormItem",{attrs:{label:"标注小组",prop:"supplier",rules:{required:!0,message:"标注小组不能为空"}}},[a("Select",{attrs:{transfer:"",filterable:"",clearable:""},model:{value:e.editForm.supplier,callback:function(t){e.$set(e.editForm,"supplier",t)},expression:"editForm.supplier"}},e._l(e.teams,(function(t){return a("Option",{key:t.team_id,attrs:{value:t.team_id,label:t.team_name}},[a("span",[e._v(e._s(t.team_name))])])})),1)],1)]],2)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{on:{click:function(t){return e.hideModal()}}},[e._v("取消")]),a("Button",{attrs:{type:"primary",loading:e.fetchUpdateTask.isPending},on:{click:e.Submit}},[e._v("提交")])],1)]):e._e()},VO=[],UO=a("cb78"),HO=a("a06e"),GO=a("e3fa"),WO=a("bccd"),qO={props:{visible:Boolean,task:Object},data(){return{modal:this.visible,dataset:[],editForm:{name:"",num:1,supplier:""},project:{},suppliers:[],statProject:{free_detail_num:0}}},computed:{companyinfo(){return this.$store.state.companyinfo},type(){return this.project.project_type}},watch:{visible(){this.modal=this.visible,this.visible&&(this.Fetch(),this.editForm.name=this.task.task_name,this.editForm.num=this.task.task_num)}},methods:{Submit(){this.$refs.editForm.validate(e=>{e?this.fetchUpdateTask():this.$Message.error("修改失败，请检查是否有遗漏")})},hideModal(e){this.$emit("hideModal",e),this.$refs.editForm.resetFields()}},asyncMethods:{Fetch(){return Promise.all([this.fetchProject(),this.fetchTeams()])},fetchProject(){const e={project_id:this.task.project_id};return Object(HO["i"])(e).then(e=>(this.editForm.supplier=1===e.project_type?this.task.supplier_id.toString():this.task.team_id,e)).catch(e=>{console.log(e)})},fetchTeams(){const e={page:{start:0,size:1e3,return_total:1},company_id:this.companyinfo.company_id};return Object(GO["s"])(e).then(e=>e.data)},fetchUpdateTask(){const e={task_id:Object(WO["BigNumber"])(this.task.task_id),task_name:this.editForm.name,task_num:this.editForm.num};return 1===this.type?e.supplier_id=this.editForm.supplier:e.team_id=this.editForm.supplier,UO["a"].UpdateTask(e).then(e=>{e.data.result?(this.$Message.success("任务修改成功！"),this.hideModal("refresh")):this.$Message.error("修改失败："+e.data.result)}).catch(e=>{console.log(e),this.$Message.error("修改失败："+e.message)})}}},XO=qO,YO=Object(m["a"])(XO,zO,VO,!1,null,null,null),KO=YO.exports,ZO=a("eb10"),JO=a("8859"),QO=a("51cc"),eT=a("259f"),tT=a("a638"),aT=a("3a9c"),rT=a("312d"),iT=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{staticClass:"tec_assess",attrs:{width:"400","mask-closable":!1,transfer:!1},on:{"on-cancel":function(t){return e.cancel()}},scopedSlots:e._u([{key:"header",fn:function(){return[a("h4",[e._v(e._s(e.bidForTask?"修改对供应商的技术评估":"对供应商进行技术评估"))])]},proxy:!0}]),model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("Form",{ref:"formData",staticClass:"tec_form",attrs:{model:e.formData,"label-position":"top"}},[a("FormItem",{attrs:{label:"是否满足需求",required:!0}},[a("i-switch",{staticClass:"mrs",on:{"on-change":e.handleSatisfied},model:{value:e.formData.is_satisfied,callback:function(t){e.$set(e.formData,"is_satisfied",t)},expression:"formData.is_satisfied"}}),a("Poptip",{attrs:{trigger:"hover",content:"表示供应商满足需求，进入中标候选",placement:"bottom"}},[a("Icon",{attrs:{type:"ios-alert-outline"}})],1)],1),e.formData.is_satisfied?a("FormItem",{attrs:{prop:"tech_score",rules:e.scoreRules}},[a("template",{slot:"label"},[a("span",[e._v("数据质量评分")]),a("span",{staticClass:"txt-muted"},[e._v("（请输入60～100的整数进行评分）")])]),a("Row",{attrs:{gutter:10}},[a("Col",{attrs:{span:"16"}},[a("Slider",{staticClass:"mls mrs",attrs:{min:60,max:100,"tip-format":function(e){return e+"分"}},on:{"on-change":function(t){return e.formData.tech_score=t}},model:{value:e.formData.tech_score_slider,callback:function(t){e.$set(e.formData,"tech_score_slider",t)},expression:"formData.tech_score_slider"}})],1),a("Col",{attrs:{span:"8"}},[a("div",{staticClass:"flex-baseline"},[a("InputNumber",{attrs:{min:0,max:100,precision:.1},on:{"on-change":function(t){return e.formData.tech_score_slider=t}},model:{value:e.formData.tech_score,callback:function(t){e.$set(e.formData,"tech_score",t)},expression:"formData.tech_score"}}),a("span",{staticClass:"mls"},[e._v("分")])],1)])],1)],2):e._e(),a("FormItem",{attrs:{prop:"tech_remark",rules:{required:!0,message:"评语不能为空"},label:"评语"}},[a("Input",{staticClass:"tec_input",attrs:{type:"textarea",autosize:{minRows:4,maxRows:5},placeholder:"填写评价建议，您的建议是我们进步的动力"},model:{value:e.formData.tech_remark,callback:function(t){e.$set(e.formData,"tech_remark",t)},expression:"formData.tech_remark"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{staticClass:"save",attrs:{type:"primary",loading:e.fetchEvaluateTask.isPending},on:{click:function(t){return e.Submit()}}},[e._v("提交")]),a("Button",{staticClass:"close",on:{click:function(t){return e.cancel()}}},[e._v("取消")])],1)],1)},nT=[],sT={props:{project:Object,taskId:[String,Number,Object],bidId:[String,Number,Object],bidForTask:Object},data(){return{visible:!0,formData:{is_satisfied:!0,tech_score:0,tech_score_slider:0,tech_remark:""},scoreRules:[{required:!0,type:"number",min:60,message:"数据质量评分范围为60～100",trigger:"change"}]}},mounted(){const{bidForTask:e,formData:t}=this;e&&Object.assign(t,{is_satisfied:1===e.bid_status_id,tech_score:e.tech_score,tech_score_slider:e.tech_score,tech_remark:e.tech_remark})},methods:{Submit(){this.$refs.formData.validate(e=>{e?this.fetchEvaluateTask():this.$Message.error("提交失败，请检查是否有遗漏")})},handleSatisfied(e){!e&&(this.formData.tech_score=0,this.formData.tech_score_slider=0)},cancel(){this.visible=!1,this.$emit("onCancel")}},asyncMethods:{fetchEvaluateTask(){const e={project_id:this.project.project_id,task_id:this.taskId,bid_id:this.bidId,is_satisfied:this.formData.is_satisfied?1:0,tech_remark:this.formData.tech_remark,tech_score:this.formData.tech_score};return this.bidForTask&&(e.editing=!0),UO["a"].EvaluateTask(e).then(e=>(e.data.result?(this.cancel(),this.$emit("onOk"),this.$Message.success("提交成功")):this.$Message.error("提交失败"),e)).catch(e=>{this.$Message.error(e.message)})}}},oT=sT,lT=(a("442d"),Object(m["a"])(oT,iT,nT,!1,null,"b9e77f70",null)),cT=lT.exports,dT=a("06eb"),uT=a("2339"),hT=a("f227"),pT=a("c605"),fT={components:{Deny:o["default"],Info:_,Delivers:NO["a"],TaskEdit:KO,TaskDelete:ZO["a"],DetailLog:$O["a"],labelStatusRender:QO["a"],deliverCheckStatusRender:eT["a"],taskStatusRender:aT["a"],batchStatusRender:tT["a"],EditModal:uT["a"],UserSelect:hT["a"],tableFilter:pT["a"],DashBoard:FO},mixins:[JO["a"]],modals:["taskEdit","detailLog"],data(){var e;return{project_id:this.$route.params.id||(null===(e=this.task)||void 0===e?void 0:e.project_id)||"",project:{},bidForTask:{},loading:!1,tab:this.$route.query.tab?this.$route.query.tab:"details",detail_form:{detail_id_list:"",dataset_item_id_list:"",detail_valid:"",detail_status:"",deliver_status_list:"",check_status:"",nick_name_list:"",last_labeler_list:"",pack_keys:""},details:[],detailStatus:rT["i"],detailAction:rT["h"],labelStatus:rT["m"],deliverCheckStatus:rT["f"],batchStatus:rT["b"],detailColumns:[{title:"任务明细ID",key:"detail_id",width:180},{title:"题目ID",key:"dataset_item_id",width:180},{title:"题包Key",key:"pack_key",width:180},{title:"是否有效",slot:"detail_is_valid",width:100},{title:"标注状态",slot:"detail_status",minWidth:100},{title:"交付批次状态",slot:"deliver_status",minWidth:100},{title:"当前处理人",slot:"assignee_nick_name",minWidth:100},{title:"最后标注人",slot:"labeler_nick_name",minWidth:100},{title:"操作",slot:"action",minWidth:120}],exportColumns:[{type:"selection",width:60},{title:"任务明细ID",key:"detail_id",width:180},{title:"题目ID",key:"dataset_item_id",width:180},{title:"是否有效",slot:"detail_is_valid",width:120},{title:"标注状态",slot:"detail_status"},{title:"交付批次状态",slot:"deliver_status"},{title:"当前处理人",slot:"assignee_nick_name"},{title:"最后标注人",slot:"labeler_nick_name"},{title:"操作",slot:"action"}],detail_page:{index:1,size:10,total:0},logColumns:[{title:"操作时间",key:"flow_handle_at"},{title:"任务明细ID",key:"flow_code"},{title:"动作",slot:"flow_action"},{title:"操作人",key:"nick_name"}],logs:[],logs_page:{index:1,size:10,total:0},is_multiple_export:!1,is_searching:!1,supplierUsers:[]}},computed:{userInfo(){return this.$store.state.userinfo},companyInfo(){return this.$store.state.companyinfo},flowAction(){return function(e){let t="";return s.a.forIn(rT["h"],(a,r)=>{if(e===r)return t=a.text,!1}),t}},isAlreadyTarget(){return 1===this.task.task_type&&this.bidForTask.bid_status_id>1||0===this.task.task_type},isChangeTecAssess(){const{project:e,task:t,bidForTask:a}=this;return 40===t.task_status&&[1,4].includes(a.bid_status_id)&&[10,50].includes(e.project_status)},isReceiveTask(){var e,t,a;return(null===(e=this.bidForTask)||void 0===e?void 0:e.deliver_num)&&(null===(t=this.bidForTask)||void 0===t?void 0:t.deliver_reviewing_num)===(null===(a=this.bidForTask)||void 0===a?void 0:a.total_num)},isDeleteSource(){var e;return 1===(null===(e=this.bidForTask)||void 0===e?void 0:e.is_delete_source)}},watch:{"detail_form.nick_name_list"(e){var t;null===(t=this.$refs.userSelect1)||void 0===t||t.updateUser(e)},"task.project_id"(e){this.$route.params.id||this.$router.replace({name:"task",params:{id:e,taskId:this.task.task_id},query:this.$route.query})}},created(){this.Fetch()},mounted(){this.unwatch=this.$watch("bidForTask",e=>{if(e){var t;if("change"===this.$route.query.evaluate)null!==(t=this.bidForTask)&&void 0!==t&&t.deliver_num&&this.isChangeTecAssess&&this.tecAssess(this.bidForTask);this.unwatch()}})},methods:{goEdit(){1===this.task.task_type?this.$router.push({name:"create-bid-tasks",params:{id:this.bidForTask.project_id},query:{tab:"bid-tasks",task_id:this.bidForTask.bid_id}}):this.$router.push({name:"create-formal-tasks",params:{id:this.bidForTask.project_id},query:{tab:"formal-tasks",task_id:this.bidForTask.formal_id}})},debounceSupplierUser:s.a.debounce((function(e){this.fetchTaskLabelers(e)}),500),goback(){this.$router.push({path:"/projects/list/"+this.task.project_id,query:{tab:"formal-tasks"}})},tecAssess(e){const{project:t}=this,a=()=>{this.$router.replace({query:{...this.$route.query,evaluate:void 0}})},r=()=>{this.$FastModal.show(cT,{project:t,taskId:this.task.task_id,bidId:this.bidForTask.bid_id,bidForTask:e},{onOk:()=>{this.Fetch(),a()},onCancel:()=>{a()}})};if(e){if(this.project.is_standard_order&&this.project.is_open_bid)return this.$Message.error("需求单已确认开标，不可以再修改技术评估"),Promise.resolve();if(!this.project.is_standard_order&&!e.can_evaluate_tech)return this.$Message.error("需求单已关闭技术评估通道，不可以再修改技术评估"),Promise.resolve();r()}r()},DeleteTask(){this.$refs.taskDelete.DeleteTask(this.task).then(()=>{this.$router.push("/projects/list/"+this.task.project_id)})},ChangePage(e,t){switch(t){case"details":this.detail_page.index=e,this.fetchDetails();break}},ChangeTab(e){this.$route.query.tab!==e&&(this.tab=e,"details"===this.tab&&this.fetchDetails(),this.$router.replace({query:{project_id:this.project_id,tab:e,tab1:this.$route.query.tab1}}))},GoDetail(e,t){const a={};s.a.forIn(this.detail_form,(e,t)=>{(e||0===e)&&(a[t]=e)});const r=this.$router.resolve({name:"wb-task-review-detail",params:{task_id:this.task.task_id,check_id:e.check_id||0,pack_id:e.pack_key||0,dataset_id:0},query:{type:"page_project",team_id:this.task.team_id,page_index:t+1+(this.detail_page.index-1)*this.detail_page.size,row_id:e.detail_id,...a}});window.open(r.href,"_blank")},ResetDetails(){const e=this;s.a.forIn(this.detail_form,(t,a)=>{e.$set(e.detail_form,a,"")}),this.is_searching=!1,this.fetchDetails()},showDetailLog(e){const{task:t,userInfo:a}=this;this.$FastModal.show($O["a"],{task:t,detail:e,userInfo:a},{})},async mapStatTaskProgress(e){for(let t=0;t<e.length;t++){const a=await this.fetchStatTaskProgress(e[t].task_id);if(a){const r={...e[t],deliver_num:a.deliver_num,deliver_reviewed_num:a.deliver_reviewed_num,labeled_num:a.labeled_num,total_num:a.total_num,deliver_reviewing_num:a.deliver_reviewing_num};this.$set(this,"bidForTask",r)}}}},asyncMethods:{Fetch(){return Promise.all([this.fetchProject(),this.fetchTask(),this.fetchDetails()])},fetchProject(){const e={project_id:this.project_id};return Object(HO["i"])(e).then(e=>e)},fetchTask(){const e={task_id:this.$route.params.taskId};return UO["a"].GetTask(e).then(e=>(this.fetchBidForTask(e.data.result.task_type),this.$EventBus.$emit("project-tab-change",e.data.result.task_type?"bid-tasks":"formal-tasks"),e.data.result))},fetchBidForTask(e){const t={project_id:this.project_id,task_id:this.$route.params.taskId,need_stat_task:!0,need_relation:!0,need_stat_deliver:!0,need_dataset:!0};return e?Object(dT["f"])(t).then(e=>{const t=e.data[0],a=s.a.cloneDeep(t);return a.is_close_deliver=t.is_close_deliver,t.bid_task_relation_vos&&t.bid_task_relation_vos.length>0&&(a.task_id=t.bid_task_relation_vos[0].task_id,a.bid_status_id=t.bid_task_relation_vos[0].status_id,a.tech_score=t.bid_task_relation_vos[0].tech_score,a.tech_remark=t.bid_task_relation_vos[0].tech_remark,a.model_type=t.bid_task_relation_vos[0].model_type,a.work_time=t.bid_task_relation_vos[0].work_time,a.work_period=t.bid_task_relation_vos[0].work_period,a.commit_remark=t.bid_task_relation_vos[0].commit_remark,a.is_delete_source=t.bid_task_relation_vos[0].is_delete_source,a.audit_supplier_id=t.bid_task_relation_vos[0].audit_supplier_id),t.project_suppliers&&t.project_suppliers.length>0&&(a.model_unit=t.project_suppliers[0].model_unit,a.model_unit_price=t.project_suppliers[0].model_unit_price),void 0!==a.model_unit_price&&("工时"===a.model_type&&void 0!==a.work_time&&(a.total_price=(a.work_time*a.model_unit_price).toFixed(3)),"任务"===a.model_type&&void 0!==a.overall_total&&(a.total_price=(a.overall_total*a.model_unit_price).toFixed(3))),a.audit_supplier_name=this.task.audit_supplier_name,a.receive_team_name=this.task.receive_team_name,this.mapStatTaskProgress([a]),a}):(t.page={start:0,size:1,return_total:0},Object(dT["g"])(t).then(e=>{var t,a,r;const i=e.data[0];i.task_id=i.formal_task_relation_vos[0].task_id,i.audit_supplier_id=i.formal_task_relation_vos[0].audit_supplier_id,i.audit_supplier_name=this.task.audit_supplier_name,i.receive_team_name=this.task.receive_team_name;const n=null===i||void 0===i||null===(t=i.formal_task_relation_vos)||void 0===t?void 0:t[0];Object.assign(i,{business_name:null===n||void 0===n?void 0:n.business_name,business_id:null===n||void 0===n?void 0:n.business_id,business_config:null===n||void 0===n?void 0:n.business_config});const s=null===i||void 0===i||null===(a=i.formal_task_relations)||void 0===a?void 0:a[0],o=null===i||void 0===i||null===(r=i.formal_task_relation_vos)||void 0===r?void 0:r[0];return Object.assign(i,{employment_mode:null===s||void 0===s?void 0:s.employment_mode,personnel_level:null===s||void 0===s?void 0:s.personnel_level,piecework_price:null===s||void 0===s?void 0:s.piecework_price,max_first_check_ratio:null===s||void 0===s?void 0:s.max_first_check_ratio,recommended_kpi:null===s||void 0===s?void 0:s.recommended_kpi,kpi_magnitude:null===s||void 0===s?void 0:s.kpi_magnitude,queue_type:o.queue_type,user_label_strategy:o.queue_label_strategy&&JSON.parse(o.queue_label_strategy).user_label_strategy}),this.mapStatTaskProgress([i]),i}))},fetchStatTaskProgress(e){const t={task_id:e,stat_object:["total_num","labeled_num","deliver_num","deliver_reviewed_num","deliver_reviewing_num"]};return Object(dT["j"])(t).then(e=>e).catch(e=>{console.log(e)})},fetchDetails(){const e=this.detail_page,t={task_id:this.$route.params.taskId,page:{start:(e.index-1)*e.size,size:e.size,return_total:1},need_deliver_info:!0};return s.a.forIn(this.detail_form,(e,a)=>{(e||0===e)&&(t[a]=-1!==a.indexOf("list")?[e]:e,"pack_keys"===a&&(t[a]=[e]),this.is_searching=!0)}),UO["a"].GetTaskDetailList(t).then(t=>(e.total=t.data.result.total,t.data.result.data)).catch(e=>{console.log(e),this.$Message.error("列表数据获取失败，请刷新重试")})},fetchReceiveTask(e){const t={project_id:this.task.project_id,task_id:this.$route.params.taskId,task_status:e};switch(e){case 40:this.$Modal.confirm({title:"确定要关闭验收吗？",content:"<p>此操作不可逆，请谨慎操作！关闭验收后：</p><p>1、任务下所有“待验收”批次将流转为“验收通过”。</p><p>2、任务状态将流转为“已完成”。</p><p>3、不再支持修改题目标注结果。</p>",loading:!0,onOk:()=>UO["a"].ReceiveTask(t).then(e=>{this.$Modal.remove(),e.data.result&&(this.$Message.success("已关闭验收！"),this.Fetch())}).catch(e=>{this.$Modal.remove(),this.$Message.error("关闭验收失败："+e.message)})});break;case 30:this.$Modal.success({title:"提示",content:'<Alert type="success" show-icon>验收通过！请前往【AIdata】进行技术评估</Alert>',okText:"立即前往",closable:!0,onOk:()=>{}});break;case 20:this.$Modal.confirm({title:"确定要驳回验收吗？",content:"<p>驳回验收之后，任务将回到标注中状态。</p><p>标注团队可以重新对题目进行标注质检操作。</p>",onOk:()=>UO["a"].ReceiveTask(t).then(e=>{e.data.result&&(this.$Message.error("验收已驳回！"),this.Fetch())}).catch(e=>{this.$Message.error("驳回失败："+e.message)})});break}},fetchTaskLabelers(e){const t={page:{start:0,size:100,return_total:1},task_id:this.$route.params.taskId};return e&&(this.task.project_type&&/^[\d]*$/.test(e)?t.user_id=e:t.nick_name=e),UO["a"].listTaskLabelers(t).then(e=>{this.supplierUsers=e.data.result.data}).catch(e=>{console.log(e),this.$Message.error("获取用户列表失败："+e.message)})},fetchLogs(){const e=this.logs_page,t={task_id:this.$route.params.taskId,page:{start:(e.index-1)*e.size,size:e.size,return_total:1}};return UO["a"].GetTaskFlowLogs(t).then(t=>(e.total=t.data.result.total,t.data.result.data))},fetchDownloadTask(e){let t="";const a={projectId:this.task.project_id,taskId:e.task_id};s.a.forIn(this.detail_form,(e,t)=>{if(e||0===e){let r=t.replace(/_(\w)/g,(e,t)=>t.toUpperCase());"detail_id_list"===t&&(r="detailIds"),a[r]=e}}),s.a.forIn(a,(e,a)=>{t=t?`${t}&${a}=${e}`:`${a}=${e}`}),this.$FastModal.show(uT["a"],{title:this.task.task_name,obj:e,objType:"task",jqueryPre:t,projectId:this.task.project_id,project:this.project},{})}}},mT=fT,gT=(a("4095"),Object(m["a"])(mT,r,i,!1,null,"383f2150",null));t["default"]=gT.exports},a674:function(e,t,a){},a82e:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAQAAAC0jZKKAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAACYktHRAD/h4/MvwAAAAd0SU1FB+gLBgcAAo85KisAAAABb3JOVAHPoneaAAACnElEQVRIx6WXy2tTQRTGv7mlaJNosGJrVGrVYFzUxyZiCYINvhC0ggtx4R/QLgURxazcd6eCEDeudOETlCxs3Ylm46YQq8Voo6VaKW2laaHJ5yIPb71n7r1z8+3yzZzfDGfOnLlRcBV7MIAUEogjjCj+YAlFfEQeo2ocwcQIh/mOek0ww5gpNMQMZ+mtMm+z2z/2DL/4gDY0xyEqb2g7R1g1wNb0jJ3u2DBfGUNr+sw9bsf1NiCWJEvcpUtCrgUsSU6wSwKPtIglyTG2OSvB/Mgk3WgQVa1uMY5ebfKn8QKj+I4ZbMZW9GMQCe3cZfSpyX/7zWh3UORlWo60pfleG/HYXg26W/aA6zUVpHidFTGmyv2NScMa7C2Py3SBq2JctjFBbjWPvC8qr4iR8wwBYI8mtx1eWADgSzF6ELCQFiMyquwHjGuoCO4AAN4TVpx2VoLRnvOAhX3C7Oeq6heMp4KXoLIgtY43vrHAmOBtwBYLUWGgZACW50YthAT7l3+uKmNR2rOFFcHe5B/MdoQFu83CgmBvM0hFDGIFWZgS3CMG4JRsWygI7nkD8DkdOC+4cZ7wR+V2HRjsE2/7B393j1lNZ0wCYEEcyvjAntY0zjpYfj+qvOiBPch50g0cY1kcXOVVF+xZLtTnzXJGBAO8o105x0MCdAez9YfpB48DAI/yqwTu5pwWXWGOQ0wwBHAdd/ISH3KpOdqsHvYLYJd3z65Fh/Pb/nyxaAc3iuqu2FfXKuLMiaL9l3wYnZqyc9exZnxSTAUAsJclY/A3purYSS0Y4G5+CrDrqTXZlcAAu/g6ANqp5H8dQf3ESdzEsudBBhPjfNLiZ21SDz/A+y69wBPs+n3GDpxCGinsFWrYXYe9/6HVloghgo0G4MJfTyWPJrDpsjwAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjQtMTEtMDZUMDY6NTg6NTYrMDA6MDBYfC89AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDI0LTExLTA2VDA2OjU4OjU2KzAwOjAwKSGXgQAAACh0RVh0ZGF0ZTp0aW1lc3RhbXAAMjAyNC0xMS0wNlQwNzowMDowMiswMDowMH2NqRoAAAAASUVORK5CYII="},a845:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("TableFilter",{attrs:{searchLoading:e.fetchHandleTasks.isPending},on:{search:function(t){return e.fetchHandleTasks(e.page.index=1)},reset:function(t){return e.handleReset(e.page.index=1)}}},[a("Form",{attrs:{model:e.form,"label-width":100,"label-colon":!0}},[a("Row",[a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"加工任务ID"}},[a("Input",{attrs:{placeholder:"请输入加工任务ID"},model:{value:e.form.handle_task_id,callback:function(t){e.$set(e.form,"handle_task_id",t)},expression:"form.handle_task_id"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"加工任务"}},[a("Input",{attrs:{placeholder:"请输入加工任务名称"},model:{value:e.form.handle_task_name,callback:function(t){e.$set(e.form,"handle_task_name",t)},expression:"form.handle_task_name"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"运行状态"}},[a("Select",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("Option",{attrs:{value:"运行中"}},[e._v("运行中")]),a("Option",{attrs:{value:"运行失败"}},[e._v("运行失败")]),a("Option",{attrs:{value:"已完成"}},[e._v("已完成")])],1)],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"创建时间"}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{value:e.form.create_date_time,type:"datetimerange",format:"yyyy-MM-dd HH:mm:ss",placeholder:"请选择创建时间范围"},on:{"on-change":e.handleChangeDate}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"创建人"}},[a("Input",{attrs:{placeholder:"请输入创建人"},model:{value:e.form.creator,callback:function(t){e.$set(e.form,"creator",t)},expression:"form.creator"}})],1)],1)],1)],1)],1),a("Alert",{attrs:{"show-icon":"",closable:""}},[e._v("目前仅支持由“数据集详情页”创建加工任务。")]),a("Table",{attrs:{columns:e.columns,data:e.handleTasks,loading:e.fetchHandleTasks.isPending},scopedSlots:e._u([{key:"handle_task_name",fn:function(t){var r=t.row;return[a("t-space",{staticStyle:{padding:"10px 0"},attrs:{direction:"vertical",size:"5"}},[a("p",[e._v(e._s(r.handle_task_name))]),a("p",{staticClass:"txt-muted"},[e._v(e._s(r.handle_id))])])]}},{key:"status",fn:function(t){var r=t.row;return[e.fetchHandleTasks.isResolved?a("Progress",{staticStyle:{width:"300px"},attrs:{percent:e.process_percent(r),status:e.process_status(r),"stroke-width":8}}):e._e(),a("p",[e._v("当前步骤："+e._s(r.status))])]}},{key:"import_tasks",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.import_tasks.split(",").length))])]}},{key:"created_at",fn:function(t){var r=t.row;return[a("p",[e._v(e._s(r.nick_name))]),r.created_at?a("Time",{staticClass:"txt-muted mrm",attrs:{time:r.created_at,type:"date"}}):a("span",{staticClass:"txt-muted mrm"},[e._v("-")])]}},{key:"action",fn:function(t){var r=t.row;return["已完成"===r.status?[a("a",{on:{click:function(t){return e.fetchCreateDatasetByHandleTask(r)}}},[e._v("生成数据集")]),a("Divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(t){return e.fetchExportHandleDetails(r)}}},[e._v("导出")]),a("Divider",{attrs:{type:"vertical"}})]:e._e(),"运行失败"===r.status?[a("a",{on:{click:function(t){return e.fetchRetryHandleTask(r)}}},[e._v("重试")]),a("Divider",{attrs:{type:"vertical"}})]:e._e(),a("a",{on:{click:function(t){return e.handleDeleteHandleTask(r)}}},[e._v("删除")])]}}])}),e.handleTasks.length>0?a("Page",{staticClass:"right mtm",attrs:{current:e.page.index,total:e.page.total,"page-size":e.page.size,"show-total":"","show-elevator":""},on:{"on-change":e.ChangePage}}):e._e()],1)},i=[],n=a("9ec3"),s=a("03c6"),o=a("e209"),l=a("2c88"),c=a("c605"),d={components:{TableFilter:c["a"]},data(){return{form:{handle_task_id:"",handle_task_name:"",status:"",creator:"",create_date_time:""},columns:[{title:"加工任务名称/ID",slot:"handle_task_name",minWidth:200},{title:"创建人/时间",slot:"created_at",minWidth:150},{title:"加工状态",slot:"status",minWidth:260},{title:"数据包数量",slot:"import_tasks",minWidth:120},{title:"操作",slot:"action",width:300,fixed:"right"}],handleTasks:[],page:{index:1,size:10,total:0}}},computed:{process_percent(){return function(e){switch(e.status){case"运行中":return 100/e.import_tasks.split(",").length-1;case"运行失败":return 100/e.import_tasks.split(",").length-1;case"已完成":return 100}}},process_status(){return function(e){switch(e.status){case"运行中":return"active";case"运行失败":return"wrong";case"已完成":return"normal"}}}},mounted(){this.fetchHandleTasks(),this.$EventBus.$on("update-handle-tasks",()=>{this.fetchHandleTasks()})},methods:{ChangePage(e){this.page.index=e,this.fetchHandleTasks()},handleChangeDate(e){this.form.create_date_time=e},handleDeleteHandleTask(e){this.$Modal.confirm({title:"确定要删除这个加工任务吗？",content:"名称："+e.handle_task_name,loading:!0,onOk:()=>{this.fetchDeleteHandleTask(e)}})},handleCreateDataset(e){const t=this;t.$FastModal.show(s["a"],{dataset:e,isEdit:!1},{refresh(){t.fetchHandleTasks()},GoDetail(e){t.$router.push({path:"/projects/datasets/index/"+e}),t.$EventBus.$emit("update-datasets")}})},handleReset(){Object(n["forIn"])(this.form,(e,t)=>{this.form[t]=""}),this.fetchHandleTasks()}},asyncMethods:{fetchHandleTasks(){const e={page:{start:(this.page.index-1)*this.page.size,size:this.page.size,return_total:1}};return Object(n["forIn"])(this.form,(t,a)=>{"create_date_time"===a?this.form.create_date_time[0]&&this.form.create_date_time[1]&&(this.$set(e,"start_date",this.form.create_date_time[0]),this.$set(e,"end_date",this.form.create_date_time[1])):""!==this.form[a]&&(e[a]=this.form[a])}),Object(l["l"])(e).then(e=>(this.page.total=e.total,e.data)).catch(e=>{console.log(e),this.$Message.error("列表数据获取失败，请刷新重试")})},fetchCreateDatasetByHandleTask(e){const t={handle_task_id:e.handle_id};return Object(l["c"])(t).then(e=>{this.handleCreateDataset(e)}).catch(e=>{console.log(e),this.$Message.error("生成数据集失败："+e.message)})},fetchRetryHandleTask(e){const t={handle_task_id:e.handle_id};return Object(l["r"])(t).then(e=>{console.log(e),this.$Message.success("正在重新尝试加工任务"),this.fetchHandleTasks()}).catch(e=>{console.log(e),this.$Message.error("重试失败："+e.message),this.fetchHandleTasks()})},fetchDeleteHandleTask(e){const t={handle_task_id:e.handle_id};return Object(l["i"])(t).then(()=>{this.$Modal.remove(),this.$Message.success("删除成功！"),this.fetchHandleTasks()}).catch(e=>{this.$Modal.remove(),this.$Message.error("删除失败："+e.message),this.fetchHandleTasks()})},fetchExportHandleDetails(e){this.$FastModal.show(o["a"],{file:e,fileType:"datasetHandle",jqueryPre:"datasetHandle"},{})}},destroy(){this.$EventBus.$off("update-handle-tasks")}},u=d,h=(a("d904"),a("2be6")),p=Object(h["a"])(u,r,i,!1,null,"085cdb96",null);t["default"]=p.exports},a914:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"import-status"},[a("Row",[a("Button",{attrs:{icon:"md-refresh",type:"primary"},on:{click:function(t){return e.fetchTableData()}}},[e._v("刷新")])],1),a("Table",{staticClass:"mtb",attrs:{columns:e.columns,data:e.tableData,loading:e.fetchTableData.isPending},scopedSlots:e._u([{key:"filename",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.filename))])]}},{key:"scene",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(e.sceneOptions[r.scene]||"-"))])]}},{key:"status",fn:function(t){var r=t.row;return[e.statusOptions[r.status]?[a("Tag",{attrs:{color:e.statusOptions[r.status].color}},[e._v(e._s(e.statusOptions[r.status].label))]),"failed"===r.status?a("Tooltip",{attrs:{content:r.error_msg,"max-width":"300",transfer:""}},[a("Icon",{attrs:{type:"ios-alert-outline"}})],1):e._e()]:a("span",[e._v("-")])]}},{key:"action",fn:function(t){var r=t.row;return["failed"===r.status?a("a",{on:{click:function(t){return e.exportErrorDetail(r)}}},[e._v("错误明细")]):a("span",[e._v("-")])]}}])}),a("Row",{staticClass:"mtm",attrs:{type:"flex",justify:"end"}},[a("Page",{attrs:{current:e.page.index,total:e.page.total,"page-size":e.page.size,"show-total":""},on:{"on-change":e.onChangePage}})],1)],1)},i=[],n=(a("8d0d"),a("74eb")),s={data(){return{columns:[{key:"import_id",title:"导入ID",minWidth:120},{slot:"filename",title:"文件名称",minWidth:180,tooltip:!0},{slot:"scene",title:"导入类型",minWidth:100},{key:"create_time",title:"导入时间",minWidth:120},{key:"nick_name",title:"导入人",minWidth:120},{slot:"status",title:"导入状态",minWidth:100},{slot:"action",title:"操作",minWidth:120}],tableData:[],page:{index:1,size:10,total:0},sceneOptions:{"import-task-config":"任务关联信息","import-attendance-user-day-config":"人员关联信息","import-attendance-day-config":"每日加班系数","import-settlement-detail":"结算工时"},statusOptions:{running:{label:"导入中",color:"blue"},succeeded:{label:"成功",color:"green"},failed:{label:"失败",color:"red"},terminated:{label:"终止",color:"default"}}}},computed:{isWorkbench(){return this.$route.path.includes("workbench")}},mounted(){this.fetchTableData()},methods:{onChangePage(e){this.page.index=e,this.fetchTableData()},async mapImportStatus(e){for(let t=0;t<e.length;t++){const a=await this.fetchWorkerTasks(e[t].import_id);null!==a&&void 0!==a&&a.length&&this.$set(e,t,{...e[t],...a[0]})}},async exportErrorDetail(e){if(!e.msg_detail)return Promise.resolve();const t=e.msg_detail,a=document.createElement("a");a.href="data:text/plain;charset=utf-8,"+encodeURIComponent(t),a.download=`错误明细_${e.import_id}.txt`,document.body.appendChild(a),a.click(),document.body.removeChild(a)}},asyncMethods:{fetchTableData(){const{page:e}=this,t={page:{start:(e.index-1)*e.size,size:e.size,return_total:1}};return Object(n["o"])(t).then(e=>(this.mapImportStatus(e.data),this.page.total=e.total,e.data))},fetchWorkerTasks(e){const t={obj_type:"attendance_import",obj_id:e,page:{start:0,size:100,return_total:1}};return Object(n["B"])(t).then(e=>e)}}},o=s,l=a("2be6"),c=Object(l["a"])(o,r,i,!1,null,null,null);t["default"]=c.exports},a969:function(e,t,a){"use strict";a("6381")},a99f:function(e,t,a){"use strict";a("fa30")},aa01:function(e,t,a){"use strict";a("3c31")},ab0d:function(e,t,a){},ad2c:function(e,t,a){},af27:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{title:e.title,scrollable:!0,transfer:!1},model:{value:e.modalV,callback:function(t){e.modalV=t},expression:"modalV"}},[e.isTask?[e.dataTasks.project_tasks?[a("p",[e._v("以下项目引用了当前"+e._s(e.typeName)+"：")]),a("div",{staticClass:"task-list"},e._l(e.dataTasks.project_tasks,(function(t){return a("p",{key:t.project_id,staticClass:"mlm txt-muted"},[e._v("项目:"+e._s(t.project_name)+" - 数据包:"+e._s(t.src_file_name))])})),0)]:e._e(),e.dataTasks.handle_tasks?[a("p",[e._v("以下数据集加工任务引用了当前"+e._s(e.typeName)+"：")]),a("div",{staticClass:"task-list"},e._l(e.dataTasks.handle_tasks,(function(t){return a("p",{key:t.task_id,staticClass:"mlm txt-muted"},[e._v(e._s(t.handle_task_name))])})),0)]:e._e(),a("p",[e._v("待删除对应关联任务后重试")])]:[a("p",[e._v(e._s(e.typeName)+"名称："+e._s(e.isPack?e.dataserObj.src_file_name:e.dataserObj.dataset_name))]),a("p",[e._v("此操作将删除原始数据文件，删除后不可恢复！")])],a("template",{slot:"footer"},[e.isTask?a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.hideModal()}}},[e._v("我知道了")]):[e.isPack?a("Button",{attrs:{loading:e.fetchDeleteDatasetTask.isPending},on:{click:function(t){return e.fetchDeleteDatasetTask()}}},[e._v("确认删除")]):a("Button",{attrs:{loading:e.fetchDeleteDataset.isPending},on:{click:function(t){return e.fetchDeleteDataset()}}},[e._v("确认删除")]),a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.hideModal()}}},[e._v("我再想想")])]],2)],2)},i=[],n=a("2c88"),s={props:{dataserObj:Object,type:String},data(){return{modalV:!1}},computed:{isPack(){return"dataPack"===this.type},typeName(){return this.isPack?"数据包":"数据集"},title(){return this.isTask?"存在关联的项目/任务":`确认删除${this.typeName}数据？`},isTask(){var e,t,a,r;return(null===(e=this.dataTasks)||void 0===e||null===(t=e.handle_tasks)||void 0===t?void 0:t.length)>0||(null===(a=this.dataTasks)||void 0===a||null===(r=a.project_tasks)||void 0===r?void 0:r.length)>0}},mounted(){this.fetchDataTasks()},methods:{hideModal(){this.modalV=!1}},asyncMethods:{fetchDeleteDatasetTask(){var e;const t={import_task_id:null===(e=this.dataserObj)||void 0===e?void 0:e.dataset_import_id};return Object(n["h"])(t).then(e=>{null!==e&&void 0!==e&&e.import_task_id&&(this.$Message.success("删除成功"),this.$emit("refresh"),this.hideModal())}).catch(e=>{this.$Message.error("删除失败："+e.message)})},fetchDeleteDataset(){var e;const t={dataset_code:null===(e=this.dataserObj)||void 0===e?void 0:e.dataset_code};return Object(n["g"])(t).then(e=>{null!==e&&void 0!==e&&e.dataset_code&&(this.$Message.success("删除成功"),this.$emit("refresh"),this.hideModal())}).catch(e=>{this.$Message.error("删除失败："+e.message)})},fetchDataTasks(){var e,t;const a=this.isPack?{import_task_id:null===(e=this.dataserObj)||void 0===e?void 0:e.dataset_import_id}:{dataset_code:null===(t=this.dataserObj)||void 0===t?void 0:t.dataset_code};return Object(n["p"])(a).then(e=>(this.modalV=!0,e)).catch(()=>{this.$Message.error("拉取关联任务失败")})}}},o=s,l=(a("29ab"),a("2be6")),c=Object(l["a"])(o,r,i,!1,null,"0cd231ea",null);t["a"]=c.exports},b17b:function(e,t,a){"use strict";a("30a1")},b2b7:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"permissions",rawName:"v-permissions",value:{domain:"role-user",action:"view",extra:{objectType:e.objType,objectId:e.objId}},expression:"{domain: 'role-user', action: 'view', extra: {objectType: objType, objectId: objId}}"}],staticClass:"permission-manager"},[e.fetchObjectRoles.isPending?a("Spin",{attrs:{fix:""}}):e._e(),a("Row",{staticStyle:{width:"100%"},attrs:{gutter:30,wrap:!1}},[a("Col",{attrs:{flex:"180px"}},[e.fetchObjectRoles.isResolved?a("div",{staticClass:"permission-menu"},[a("Menu",{attrs:{"active-name":e.activeMenu,mode:"vertical",width:"auto"},on:{"on-select":function(t){e.activeMenu=t}}},e._l(e.objectRoles,(function(t){return a("MenuItem",{key:t.role_id,attrs:{name:t.role_type}},[e._v(e._s(t.role_name))])})),1)],1):e._e()]),a("Col",{attrs:{flex:"auto"}},[e.currentRole?a("div",{staticClass:"permission-list"},[a("h4",[e._v(e._s(e.currentRole.role_name))]),a("div",{staticClass:"txt-muted"},[e._v("权限角色说明："+e._s(e.currentRole.memo||"-"))]),a("br"),a("h4",[e._v("成员列表")]),a("Row",{staticClass:"mtm",attrs:{type:"flex",justify:"space-between",align:"middle"}},[a("div",{staticClass:"left"},[a("RadioGroup",{attrs:{type:"button"},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},e._l(e.tabOptions,(function(t,r){return a("Radio",{key:r,attrs:{label:r}},[e._v(e._s(t))])})),1)],1),a("div",{staticClass:"right"},[a("auth-view",{attrs:{perm:{domain:"role-user",action:"manage",extra:{objectType:e.objType,objectId:e.objId}}}},[a("Button",{attrs:{type:"primary"},on:{click:e.onAddRoleUser}},[e._v("添加")])],1)],1)]),a("Table",{staticClass:"mtm",attrs:{columns:e.columns,data:e.roleUsers,loading:e.fetchRoleUsers.isPending},scopedSlots:e._u([{key:"nick_name",fn:function(t){var r=t.row;return[a("span",[e._v(e._s("user"===e.activeTab?r.nick_name:r.app_name))])]}},{key:"status",fn:function(t){var r=t.row;return["user"===e.activeTab?a("Tag",{attrs:{color:r.statusColor}},[e._v(e._s(r.statusLabel))]):e._e(),"app"===e.activeTab?a("Tag",{attrs:{color:"green"}},[e._v("生效中")]):e._e()]}},{key:"expired_at",fn:function(t){var r=t.row;return["9999-01-01 00:00:00"===r.expired_at?a("span",[e._v("长期有效")]):a("span",[e._v(e._s(r.expired_at))])]}},{key:"action",fn:function(t){var r=t.row;return[a("auth-view",{attrs:{perm:{domain:"role-user",action:"manage",extra:{objectType:e.objType,objectId:e.objId}}},scopedSlots:e._u([{key:"forbidden",fn:function(){return[e._v("-")]},proxy:!0}],null,!0)},["user"===e.activeTab&&"9999-01-01 00:00:00"!==r.expired_at?[a("a",{on:{click:function(t){return e.onRenewRoleUser(r)}}},[e._v("续期")]),a("Divider",{attrs:{type:"vertical"}})]:e._e(),a("a",{on:{click:function(t){return e.onDeleteRoleUser(r)}}},[e._v("移除")])],2)]}}])}),a("Row",{staticClass:"mtm",attrs:{type:"flex",justify:"space-between",align:"middle"}},[a("div",{staticClass:"left"}),a("div",{staticClass:"right"},[a("Page",{attrs:{current:e.page.index,total:e.page.total,"page-size":e.page.size,"show-total":"","show-elevator":""},on:{"on-change":e.onChangePage}})],1)])],1):a("div",{staticClass:"txt-muted"},[e._v("选择一个角色进行查看")])])],1)],1)},i=[],n=a("c206"),s=a.n(n),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"editRoleUser"},[a("Modal",{attrs:{closable:!e.btnDisabled},scopedSlots:e._u([{key:"header",fn:function(){return["add"===e.action?a("h4",[e._v("添加"+e._s("user"===e.userType?"用户":"应用")+"至【"+e._s(e.currentRole.role_name)+"】")]):e._e(),"renew"===e.action?a("h4",[e._v("续期【"+e._s(e.currentRole.role_name)+"】")]):e._e()]},proxy:!0},{key:"footer",fn:function(){return[a("Button",{attrs:{disabled:e.btnDisabled,loading:e.btnLoading},on:{click:e.onClose}},[e._v("取消")]),a("Button",{attrs:{type:"primary",disabled:e.btnDisabled,loading:e.btnLoading},on:{click:e.onSubmit}},[e._v("确定")])]},proxy:!0}]),model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("div",{staticClass:"content"},[a("Form",{ref:"form",attrs:{model:e.formData,"label-width":80,"label-position":"left"}},["add"===e.action?[a("FormItem",{attrs:{prop:"user_id_list",rules:e.ruleNotEmpty},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(e._s("user"===e.userType?"用户":"应用"))]},proxy:!0}],null,!1,700522005)},["user"===e.userType?[a("UserSelect",{ref:"userSelect",attrs:{multiple:"",showEmail:""},on:{"update:user":function(t){e.formData.user_id_list=t}}})]:e._e(),"app"===e.userType?[a("Select",{attrs:{"remote-method":e.debounce,loading:e.fetchApps.isPending,filterable:"",multiple:"",transfer:"",placeholder:"请输入应用ID或应用名称，以搜索相关应用"},model:{value:e.formData.user_id_list,callback:function(t){e.$set(e.formData,"user_id_list",t)},expression:"formData.user_id_list"}},e._l(e.apps,(function(t,r){return a("Option",{key:r,attrs:{value:t.app_id.toString(),label:t.app_name+t.app_id,tag:t.app_name}},[a("p",[e._v(e._s(t.app_name))]),a("p",{staticClass:"txt-muted"},[e._v(e._s(t.app_id))])])})),1)]:e._e()],2)]:e._e(),"renew"===e.action?[a("FormItem",{attrs:{prop:"user_id_list"},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(e._s("user"===e.currentUser.user_type?"用户":"应用"))]},proxy:!0}],null,!1,3725527196)},[a("span",[e._v(e._s("user"===e.currentUser.user_type?e.currentUser.nick_name:e.currentUser.app_name))])])]:e._e(),a("FormItem",{attrs:{prop:"user"===e.userType?"expired_days":"",rules:e.ruleNotEmpty},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(e._s("add"===e.action?"有效期":"授权效期"))]},proxy:!0}])},["user"===e.userType?[a("RadioGroup",{model:{value:e.formData.expired_days,callback:function(t){e.$set(e.formData,"expired_days",t)},expression:"formData.expired_days"}},e._l(e.expiredDaysOptions,(function(t){return a("Radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)]:e._e(),"app"===e.userType?[a("span",[e._v("长期有效")])]:e._e()],2),a("FormItem",{attrs:{label:"有效期至"}},["add"===e.action?a("div",{staticClass:"txt-muted"},[e._v(e._s(e.expiredDate||"-"))]):e._e(),"renew"===e.action?a("div",{staticClass:"txt-muted"},[a("Tooltip",{attrs:{placement:"top",content:"当前时间"}},[a("span",[e._v(e._s(e.currentDate||"-"))])]),a("span",[e._v("  →  ")]),a("Tooltip",{attrs:{placement:"top",content:"续期之后的授权到期时间"}},[a("span",{staticClass:"txt-blue"},[e._v(e._s(e.expiredDate||"-"))])])],1):e._e()]),a("br"),a("FormItem",{attrs:{label:"附件"}},[a("Attachment",{ref:"attachment",attrs:{options:"",objId:e.formData.bucket_id||"",objType:"temporary",objScene:"attachment"},on:{loading:function(t){e.btnDisabled=t},initTemporaryBucket:function(t){e.formData.bucket_id=t.toString()}}})],1),a("FormItem",{attrs:{label:"备注"}},[a("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"请输入备注"},model:{value:e.formData.remark,callback:function(t){e.$set(e.formData,"remark",t)},expression:"formData.remark"}})],1)],2)],1)])],1)},l=[],c=a("9ec3"),d=a("f227"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"simple-attachment",staticStyle:{width:"100%"}},[e.attachments.length>0?[a("CellGroup",e._l(e.attachments,(function(t){return a("Cell",{key:t.attach_id.toString(),staticClass:"attachments"},[a("Row",{staticClass:"content",attrs:{align:"middle"}},[a("Col",{staticClass:"icon",attrs:{flex:"16px"}},[a("Icon",{staticClass:"mrs",attrs:{type:"md-attach",size:"16"}})],1),a("Col",{staticClass:"title",attrs:{flex:"auto"},on:{click:function(a){return e.downloadFile(t)}}},[a("Row",{attrs:{type:"flex",justify:"space-between",wrap:!1}},[a("div",{staticClass:"ellipsis"},[e._v(e._s(t.attach_name))]),e.uploadQueue[t.attach_id]?[e.uploadState(t,["queue-end"])?[0===t.attach_status?a("uploadStatusRender",{staticClass:"status finish",attrs:{uploadInfo:e.uploadQueue[t.attach_id],fileSize:t.attach_size}}):e._e()]:[a("uploadStatusRender",{staticClass:"status",attrs:{uploadInfo:e.uploadQueue[t.attach_id],fileSize:t.attach_size}})]]:e._e()],2),e.uploadState(t,["paused","unCompleted"])?[a("Progress",{staticClass:"progress txt-muted",attrs:{percent:e.percent(t),"stroke-width":3,"hide-info":""}})]:e._e(),e.uploadState(t,["waiting","uploading"])?[a("Progress",{staticClass:"progress txt-muted",attrs:{percent:e.percent(t),"stroke-width":3,"hide-info":"",status:"active"}})]:e._e()],2),a("Col",{staticClass:"extra mls",attrs:{flex:"0"}},[e.isDownloadOk?[e.isFile(t)&&1===t.attach_status?[a("Tooltip",{attrs:{content:"下载",placement:"top",trigger:"hover",transfer:"",offset:5}},[a("Icon",{staticClass:"mlm",attrs:{type:"md-download",size:"18"}})],1)]:e._e(),e.isLink(t)?[a("Tooltip",{attrs:{content:"新标签页打开",placement:"top",trigger:"hover",transfer:"",offset:5}},[a("Icon",{staticClass:"mlm",attrs:{type:"ios-redo",size:"18"}})],1)]:e._e()]:e._e(),e.isWriteOk?[e.isFile(t)?[e.uploadQueue[t.attach_id]?[e.uploadState(t,["waiting","uploading"])?[a("Tooltip",{attrs:{content:"暂停上传",placement:"top",trigger:"hover",transfer:"",offset:5}},[a("Icon",{staticClass:"mlm",attrs:{type:"ios-pause",size:"16"},on:{click:function(a){return e.pauseUpload(t)}}})],1)]:e._e(),e.uploadState(t,["paused","unCompleted"])?[a("Tooltip",{attrs:{content:"继续上传",placement:"top",trigger:"hover",transfer:"",offset:5}},[a("Icon",{staticClass:"mlm",attrs:{type:"md-play",size:"14"},on:{click:function(a){return e.restartUpload(t)}}})],1)]:e._e(),e.uploadState(t,["notStart","error"])?[a("Tooltip",{attrs:{content:"重试",placement:"top",trigger:"hover",transfer:"",offset:5}},[a("Icon",{staticClass:"mlm",attrs:{type:"md-refresh",size:"16"},on:{click:function(a){return e.restartUpload(t)}}})],1)]:e._e(),e.uploadState(t,["queue-error"])?[a("Tooltip",{attrs:{content:"重试",placement:"top",trigger:"hover",transfer:"",offset:5}},[a("Icon",{staticClass:"mlm",attrs:{type:"md-refresh",size:"16"},on:{click:function(a){return e.retryUpload(t)}}})],1)]:e._e()]:e._e()]:e._e(),a("Tooltip",{attrs:{content:"删除",placement:"top",trigger:"hover",transfer:"",offset:5}},[a("Poptip",{attrs:{confirm:"",transfer:"",title:"删除这个"+e.attachTypeOptions[t.attach_type]+"？"},on:{"on-ok":function(a){return e.fetchDeleteAttachments(t)}}},[a("Icon",{staticClass:"mlm",attrs:{type:"md-close",size:"16"}})],1)],1)]:e._e()],2)],1)],1)})),1)]:e._e(),a("Row",[a("Upload",{attrs:{multiple:e.multiple,"default-file-list":e.files,"show-upload-list":!1,"before-upload":e.addFile,action:""}},[a("Button",{attrs:{type:"default",icon:"ios-cloud-upload-outline"}},[e._v("上传文件")])],1)],1)],2)},h=[],p=(a("8d0d"),a("a9f8")),f=a("ffd0"),m=a("f558"),g=a("c54b"),_=a("9ce4"),v=a("db98"),b={components:{update:p["a"],uploadStatusRender:v["a"]},data(){return{visible:!1,form:{url:""},files:[],attachments:[],attachTypeOptions:{file:"文件",link:"链接"},bucketId:""}},computed:{...Object(_["c"])({uploadQueue:"uploadQueue"}),isUploadOk(){return"boolean"===typeof this.options&&this.options||"object"===typeof this.options&&this.options.includes("upload")},isDownloadOk(){return"boolean"===typeof this.options&&this.options||"object"===typeof this.options&&this.options.includes("download")},isWriteOk(){return"boolean"===typeof this.options&&this.options||"object"===typeof this.options&&this.options.includes("write")},isLink(){return function(e){return"link"===e.attach_type}},isFile(){return function(e){return"file"===e.attach_type}},percent(){return function(e){const t=this.uploadQueue[e.attach_id];return null!==t&&void 0!==t&&t.percent?100*(null===t||void 0===t?void 0:t.percent):Number(((null===t||void 0===t?void 0:t.loaded)/e.attach_size*100).toFixed(2))}},uploadState(){return function(e,t){return this.uploadQueue[e.attach_id]&&this.uploadQueue[e.attach_id].state&&t.includes(this.uploadQueue[e.attach_id].state)}},loading(){return this.fetchAttachments.isPending||this.fetchAddUpload.isPending||this.fetchDeleteAttachments.isPending}},watch:{loading(e){this.$emit("loading",!(!0!==e))}},mounted(){const{objType:e}=this;"temporary"!==e&&this.fetchAttachments().then(e=>this.checkUploadList(e))},methods:{...Object(_["b"])({setUploadQueue:"setUploadQueue"}),addFile(e){return e?(!this.objId&&!this.bucketId&&this.initTemporaryBucket(),this.files.push(e),this.debounce(this.files),!1):(this.$Message.error("文件不能为空"),!1)},editFile(e){const t=this,{task:a}=this;this.$FastModal.show(p["a"],{task:a,attach:e,attachType:"file"},{refresh(){t.fetchAttachments()}})},editLink(e){const t=this,{task:a,objId:r,objType:i,objScene:n,bucketId:s}=this;this.$FastModal.show(p["a"],{task:a,attach:e,attachType:"link",objId:s||r,objType:i,objScene:n},{initTemporaryBucket(e){t.bucketId=e,t.$emit("initTemporaryBucket",t.bucketId)},refresh(){t.fetchAttachments()}})},debounce:Object(c["debounce"])((function(e){this.uploadFiles(e)}),500),async uploadFiles(e){const t=this,a=[];for(let r=0;r<e.length;r++){const t=e[r],i=await this.fetchAddUpload(t);i&&a.push({...i,file:t})}this.fetchAttachments().then(()=>{for(let e=0;e<a.length;e++){const r=a[e],{attach_id:i,bucket:n,region:s,prefix:o,scene:l,file:c}=r,d={id:i,type:"attachment",Bucket:n,Region:s,Key:`${o}/${i}/${l}/${c.name}`,file:c,handleTaskReady(){t.$emit("handleTaskReady")}};Object(g["c"])(d)}}),this.files=[]},pauseUpload(e){this.uploadQueue[e.attach_id].cos.pauseTask(this.uploadQueue[e.attach_id].id)},restartUpload(e){this.uploadQueue[e.attach_id].cos?this.uploadQueue[e.attach_id].cos.restartTask(this.uploadQueue[e.attach_id].id):this.fetchUploadSecret(e).then(t=>{const{bucket:a,region:r,prefix:i,scene:n}=t;Object(g["a"])({id:e.attach_id,type:"attachment",bucket:a,region:r,prefix:i,scene:n,fileName:e.attach_name,fileSize:e.attach_size})})},retryUpload(e){const t=e.attach_id;this.setUploadQueue({id:t,data:{state:"queuing"}}),Object(m["a"])({attach_id:t}).then(()=>{this.setUploadQueue({id:t,data:{state:"queue-end"}})}).catch(e=>{this.$Message.error(e.message),this.setUploadQueue({id:t,data:{state:"queue-error"}})})},downloadFile(e){this.isDownloadOk&&this.isFile(e)&&1===e.attach_status&&this.fetchAttachmentUrl(e).then(e=>{window.open("https://"+e.download_link,"_blank")})},openLink(e){this.isLink(e)&&window.open(e.attach_path,e.attach_id)},checkUploadList(e){e.forEach(e=>{this.uploadQueue[e.attach_id]||"file"!==e.attach_type||0!==e.attach_status||this.fetchUploadSecret(e).then(t=>{const{attach_id:a,attach_name:r}=e,{bucket:i,region:n,prefix:s,scene:o}=t,l={id:a,Bucket:i,Region:n,Prefix:`${s}/${a}/${o}/${r}`};Object(g["b"])(l)})})},initTemporaryBucket(){const{objType:e}=this;"temporary"===e&&this.fetchCreateBucket()}},asyncMethods:{fetchAttachments(){const{task:e,from:t,objId:a,bucketId:r,objType:i,objScene:n}=this,s={obj_type:i,obj_id:"temporary"===i&&r?r:a,attach_scene:n};return"workbench"===t&&(s.auth_object_type="task",s.auth_object_id=e.task_id),Object(f["h"])(s).then(e=>(this.$emit("attachments",e.data),e.data))},fetchAddUpload(e){const{objId:t,bucketId:a,objType:r,objScene:i}=this,n={obj_type:r,obj_id:"temporary"===r&&a?a:t,attach_scene:i,attach_name:e.name,attach_size:e.size};return Object(f["b"])(n).then(e=>e.data[0]).catch(e=>{console.log(e),this.$Message.error("上传失败："+e.message)})},fetchDeleteAttachments(e){const t={attach_id:e.attach_id};return Object(f["d"])(t).then(()=>{this.fetchAttachments()}).catch(e=>{console.log(e),this.$Message.error("删除失败："+e.message)})},fetchUploadSecret(e){const t={attach_id:e.attach_id};return Object(f["g"])(t).then(e=>e)},fetchAttachmentUrl(e){const{task:t,from:a}=this,r={attach_id:e.attach_id};return"workbench"===a&&(r.auth_object_type="task",r.auth_object_id=t.task_id),Object(f["f"])(r).then(e=>e)},fetchCreateBucket(){const e={obj_type:this.objType,attach_scene:this.objScene};return Object(f["c"])(e).then(e=>(console.log("创建临时桶"+e),this.bucketId=e,this.$emit("initTemporaryBucket",e),e)).catch(e=>{console.log(e),this.$Message.error("提交失败：创建临时桶失败："+e.message)})},fetchOverwriteAttachments(e,t){const a={obj_id:e,obj_type:"order",attach_scene:this.objScene,target_bucket_id:t};return Object(f["i"])(a).then(()=>{this.fetchAttachments()}).catch(e=>{console.log(e),this.$Message.error("拉取桶附件失败："+e.massage)})}}},y={mixins:[b],props:{options:[Boolean,Array],multiple:Boolean,objId:String,objType:String,objScene:String}},k=y,x=(a("6807"),a("2be6")),w=Object(x["a"])(k,u,h,!1,null,"37c8ec56",null),S=w.exports,C=a("e3fa"),O={components:{UserSelect:d["a"],Attachment:S},props:{$store:Object,objType:String,objId:[String,Number,Object],obj:Object,currentRole:Object,currentUser:Object,userType:String,action:String},data(){return{visible:!0,formData:{user_id_list:[],expired_days:365,bucket_id:"",remark:""},ruleNotEmpty:{required:!0,message:"不能为空"},btnDisabled:!1}},computed:{btnLoading(){return this.fetchAddRoleUser.isPending||this.fetchModifyRoleUserExpired.isPending},expiredDaysOptions(){const e=(e,t)=>s.a.duration(s()().add(e,t).diff(s()())).asDays();return[{label:"1天",value:1},{label:"7天",value:7},{label:"1个月",value:e(1,"months")},{label:"3个月",value:e(3,"months")},{label:"6个月",value:e(6,"months")},{label:"12个月",value:e(12,"months")}]},currentDate(){return s()().format("YYYY-MM-DD HH:mm:ss")},expiredDate(){const e=this.formData.expired_days;if(!e)return"";if("app"===this.userType)return"9999-01-01 00:00:00";switch(this.action){case"add":{let t=s()().add(e,"days").format("YYYY-MM-DD HH:mm:ss");return s()(t).isAfter(s()("9999-01-01 00:00:00"))&&(t="9999-01-01 00:00:00"),t}case"renew":{let t=s()().add(e,"days").format("YYYY-MM-DD HH:mm:ss");return s()(t).isAfter(s()("9999-01-01 00:00:00"))&&(t="9999-01-01 00:00:00"),t}default:return""}}},mounted(){this.debounce()},methods:{debounce:Object(c["debounce"])((function(e){"app"===this.userType&&this.fetchApps(e)}),500),onClose(){this.visible=!1},onSubmit(){this.$refs.form.validate(e=>{if(e)switch(this.action){case"add":return this.fetchAddRoleUser();case"renew":return this.fetchModifyRoleUserExpired();default:return}else this.$Message.error("提交失败，请检查表单是否有遗漏")})}},asyncMethods:{fetchApps(e){if(""!==e){const t={page:{start:0,size:100,return_total:0},query:e};return Object(C["l"])(t).then(e=>e.data).catch(e=>(console.log(e),[]))}},fetchAddRoleUser(){const{objId:e,currentRole:t,userType:a,formData:r,expiredDaysOptions:i,expiredDate:n}=this;let s="";i.find(e=>e.value===r.expired_days)&&(s=i.find(e=>e.value===r.expired_days).label);const o={user_id_list:r.user_id_list,object_id:e,role_id:t.role_id,user_type:a,expired_interval:"user"===a?s:"长期有效",expired_at:n,bucket_id:r.bucket_id,remark:r.remark};return Object(C["a"])(o).then(()=>{this.$Message.success("提交成功"),this.onClose(),this.$emit("refresh")}).catch(e=>{console.log(e),this.$Message.error("提交失败："+e.message)})},fetchModifyRoleUserExpired(){const{currentUser:e,formData:t,expiredDaysOptions:a,expiredDate:r}=this;let i="";a.find(e=>e.value===t.expired_days)&&(i=a.find(e=>e.value===t.expired_days).label);const n={user_role_id:e.user_role_id,expired_interval:i,expired_at:r,bucket_id:t.bucket_id,remark:t.remark};return Object(C["u"])(n).then(()=>{this.$Message.success("续期成功"),this.onClose(),this.$emit("refresh")}).catch(e=>{console.log(e),this.$Message.error("续期失败："+e.message)})}}},T=O,j=(a("c9fb"),Object(x["a"])(T,o,l,!1,null,"6a9d47ba",null)),I=j.exports,A={components:{editRoleUser:I},props:{objType:String,objId:[String,Number,Object],obj:Object},data(){return{activeMenu:"",tabOptions:{user:"用户",app:"应用"},activeTab:"user",roleUsers:[],page:{index:1,size:10,total:0}}},computed:{currentRole(){return!this.activeMenu||!this.objectRoles||this.objectRoles.length<=0?null:this.objectRoles.find(e=>e.role_type===this.activeMenu)},columns(){const{tabOptions:e,activeTab:t}=this;return[{slot:"nick_name",title:e[t]+"名称"},{slot:"status",title:"当前状态"},{slot:"expired_at",title:"有效期至"},{key:"creator",title:"授权人"},{key:"created_at",title:"创建时间"},{slot:"action",title:"操作"}]}},watch:{activeMenu(e){e&&this.activeTab&&this.onChangePage(1)},activeTab(e){e&&this.activeMenu&&this.onChangePage(1)}},mounted(){this.fetchObjectRoles()},methods:{statusOptions(e){const t=(e,t)=>{const a=s.a.duration(s()(e).diff(s()())).asDays();return!!(s()(e).isAfter(s()())&&a>t)},a=(e,t)=>{const a=s.a.duration(s()(e).diff(s()())).asDays();return!!(s()(e).isAfter(s()())&&a<=t)},r=e=>!s()(e).isAfter(s()());switch(!0){case t(e.expired_at,7):return{statusLabel:"生效中",statusColor:"green"};case a(e.expired_at,7):{const t=s.a.duration(s()(e.expired_at).diff(s()())).asDays();return{statusLabel:Math.ceil(t)+"天后失效",statusColor:"orange"}}case r(e.expired_at):return{statusLabel:"已过期",statusColor:"red"};default:return{statusLabel:"未知状态",statusColor:"gray"}}},onChangePage(e){this.page.index=e,this.fetchRoleUsers()},onAddRoleUser(){const e=this,{$store:t,objType:a,objId:r,obj:i,currentRole:n,activeTab:s}=this;this.$FastModal.show(I,{$store:t,objType:a,objId:r,obj:i,currentRole:n,userType:s,action:"add"},{refresh(){e.onChangePage(1)}})},onRenewRoleUser(e){const t=this,{$store:a,objType:r,objId:i,obj:n,currentRole:s,activeTab:o}=this;this.$FastModal.show(I,{$store:a,objType:r,objId:i,obj:n,currentRole:s,currentUser:e,userType:o,action:"renew"},{refresh(){t.fetchRoleUsers()}})},onDeleteRoleUser(e){const t="user"===e.user_type?e.nick_name:e.app_name;this.$Modal.confirm({title:`确认移除${t||"-"}的角色吗？`,content:`<p>名称：${t||"-"}</p><p>角色：${e.role_name}</p>`,loading:!0,onOk:()=>{this.fetchDeleteRoleUser(e)}})}},asyncMethods:{fetchObjectRoles(){const{objType:e,objId:t}=this,a={object_id:t,object_type:e,page:{start:0,size:100,return_total:1}};return Object(C["p"])(a).then(e=>(e.length&&(this.activeMenu=e[0].role_type),e))},fetchRoleUsers(){const{objType:e,objId:t,activeTab:a,page:r,activeMenu:i}=this,n={object_id:t,object_type:e,user_type:a,role_type_list:[i],page:{start:(r.index-1)*r.size,size:r.size,return_total:1}};return Object(C["r"])(n).then(e=>{this.page.total=e.total;const t=e.data.map(e=>({...e,...this.statusOptions(e),creator:e.creator||"-",created_at:e.created_at||"-"}));return t}).catch(e=>(console.log(e),[]))},fetchDeleteRoleUser(e){const t={user_role_id:e.user_role_id};return Object(C["f"])(t).then(e=>{e?(this.$Message.success("删除成功！"),this.$Modal.remove(),this.onChangePage(1)):this.$Message.error("删除失败")}).catch(e=>{this.$Message.error("删除失败："+e.message)})}}},D=A,M=(a("30de"),Object(x["a"])(D,r,i,!1,null,"501643da",null));t["a"]=M.exports},b392:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("br"),a("Form",{ref:"form",attrs:{model:e.form,"label-width":85,"label-position":"left","label-colon":""}},[e.project?[a("FormItem",{attrs:{label:"配置方式"}},[a("Radio",{attrs:{value:!0,readonly:""}},[e._v("自动导入模板数据列")])],1),a("FormItem",{attrs:{label:"选择模板"}},[a("Select",{attrs:{filterable:"",clearable:""},on:{"on-change":function(t){e.form.tag_key=""}},model:{value:e.form.template_id,callback:function(t){e.$set(e.form,"template_id",t)},expression:"form.template_id"}},e._l(e.templates,(function(t){return a("Option",{key:t.template_id,attrs:{value:t.template_id,label:t.template_name}},[a("span",[e._v(e._s(t.template_name))]),a("span",{staticClass:"txt-muted"},[e._v("（"+e._s(t.template_id)+"）")])])})),1)],1)]:e._e(),e.form.template_id||e.dataset?[a("FormItem",{attrs:{label:"字段预览"}},[a("Table",{attrs:{border:"",size:"small",columns:e.columns,data:e.schema,loading:e.loading,"row-key":"id","indent-size":0},scopedSlots:e._u([{key:"primary",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.primary?"是":"否"))])]}},{key:"required",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.required?"是":"否"))])]}},{key:"type",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.type||"-"))])]}},{key:"url_type",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.url_type||"-"))])]}},{key:"url_dump",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.url_dump?"是":"否"))])]}},{key:"element_type",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.element_type||"-"))])]}}],null,!1,954774248)})],1),a("h4",{staticClass:"title"},[e._v("配置题包聚合字段（可选）")]),a("div",{staticClass:"hint mbm"},[e._v("选择字段后，按字段值将题目聚合成题包，由同一标注员领取标注；仅部分模板适用。")]),a("FormItem",{attrs:{label:"聚合字段"}},[a("Tooltip",{staticStyle:{width:"100%"},attrs:{content:"不支持的场景",disabled:e.isTagKey,placement:"top-start",transfer:""}},[a("Select",{attrs:{disabled:!e.isTagKey,placeholder:"非必填",filterable:"",clearable:""},model:{value:e.form.tag_key,callback:function(t){e.$set(e.form,"tag_key",t)},expression:"form.tag_key"}},e._l(e.schema,(function(t){return a("Option",{key:t.key,attrs:{value:t.key}},[e._v(e._s(t.key))])})),1)],1)],1)]:e._e()],2),a("br")],1)},i=[],n=(a("8d0d"),a("9ec3")),s=a("b0f9"),o=a("2c88"),l={props:{project:Object,dataset:Object,fileList:Array},data(){return{form:{template_id:"",tag_key:""},columnsOptions:{key:"key",primary:"主键",required:"必填",type:"类型",url_type:"媒体类型",url_dump:"是否转存",element_type:"元素类型"},rules:{required:{required:!0,message:"不能为空"}},template:{},templates:[],schema:[],helpers:[]}},computed:{columns(){return Object(n["map"])(this.columnsOptions,(e,t)=>{const a={title:e,slot:t};return t.includes("key")&&(delete a.slot,Object.assign(a,{key:t,tree:!0,minWidth:10})),a})},loading(){return this.fetchDatasetSchema.isPending||this.fetchTemplate.isPending},isTagKey(){var e;const{template:t,dataset:a}=this;return t.template_id&&(null===(e=this.getRepeatable(t))||void 0===e?void 0:e.repeatable)||!!a}},watch:{form:{deep:!0,handler(){this.$emit("update:form",this.form)}},"form.template_id"(e){e&&this.fetchTemplate().then(()=>{this.getTemplateSchema(this.template),this.getTemplateHelpers(this.template)})}},mounted(){this.project&&this.fetchTemplates().then(()=>{this.form.template_id=this.templates[0].template_id}),this.dataset&&this.fetchDatasetSchema()},methods:{getTemplateSchema(e){const t=JSON.parse(e.template_schema);this.schema=t.map((e,t)=>{const{element_schema:a,...r}=e;let i;if(a&&a.length){const n=a.map(a=>{const r={...a,isElement:!0,parentIndex:t,id:`${e.key}/${a.key}`};return void 0===r.url_dump&&"url"===r.type&&(r.url_dump=!0),r});return i={...r,children:n,isElement:!1,_showChildren:!1,id:""+e.key},void 0===i.url_dump&&"url"===i.type&&(i.url_dump=!0),i}return i={...e,isElement:!1,id:""+e.key},void 0!==i.url_dump||"url"!==i.type&&"url"!==i.element_type||(i.url_dump=!0),"url"!==i.element_type||i.url_type||(i.url_type="mixed"),i})},getTemplateHelpers(e){var t,a;const r=JSON.parse(e.template_component),i=(null!==(t=r.helpers)&&void 0!==t?t:[]).map(e=>({...e,status:"完成"})),n=(null!==(a=r.label_helpers)&&void 0!==a?a:[]).map(e=>({...e,status:3===e.extra.currentStep?"完成":"未完成"}));this.helpers=[...i,...n]},getRepeatable(e){return e.template_id&&Object(n["chain"])(this.$OptimusStageMetadata).find({name:null===e||void 0===e?void 0:e.template_type}).value()},updateForm(){this.$emit("update:form",this.form)}},asyncMethods:{fetchTemplates(){const e={project_id:this.project.project_id,template_type:"project",page:{start:0,size:1e3,return_total:1}};return Object(s["g"])(e).then(e=>e.data).catch(e=>{console.log(e),this.$Message.error("模板获取失败: "+e.message)})},fetchTemplate(){const e={template_id:this.form.template_id};return Object(s["k"])(e).then(e=>e).catch(e=>{console.log(e),this.$Message.error("获取模板详情失败："+e.message)})},fetchDatasetSchema(){const e={dataset_code:this.dataset.dataset_code};return Object(o["m"])(e).then(e=>{this.schema=e}).catch(e=>{console.log(e),this.$Message.error("数据包获取失败: "+e.message)})}}},c=l,d=(a("7637"),a("2be6")),u=Object(d["a"])(c,r,i,!1,null,"65340ca0",null);t["a"]=u.exports},b48a:function(e,t,a){"use strict";a("5208")},b795:function(e,t,a){"use strict";a("9d2c")},b949:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{width:"350",title:"修改角色","mask-closable":!1},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[e.fetchRoleUser.isPending||e.fetchRoleOptions.isPending?a("Spin",{attrs:{fix:""}}):e.roleUser&&e.roleOptions||"team"===e.object.object_type?[e.user?a("div",{staticStyle:{"text-align":"center"}},[a("Icon",{staticClass:"mbm",attrs:{type:"ios-contact-outline",size:"100"}}),a("h3",{staticClass:"mbm"},[e._v(e._s(e.user.nick_name||"-"))]),a("p",[e._v(e._s(e.user.email||"-"))])],1):e._e(),a("Divider"),a("Form",{ref:"form",staticClass:"mlm mrm",attrs:{model:e.form,"label-width":60,"label-position":"right","hide-required-mark":""}},[a("FormItem",{attrs:{label:"角色：",prop:"role",rules:e.ruleNotEmpty}},[a("CheckboxGroup",{attrs:{vertical:""},model:{value:e.form.role,callback:function(t){e.$set(e.form,"role",t)},expression:"form.role"}},[a("Row",[a("publisher-view",{attrs:{store:e.$store},scopedSlots:e._u([{key:"forbidden",fn:function(){return e._l(e.unPublisherRoleOptions,(function(t){return a("Col",{key:t.role_id,attrs:{span:"24"}},[a("Checkbox",{attrs:{label:t.role_type,disabled:e.optionDisabled(t)}},[e._v(e._s(t.role_name))])],1)}))},proxy:!0}])},e._l(e.roleOptions,(function(t){return a("Col",{key:t.role_id,attrs:{span:"24"}},[a("Checkbox",{attrs:{label:t.role_type,disabled:e.optionDisabled(t)}},[e._v(e._s(t.role_name))])],1)})),1)],1)],1)],1)],1)]:[e._v("获取数据失败")],a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{on:{click:function(t){return e.hideModal()}}},[e._v("取消")]),a("Button",{attrs:{type:"primary",disabled:!(e.roleUser&&e.roleOptions||"team"===e.object.object_type),loading:e.fetchAddRoleUser.isPending||e.fetchDeleteRoleUser.isPending||e.fetchChangeTeamRole.isPending},on:{click:e.submit}},[e._v("确定")])],1)],2)},i=[],n=(a("8d0d"),a("9ec3")),s=a("e3fa"),o=a("bd1f"),l={components:{PublisherView:o["a"]},props:{user:Object,object:Object,$store:Object},data(){return{visible:!0,form:{role:[]},roleOptions:[],unPublisherRoleOptions:[],teamRoleOptions:[{role_name:"组长",role_type:"admin"},{role_name:"标注员",role_type:"labeler"},{role_name:"质检员",role_type:"reviewer"}],ruleNotEmpty:{required:!0,message:" "}}},computed:{optionDisabled(){return function(e){const{form:t}=this;return["普通用户"].includes(e.role_name)||["标注员","质检员"].includes(e.role_name)&&t.role.includes("admin")}}},watch:{"form.role"(e){"team"===this.object.object_type&&e.includes("admin")&&(e.includes("labeler")&&this.form.role.splice(this.form.role.indexOf("labeler"),1),e.includes("reviewer")&&this.form.role.splice(this.form.role.indexOf("reviewer"),1))}},async mounted(){const e=await this.fetchRoleUser();e&&(this.form.role=e.role_type.split(",")),"company"===this.object.object_type&&this.fetchRoleOptions(),"team"===this.object.object_type&&(this.roleOptions=this.teamRoleOptions,this.unPublisherRoleOptions=this.teamRoleOptions)},methods:{hideModal(e){this.visible=!1,e&&this.$emit(e)},submit(){this.$refs.form.validate(e=>{if(e)switch(this.object.object_type){case"company":this.changeCompanyRole();break;case"team":this.fetchChangeTeamRole();break}else this.$Message.error("提交失败，请检查是否有遗漏")})},changeCompanyRole(){const{role_type:e,role_name:t,user_role_id:a,nick_name:r}=this.roleUser;let i=Object(n["difference"])(this.form.role,e.split(",")),s=Object(n["difference"])(e.split(","),this.form.role);i.length>0||s.length>0?(i=Object(n["map"])(i,e=>Object(n["find"])(this.roleOptions,t=>t.role_type===e)),s=Object(n["map"])(s,r=>{const i=Object(n["findIndex"])(e.split(","),e=>e===r);return{role_name:t.split(",")[i],user_role_id:a.split(",")[i]}}),this.$Modal.confirm({title:`确定为${r}修改以下角色配置吗？`,content:Object(n["map"])(i,e=>`<p>增加 ${e.role_name} 角色</p>`).join("")+Object(n["map"])(s,e=>`<p>移除 ${e.role_name} 角色</p>`).join(""),loading:!0,width:500,onOk:()=>{const e=Object(n["map"])(i,e=>this.fetchAddRoleUser(e.role_id)),t=Object(n["map"])(s,e=>this.fetchDeleteRoleUser(e.user_role_id));Promise.all(e,t).then(()=>{this.$Message.success("配置成功！"),this.$Modal.remove(),this.hideModal("refresh")}).catch(e=>{console.log(e),this.$Message.error("配置失败："+e.message)})}})):this.$Message.error("提交失败，没有需要修改的角色配置")}},asyncMethods:{fetchRoleUser(){const{object_id:e,object_type:t}=this.object,a={page:{start:0,size:1,return_total:0},object_type:t,object_id:e,user_type:"user",user_id:this.user.user_id};return Object(s["q"])(a).then(e=>e.data[0])},fetchAddRoleUser(e){const t={object_id:this.object.object_id,role_id:e,user_type:"user",user_id_list:[this.user.user_id]};return Object(s["a"])(t)},fetchDeleteRoleUser(e){const t={user_role_id:e};return Object(s["f"])(t)},fetchChangeTeamRole(){const e={role_type_list:this.form.role,user_id_list:[this.user.user_id],team_id:this.object.object_id};return Object(s["d"])(e).then(e=>{e?(this.$Message.success("修改角色成功！"),this.hideModal("refresh")):this.$Message.error("修改角色失败")}).catch(e=>{this.$Message.error("修改角色失败："+e.message)})},fetchRoleOptions(){const{object_id:e,object_type:t}=this.object,a={object_id:e,object_type:t};return Object(s["z"])(a).then(e=>{const t=[...e],a=t.findIndex(e=>"user"===e.role_type);return a&&t.push(t.splice(a,1)[0]),this.unPublisherRoleOptions=t.filter(e=>!["project-admin","project-follower"].includes(e.role_type)),t})}}},c=l,d=a("2be6"),u=Object(d["a"])(c,r,i,!1,null,null,null);t["a"]=u.exports},ba32:function(e,t,a){"use strict";a("a674")},ba38:function(e,t,a){},bb017:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Alert",{staticClass:"mbm",class:e.theme+"-alert",scopedSlots:e._u([{key:"desc",fn:function(){return[e.warp?e._l(e.content,(function(t){return a("p",[e._v(e._s(t))])})):[a("Icon",{class:e.theme+"-icon",attrs:{type:"ios-alert"}}),a("span",{staticClass:"mls header"},[e._v("安全提示：")]),e._l(e.content,(function(t){return a("span",[e._v(e._s(t))])}))]]},proxy:!0}])},[e.warp?a("Row",{attrs:{type:"flex",justify:"start",align:"middle"}},[a("Icon",{class:e.theme+"-icon",attrs:{type:"ios-alert"}}),a("h4",{staticClass:"mls"},[e._v("安全提示")])],1):e._e()],1)},i=[],n={props:{theme:{type:String,default:"blue"},warp:{type:Boolean,default:!0}},data(){return{content:["本数据非必要勿下载，如必须下载，还请遵守如下要求：","① 不得私自以任意方式向第三方分享数据；","② 仅限用于原申请使用目的，不可挪作他用；","③ 数据下载至本地后，将由本人对该数据管理承担第一责任，须妥善保护与使用；","④ 若数据不再需要，须及时删除本数据。","如在下载至本地后，因使用不当而造成数据泄露或其他损害、损失或赔偿的，须承担相应责任。"]}}},s=n,o=(a("a99f"),a("2be6")),l=Object(o["a"])(s,r,i,!1,null,null,null);t["a"]=l.exports},bb06:function(e,t,a){"use strict";a("5a14")},be78:function(e,t,a){"use strict";a("959e")},be8c:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"project-container"},[a("auth-view",{attrs:{perm:{domain:"project",action:"view",extra:{project:e.$route.params.id,company:e.userinfo.user.company_id}}}},[a("div",{attrs:{slot:"forbidden"},slot:"forbidden"},[a("Deny")],1),e.fetchProject.isPending||void 0===e.project?a("Spin",{staticClass:"layout center",staticStyle:{height:"100%"},attrs:{fix:""}}):e._e(),e.fetchProject.isResolved&&void 0!==e.project?a("Layout",{staticClass:"layout"},[a("Sider",{staticClass:"sider"},[a("div",[a("Poptip",{staticStyle:{width:"calc(100% - 12px)"},attrs:{placement:"bottom-start"},on:{"on-popper-show":e.fetchProjects}},[a("div",{staticClass:"projects",staticStyle:{"text-align":"center"}},[a("span",{staticStyle:{margin:"4px 12px",display:"flex","align-items":"center","justify-content":"center"}},[1===e.project.project_type?a("div",{staticClass:"tag green mrs"},[e._v("外")]):a("div",{staticClass:"tag orange mrs"},[e._v("内")]),a("span",{staticClass:"title"},[e._v(e._s(e.project.project_name))])]),a("Row",{staticClass:"mbs",attrs:{justify:"center"}},[a("project-status-render",{attrs:{value:e.project.project_status}}),e.archived?a("Tag",{attrs:{color:"default"}},[e._v("已归档")]):e._e()],1)],1),a("div",{staticStyle:{"min-height":"120px"},attrs:{slot:"content"},slot:"content"},[a("Row",{staticStyle:{"min-width":"600px"},attrs:{justify:"space-between",align:"middle"}},[a("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"搜索项目编号/名称",icon:"ios-search"},on:{"on-change":function(t){return e.changePage(1)}},model:{value:e.projectQuery,callback:function(t){e.projectQuery=t},expression:"projectQuery"}}),a("router-link",{attrs:{to:"/projects/list"}},[e._v("返回项目列表 >")])],1),a("Row",{staticStyle:{width:"100%"},attrs:{justify:"space-between",align:"middle"}},[a("h4",{staticClass:"mtm mbs"},[e._v("全部项目")]),e.pageTotal?a("Page",{attrs:{total:e.pageTotal,current:e.pageIndex,simple:"","page-size":e.pageSize},on:{"on-change":e.changePage}}):e._e()],1),e.loading?a("Spin",{staticClass:"spin"}):e._e(),a("div",{staticClass:"pop-projects"},[!e.projects.length&&this.projectQuery?a("div",{staticClass:"empty center"},[e._v("暂无项目")]):e._l(e.projects,(function(t){return a("div",{key:t.project_id,staticClass:"pop-project-item",class:t.project_id===e.project.project_id?"active":"",on:{click:function(a){return e.jumpToProject(t.project_id)}}},[1===t.project_type?a("div",{staticClass:"tag green mrs"},[e._v("外")]):a("div",{staticClass:"tag orange mrs"},[e._v("内")]),a("span",[e._v(e._s(t.project_name))])])}))],2)],1)]),a("Menu",{staticStyle:{width:"200px"},attrs:{"active-name":e.$route.meta.tab||e.tab},on:{"on-select":e.ChangeTab}},[[a("MenuItem",{attrs:{name:"info"}},[a("Icon",{attrs:{type:"ios-information-circle-outline"}}),e._v("基本信息")],1)],a("div",{class:e.archived?"disabledItem":""},[e.isBusinessOrderModule?a("MenuItem",{attrs:{name:"task-orders"}},[a("Icon",{attrs:{type:"ios-paper-outline"}}),e._v("需求管理")],1):e._e(),e.project.project_type?a("MenuItem",{attrs:{name:"bid-tasks",to:{path:"/projects/list/"+e.$route.params.id,query:{tab:"bid-tasks"}}}},[a("Icon",{attrs:{type:"ios-list-box-outline"}}),e._v("试标任务")],1):e._e(),a("MenuItem",{attrs:{name:"formal-tasks",to:{path:"/projects/list/"+e.$route.params.id,query:{tab:"formal-tasks"}}}},[a("Icon",{attrs:{type:"ios-list-box-outline"}}),e._v(e._s(1===e.project.project_type?"正式任务":"任务列表"))],1),a("MenuItem",{attrs:{name:"dataset"}},[a("Icon",{attrs:{type:"ios-cube-outline"}}),e._v("题目库")],1),a("MenuItem",{attrs:{name:"template",to:{path:"/projects/list/"+e.$route.params.id,query:{tab:"template"}}}},[a("Icon",{attrs:{type:"ios-grid-outline"}}),e._v("模板管理")],1),a("MenuItem",{attrs:{name:"export"}},[a("Icon",{attrs:{type:"ios-download-outline"}}),e._v("导出管理")],1),a("div",{directives:[{name:"permissions",rawName:"v-permissions",value:{domain:"role-user",action:"view",extra:{objectType:"project",objectId:e.project.project_id}},expression:"{domain: 'role-user', action: 'view', extra: {objectType: 'project', objectId: project.project_id}}"}]},[a("MenuItem",{attrs:{name:"permission"}},[a("Icon",{attrs:{type:"ios-lock-outline"}}),e._v("权限管理")],1)],1),a("MenuItem",{attrs:{name:"logs"}},[a("Icon",{attrs:{type:"ios-document-outline"}}),e._v("日志")],1)],1)],2),a("auth-view",{attrs:{perm:{domain:"project",action:"close",extra:{project:e.project.project_id,company:e.companyinfo.company_id}}}},[20===e.project.project_status?[a("Divider"),a("Row",{attrs:{justify:"center"}},[a("Button",{staticStyle:{margin:"20px 0"},attrs:{icon:"md-power",type:"default"},on:{click:function(t){return e.fetchCloseProject()}}},[e._v("关闭项目")])],1)]:e._e()],2)],1)]),"projectDetail"===e.$route.name?a("Content",{staticClass:"content"},[e.isShowGuide?[a("t-alert",[e._v("请尽快完成「配置模板」与「上传题目」两个步骤，完成后即可下发标注任务！"),a("span",{staticStyle:{color:"#2d8cf0",cursor:"pointer"},attrs:{target:"_blank"},on:{click:e.checkDetail}},[e._v("查看详情")])])]:e._e(),"info"===e.tab?[a("Info",{attrs:{project:e.project},on:{reflash:e.fetchProject}})]:e._e(),"task-orders"===e.tab?[a("task-orders",{attrs:{project:e.project}})]:e._e(),"bid-tasks"===e.tab?[a("external-tasks",{key:"bid-tasks",attrs:{project:e.project,tab:"bid-tasks"}})]:e._e(),"formal-tasks"===e.tab?[e.project.project_type?a("external-tasks",{key:"formal-tasks",attrs:{project:e.project,tab:"formal-tasks"}}):a("Tasks",{attrs:{project:e.project,dataset:e.dataset}})]:e._e(),"dataset"===e.tab?[a("File",{attrs:{project:e.project}})]:e._e(),"template"===e.tab?[a("Template",{attrs:{project:e.project}})]:e._e(),"export"===e.tab?[a("export-manager",{attrs:{project:e.project}})]:e._e(),"logs"===e.tab?[a("Logs",{attrs:{project:e.project,status:e.project.project_status}})]:e._e(),"permission"===e.tab?[a("permission-manager",{attrs:{objType:"project",objId:e.project.project_id,obj:e.project}})]:e._e()],2):a("Content",{staticStyle:{padding:"16px"}},[a("router-view")],1)],1):e._e()],1),a("close",{ref:"close"}),a("approve",{attrs:{visible:e.approveModal,approve:e.approveModel,project:e.project},on:{hideModal:function(t){e.hideModal("approve","refresh"===t?e.fetchProject():"")}}}),a("suppliers-inside",{attrs:{visible:e.suppliersInsideModal},on:{hideModal:function(t){return e.hideModal("suppliersInside")}}})],1)},i=[],n=a("9ec3"),s=a.n(n),o=a("f78a"),l=a("db49"),c=a("8859"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"project-info"},[e.archived?a("Alert",{attrs:{"show-icon":""}},[e._v("已归档项目仅支持查看【基础信息】")]):e._e(),a("Row",[a("div",{staticClass:"label"},[e._v("项目编号")]),a("span",{staticClass:"value"},[e._v(e._s(e.project.project_id))])]),a("Row",[a("div",{staticClass:"label"},[e._v("项目名称")]),a("span",{staticClass:"value"},[e._v(e._s(e.project.project_name))])]),a("Row",[a("div",{staticClass:"label"},[e._v("创建人")]),a("span",{staticClass:"value"},[e._v(e._s(e.project.creator||"-"))])]),a("Row",[a("div",{staticClass:"label"},[e._v("创建时间")]),a("span",{staticClass:"value"},[e._v(e._s(e.project.created_at||"-"))])]),a("Row",[a("div",{staticClass:"label"},[e._v("项目类型")]),a("span",{staticClass:"value"},[e._v(e._s(1===e.project.project_type?"外部标注项目":"内部标注项目"))])]),a("Row",[a("div",{staticClass:"label"},[e._v("项目状态")]),a("project-status-render",{attrs:{value:e.project.project_status}})],1),a("Row",[a("div",{staticClass:"label"},[e._v("项目交付时间")]),a("span",{staticClass:"value"},[e._v(e._s(e.project.project_expect_date||"-"))])]),a("Row",[a("div",{staticClass:"label"},[e._v("项目说明")]),e.project.project_type?a("span",[e._v("AIdata需求项目，需求单号("),e.Config.EXTERNAL_URL?a("a",{on:{click:e.goToExternal}},[e._v(e._s(e.project.ai_order_code))]):a("span",[e._v(e._s(e.project.ai_order_code))]),a("span",[e._v(")")])]):a("span",{staticClass:"ellipsis2 value"},[e._v(e._s(e.project.project_desc||"-"))])]),a("Row",[a("div",{staticClass:"label"},[a("span",[e._v("安全策略")]),a("Tooltip",{attrs:{"max-width":"500",transfer:"",content:"如需修改请联系管理员"}},[a("Icon",{staticClass:"txt-muted",attrs:{type:"md-information-circle",size:16}})],1)],1),a("span",{staticClass:"value"},[e._v(e._s(e.safePolicy))])]),a("Row",[a("div",{staticClass:"label"},[e._v("关联业务")]),a("div",{staticStyle:{display:"inline-block"}},[a("Row",{attrs:{align:"middle",type:"flex",justify:"start"}},[e.isEditBusiness?[a("Select",{staticStyle:{width:"200px"},model:{value:e.isEditBusiness,callback:function(t){e.isEditBusiness=t},expression:"isEditBusiness"}},e._l(e.options.businesses,(function(t){return a("Option",e._b({key:t.value},"Option",t,!1))})),1),a("div",{staticStyle:{display:"inline-block"}},[a("Icon",{staticClass:"pointer mls",attrs:{type:"md-close",size:"18",color:"#ed4014"},on:{click:function(t){e.isEditBusiness=""}}}),a("Icon",{staticClass:"pointer mls",attrs:{type:"md-checkmark",size:"18",color:"#19be6b"},on:{click:function(t){return e.fetchEditBusiness(e.isEditBusiness)}}})],1)]:[a("span",[e._v(e._s(e.project.business_name||"无"))]),a("auth-view",{attrs:{perm:{domain:"business",action:"edit",extra:{company:e.companyinfo.company_id,business:e.project.business_id}}}},[e.project.project_type?e._e():a("Icon",{staticClass:"pointer",staticStyle:{"margin-left":"2px"},attrs:{type:"md-create"},on:{click:function(t){e.isEditBusiness=e.project.business_id?e.project.business_id.toString():"0"}}})],1)]],2)],1)])],1)},u=[],h=a("a06e"),p=a("189e"),f=a("3fb9"),m={components:{projectStatusRender:f["a"]},props:{project:Object},data(){return{Config:l["a"],isEditBusiness:"",options:{}}},computed:{safePolicy(){const e=[this.project.encode_export_file?"加密文件导出":"",this.project.allow_http_download?"":"禁止web下载",""===this.project.safety_bucket_id?"":"导出到安全桶"+this.project.safety_bucket_id].filter(e=>e);return e.length?e.join("；"):"无"},companyinfo(){return this.$store.state.companyinfo},archived(){return this.project.archive_status>0}},watch:{$route(){this.isEditBusiness&&(this.isEditBusiness="")},isEditBusiness(e,t){e&&!t&&this.fetchBusinesses()}},mounted(){},beforeDestroy(){this.isEditBusiness&&(this.isEditBusiness="")},methods:{goToExternal(){var e,t;if(null===(e=this.Config)||void 0===e||null===(t=e.EXTERNAL_URL)||void 0===t||!t.aidata)return this.$Message.error("暂时不支持跳转到其他系统"),0;if(!this.project.ai_order_code)return this.$Message.error("需求单号缺失"),0;const a=`${this.Config.EXTERNAL_URL.aidata}/orders/${this.project.ai_order_code}?origin=qlabel`;window.open(a,"_blank")}},asyncMethods:{fetchBusinesses(){return Object(p["d"])().then(e=>{const t=e.data.map(e=>({label:e.business_name,value:e.business_id}));return t.unshift({label:"无",value:"0"}),this.$set(this.options,"businesses",t),e.data}).catch(e=>{console.log(e)})},fetchEditBusiness(e){const t={project_id:this.project.project_id,business_id:e};return"0"===e&&(t.business_id=0),Object(h["x"])(t).then(()=>{this.$Message.success("修改成功！"),this.isEditBusiness="",this.$emit("reflash")}).catch(e=>{this.$Message.error("修改失败："+e.message)})}}},g=m,_=(a("13cf"),a("2be6")),v=Object(_["a"])(g,d,u,!1,null,"f634b0f8",null),b=v.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"task-orders-list"},[a("tableFilter",{staticClass:"mtm",attrs:{btnDirection:"horizontal"},on:{search:function(t){return e.onChangePage(1)},reset:e.onReset}},[a("Form",{ref:"form",attrs:{model:e.formData,"label-position":"right","label-width":80}},[a("Row",{attrs:{gutter:10}},[a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"需求编号:"}},[a("Input",{attrs:{placeholder:"请输入需求编号"},model:{value:e.formData.order_id,callback:function(t){e.$set(e.formData,"order_id",t)},expression:"formData.order_id"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"需求名称:"}},[a("Input",{attrs:{placeholder:"请输入需求名称关键词"},model:{value:e.formData.order_name,callback:function(t){e.$set(e.formData,"order_name",t)},expression:"formData.order_name"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"受理状态:"}},[a("Select",{attrs:{placeholder:"请选择受理状态"},model:{value:e.formData.acceptance_status,callback:function(t){e.$set(e.formData,"acceptance_status",t)},expression:"formData.acceptance_status"}},[a("Option",{attrs:{value:0}},[e._v("未受理")]),a("Option",{attrs:{value:1}},[e._v("已受理")])],1)],1)],1)],1)],1)],1),a("Row",{directives:[{name:"permissions",rawName:"v-permissions",value:{domain:"project",action:"edit",extra:{company:e.companyInfo.company_id,project:e.project.project_id}},expression:"{domain: 'project', action: 'edit', extra: {company: companyInfo.company_id, project: project.project_id}}"}],staticClass:"mbb",attrs:{type:"flex"}},[e.businessUrl?a("Button",{attrs:{type:"primary",to:e.businessUrl,target:"_blank",icon:"md-add"}},[e._v("创建需求")]):a("Button",{attrs:{type:"primary",icon:"md-add"},on:{click:function(t){return e.onRoute("create-task-order")}}},[e._v("创建需求")])],1),a("Table",{staticClass:"mtm",attrs:{data:e.tableData,columns:e.columns,loading:e.fetchOrders.isPending},scopedSlots:e._u([{key:"order_id",fn:function(t){var r=t.row;return[a("p",[e._v(e._s(r.order_id))])]}},{key:"acceptance_status",fn:function(t){var r=t.row;return[r.acceptance_status?a("Tag",{attrs:{color:"blue"}},[e._v("已受理")]):a("Tag",[e._v("未受理")])]}},{key:"initiator",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.initiator||"-"))])]}},{key:"acceptance_tasks",fn:function(t){var r=t.row,i=t.index;return[e.fetchOrderTasks.isPending&&e.loadingIndex===i?a("Icon",{staticClass:"spin-icon-load",attrs:{type:"ios-loading"}}):r.orderTasks&&r.orderTasks.length?[a("acceptedTasks",{key:r.order_id,attrs:{project:e.project,tasks:r.orderTasks}})]:a("span",[e._v("-")])]}},{key:"action",fn:function(t){var r=t.row;return[e.businessUrl?[a("a",{attrs:{href:e.businessUrl+"?reqID="+r.external_order_id,target:"_blank"}},[e._v("查看")])]:[a("a",{on:{click:function(t){return e.onRoute("view-task-order",{order_id:r.order_id})}}},[e._v("查看")]),a("auth-view",{attrs:{perm:{domain:"project",action:"edit",extra:{company:e.companyInfo.company_id,project:e.project.project_id}}}},[a("Divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(t){return e.onRoute("edit-task-order",{order_id:r.order_id})}}},[e._v("编辑")]),r.acceptance_status?e._e():[a("Divider",{attrs:{type:"vertical"}}),a("a",{staticClass:"txt-red",on:{click:function(t){return e.onDelete(r)}}},[e._v("删除")])]],2)]]}}])}),a("Row",{staticClass:"mtm",attrs:{type:"flex",justify:"space-between"}},[a("div"),a("Page",{attrs:{current:e.page.index,total:e.page.total,"page-size":e.page.size,"show-total":"","show-elevator":""},on:{"on-change":e.onChangePage}})],1)],1)},k=[],x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"accepted-tasks"},[e.tasks&&e.tasks.length?[a("Tooltip",{key:e.tasks[0].task_id,staticClass:"task-item",attrs:{placement:"top-start","max-width":"300",transfer:""},scopedSlots:e._u([{key:"content",fn:function(){return[e._v(e._s(e.tasks[0].task_name))]},proxy:!0}],null,!1,2060149066)},[a("router-link",{staticClass:"task-link",attrs:{to:"/projects/list/"+e.project.project_id+"/tasks/"+e.tasks[0].task_id}},[e._v(e._s(e.tasks[0].task_name))])],1),e.tasks.length>1?a("Poptip",{attrs:{title:"已受理的任务",trigger:"hover",placement:"right",transfer:""}},[a("Button",{attrs:{type:"default",size:"small"}},[e._v(e._s(e.tasks.length))]),a("div",{attrs:{slot:"content"},slot:"content"},[a("CellGroup",{staticClass:"tasks-panel"},e._l(e.tasks,(function(t,r){return a("Cell",{key:r,staticStyle:{padding:"0px"},attrs:{name:t.task_name}},[a("router-link",{staticClass:"task-link",attrs:{to:"/projects/list/"+e.project.project_id+"/tasks/"+t.task_id}},[e._v(e._s(t.task_name))])],1)})),1)],1)],1):e._e()]:a("span",[e._v("-")])],2)},w=[],S={props:{project:Object,tasks:Array}},C=S,O=(a("e772"),Object(_["a"])(C,x,w,!1,null,"dc5c20e8",null)),T=O.exports,j=a("c605"),I={components:{acceptedTasks:T,tableFilter:j["a"]},props:{project:Object},data(){return{Config:l["a"],formData:{order_id:"",order_name:"",acceptance_status:""},columns:[{slot:"order_id",title:"需求编号",minWidth:190},{key:"order_name",title:"需求名称",minWidth:150},{key:"creator",title:"创建人",minWidth:120},{key:"created_at",title:"创建时间",minWidth:120},{slot:"initiator",title:"需求提出人",minWidth:120},{slot:"acceptance_status",title:"受理状态",minWidth:100},{slot:"acceptance_tasks",title:"受理任务",minWidth:200},{slot:"action",title:"操作",minWidth:180}],tableData:[],page:{index:1,size:10,total:0},loadingIndex:-1}},computed:{companyInfo(){return this.$store.state.companyinfo},businessConfig(){try{var e;const t=JSON.parse(null===(e=this.project)||void 0===e?void 0:e.business_config);return t}catch(t){return null}},businessUrl(){var e,t;return this.businessKey&&null!==(e=this.businessConfig)&&void 0!==e&&null!==(t=e.orderInfo)&&void 0!==t&&t.enabled?this.businessConfig.orderInfo.from:""},businessKey(){var e;return!(!1!==(null===(e=this.businessConfig)||void 0===e?void 0:e.modifyOrder))}},mounted(){this.fetchOrders()},methods:{onRoute(e,t){const a={tab:this.$route.query.tab};switch(e){case"create-task-order":Object.assign(a,{scene:"create"});break;case"edit-task-order":Object.assign(a,{...t,scene:"edit"});break;case"view-task-order":Object.assign(a,{...t,scene:"view"});break}this.$router.push({name:"create-task-orders",params:{id:this.$route.params.id},query:a})},onReset(){Object.keys(this.formData).forEach(e=>{this.formData[e]=""}),this.onChangePage(1)},onChangePage(e){this.page.index=e,this.fetchOrders()},onDelete(e){this.$Modal.confirm({title:"删除需求",content:`<p>确定要删除这个需求吗？</p><p>需求名称：${e.order_name}</p>`,loading:!0,onOk:()=>{this.fetchDeleteOrder(e)}})},async mapOrderTasks(){const{tableData:e}=this;for(let r=0;r<e.length;r++){var t,a;this.loadingIndex=r;const i=await this.fetchOrderTasks(e[r].order_id);if(i){this.loadingIndex=-1;const t=[...i.data];this.$set(e[r],"orderTasks",t)}if("task-orders"!==(null===(t=this.$route)||void 0===t||null===(a=t.query)||void 0===a?void 0:a.tab))return}}},asyncMethods:{fetchOrders(){const{project:e,page:t,formData:a}=this,r={project_id:e.project_id,page:{start:(t.index-1)*t.size,size:t.size,return_total:1}};return Object.keys(a).forEach(e=>{r[e]=a[e]}),Object(h["p"])(r).then(e=>{this.tableData=e.data,this.mapOrderTasks(),this.page.total=e.total})},fetchOrderTasks(e){const{project:t}=this,a={project_id:t.project_id,order_id:e.toString(),page:{start:0,size:1e3,return_total:1}};return Object(h["o"])(a)},fetchDeleteOrder(e){const{project_id:t}=this.project,a={project_id:t,order_id:e.order_id};return Object(h["g"])(a).then(()=>{this.fetchOrders(),this.$Modal.remove(),this.$Message.success("需求已删除")}).catch(e=>{console.log(e),this.$Message.error("删除失败："+e.message)})}}},A=I,D=(a("be78"),Object(_["a"])(A,y,k,!1,null,"42d67378",null)),M=D.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{position:"relative"}},[e.fetchTasks.isPending?a("Spin",{attrs:{fix:""}}):e._e(),a("TableFilter",{staticClass:"mtm",attrs:{searchLoading:e.fetchTasks.isPending},on:{search:function(t){e.pageIndex=1,e.handleSearch()},reset:function(t){e.pageIndex=1,e.handleReset()}}},[a("Form",{attrs:{inline:"",model:e.tasks_form,"label-width":90}},[a("Row",{attrs:{gutter:20}},[a("Col",{attrs:{span:"8"}},[a("FormItem",{staticStyle:{width:"100%"},attrs:{label:"任务编号:"}},[a("Input",{attrs:{type:"text",placeholder:"输入完整的供应商任务编号进行搜索"},model:{value:e.tasks_form.task_id,callback:function(t){e.$set(e.tasks_form,"task_id",t)},expression:"tasks_form.task_id"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{staticStyle:{width:"100%"},attrs:{label:"任务名称:"}},[a("Input",{attrs:{type:"text",placeholder:"输入任务名称进行搜索"},model:{value:e.tasks_form.task_name,callback:function(t){e.$set(e.tasks_form,"task_name",t)},expression:"tasks_form.task_name"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{staticStyle:{width:"100%"},attrs:{label:"任务状态:"}},[a("Select",{attrs:{transfer:"",clearable:"",multiple:""},model:{value:e.tasks_form.status_id_list,callback:function(t){e.$set(e.tasks_form,"status_id_list",t)},expression:"tasks_form.status_id_list"}},e._l(e.taskStatus,(function(t,r){return 0!==t.value?a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.text))]):e._e()})),1)],1)],1),"formal-tasks"===e.tab?a("Col",{attrs:{span:"8"}},[a("FormItem",{staticStyle:{width:"100%"},attrs:{label:"标注供应商:"}},[a("Input",{attrs:{type:"text",placeholder:"输入供应商名称关键词进行搜索"},model:{value:e.tasks_form.supplier_name,callback:function(t){e.$set(e.tasks_form,"supplier_name",t)},expression:"tasks_form.supplier_name"}})],1)],1):e._e(),a("Col",{attrs:{span:"8"}},[a("FormItem",{staticStyle:{width:"100%"},attrs:{label:"创建人:"}},[a("user-select",{ref:"userSelect",attrs:{remote:""},on:{"update:user":function(t){e.tasks_form.created_by=t}}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{staticStyle:{width:"100%"},attrs:{label:"创建时间:"}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"daterange",placeholder:"请选择时间"},model:{value:e.tasks_form.created_at,callback:function(t){e.$set(e.tasks_form,"created_at",t)},expression:"tasks_form.created_at"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{staticStyle:{width:"100%"},attrs:{label:"","label-width":18}},[a("Checkbox",{on:{"on-change":function(t){e.pageIndex=1,e.handleSearch()}},model:{value:e.tasks_form.is_deliver,callback:function(t){e.$set(e.tasks_form,"is_deliver",t)},expression:"tasks_form.is_deliver"}},[e._v("仅展示可验收的任务")])],1)],1)],1)],1)],1),!e.fetchTasks.isPending&&e.isBid?a("Row",{staticClass:"mbb",attrs:{type:"flex",align:"middle"}},[a("auth-view",{attrs:{perm:{domain:"task",action:"edit-bid-task",extra:{company:e.project.company_id,project:e.project.project_id}}}},[e.project.is_winner||10!==e.project.project_status&&50!==e.project.project_status||e.selectable?e._e():a("Button",{staticClass:"mrm",attrs:{type:"primary",icon:"ios-add"},on:{click:function(t){return e.goToCreateTask("add")}}},[e._v("试标任务")])],1),a("auth-view",{attrs:{perm:{domain:"project",action:"export",extra:{company:e.project.company_id,project:e.project.project_id}}}},[e.tasks[0]&&!e.selectable?a("Button",{staticClass:"mrm",attrs:{type:"primary",icon:"ios-cloud-download-outline"},on:{click:function(t){return e.onSelect({enable:!0})}}},[e._v("批量导出任务")]):e._e()],1),a("auth-view",{attrs:{perm:{domain:"task",action:"receive-task",extra:{project:e.project.project_id}}}},[a("Tooltip",{attrs:{content:"暂无可关闭验收的任务",placement:"left",disabled:e.acceptanceTasks&&e.acceptanceTasks.length>0}},[a("Button",{staticClass:"mrm",attrs:{type:"primary",disabled:e.acceptanceTasks&&0===e.acceptanceTasks.length},on:{click:e.closeAcceptance}},[e._v("批量关闭验收")])],1)],1),e.selectable?[a("Button",{staticClass:"mrm",attrs:{icon:"ios-cloud-download-outline"},on:{click:function(t){return e.onSelect({enable:!1})}}},[e._v("退出导出")]),a("Button",{staticClass:"mrm",attrs:{icon:"ios-cloud-download-outline",type:"primary"},on:{click:e.onMultiDownload}},[e._v("确认导出")]),a("span",[e._v("已勾选 "+e._s(e.selectionLength)+" 条任务，")]),a("a",{on:{click:function(t){return e.onSelect({insert:!0,table:"all"})}}},[e._v("全选本页任务")])]:e._e()],2):e._e(),!e.isBid&&e.project.is_winner&&20===e.project.project_status?a("Row",{staticClass:"mbb",attrs:{type:"flex",align:"middle"}},[a("auth-view",{attrs:{perm:{domain:"task",action:"edit-formal-task",extra:{company:e.project.company_id,project:e.project.project_id}}}},[e.selectable?e._e():a("Button",{staticClass:"mrm",attrs:{type:"primary",icon:"ios-add"},on:{click:function(t){return e.goToCreateTask("formal-tasks")}}},[e._v("正式任务")])],1),a("auth-view",{attrs:{perm:{domain:"project",action:"export",extra:{company:e.project.company_id,project:e.project.project_id}}}},[e.selectable?e._e():a("Button",{staticClass:"mrm",attrs:{type:"primary",icon:"ios-cloud-download-outline"},on:{click:function(t){return e.onSelect({enable:!0})}}},[e._v("批量导出任务")])],1),a("auth-view",{attrs:{perm:{domain:"task",action:"receive-task",extra:{project:e.project.project_id}}}},[a("Tooltip",{attrs:{content:"暂无可关闭验收的任务",placement:"left",disabled:e.acceptanceTasks&&e.acceptanceTasks.length>0}},[a("Button",{staticClass:"mrm",attrs:{type:"primary",disabled:e.acceptanceTasks&&0===e.acceptanceTasks.length},on:{click:e.closeAcceptance}},[e._v("批量关闭验收")])],1)],1),e.selectable?[a("Button",{staticClass:"mrm",attrs:{icon:"ios-cloud-download-outline"},on:{click:function(t){return e.onSelect({enable:!1})}}},[e._v("退出导出")]),a("Button",{staticClass:"mrm",attrs:{icon:"ios-cloud-download-outline",type:"primary"},on:{click:e.onMultiDownload}},[e._v("确认导出")]),a("span",[e._v("已勾选 "+e._s(e.selectionLength)+" 条任务，")]),a("a",{on:{click:function(t){return e.onSelect({insert:!0,table:"all"})}}},[e._v("全选本页任务")])]:e._e()],2):e._e(),e.isBid||20===e.project.project_status?e._e():a("Alert",{attrs:{closable:""}},[e._v("仅进行中的项目可创建正式任务。")]),e.tasks.length>0?a("div",[e.isBid&&e.tasks[0]&&1===e.tasks[0].status_id?a("Alert",{attrs:{closable:"",type:"success"}},[e._v("已完成试标，待供应商确认中标后可下发正式任务。")]):e._e(),e._l(e.tasks,(function(t){return a("div",{staticClass:"task_box"},[e.isBid?[a("Row",{staticClass:"mls",staticStyle:{"line-height":"34px"},attrs:{type:"flex",justify:"space-between",align:"middle"}},[a("span",[a("span",[e._v(e._s(t.bid_code)+" (题目数："+e._s(t.bid_data_num)+")")])]),a("div",{staticClass:"mrm",staticStyle:{display:"flex","align-items":"center",gap:"8px"}},[a("div",[a("auth-view",{attrs:{perm:{domain:"task",action:"edit-bid-task",extra:{company:e.project.company_id,project:e.project.project_id}}}},[a("Button",{attrs:{size:"small",type:"primary",ghost:""},on:{click:function(a){return e.goToCreateTask("bid-tasks",t.bid_id)}}},[e._v("编辑")])],1)],1),1===t.status_id?a("Button",{staticClass:"txt-green",attrs:{type:"text",size:"small"}},[e._v(e._s(t.status_name))]):[a("auth-view",{attrs:{perm:{domain:"task",action:"edit-bid-task",extra:{company:e.project.company_id,project:e.project.project_id}}}},[a("Tooltip",{attrs:{placement:"bottom",transfer:!0,theme:"light","max-width":"200"}},[e.Config.EXTERNAL_URL?a("Button",{staticStyle:{width:"65px"},attrs:{type:"primary",size:"small",disabled:!(e.isAll&&50===e.project.project_status)},on:{click:e.target}},[e._v("定标")]):e._e(),a("template",{slot:"content"},[a("span",[e._v("项目审批通过且所有供应商均已技术评估后，采购可在AIdata定标")])])],2)],1),a("auth-view",{attrs:{perm:{domain:"task",action:"win-bid-task",extra:{company:e.project.company_id,project:e.project.project_id,iswithmodel:e.project.is_with_model}}}},[a("div",[a("auth-view",{attrs:{perm:{domain:"task",action:"edit-bid-task",extra:{company:e.project.company_id,project:e.project.project_id}}}},[a("Button",{attrs:{type:"error",size:"small",ghost:"",loading:e.fetchDeleteTasks.isPending},on:{click:function(a){return e.deleteTask(t)}}},[e._v("撤回任务")])],1)],1)])]],2)])]:[a("Row",{staticClass:"mlm mts mbs",attrs:{type:"flex",justify:"space-between",align:"middle"}},[a("span",[a("span",[e._v(e._s(t.formal_code))]),t.is_dynamic?a("div",{staticClass:"dynamic_tag mlm"},[e._v("动态")]):e._e()]),a("div",{staticStyle:{display:"inline-block"}},[a("auth-view",{attrs:{perm:{domain:"task",action:"edit-formal-task",extra:{company:e.companyInfo.company_id,project:e.project.project_id}}}},[e.getTFTaskStatus(t,"edit")?a("Button",{staticClass:"mrm",attrs:{type:"primary",size:"small",ghost:""},on:{click:function(a){return e.goToCreateTask("formal-tasks",t.formal_id)}}},[e._v("编辑")]):e._e(),e.getTFTaskStatus(t,"recover")?a("Button",{staticClass:"mrm",attrs:{type:"primary",size:"small",ghost:""},on:{click:function(a){return e.RecoverTasks(t)}}},[e._v("回收题目")]):e._e()],1)],1)])],a("div",{attrs:{slot:"content"},slot:"content"},[a("Table",{ref:"table-"+(e.isBid?t.bid_id:t.formal_id),refInFor:!0,attrs:{columns:e.isBid?e.columns0:e.columns1,data:t?t.datas:[],loading:e.fetchTasks.isPending},on:{"on-select":function(t,a){return e.onSelect({insert:!0,selection:[a]})},"on-select-cancel":function(t,a){return e.onSelect({insert:!1,selection:[a]})},"on-select-all":function(t){return e.onSelect({insert:!0,selection:t})},"on-select-all-cancel":function(a){return e.onSelect({insert:!1,table:"table-"+(e.isBid?t.bid_id:t.formal_id)})}},scopedSlots:e._u([{key:"task_id",fn:function(r){var i=r.row;return[a("div",[i.task_name?a("t-link",{attrs:{theme:"primary",hover:"color"},on:{click:function(a){return e.$router.push({path:"/projects/list/"+t.project_id+"/tasks/"+i.task_id+"?tab=details"})}}},[e._v(e._s(i.task_name))]):a("span",[e._v("-")]),t.cross_num>=2?a("span",{staticClass:"txt-muted"},[e._v("("+e._s(t.cross_num)+"人交叉)")]):e._e()],1),a("p",{staticClass:"txt-muted"},[e._v(e._s(i.task_id))])]}},{key:"total_num",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.total_num||"-"))])]}},{key:"supplier_name",fn:function(t){var r=t.row;t.index;return[e.isBid?[a("div",{staticClass:"txt-wrap"},[e._v("供应商"+e._s(r.supplier_no))]),a("auth-view",{attrs:{perm:{domain:"task",action:"view-bid-supplier",extra:{company:e.project.company_id}}}},[r.supplier_no?a("div",{staticClass:"txt-wrap txt-muted"},[e._v("("+e._s(r.supplier_name)+")")]):e._e()])]:a("span",[e._v(e._s(r.supplier_name))])]}},{key:"dataset_list",fn:function(e){var r=e.row;return[a("datasetRelation",{key:t.task_id.toString(),attrs:{task:t,relation:r}})]}},{key:"status_id",fn:function(e){var t=e.row;return[a("external-status-render",{staticClass:"external_tag",attrs:{value:t.status_id}})]}},{key:"task_status_id",fn:function(e){var t=e.row;return[a("task-status-render",{attrs:{value:t.task_status_id}})]}},{key:"task_progress",fn:function(t){var r=t.row;return[e.fetchStatTaskProgress.isPending&&!r.total_num?a("Icon",{staticClass:"spin-icon-load",attrs:{type:"ios-loading"}}):r.total_num&&void 0!==r.labeled_num?a("div",{staticClass:"progress_box"},[void 0!==r.labeled_num?a("div",{staticClass:"progress_cont"},[a("span",{staticClass:"font mrs"},[e._v("已标注")]),a("Progress",{staticClass:"progress_p",attrs:{percent:Math.round(r.labeled_num/r.total_num*1e4)/100,"stroke-width":8,"hide-info":""}}),a("span",{staticClass:"mlm"},[e._v(e._s(r.labeled_num||0)+" / "+e._s(r.total_num||0))]),0!==r.total_num?a("span",{staticClass:"mls txt-muted"},[e._v("("+e._s(Math.round(r.labeled_num/r.total_num*1e4)/100)+"%)")]):e._e()],1):e._e(),void 0!==r.deliver_num?a("div",{staticClass:"progress_cont"},[a("span",{staticClass:"font mrs"},[e._v("已交付")]),a("Progress",{staticClass:"progress_p",attrs:{percent:Math.round(r.deliver_num/r.total_num*1e4)/100,"stroke-width":8,"hide-info":""}}),a("span",{staticClass:"mlm"},[e._v(e._s(r.deliver_num||0)+" / "+e._s(r.total_num||0))]),0!==r.total_num?a("span",{staticClass:"mls txt-muted"},[e._v("("+e._s(Math.round(r.deliver_num/r.total_num*1e4)/100)+"%)")]):e._e()],1):e._e(),void 0!==r.deliver_reviewed_num?a("div",{staticClass:"progress_cont"},[a("span",{staticClass:"font mrs"},[e._v("已验收")]),a("Progress",{staticClass:"progress_p",attrs:{percent:Math.round(r.deliver_reviewed_num/r.total_num*1e4)/100,"stroke-width":8,"hide-info":""}}),a("span",{staticClass:"mlm"},[e._v(e._s(r.deliver_reviewed_num||0)+" / "+e._s(r.total_num||0))]),0!==r.total_num?a("span",{staticClass:"mls txt-muted"},[e._v("("+e._s(Math.round(r.deliver_reviewed_num/r.total_num*1e4)/100)+"%)")]):e._e()],1):e._e()]):[a("span",[e._v("-")])]]}},{key:"creator",fn:function(t){var r=t.row;return[a("t-space",{staticStyle:{padding:"10px 0"},attrs:{direction:"vertical",size:5}},[a("span",[e._v(e._s(r.creator))]),r.created_at?a("p",{staticClass:"txt-muted"},[e._v(e._s(r.created_at))]):e._e()])]}},{key:"pre_task_name",fn:function(r){var i=r.row;return[a("span",[e._v(e._s(e.preTaskName(i,t)||"-"))])]}},{key:"template_label_group",fn:function(r){var i=r.row;return[a("span",[e._v(e._s(e.templateLabelGroup(i,t.template)||"-"))])]}},{key:"action",fn:function(r){var i=r.row;return[a("router-link",{attrs:{to:"/projects/list/"+t.project_id+"/tasks/"+i.task_id+"?tab=details"}},[e._v("详情")]),a("auth-view",{attrs:{perm:{domain:"project",action:"export",extra:{company:e.project.company_id,project:e.project.project_id}}}},[0===i.task_status_id||50===i.task_status_id||e.isDeleteSource(i)?e._e():[a("Divider",{attrs:{type:"vertical"}}),a("a",{attrs:{href:"javascript:;"},on:{click:function(a){return e.fetchDownloadTasks(Object.assign({},i,{bid_code:t.bid_code,formal_code:t.formal_code,materials_type:t.materials_type}))}}},[e._v("导出题目")])]],2),a("auth-view",{attrs:{perm:{domain:"project",action:"delete",extra:{project:e.project.project_id}}}},[0!==i.total_num||e.isBid?e._e():[a("Divider",{attrs:{type:"vertical"}}),a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.DeleteTask(i)}}},[e._v("删除")])]],2),40===i.task_status_id?[e.isDeleteSource(i)?a("Tooltip",{attrs:{placement:"bottom-start",transfer:!0,theme:"light"}},[a("Divider",{attrs:{type:"vertical"}}),a("span",{staticClass:"txt-muted",staticStyle:{cursor:"not-allowed"}},[e._v("数据已删除")]),a("span",{attrs:{slot:"content"},slot:"content"},[a("p",[e._v("任务数据已删除")])])],1):[a("auth-view",{attrs:{perm:{domain:"project",action:"delete",extra:{project:e.project.project_id}}}},[a("Divider",{attrs:{type:"vertical"}}),a("a",{staticClass:"txt-red",on:{click:function(t){return e.deteteTaskLabel(i)}}},[e._v("删除数据")]),a("template",{slot:"forbidden"},[a("Tooltip",{attrs:{placement:"bottom-start",transfer:!0,theme:"light"}},[a("Divider",{attrs:{type:"vertical"}}),a("span",{staticClass:"txt-muted",staticStyle:{cursor:"not-allowed"}},[e._v("删除数据")]),a("span",{attrs:{slot:"content"},slot:"content"},[a("p",[e._v("项目拥有者分享项目后可操作")])])],1)],1)],2)]]:e._e()]}}],null,!0)})],1)],2)})),a("Page",{staticClass:"right",attrs:{current:e.pageIndex,total:e.pageTotal,"page-size":e.pageSize,"show-total":"","show-elevator":""},on:{"on-change":e.changePage}})],2):e._e(),e.tasks.length<=0?a("div",{staticClass:"task_box"},["bid-tasks"===e.tab&&e.project.is_winner?a("div",{staticClass:"task_p"},[e._v("已定标")]):a("div",{staticClass:"task_p"},[e._v("暂无数据")])]):e._e(),a("task-recover",{ref:"taskRecover"}),a("task-delete",{ref:"taskDelete",on:{hideModal:function(t){return e.handleSearch()}}})],1)},R=[],B=(a("8d0d"),a("0f30"),a("3a9c")),P=a("312d"),L={props:["value"],render(e){const{value:t}=this,a=Object(n["find"])(Object(n["values"])(P["k"]),{value:t});return a?t===P["k"].VOID.value?e("span",a.text):t===P["k"].DRAFT.value?e("Tag",{attrs:{color:"default",type:"dot"}},a.text):t===P["k"].WAITING.value?e("Tag",{attrs:{color:"primary",type:"dot"}},a.text):t===P["k"].WINBID.value?e("Tag",{attrs:{color:"success",type:"dot"}},a.text):t===P["k"].NOWINBID.value?e("Tag",{attrs:{color:"error",type:"dot"}},a.text):t===P["k"].ACCEPTBID.value?e("Tag",{attrs:{color:"success",type:"dot"}},a.text):void 0:e("Tag",{attrs:{color:"error"}},"状态错误")}},F=a("2339"),N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.list&&e.list.length>0?a("div",{staticClass:"pointer",staticStyle:{display:"inline-block","align-items":"middle"}},[a("span",{staticClass:"mrs",on:{click:function(t){return e.handleRouteToDataset(e.list[0].name)}}},[e._v(e._s(e.list[0].name))]),"deliver"===e.list[0].dataset_import_type?a("span",{staticClass:"txt-muted"},[e._v("(来自批次)")]):e._e(),a("Poptip",{attrs:{trigger:"hover",placement:"right",title:"关联的数据包",transfer:""}},[e.list&&e.list.length>1?a("Button",{staticStyle:{display:"inline-block"},attrs:{type:"default",size:"small"}},[e._v(e._s(e.list.length))]):e._e(),a("div",{attrs:{slot:"content"},on:{"on-click":e.handleRouteToDataset},slot:"content"},[a("CellGroup",{staticClass:"list-panel"},e._l(e.list,(function(t,r){return a("Cell",{key:r,staticStyle:{padding:"0px"},attrs:{name:t.name}},[a("span",[e._v(e._s(t.name))]),"deliver"===t.dataset_import_type?a("span",{staticClass:"txt-muted"},[e._v("(来自批次)")]):e._e()])})),1)],1)],1)],1):a("span",[e._v("-")])])},$=[],z={props:{task:Object,relation:Object},data(){return{list:[]}},mounted(){var e;const{task:t,relation:a}=this;this.list=t.is_dynamic?a.dataset_relation_list:a.dataset_list,(null===(e=this.list)||void 0===e?void 0:e.length)>0&&Object(n["map"])(this.list,e=>{e.dataset_import_type&&"deliver"===e.dataset_import_type?this.$set(e,"name",e.deliver_name):this.$set(e,"name",e.src_file_name)})},methods:{handleRouteToDataset(){}}},V=z,U=(a("e60f"),Object(_["a"])(V,N,$,!1,null,"ac980a06",null)),H=U.exports,G=a("06eb"),W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},q=[],X={data(){return{}},methods:{RecoverTasks(e){const t={project_id:e.project_id,formal_id:e.formal_id},a=new Promise(e=>{Object(G["e"])(t).then(a=>{this.$Modal.confirm({title:"确定回收全部未标题目？",content:`<p>未标题目数：${a.unlabel_cnt}</p><p>在标题目数：${a.label_cnt}</p><p>以最终回收数量为准</p>`,onOk:()=>{a.unlabel_cnt>0?(t.recover_cnt=a.unlabel_cnt,this.fetchRecoverNum(t).then(()=>{e()})):(this.$Message.info("该任务没有可回收的题目"),e())}})}).catch(e=>{this.$Message.error("数据获取失败："+e.message)})});return a}},asyncMethods:{fetchRecoverNum(e){return Object(G["i"])(e).then(e=>(e?this.$Message.success("回收题目成功"):this.$Message.success("回收题目失败"),e)).catch(e=>{this.$Message.error("回收题目失败："+e.message)})}}},Y=X,K=Object(_["a"])(Y,W,q,!1,null,null,null),Z=K.exports,J=a("cb78"),Q=a("eb10"),ee=a("f227"),te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{width:"600",title:"批量关闭验收","mask-closable":!1},on:{"on-cancel":function(t){return e.hideModal()}},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("p",[e._v("确定对进行中的"+e._s(this.acceptTasks.length)+"个任务批量关闭验收？此操作不可逆，请谨慎操作！关闭验收后：")]),a("p",[e._v('1、任务下所有“待验收"批次将流转为"验收通过”。')]),a("p",[e._v("2、任务状态将流转为“已完成”。")]),a("p",[e._v("3、不再支持修改题目标注结果。")]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{on:{click:function(t){e.visible=!1}}},[e._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:e.Submit}},[e._v("确定")])],1)])},ae=[];class re{constructor({limit:e=3,onCompleteCallback:t,onErrorCallback:a,immediate:r=!1,retries:i=0}={}){this.limit=e,this.queue=[],this.activeRequests=0,this.results=[],this.paused=!1,this.onCompleteCallback=t,this.onErrorCallback=a,this.immediate=r,this.retries=i,this.index=0}add(e){return new Promise((t,a)=>{const r=i=>{const n=this.index;this.index++,this.queue.push(()=>e().then(e=>{this.results.push({status:"success",data:e,index:n}),t(e)}).catch(e=>{this.results.push({status:"error",error:e,index:n}),this.onErrorCallback&&this.onErrorCallback(e),0!==this.retries&&(i<this.retries?(console.log("Retrying request... Attempt "+(i+1)),r(i+1)):a(e))}).finally(()=>{this.activeRequests=this.activeRequests-1,this.next(),this.checkCompletion()})),this.next()};r(0)})}addRequests(e){e.forEach(e=>{this.add(e)})}start(){this.paused=!1,this.next()}next(){if(!this.paused&&this.activeRequests<this.limit&&this.queue.length>0){const e=this.queue.shift();this.activeRequests=this.activeRequests+1,e()}}pause(){return this.paused=!0,this.getResults()}checkCompletion(){0===this.activeRequests&&this.onCompleteCallback&&(this.onCompleteCallback(this.getResults()),this.onCompleteCallback=null)}onComplete(e){this.onCompleteCallback=e}onError(e){this.onErrorCallback=e}getResults(){return this.results}}var ie={props:{acceptTasks:Array},data(){return{visible:!0,requestPool:null}},mounted(){this.requestPool=new re({limit:5,onCompleteCallback:e=>{var t,a;const r=e.map(e=>{var t;return null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data}).filter(e=>null===e||void 0===e?void 0:e.result),i=null!==(t=e.filter(e=>null===e||void 0===e?void 0:e.error))&&void 0!==t?t:[],n=null===i||void 0===i?void 0:i.map(e=>e.index),s=null===(a=this.acceptTasks.filter((e,t)=>n.includes(t)))||void 0===a?void 0:a.map(e=>null===e||void 0===e?void 0:e.task_name);console.log(s),r.length===e.length?this.$Message.success("批量关闭验收成功"):this.$Modal.confirm({title:"提示",content:`<p>成功关闭验收任务${r.length}个；关闭验收失败任务${i.length}个。</p>\n            <p>关闭验收失败任务（${null===s||void 0===s?void 0:s.join(",")}）建议单独重试。</p>`,loading:!0,onOk:async()=>{this.$Modal.remove()}}),this.hideModal()}})},methods:{Submit(){this.acceptTasks.length&&this.acceptTasks.forEach(e=>{this.requestPool.add(()=>J["a"].ReceiveTask({project_id:e.project_id,task_id:e.task_id,task_status:40}))})},hideModal(){this.visible=!1,this.$emit("refresh")}}},ne=ie,se=Object(_["a"])(ne,te,ae,!1,null,null,null),oe=se.exports,le=a("c206"),ce=a.n(le),de={components:{TaskStatusRender:B["a"],ExternalStatusRender:L,TaskRecover:Z,TaskDelete:Q["a"],datasetRelation:H,UserSelect:ee["a"],TableFilter:j["a"]},props:{project:Object,tab:String},data(){return{Config:l["a"],pageIndex:1,pageSize:5,pageTotal:0,tasks_form:{task_id:"",task_name:"",status_id_list:[],supplier_name:"",created_by:"",created_at:[],is_deliver:!1},taskStatus:P["r"],tasks:[],columns0:[{title:"任务名称/编号",slot:"task_id",minWidth:200,fixed:"left"},{title:"创建人/时间",slot:"creator",minWidth:200},{title:"任务状态",slot:"task_status_id",align:"center",minWidth:100},{title:"标注供应商",slot:"supplier_name",minWidth:200},{title:"关联的数据包",slot:"dataset_list",minWidth:140},{title:"是否中标",slot:"status_id",align:"center",minWidth:180},{title:"完成进度",slot:"task_progress",minWidth:250},{title:"操作",slot:"action",minWidth:200,fixed:"right"}],columns1:[{title:"任务名称/编号",slot:"task_id",minWidth:200,fixed:"left"},{title:"创建人/时间",slot:"creator",minWidth:200},{title:"题目数",slot:"total_num",minWidth:100},{title:"任务状态",slot:"task_status_id",align:"center",minWidth:100},{title:"标注供应商",slot:"supplier_name",minWidth:150},{title:"完成进度",slot:"task_progress",minWidth:300},{title:"前置任务",slot:"pre_task_name",minWidth:180},{title:"工序",slot:"template_label_group",minWidth:150},{title:"关联的数据包",slot:"dataset_list",minWidth:180},{title:"操作",slot:"action",minWidth:200,fixed:"right"}],statLoading:-1,selectable:!1,selection:{}}},computed:{companyInfo(){return this.$store.state.companyinfo},isAll(){var e,t;if(null===(e=this.tasks)||void 0===e||null===(t=e[0])||void 0===t||!t.datas)return!1;const{datas:a}=this.tasks[0];let r=0,i=0;return a.forEach(e=>{40===e.task_status_id&&(i+=1),50===e.task_status_id&&(r+=1)}),i>0&&r+i===a.length},isBid(){return"bid-tasks"===this.tab},preTaskName(){return function(e,t){if(e.pre_task_id){const a=s.a.find(t.datas,t=>t.task_id.toString()===e.pre_task_id.toString());if(a)return a.task_name}else if(t.allow_label_group)return"无";return""}},templateLabelGroup(){return function(e,t){const a=(null===t||void 0===t?void 0:t.template_component)&&JSON.parse(t.template_component),r=(null===a||void 0===a?void 0:a.$label_group)||"";if(r){const t=s.a.find(r,t=>t.name===e.template_label_group);if(t)return t.label}return""}},selectionLength(){return Object.keys(this.selection).length}},watch:{"tasks_form.created_by"(e){var t;null===(t=this.$refs.userSelect)||void 0===t||t.updateUser(e)}},created(){this.handleSearch()},methods:{DeleteTask(e){this.$refs.taskDelete.DeleteTask(e).then(()=>{this.handleSearch()})},deteteTaskLabel(e){this.$Modal.confirm({title:"确认删除当前任务数据？",content:`<p>任务名：${e.task_name}</p>\n        <p>确认后将删除任务全部标注数据，删除后不可恢复！</p>\n        <p>此操作不会删除原始数据文件，如需删除请前往题目库模块</p>`,okText:"我再想想",cancelText:"确认删除",width:500,onCancel:()=>{const t={project_id:e.project_id.toString(),task_id:e.task_id};J["a"].deleteTaskSourceData(t).then(e=>{var t;null!==e&&void 0!==e&&null!==(t=e.data.result)&&void 0!==t&&t.task_id?this.$Message.success("删除任务数据成功"):this.$Message.error("删除任务数据失败"),this.handleSearch()}).catch(e=>{console.error(e),this.$Message.error("删除任务数据失败")})}})},isDeleteSource(e){return 0!==e.is_delete_source},RecoverTasks(e){this.$refs.taskRecover.RecoverTasks(e).then(()=>{this.handleSearch()})},changePage(e){this.pageIndex=e,this.fetchTasks()},getTFTaskStatus(e,t){return e&&e.formal_task_relation_vos?"edit"===t?e.formal_task_relation_vos.length:!e.formal_task_relation_vos.filter(e=>20!==e.task_status_id&&10!==e.task_status_id).length:0},goToCreateTask(e,t){if("formal-tasks"!==e||t)"formal-tasks"===e&&t?this.$router.push({name:"create-formal-tasks",params:{id:this.$route.params.id},query:{tab:e,task_id:t}}):"bid-tasks"===e?this.$router.push({name:"create-bid-tasks",params:{id:this.$route.params.id},query:{tab:e,task_id:t}}):this.$router.push({name:"create-bid-tasks",params:{id:this.$route.params.id},query:{tab:this.$route.query.tab,type:e}});else{if(20!==this.project.project_status)return void this.$Message.warning({content:"审批完成后可创建正式任务",duration:3,closable:!0});this.$router.push({name:"create-formal-tasks",params:{id:this.$route.params.id},query:{tab:e}})}},target(){this.$Modal.confirm({title:"即将前往【Aidata】定标",content:"跳转到AIdata需求单详情页后，需由集团采购员操作开标&定标",cancelText:"确认完成",onOk:()=>{var e,t;if(null===(e=this.Config)||void 0===e||null===(t=e.EXTERNAL_URL)||void 0===t||!t.aidata)return this.$Message.error("暂时不支持跳转到其他系统"),0;if(!this.project.ai_order_code)return this.$Message.error("需求单号缺失"),0;const a=`${this.Config.EXTERNAL_URL.aidata}/orders/${this.project.ai_order_code}?origin=qlabel`;window.open(a,"_blank")},onCancel:()=>{this.handleSearch()}})},deleteTask(e){this.$Modal.confirm({title:"提示",content:"确定撤回这个试标任务吗？",onOk:()=>{this.fetchDeleteTasks(e)}})},handleSearch(){this.selectable&&this.onSelect({enable:!1}),this.fetchTasks()},handleReset(){this.tasks_form={task_id:"",task_name:"",status_id_list:[],supplier_name:"",created_by:"",created_at:[],is_deliver:!1},this.selectable&&this.onSelect({enable:!1}),this.fetchTasks()},handleRouteToDataset(e){this.$EventBus.$emit("route-to-dataset",{file_name:e})},onSelect(e){const{isBid:t}=this,{enable:a,insert:r,selection:i,table:n}=e;if("boolean"===typeof a){const a={type:"selection",width:60,align:"center"};if(this.selectable=e.enable,e.enable)t?this.columns0.unshift(a):this.columns1.unshift(a);else{const e=Object.keys(this.selection);e.length&&this.$refs&&s.a.forIn(this.$refs,(e,t)=>{t.includes("table")&&e[0]&&e[0].selectAll(!1)}),t?this.columns0.shift():this.columns1.shift(),this.$set(this,"selection",{})}}"boolean"===typeof r&&(i&&i.forEach(e=>{r?this.$set(this.selection,e.task_id,{table:"table-"+(t?e.bid_id:e.formal_id),task:e}):this.$delete(this.selection,e.task_id)}),n&&(r?"all"===n&&this.$refs&&s.a.forIn(this.$refs,(e,t)=>{t.includes("table")&&e[0]&&e[0].selectAll(!0)}):s.a.forIn(this.selection,(e,t)=>{e.table===n&&delete this.selection[t]})))},onMultiDownload(){const e=this,{project:t,selection:a}=this,r="projectId="+this.$route.params.id,i=Object.values(a).map(e=>e.task);var n;i.length?this.$FastModal.show(F["a"],{title:`${null===(n=i[0])||void 0===n?void 0:n.task_name}等${i.length}个任务`,obj:i,objType:"tasks",jqueryPre:r,projectId:t.project_id,project:t},{refresh(){e.selectable&&e.onSelect({enable:!1})}}):this.$Message.error("请勾选需要导出的任务")},async mapStatTaskProgress(e){for(let t=0;t<e.length;t++){this.statLoading=t;const a=await this.fetchStatTaskProgress(e[t].task_id);if(a){this.statLoading=-1;const r={...e[t],deliver_num:a.deliver_num,deliver_reviewed_num:a.deliver_reviewed_num,labeled_num:a.labeled_num,total_num:a.total_num};this.$set(e,t,r)}if("projectDetail"!==this.$route.name||!this.tab||!["bid-tasks","formal-tasks"].includes(this.tab))return}},async mapTasksCase(e,t){for(let a=0;a<e.length;a++)if(await this.mapStatTaskProgress(e[a].datas),"projectDetail"!==this.$route.name||this.tab!==t)return},closeAcceptance(){this.$FastModal.show(oe,{acceptTasks:this.acceptanceTasks},{refresh:()=>{this.fetchTasks()}})}},asyncMethods:{fetchDeleteTasks(e){const t={project_id:e.project_id,bid_id:e.bid_id};return Object(G["h"])(t).then(e=>(e&&(this.$Message.success("撤回成功"),this.$EventBus.$emit("update-file"),this.handleSearch()),e))},fetchTasks(){const e={project_id:this.$route.params.id,need_relation:!0,need_stat_task:!0,need_dataset:!0,need_stat_deliver:!0};let t=[];return s.a.forIn(this.tasks_form,(t,a)=>{switch(a){case"is_deliver":t&&(e[a]=1);break;case"status_id_list":t.length>0&&(e[a]=t);break;case"created_at":2===t.length&&t[0]&&t[1]&&(e.start_date=ce()(t[0]).format("YYYY-MM-DD 00:00:00"),e.end_date=ce()(t[1]).format("YYYY-MM-DD 23:59:59"));break;default:t&&(e[a]=t);break}}),this.tasks=[],this.fetchAcceptanceTasks(),this.isBid?(e.page={start:(this.pageIndex-1)*this.pageSize,size:this.pageSize,return_total:1},Object(G["f"])(e).then(e=>{if(t=s.a.cloneDeep(e.data),e.data.length>0){for(let a=0;a<t.length;a++){t[a].task_id=e.data[a].bid_task_relation_vos[0].task_id,t[a].datas=s.a.cloneDeep(e.data[a].bid_task_relation_vos);for(let e=0;e<t[a].datas.length;e++){const r=t[a].datas[e];t[a].datas[e].name="供应商"+(e+1),Object.assign(t[a].datas[e],{_disabled:[0,50].includes(r.task_status_id)||this.isDeleteSource(r),_checked:!!Object.hasOwn(this.selection,r.task_id)})}}this.mapTasksCase(t,"bid-tasks"),this.pageTotal=e.total}return t}).catch(e=>(this.tasks=[],console.log(e),this.$Message.error("列表数据获取失败，请刷新重试"),[]))):(e.page={start:(this.pageIndex-1)*this.pageSize,size:this.pageSize,return_total:1},e.need_template=!0,Object(G["g"])(e).then(async e=>(t=s.a.cloneDeep(e.data),e.data.forEach((e,a)=>{t[a].task_id=t[a].formal_task_relation_vos[0].task_id,t[a].datas=s.a.cloneDeep(e.formal_task_relation_vos),t[a].datas.forEach((e,r)=>{Object.assign(t[a].datas[r],{_disabled:[0,50].includes(e.task_status_id)||this.isDeleteSource(e),_checked:!!Object.hasOwn(this.selection,e.task_id)})})}),this.mapTasksCase(t,"formal-tasks"),this.pageTotal=e.total,t)).catch(e=>(this.tasks=[],console.log(e),this.$Message.error("列表数据获取失败，请刷新重试"),[])))},fetchStatTaskProgress(e){const t={task_id:e,stat_object:["total_num","labeled_num","deliver_num","deliver_reviewed_num"]};return Object(G["j"])(t).then(e=>e).catch(e=>{console.log(e)})},fetchDownloadTasks(e){const t=`projectId=${this.$route.params.id}&taskId=${e.task_id}`;this.$FastModal.show(F["a"],{title:e.task_name,obj:e,objType:"task",jqueryPre:t,projectId:e.project_id,project:this.project},{})},fetchAcceptanceTasks(){const e={page:{start:0,size:100,return_total:1},project_id:this.project.project_id,need_relation:!0,need_stat_task:!1,need_dataset:!1,need_stat_deliver:!1};return s.a.forIn(this.tasks_form,(t,a)=>{switch(a){case"is_deliver":t&&(e[a]=1);break;case"status_id_list":e[a]=[20];break;case"created_at":2===t.length&&t[0]&&t[1]&&(e.start_date=ce()(t[0]).format("YYYY-MM-DD 00:00:00"),e.end_date=ce()(t[1]).format("YYYY-MM-DD 23:59:59"));break;default:t&&(e[a]=t);break}}),Object(G["g"])(e).then(e=>{const t=s.a.cloneDeep(e.data);return s.a.map(t,e=>{Object.assign(e,s.a.omitBy(e.formal_task_relation_vos[0],s.a.isNil),{deliver_num:0,deliver_reviewed_num:0,labeled_num:0,total_num:0})}),t})}}},ue=de,he=(a("f66b"),a("aa01"),Object(_["a"])(ue,E,R,!1,null,"0b4d3296",null)),pe=he.exports,fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.Fetch.isResolved?a("div",[a("TableFilter",{staticClass:"mtm",attrs:{searchLoading:e.fetchTasks.isPending},on:{search:function(t){return e.fetchTasks(e.tasks_page.index=1)},reset:function(t){return e.ResetTasks(e.tasks_page.index=1)}}},[a("Form",{attrs:{inline:"",model:e.tasks_form,"label-width":90,"label-colon":!0}},[a("Row",[a("Col",{attrs:{span:"8"}},[a("FormItem",{staticStyle:{width:"100%"},attrs:{label:"任务编号"}},[a("Input",{attrs:{type:"text",placeholder:"输入完整的任务编号进行搜索"},model:{value:e.tasks_form.task_id,callback:function(t){e.$set(e.tasks_form,"task_id",t)},expression:"tasks_form.task_id"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{staticStyle:{width:"100%"},attrs:{label:"任务名称"}},[a("Input",{attrs:{type:"text",placeholder:"输入任务名称进行搜索"},model:{value:e.tasks_form.task_name,callback:function(t){e.$set(e.tasks_form,"task_name",t)},expression:"tasks_form.task_name"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{staticStyle:{width:"100%"},attrs:{label:"任务状态"}},[a("Select",{attrs:{transfer:"",clearable:"",multiple:""},model:{value:e.tasks_form.status_id_list,callback:function(t){e.$set(e.tasks_form,"status_id_list",t)},expression:"tasks_form.status_id_list"}},e._l(e.taskStatus,(function(t,r){return 0!==t.value?a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.text))]):e._e()})),1)],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{staticStyle:{width:"100%"},attrs:{label:"创建人"}},[a("user-select",{ref:"userSelect",attrs:{remote:""},on:{"update:user":function(t){e.tasks_form.created_by=t}}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{staticStyle:{width:"100%"},attrs:{label:"创建时间"}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"daterange",placeholder:"请选择时间"},model:{value:e.tasks_form.created_at,callback:function(t){e.$set(e.tasks_form,"created_at",t)},expression:"tasks_form.created_at"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{staticStyle:{width:"100%"},attrs:{label:"","label-width":18}},[a("Checkbox",{on:{"on-change":function(t){return e.fetchTasks(e.tasks_page.index=1)}},model:{value:e.tasks_form.is_deliver,callback:function(t){e.$set(e.tasks_form,"is_deliver",t)},expression:"tasks_form.is_deliver"}},[e._v("仅展示可验收的任务")])],1)],1)],1)],1)],1),a("auth-view",{attrs:{perm:{domain:"project",action:"edit",extra:{company:e.companyinfo.company_id,project:e.project.project_id}}}},[a("Row",{staticClass:"mtm mbm",attrs:{type:"flex",justify:"space-between",align:"top"}},[20===e.project.project_status?a("Col",[a("Button",{staticClass:"mrm",attrs:{type:"primary",icon:"md-add",disabled:e.is_multiple_download},on:{click:function(t){return e.createTask()}}},[e._v("新建正式任务")]),e.isIssuedTask?e._e():[a("Tooltip",{attrs:{content:"当前安全策略暂不支持导出",disabled:!!e.project.allow_http_download&&!e.project.encode_export_file,transfer:""}},[a("Button",{staticClass:"mrm",attrs:{type:"primary",icon:"ios-cloud-download-outline",disabled:!e.project.allow_http_download||!!e.project.encode_export_file,ghost:e.is_multiple_download},on:{click:function(t){e.is_multiple_download=!e.is_multiple_download}}},[e._v(e._s(e.is_multiple_download?"退出导出":"批量导出题目"))])],1),e.is_multiple_download?a("Button",{staticClass:"mrm",attrs:{type:"primary",icon:"ios-cloud-download-outline",disabled:e.selection.length<=0},on:{click:function(t){return e.fetchDownloadTasks(e.selection,"tasks")}}},[e._v("确定导出")]):e._e()],a("auth-view",{attrs:{perm:{domain:"task",action:"receive-task",extra:{project:e.project.project_id}}}},[a("Tooltip",{attrs:{content:"暂无可关闭验收的任务",placement:"left",disabled:e.acceptanceTasks&&e.acceptanceTasks.length>0}},[a("Button",{staticClass:"mrm",attrs:{type:"primary",disabled:e.acceptanceTasks&&0===e.acceptanceTasks.length},on:{click:e.closeAcceptance}},[e._v("批量关闭验收")])],1)],1)],2):e._e()],1)],1),a("Alert",{attrs:{closable:""}},[e._v("共有任务 "+e._s(e.tasks_page.total)+" 个，已完成任务 "+e._s(e.finishedCount)+" 个。")]),a("Table",{ref:"tasksTable",attrs:{loading:e.fetchTasks.isPending,columns:e.columns0,data:e.tasks},on:{"on-selection-change":e.ChangeSelection},scopedSlots:e._u([{key:"task_name",fn:function(t){var r=t.row;return[a("Tooltip",{attrs:{content:"提交后自动进入下一条待返修题目","max-width":"200",transfer:""}},[a("template",{slot:"content"},[a("span",{staticClass:"mrs"},[e._v(e._s(r.task_name))]),r.cross_num>=2?a("span",{staticClass:"txt-muted"},[e._v("("+e._s(r.cross_num)+"人交叉)")]):e._e()]),a("t-row",{staticClass:"mtm",staticStyle:{display:"flex","flex-wrap":"nowrap","align-items":"center"}},[r.is_dynamic?a("t-tag",{staticClass:"mrs",attrs:{shape:"round",color:"#13C2C2",size:"small"}},[e._v("动态")]):e._e(),a("t-link",{staticClass:"mrs txt-ellipsis2",attrs:{theme:"primary",hover:"color"},on:{click:function(t){return e.$router.push({path:"/projects/list/"+e.project.project_id+"/tasks/"+r.task_id+"?com_id="+e.project.company_id})}}},[e._v(e._s(r.task_name))]),r.cross_num>=2?a("span",{staticClass:"txt-muted"},[e._v("("+e._s(r.cross_num)+"人交叉)")]):e._e()],1)],2),r.is_dynamic&&r.formal_code?a("p",{staticClass:"txt-muted"},[e._v(e._s(r.formal_code))]):e._e(),a("p",{staticClass:"txt-muted"},[e._v(e._s(r.task_id))])]}},{key:"total_num",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(e.$FormatNumber(r.total_num)||"-"))])]}},{key:"is_dynamic",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.is_dynamic?"是":"否"))])]}},{key:"team_name",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.team_name||"-"))])]}},{key:"dataset_list",fn:function(e){var t=e.row;return[a("datasetRelation",{key:t.task_id.toString(),attrs:{task:t,relation:t.formal_task_relation_vos[0]}})]}},{key:"task_status",fn:function(e){var t=e.row;return[a("task-status-render",{attrs:{value:t.task_status_id}})]}},{key:"task_progress",fn:function(t){var r=t.row;return[e.fetchStatTaskProgress.isPending&&!r.total_num?a("Icon",{staticClass:"spin-icon-load",attrs:{type:"ios-loading"}}):r.total_num&&void 0!==r.labeled_num?a("div",{staticClass:"progress_box"},[void 0!==r.labeled_num?a("div",{staticClass:"progress_cont"},[a("span",{staticClass:"font mrs"},[e._v("已标注")]),r.total_num||r.labeled_num?a("Progress",{staticClass:"progress_p",attrs:{percent:Math.round(r.labeled_num/r.total_num*1e4)/100,"stroke-width":8,"hide-info":""}}):a("Progress",{staticClass:"progress_p",attrs:{percent:0,"stroke-width":8,"hide-info":""}}),a("span",{staticClass:"mlm"},[e._v(e._s(r.labeled_num||0)+" / "+e._s(r.total_num||0))]),0!==r.total_num?a("span",{staticClass:"mls txt-muted"},[e._v("("+e._s(Math.round(r.labeled_num/r.total_num*1e4)/100)+"%)")]):e._e()],1):e._e(),void 0!==r.deliver_num?a("div",{staticClass:"progress_cont"},[a("span",{staticClass:"font mrs"},[e._v("已交付")]),r.total_num||r.deliver_num?a("Progress",{staticClass:"progress_p",attrs:{percent:Math.round(r.deliver_num/r.total_num*1e4)/100,"stroke-width":8,"hide-info":""}}):a("Progress",{staticClass:"progress_p",attrs:{percent:0,"stroke-width":8,"hide-info":""}}),a("span",{staticClass:"mlm"},[e._v(e._s(r.deliver_num||0)+" / "+e._s(r.total_num||0))]),0!==r.total_num?a("span",{staticClass:"mls txt-muted"},[e._v("("+e._s(Math.round(r.deliver_num/r.total_num*1e4)/100)+"%)")]):e._e()],1):e._e(),void 0!==r.deliver_reviewed_num?a("div",{staticClass:"progress_cont"},[a("span",{staticClass:"font mrs"},[e._v("已验收")]),r.total_num||r.deliver_reviewed_num?a("Progress",{staticClass:"progress_p",attrs:{percent:Math.round(r.deliver_reviewed_num/r.total_num*1e4)/100,"stroke-width":8,"hide-info":""}}):a("Progress",{staticClass:"progress_p",attrs:{percent:0,"stroke-width":8,"hide-info":""}}),a("span",{staticClass:"mlm"},[e._v(e._s(r.deliver_reviewed_num||0)+" / "+e._s(r.total_num||0))]),0!==r.total_num?a("span",{staticClass:"mls txt-muted"},[e._v("("+e._s(Math.round(r.deliver_reviewed_num/r.total_num*1e4)/100)+"%)")]):e._e()],1):e._e()]):[a("span",[e._v("-")])]]}},{key:"creator",fn:function(t){var r=t.row;return[a("t-space",{staticStyle:{padding:"10px 0"},attrs:{direction:"vertical",size:5}},[a("span",[e._v(e._s(r.creator))]),r.created_at?a("p",{staticClass:"txt-muted"},[e._v(e._s(r.created_at))]):e._e()])]}},{key:"action",fn:function(t){var r=t.row;return[0!==r.task_status?a("router-link",{attrs:{to:"/projects/list/"+e.project.project_id+"/tasks/"+r.task_id+"?com_id="+e.project.company_id}},[a("a",{attrs:{href:"javascript:;"}},[e._v("详情")])]):e._e(),a("auth-view",{attrs:{perm:{domain:"project",action:"edit",extra:{company:e.companyinfo.company_id,project:e.project.project_id}}}},[0===r.task_status?[0!==r.task_status?a("Divider",{attrs:{type:"vertical"}}):e._e(),a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.createTask(r.formal_id,r.task_status)}}},[e._v("下发")])]:e._e(),r.task_status>0?[a("auth-view",{attrs:{perm:{domain:"task",action:"edit-formal-task",extra:{company:e.companyinfo.company_id,project:e.project.project_id}}}},[a("Divider",{attrs:{type:"vertical"}}),a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.createTask(r.formal_id,r.task_status)}}},[e._v("编辑")])],1)]:e._e(),e.isDeleteOk(r)?[a("Divider",{attrs:{type:"vertical"}}),a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.DeleteTask(r)}}},[e._v("删除")])]:e._e(),e.isDeleteOk(r)||e.isDeleteSource(r)?e._e():[a("Divider",{attrs:{type:"vertical"}}),a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.fetchDownloadTasks(r,"task")}}},[e._v("导出题目")])],e.isRecoverOk(r)?[a("div",{directives:[{name:"permissions",rawName:"v-permissions",value:{domain:"task",action:"edit-formal-task",extra:{company:e.companyinfo.company_id,project:e.project.project_id}},expression:"{domain: 'task', action: 'edit-formal-task', extra: {company: companyinfo.company_id, project: project.project_id}}"}]},[a("Divider",{attrs:{type:"vertical"}}),a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.RecoverTasks(r)}}},[e._v("回收题目")])],1)]:e._e()],2),40===r.task_status_id?[e.isDeleteSource(r)?[a("Divider",{attrs:{type:"vertical"}}),a("Tooltip",{attrs:{placement:"bottom-start",transfer:!0,theme:"light"}},[a("span",{staticClass:"txt-muted",staticStyle:{cursor:"not-allowed"}},[e._v("数据已删除")]),a("span",{attrs:{slot:"content"},slot:"content"},[a("p",[e._v("任务数据已删除")])])])]:[a("div",{directives:[{name:"permissions",rawName:"v-permissions",value:{domain:"project",action:"delete",extra:{project:e.project.project_id}},expression:"{domain: 'project', action: 'delete', extra: {project: project.project_id}}"}]},[a("Divider",{attrs:{type:"vertical"}}),a("a",{staticClass:"txt-red",on:{click:function(t){return e.deteteTaskLabel(r)}}},[e._v("删除数据")]),a("template",{slot:"forbidden"},[a("Tooltip",{attrs:{placement:"bottom-start",transfer:!0,theme:"light"}},[a("Divider",{attrs:{type:"vertical"}}),a("span",{staticClass:"txt-muted",staticStyle:{cursor:"not-allowed"}},[e._v("删除数据")]),a("span",{attrs:{slot:"content"},slot:"content"},[a("p",[e._v("项目拥有者分享项目后可操作")])])],1)],1)],2)]]:e._e()]}}],null,!1,1323259579)}),a("Page",{staticClass:"right mtm",attrs:{current:e.tasks_page.index,total:e.tasks_page.total,"page-size":e.tasks_page.size,"show-total":"","show-elevator":""},on:{"on-change":function(t){return e.ChangePage(t,"task")}}}),a("task-delete",{ref:"taskDelete",on:{hideModal:function(t){return e.fetchTasks()}}}),a("task-recover",{ref:"taskRecover"})],1):e._e()},me=[],ge=a("e209"),_e={components:{TaskDelete:Q["a"],TaskStatusRender:B["a"],TaskRecover:Z,datasetRelation:H,UserSelect:ee["a"],tasksDeleteModal:oe,TableFilter:j["a"]},mixins:[c["a"]],props:{project:{type:Object,default(){return{}}},dataset:{type:Array,default(){return[]}}},data(){return{isIssuedTask:!1,is_multiple_download:!1,selection:[],tasks_form:{task_id:"",task_name:"",status_id_list:[],created_by:"",created_at:[],is_deliver:!1},tasks:[],columns0:[{title:"任务名称/编号",slot:"task_name",minWidth:250},{title:"创建人/时间",slot:"creator",width:200},{title:"题目数",slot:"total_num",align:"right",minWidth:80},{title:"任务状态",slot:"task_status",align:"center",minWidth:100},{title:"标注小组",slot:"team_name",minWidth:120},{title:"关联的数据包",slot:"dataset_list",minWidth:140},{title:"完成进度",slot:"task_progress",align:"left",minWidth:250},{title:"操作",slot:"action",minWidth:200,fixed:"right"}],tasks_page:{index:1,size:10,total:0},taskStatus:P["r"],finishedCount:0}},computed:{companyinfo(){return this.$store.state.companyinfo},isDeleteOk(){return function(e){const{task_status:t,total_num:a}=e;return 0===t||0===a}},isRecoverOk(){return function(e){const{task_status:t,total_num:a}=e;return(10===t||20===t)&&0!==a}}},watch:{"tasks_form.created_by"(e){var t;null===(t=this.$refs.userSelect)||void 0===t||t.updateUser(e)},is_multiple_download(){this.is_multiple_download?this.columns0.unshift({type:"selection",align:"center",width:60}):(this.selection=[],this.$refs.tasksTable.selectAll(!1),this.columns0.shift())},isIssuedTask(){const e=s.a.cloneDeep(this.tasks);this.isIssuedTask?(this.columns0.unshift({type:"selection",align:"center",width:60}),s.a.map(e,e=>{0===e.task_status?this.$set(e,"_disabled",!1):this.$set(e,"_disabled",!0)})):(this.selection=[],this.$refs.tasksTable.selectAll(!1),this.columns0.shift(),s.a.map(e,e=>{0===e.task_status||50===e.task_status?this.$set(e,"_disabled",!0):this.$set(e,"_disabled",!1)})),this.tasks=s.a.cloneDeep(e)}},mounted(){this.Fetch()},methods:{deteteTaskLabel(e){this.$Modal.confirm({title:"确认删除当前任务数据？",content:`<p>任务名：${e.task_name}</p>\n        <p>确认后将删除任务全部标注数据，删除后不可恢复！</p>\n        <p>此操作不会删除原始数据文件，如需删除请前往题目库模块</p>`,okText:"我再想想",cancelText:"确认删除",width:500,onCancel:()=>{const t={project_id:e.project_id.toString(),task_id:e.task_id};J["a"].deleteTaskSourceData(t).then(e=>{var t;null!==e&&void 0!==e&&null!==(t=e.data.result)&&void 0!==t&&t.task_id?this.$Message.success("删除任务数据成功"):this.$Message.error("删除任务数据失败"),this.fetchTasks()}).catch(e=>{console.error(e),this.$Message.error("删除任务数据失败:"+e.message)})}})},isDeleteSource(e){return 0!==e.is_delete_source&&void 0!==e.is_delete_source},createTask(e,t){this.$router.push({name:"create-formal-tasks",params:{id:this.$route.params.id},query:{tab:this.$route.query.tab,task_id:e,status:t}})},ChangeSelection(e){this.selection=e},DeleteTask(e){this.$refs.taskDelete.DeleteTask(e).then(()=>{this.Fetch()})},RecoverTasks(e){this.$refs.taskRecover.RecoverTasks(e).then(()=>{this.Fetch(),this.$EventBus.$emit("update-file")})},ResetTasks(){s.a.forIn(this.tasks_form,(e,t)=>{this.tasks_form[t]="","is_deliver"===t&&(this.tasks_form[t]=!1),["created_at","status_id_list"].includes(t)&&(this.tasks_form[t]=[])}),this.fetchTasks()},ChangePage(e,t){switch(t){case"task":this.tasks_page.index=e,this.fetchTasks();break}},handleRouteToDataset(e){this.$EventBus.$emit("route-to-dataset",{file_name:e})},async mapStatTaskProgress(e){for(let r=0;r<e.length;r++){var t,a;const i=await this.fetchStatTaskProgress(e[r].task_id);if(i){const t={...e[r],deliver_num:i.deliver_num,deliver_reviewed_num:i.deliver_reviewed_num,labeled_num:null===i||void 0===i?void 0:i.labeled_num,total_num:i.total_num};this.$set(this.tasks,r,t)}if("projectDetail"!==this.$route.name||null===(t=this.$route)||void 0===t||null===(a=t.query)||void 0===a||!a.tab.includes("tasks"))return}},closeAcceptance(){this.$FastModal.show(oe,{acceptTasks:this.acceptanceTasks},{refresh:()=>{this.Fetch()}})}},asyncMethods:{Fetch(){return Promise.all([this.fetchTasks(),this.fetchFinishedCount()])},fetchTasks(){this.is_multiple_download=!1;const e=this.tasks_page,t={page:{start:(e.index-1)*e.size,size:e.size,return_total:1},project_id:this.project.project_id,need_relation:!0,need_stat_task:!0,need_dataset:!0,need_stat_deliver:!0};return s.a.forIn(this.tasks_form,(e,a)=>{switch(a){case"is_deliver":e&&(t[a]=1);break;case"status_id_list":e.length>0&&(t[a]=e);break;case"created_at":2===e.length&&e[0]&&e[1]&&(t.start_date=ce()(e[0]).format("YYYY-MM-DD 00:00:00"),t.end_date=ce()(e[1]).format("YYYY-MM-DD 23:59:59"));break;default:e&&(t[a]=e);break}}),this.fetchAcceptanceTasks(),Object(G["g"])(t).then(e=>{this.tasks_page.total=e.total;const t=s.a.cloneDeep(e.data);return s.a.map(t,e=>{Object.assign(e,s.a.omitBy(e.formal_task_relation_vos[0],s.a.isNil),{deliver_num:0,deliver_reviewed_num:0,labeled_num:0,total_num:0}),!e.deliver_num&&this.$set(e,"deliver_num",0),0!==e.task_status&&50!==e.task_status||this.$set(e,"_disabled",!0)}),this.mapStatTaskProgress(t),t}).catch(e=>{console.log(e),this.$Message.error("列表数据获取失败，请刷新重试")})},fetchStatTaskProgress(e){const t={task_id:e,stat_object:["total_num","labeled_num","deliver_num","deliver_reviewed_num"]};return Object(G["j"])(t).then(e=>e).catch(e=>{console.log(e)})},fetchFinishedCount(){const e={page:{start:0,size:0,return_total:1},project_id:this.project.project_id,task_status:40};return J["a"].GetTaskList(e).then(e=>e.data.result.total).catch(e=>{console.log(e)})},fetchDownloadTasks(e,t){this.is_multiple_download=!1;const a="tasks"===t?s.a.map(e,e=>e.task_id):[e.task_id];if("tasks"===t){const e=`project_id=${this.project.project_id}&task_ids=${a.join(",")}`;this.$FastModal.show(ge["a"],{fileType:t,jqueryPre:e},{})}else{const r=`projectId=${this.project.project_id}&taskId=${a.join(",")}`;this.$FastModal.show(F["a"],{title:e.task_name,obj:e,objType:t,jqueryPre:r,projectId:e.project_id,project:this.project},{})}},fetchAcceptanceTasks(){const e={page:{start:0,size:100,return_total:1},project_id:this.project.project_id,need_relation:!0,need_stat_task:!1,need_dataset:!1,need_stat_deliver:!1};return s.a.forIn(this.tasks_form,(t,a)=>{switch(a){case"is_deliver":t&&(e[a]=1);break;case"status_id_list":e[a]=[20];break;case"created_at":2===t.length&&t[0]&&t[1]&&(e.start_date=ce()(t[0]).format("YYYY-MM-DD 00:00:00"),e.end_date=ce()(t[1]).format("YYYY-MM-DD 23:59:59"));break;default:t&&(e[a]=t);break}}),Object(G["g"])(e).then(e=>{const t=s.a.cloneDeep(e.data);return s.a.map(t,e=>{Object.assign(e,s.a.omitBy(e.formal_task_relation_vos[0],s.a.isNil),{deliver_num:0,deliver_reviewed_num:0,labeled_num:0,total_num:0})}),t})}}},ve=_e,be=(a("5c31"),Object(_["a"])(ve,fe,me,!1,null,"46caac12",null)),ye=be.exports,ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("TableFilter",{staticClass:"mtm",attrs:{searchLoading:e.fetchFileDatas.isPending},on:{search:function(t){return e.fetchFileDatas(e.fileData_page.index=1)},reset:function(t){return e.resetFile(e.fileData_page.index=1)}}},[a("Form",{attrs:{inline:"","label-width":90,"label-colon":!0}},[a("Row",{attrs:{gutter:20}},[a("Col",{attrs:{span:"8"}},[a("FormItem",{staticClass:"width",attrs:{label:"数据包ID"}},[a("Input",{attrs:{type:"text",placeholder:"输入数据包ID"},on:{"on-enter":e.fetchFileDatas},model:{value:e.fileParams.import_task_ids,callback:function(t){e.$set(e.fileParams,"import_task_ids",t)},expression:"fileParams.import_task_ids"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{staticClass:"width",attrs:{label:"数据包名"}},[a("Input",{attrs:{type:"text",placeholder:"输入数据包名"},on:{"on-enter":function(t){return e.fetchFileDatas(e.fileData_page.index=1)}},model:{value:e.fileParams.file_name,callback:function(t){e.$set(e.fileParams,"file_name",t)},expression:"fileParams.file_name"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{staticClass:"width",attrs:{label:"上传人","label-width":60}},[a("Select",{attrs:{placeholder:"请选择上传人",multiple:"",filterable:""},model:{value:e.fileParams.creators,callback:function(t){e.$set(e.fileParams,"creators",t)},expression:"fileParams.creators"}},e._l(e.creators,(function(t){return a("Option",{key:t.user_id,attrs:{value:t.user_id,label:t.nick_name}},[a("p",[e._v(e._s(t.nick_name))]),a("p",{staticClass:"txt-muted"},[e._v(e._s(t.email||"无邮箱"))])])})),1)],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{staticClass:"width",attrs:{label:"数据包状态","label-width":90}},[a("Select",{attrs:{placeholder:"请选择数据包状态"},model:{value:e.fileParams.status,callback:function(t){e.$set(e.fileParams,"status",t)},expression:"fileParams.status"}},e._l(e.fileStatus,(function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.text))])})),1)],1)],1)],1)],1)],1),a("auth-view",{attrs:{perm:{domain:"project",action:"edit",extra:{company:e.companyinfo.company_id,project:e.project.project_id}}}},[a("t-button",{staticClass:"mbb",on:{click:e.addQuestion}},[a("t-icon",{attrs:{slot:"icon",name:"add"},slot:"icon"}),a("span",[e._v("添加题目")])],1)],1),a("auth-view",{attrs:{perm:{domain:"project",action:"delete",extra:{project:e.project.project_id}}}},[e.fileDisabled?e._e():a("Button",{staticClass:"mls mbb",attrs:{type:"primary",icon:"ios-trash"},on:{click:e.actionSelect}},[e._v("批量删除")]),e.fileDisabled?[a("Button",{staticClass:"mls mbb",attrs:{type:"primary",disabled:0===e.selection.length,icon:"ios-trash"},on:{click:function(t){return e.deleteSelection(e.selection)}}},[e._v("删除")]),a("Button",{staticClass:"mls mbb",attrs:{type:"primary",ghost:"",icon:"md-close"},on:{click:e.cencle}},[e._v("取消批量操作")])]:e._e()],2),a("Button",{staticClass:"mls mbb",attrs:{icon:"md-refresh"},on:{click:function(t){return e.fetchFileDatas()}}},[e._v("刷新")]),a("Table",{key:e.fetchFileDatas.isResolved,attrs:{columns:e.fileColumns,data:e.fileDatas,loading:e.fetchFileDatas.isPending},on:{"on-selection-change":e.getSelectData},scopedSlots:e._u([{key:"dataset_import_id",fn:function(t){var r=t.row;return[a("t-space",{staticStyle:{padding:"10px 0"},attrs:{direction:"vertical",size:5}},[a("p",[e._v(e._s(r.src_file_name||"-"))]),a("p",{staticClass:"txt-muted"},[e._v(" "+e._s(r.dataset_import_id||"-"))])])]}},{key:"status",fn:function(t){var r=t.row,i=t.index;return[e.fetchStatImportTask.isPending&&i===e.statLoadingIndex?a("Icon",{attrs:{type:"ios-more"}}):"string"!==typeof r.status?a("file-status-render",{attrs:{value:e.isDeleteSource(r)?30:r.status}}):r.valid_cnt||0===r.valid_cnt?[e.fetchFileDatas.isResolved?a("Progress",{attrs:{percent:r.scheduleT,status:e.getDatasetStatus("失败",r.status)?"wrong":"normal"}},[e.getDatasetStatus("失败",r.status)?a("span",[e._v(e._s(r.scheduleT)+"%")]):e._e()]):e._e(),a("p",{staticClass:"font"},[a("span",[e._v("当前步骤：")]),e.uploadQueue[r.dataset_import_id]&&"上传中"===r.status?[a("upload-status-render",{attrs:{uploadInfo:e.uploadQueue[r.dataset_import_id],fileSize:r.file_size}})]:a("span",[e._v(e._s(r.status)+"("+e._s(r.process.scheduleS)+"%)")]),a("t-tooltip",{attrs:{placement:"right",overlayStyle:{maxWidth:"350px"},theme:"light"},on:{"visible-change":function(t){t&&(!r.logs||!e.getDatasetStatus("失败",r.logs[r.logs.length-1].status))&&e.fetchDatasetLogs(r,i)}}},[a("a",{staticStyle:{margin:"0px 3px"},on:{click:function(t){return e.fetchDatasetLogs(r,i)}}},[a("Icon",{attrs:{type:"ios-alert-outline"}})],1),a("div",{staticClass:"err-info",attrs:{slot:"content"},slot:"content"},[e._l(r.logs,(function(t,r){return a("p",{staticClass:"font"},[e._v(e._s(r)+"."+e._s(t.status)+" - "+e._s(t.created_at))])})),e.getDatasetStatus("失败",r.status)?a("p",{staticClass:"font",staticStyle:{color:"red"}},[e._v("错误信息："+e._s(r.err_info))]):e._e(),a("FailedProcess",{attrs:{list:r.failRecord||[]}})],2)])],2)]:a("span",[e._v("-")])]}},{key:"valid_cnt",fn:function(t){var r=t.row,i=t.index;return[e.fetchStatImportTask.isPending&&i===e.statLoadingIndex?a("Icon",{attrs:{type:"ios-more"}}):a("span",[e._v(e._s(r.valid_cnt?e.$FormatNumber(r.valid_cnt):0))])]}},{key:"cnt",fn:function(t){var r=t.row,i=t.index;return[e.fetchStatImportTask.isPending&&i===e.statLoadingIndex?a("Icon",{attrs:{type:"ios-more"}}):"string"!==typeof r.status?a("div",{staticClass:"progress_box"},[a("p",{staticClass:"progress_cont"},[a("span",{staticClass:"span_h font mrs"},[e._v("已下发")]),a("Progress",{staticClass:"progress_p",attrs:{percent:r.publishedT,"hide-info":""}}),a("span",{staticClass:"span_f font mls"},[e._v(e._s(r.published_cnt?r.published_cnt:0)+"题")])],1)]):[a("span",[e._v("-")])]]}},{key:"tag_key",fn:function(t){var r=t.row,i=t.index;return[e.fetchStatImportTask.isPending&&i===e.statLoadingIndex?a("Icon",{attrs:{type:"ios-more"}}):a("span",[e._v(e._s(r.tag_key||"-"))])]}},{key:"creator",fn:function(t){var r=t.row;return[a("p",[e._v(e._s(r.creator||"-"))]),a("p",{staticClass:"txt-muted"},[e._v(e._s(r.create_time||"-"))])]}},{key:"action",fn:function(t){var r=t.row,i=t.index;return[e.fetchStatImportTask.isPending&&i===e.statLoadingIndex?a("Icon",{attrs:{type:"ios-more"}}):e.uploadQueue[r.dataset_import_id]?[e.getStatusStage(["waiting","checking","uploading"],r)?[a("a",{on:{click:function(t){e.uploadQueue[r.dataset_import_id].cos.pauseTask(e.uploadQueue[r.dataset_import_id].id)}}},[e._v("暂停上传")]),a("Divider",{attrs:{type:"vertical"}})]:e._e(),e.getStatusStage(["paused","unCompleted"],r)?[a("a",{on:{click:function(t){return e.restartTask(r.dataset_import_id)}}},[e._v("继续上传")]),a("Divider",{attrs:{type:"vertical"}})]:e._e(),e.getStatusStage(["notStart","error"],r)?[a("a",{on:{click:function(t){return e.restartTask(r.dataset_import_id)}}},[e._v("重试")]),a("Divider",{attrs:{type:"vertical"}})]:e._e(),"queue-error"===e.uploadQueue[r.dataset_import_id].state?[a("a",{on:{click:function(t){return e.retryQueue(r.dataset_import_id)}}},[e._v("重试")]),a("Divider",{attrs:{type:"vertical"}})]:e._e()]:e._e(),a("auth-view",{attrs:{perm:{domain:"project",action:"edit",extra:{company:e.companyinfo.company_id,project:e.project.project_id}}}},[e.getDatasetStatus("失败",r.status)&&!e.getDatasetStatus("下载失败",r.status)?[a("a",{on:{click:function(t){return e.errorDetail(r)}}},[e._v("错误明细")]),a("Divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(t){return e.fetchRetryDataset(r)}}},[e._v("重试")]),a("Divider",{attrs:{type:"vertical"}})]:e._e(),"string"!==typeof r.status?[a("auth-view",{attrs:{perm:{domain:"project",action:"export",extra:{company:e.companyinfo.company_id,project:e.project.project_id}}}},[a("Tooltip",{attrs:{content:"当前安全策略暂不支持导出",disabled:!!e.project.allow_http_download&&!e.project.encode_export_file,transfer:""}},[a("a",{attrs:{disabled:e.isDeleteSource(r)||!e.project.allow_http_download||!!e.project.encode_export_file},on:{click:function(t){return e.loadDetail(r)}}},[e._v("导出")])])],1),e.isDeleteSource(r)?e._e():[e.project.project_type?[a("auth-view",{attrs:{perm:{domain:"task",action:"edit-bid-task",extra:{company:e.project.company_id,project:e.project.project_id}}}},[10!==e.project.project_status&&50!==e.project.project_status||e.project.is_bid||e.project.is_winner?e._e():[a("Divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(t){return e.createTask(r,"add")}}},[e._v("创建试标任务")])]],2),a("auth-view",{attrs:{perm:{domain:"task",action:"edit-formal-task",extra:{company:e.project.company_id,project:e.project.project_id}}}},[e.project.is_winner?[a("Divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(t){return e.createTask(r,"formal")}}},[e._v("创建正式任务")])]:e._e(),[0,10].includes(r.status)?[a("Divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(t){return e.linkDynamicTask(r)}}},[e._v("导入动态任务")])]:e._e()],2)]:[20===e.project.project_status?[a("Divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(t){return e.createTask(r)}}},[e._v("创建正式任务")])]:e._e(),[0,10].includes(r.status)?[a("Divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(t){return e.linkDynamicTask(r)}}},[e._v("导入动态任务")])]:e._e()],r.status>=0?[a("auth-view",{attrs:{perm:{domain:"project",action:"delete",extra:{project:e.project.project_id}}}},[a("Divider",{attrs:{type:"vertical"}}),a("a",{staticClass:"txt-red",on:{click:function(t){return e.deleteLabelData(r)}}},[e._v("删除数据")]),a("template",{slot:"forbidden"},[a("Tooltip",{attrs:{placement:"bottom-start",transfer:!0,theme:"light"}},[a("Divider",{attrs:{type:"vertical"}}),a("span",{staticClass:"txt-muted",staticStyle:{cursor:"not-allowed"}},[e._v("删除数据")]),a("span",{attrs:{slot:"content"},slot:"content"},[a("p",[e._v("项目拥有者分享项目后可操作")])])],1)],1)],2)]:e._e()],r.status>=0&&e.isDeleteSource(r)?[a("Divider",{attrs:{type:"vertical"}}),a("delete-record",{attrs:{project:e.project,row:r},on:{deleteSelection:e.deleteSelection}})]:e._e(),e.isTagKey&&0===r.status?[a("Divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(t){return e.editTagKey(r)}}},[e._v("聚合字段")])]:e._e()]:e._e(),e.getDatasetStatus("失败",r.status)||"排队中"===r.status||"准备中"===r.status||e.getStatusStage(["notStart","error"],r)?[a("delete-record",{attrs:{project:e.project,row:r},on:{deleteSelection:e.deleteSelection}})]:e._e(),"解析中"===r.status||"上传完成"===r.status?[a("span",[e._v("-")])]:e._e()],2)]}}])}),a("Page",{staticClass:"right mtm",attrs:{current:e.fileData_page.index,total:e.fileData_page.total,"page-size":e.fileData_page.size,"show-total":"","show-elevator":""},on:{"on-change":e.changePage}})],1)},xe=[],we=(a("28eb"),a("30ac")),Se=a("b0f9"),Ce=a("f558"),Oe=a("c2da"),Te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{title:e.title,scrollable:!0,transfer:!1},model:{value:e.modalV,callback:function(t){e.modalV=t},expression:"modalV"}},[e.isTask?[a("p",[e._v("以下任务引用了当前数据集：")]),e._l(e.dataTasks,(function(t,r){return a("p",{key:r,staticClass:"mlm txt-muted"},[e._v(e._s(t.task_name))])})),a("p",[e._v("待完成任务后，请在【任务列表】删除数据后重试")])]:[a("p",[e._v("数据包名称："+e._s(e.importObj.src_file_name))]),a("p",[e._v("此操作将删除原始数据文件，删除后不可恢复！")])],a("template",{slot:"footer"},[e.isTask?a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.hideModal()}}},[e._v("我知道了")]):[a("Button",{attrs:{loading:e.fetchDeleteLabelDatas.isPending},on:{click:function(t){return e.fetchDeleteLabelDatas()}}},[e._v("确认删除")]),a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.hideModal()}}},[e._v("我再想想")])]],2)],2)},je=[],Ie={props:{project:Object,importObj:Object},data(){return{modalV:!1}},computed:{title(){return this.isTask?"存在关联的标注任务":"确认删除数据包数据？"},isTask(){var e;return(null===(e=this.dataTasks)||void 0===e?void 0:e.length)>0}},mounted(){this.fetchDataTasks()},methods:{hideModal(){this.modalV=!1}},asyncMethods:{fetchDeleteLabelDatas(){var e;const t={project_id:this.project.project_id,import_task_id:null===(e=this.importObj)||void 0===e?void 0:e.dataset_import_id};return Object(h["f"])(t).then(e=>{null!==e&&void 0!==e&&e.import_task_id&&(this.$Message.success("删除成功"),this.$emit("refresh"),this.hideModal())}).catch(e=>{this.$Message.error("删除失败："+e.message)})},fetchDataTasks(){var e;const t={project_id:this.project.project_id,import_task_id:null===(e=this.importObj)||void 0===e?void 0:e.dataset_import_id};return Object(h["q"])(t).then(e=>(this.modalV=!0,null===e||void 0===e?void 0:e.data)).catch(()=>{this.$Message.error("拉取关联任务失败")})}}},Ae=Ie,De=Object(_["a"])(Ae,Te,je,!1,null,null,null),Me=De.exports,Ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{width:1e3,"mask-closable":!1,"footer-hide":"",title:"添加题目"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("t-steps",{staticStyle:{width:"50%",margin:"0 auto"},attrs:{current:e.step}},[a("t-step-item",{attrs:{title:"选择模板",content:"为数据包选择合适的模板"}}),a("t-step-item",{attrs:{title:"选择数据包",content:"选择数据包完成上传"}})],1),0===e.step?[a("t-form",{ref:"form",staticStyle:{margin:"8px 20px"},attrs:{data:e.form,"label-align":"top"}},[a("div",{staticClass:"content"},[a("t-form-item",{attrs:{label:"选择模板",name:"template_id",rules:[e.emptyValidator("模板")]}},[a("t-select",{staticStyle:{width:"60%"},attrs:{loading:e.fetchTemplates.isPending,filter:e.filterTemplates},model:{value:e.form.template_id,callback:function(t){e.$set(e.form,"template_id",t)},expression:"form.template_id"}},e._l(e.templates,(function(t){return a("t-option",{key:t.template_id,attrs:{value:t.template_id,label:t.template_name}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("span",[e._v(e._s(t.template_name))]),a("span",{staticClass:"txt-muted"},[e._v("（"+e._s(t.template_id)+"）")])])])})),1)],1)],1),a("div",{staticClass:"content"},[a("t-form-item",{attrs:{label:"字段预览","required-mark":""}},[a("div",[a("div",{staticClass:"hint"},[a("span",[e._v("按所选模板的数据列配置处理数据，")]),a("span",{staticClass:"red"},[e._v("务必上传前完成确认，上传后无法再改！")]),e.form.template_id?a("a",{staticClass:"mlm",attrs:{target:"_blank",href:"/templates/"+e.form.template_id+"/edit?from=project&schema=true"}},[e._v("前往编辑")]):e._e()]),a("t-enhanced-table",{attrs:{rowKey:"id",columns:e.schemaColumns,data:e.schema,"cell-empty-content":"-",tree:{treeNodeColumnIndex:0},loading:e.fetchTemplate.isPending,"table-layout":"auto"}})],1)]),a("t-form-item",{attrs:{label:"聚合字段",name:"tag_key"}},[a("div",{staticStyle:{width:"60%"}},[a("div",{staticClass:"hint"},[e._v("题目可按指定字段值聚合成题包，由同一标注员领取标注；仅支持部分模板。")]),a("t-tooltip",{attrs:{content:"不支持的场景",disabled:e.repeatable}},[a("t-select",{attrs:{disabled:!e.repeatable,clearable:"",filterable:""},model:{value:e.form.tag_key,callback:function(t){e.$set(e.form,"tag_key",t)},expression:"form.tag_key"}},e._l(e.schema,(function(t){return a("t-option",{key:t.key,attrs:{value:t.key,label:t.key,loading:e.fetchTemplate.isPending}})})),1)],1)],1)]),a("t-form-item",{attrs:{label:"服务预览"}},[a("div",[a("div",{staticClass:"hint"},[a("span",[e._v("按所选模板的服务配置处理数据，")]),a("span",{staticClass:"red"},[e._v("务必上传前完成确认，上传后无法再改！")]),e.form.template_id?a("a",{staticClass:"mlm",attrs:{target:"_blank",href:"/templates/"+e.form.template_id+"/edit?from=project&schema=true"}},[e._v("前往编辑")]):e._e()]),a("t-table",{attrs:{rowKey:"key",columns:e.helperColumns,data:e.helpers,"max-height":"30vh","cell-empty-content":"-",loading:e.fetchTemplate.isPending,"table-layout":"auto"},scopedSlots:e._u([{key:"status",fn:function(t){var r=t.row.status;return[a("span",{class:"配置完成"===r?"txt-green":"txt-blue"},[e._v(e._s(r))])]}}],null,!1,3791636555)})],1)])],1)])]:e._e(),1===e.step?[a("t-form",{ref:"form",staticStyle:{margin:"8px 20px 0 20px"},attrs:{data:e.form,"label-align":"top"}},[a("div",{staticClass:"content"},[a("t-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"上传方式","required-mark":""}},[a("t-radio-group",{on:{change:function(t){return e.$refs.form.reset({type:"initial"})}},model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("t-radio",{attrs:{value:"local"}},[e._v("本地上传")]),a("t-radio",{attrs:{value:"url"}},[e._v("URL上传")]),a("t-radio",{attrs:{value:"tdw"}},[e._v("TDW上传")]),a("t-radio",{attrs:{value:"dataset"}},[e._v("从“数据集管理”导入")])],1)],1)],1),a("div",{staticClass:"content"},["local"===e.menu?[a("div",{staticClass:"t-input__help mbs local_help"},[a("span",[e._v("支持扩展名：.jsonl .xlsx .xls .csv（")]),a("a",{on:{click:e.exportJsonlExample}},[e._v("jsonl示例")]),a("span",[e._v("、")]),a("a",{on:{click:e.exportExcelExample}},[e._v("xlsx示例")]),a("span",[e._v("）；资源类文件请前往")]),a("a",{on:{click:e.routeToDatahouse}},[e._v("数据集管理")]),a("span",[e._v("上传")])]),a("fileUpload",{attrs:{beforeUpload:e.beforeUpload,accept:e.accept},model:{value:e.fileList,callback:function(t){e.fileList=t},expression:"fileList"}})]:e._e(),"url"===e.menu?[a("div",{staticClass:"t-input__help mbs"},[e._v("可输入网盘URL，请确保URL地址指向一个资源文件")]),a("t-form-item",{staticStyle:{"margin-bottom":"20px"},attrs:{name:"dataset_url",rules:[e.emptyValidator("url"),{url:!0,message:"url不符合规则",trigger:"blur"}]}},[a("t-textarea",{attrs:{autosize:{minRows:3,maxRows:50},placeholder:"请输入url路径，如：http://www.qq.com/tx?query=123"},model:{value:e.form.dataset_url,callback:function(t){e.$set(e.form,"dataset_url",t)},expression:"form.dataset_url"}})],1)]:e._e(),"tdw"===e.menu?[a("div",{staticClass:"t-input__help mbs"},[a("span",[e._v("支持查询TDW表数据上传，请务必先前往")]),a("a",{attrs:{href:e.tdwAuthLink,target:"_blank"}},[e._v("TDW【安全中心】")]),a("span",[e._v("为Qlabel平台授权")])]),e.loading?a("t-loading",{staticClass:"loading"}):e.tdwAuth?[a("t-form-item",{attrs:{label:"数据包名称",name:"dataset_name",rules:[e.emptyValidator("数据包名称")]}},[a("t-input",{attrs:{placeholder:"请为数据包命名"},model:{value:e.form.dataset_name,callback:function(t){e.$set(e.form,"dataset_name",t)},expression:"form.dataset_name"}})],1),a("t-radio-group",{staticClass:"mbb",on:{change:function(t){return e.$refs.form.reset()}},model:{value:e.tdwType,callback:function(t){e.tdwType=t},expression:"tdwType"}},[a("t-radio-button",{attrs:{value:"图形化模式"}},[e._v("图形化模式")]),a("t-radio-button",{attrs:{value:"SQL模式"}},[e._v("SQL模式")])],1),"图形化模式"===e.tdwType?[a("t-form-item",{attrs:{label:"数据库名",name:"database",rules:[e.emptyValidator("数据库名")]}},[a("t-select",{attrs:{filterable:"",loading:e.fetchTdwDbs.isPending},on:{change:e.fetchTdwTables},model:{value:e.form.database,callback:function(t){e.$set(e.form,"database",t)},expression:"form.database"}},e._l(e.tdwDbs,(function(e){return a("t-option",{key:e,attrs:{value:e,label:e}})})),1)],1),a("t-form-item",{attrs:{label:"数据表名",name:"table",rules:[e.emptyValidator("数据表名")]}},[a("t-select",{attrs:{filterable:"",loading:e.fetchTdwTables.isPending,placeholder:"请先选择数据库"},on:{change:e.fetchTdwTableInfo},model:{value:e.form.table,callback:function(t){e.$set(e.form,"table",t)},expression:"form.table"}},e._l(e.tdwTables,(function(e){return a("t-option",{key:e,attrs:{value:e,label:e}})})),1)],1),a("t-form-item",{attrs:{label:"选择字段",name:"field",rules:[e.emptyValidator("字段")]}},[a("t-select",{attrs:{filterable:"",multiple:"",loading:e.fetchTdwTableInfo.isPending,placeholder:"请先选择数据表"},model:{value:e.form.field,callback:function(t){e.$set(e.form,"field",t)},expression:"form.field"}},[a("t-option",{attrs:{checkAll:!0}},[e._v("全选")]),e._l(e.tdwTableInfo,(function(e){return a("t-option",{key:e,attrs:{value:e,label:e}})}))],2)],1),a("t-form-item",{attrs:{label:"查询方式",name:"module",rules:[e.emptyValidator("查询方式")]}},[a("t-radio-group",{on:{change:function(t){e.form.limit="slight"===t?2e4:null}},model:{value:e.form.module,callback:function(t){e.$set(e.form,"module",t)},expression:"form.module"}},[a("t-radio",{attrs:{value:"slight"}},[a("span",[e._v("轻量查询")]),a("span",{staticClass:"txt-muted"},[e._v("（查询快，限制最多2w条）")])]),a("t-radio",{attrs:{value:"full"}},[a("span",[e._v("全量查询")]),a("span",{staticClass:"txt-muted"},[e._v("（查询较慢）")])])],1)],1),a("t-form-item",{attrs:{label:"限制最大数据量",name:"limit",rules:["slight"===e.form.module?e.emptyValidator("限制最大数据量"):{required:!1}]}},[a("t-input-number",{staticStyle:{"min-width":"220px"},attrs:{min:e.tdwLimit.min,max:"slight"===e.form.module?e.tdwLimit.maxSlight:e.tdwLimit.maxFull,theme:"column","decimal-places":0,placeholder:"非必填，仅支持填写正整数"},model:{value:e.form.limit,callback:function(t){e.$set(e.form,"limit",t)},expression:"form.limit"}})],1)]:[a("t-form-item",{attrs:{"label-width":0,name:"sql",rules:[e.emptyValidator("SQL语句"),e.sqlValidator("SQL语句")]}},[a("t-textarea",{attrs:{autosize:{minRows:3,maxRows:30},placeholder:"请输入SQL语句，格式：SELECT 字段名 FROM 数据库名::数据表名 LIMIT 限制数量"},model:{value:e.form.sql,callback:function(t){e.$set(e.form,"sql",t)},expression:"form.sql"}})],1)]]:[a("t-empty",{staticClass:"mtm",attrs:{title:"暂无权限",description:"请检查是否已为Qlabel平台授权，因TDW权限存在延迟，授权后请等待几分钟再操作上传"},scopedSlots:e._u([{key:"image",fn:function(){return[a("t-icon",{attrs:{name:"error-circle",size:"32",color:"var(--td-warning-color-4)"}})]},proxy:!0},{key:"action",fn:function(){return[a("t-button",{attrs:{theme:"primary",variant:"outline",size:"small",href:e.tdwAuthLink,target:"_blank"}},[e._v("前往授权")])]},proxy:!0}],null,!1,1337436488)})]]:e._e(),"dataset"===e.menu?[a("div",{staticClass:"t-input__help mbs"},[e._v("单击数据集选中全部数据包，双击进入数据集选择指定数据包")]),a("DatasetSelect",{attrs:{datasetCode:e.form.dataset_code,importTaskIds:e.form.import_task_ids,datasetSchema:e.datasetSchema},on:{"update:datasetCode":function(t){return e.$set(e.form,"dataset_code",t)},"update:dataset-code":function(t){return e.$set(e.form,"dataset_code",t)},"update:importTaskIds":function(t){return e.$set(e.form,"import_task_ids",t)},"update:import-task-ids":function(t){return e.$set(e.form,"import_task_ids",t)},"update:datasetSchema":function(t){e.datasetSchema=t},"update:dataset-schema":function(t){e.datasetSchema=t}}},[e.datasetValidateResult&&!e.datasetValidateResult.result?a("div",{staticClass:"red mts",attrs:{slot:"tip"},slot:"tip"},[a("t-icon",{staticClass:"mrs",staticStyle:{"margin-bottom":"3px"},attrs:{name:"error-circle-filled"}}),a("span",[e._v("数据列不匹配："+e._s(e.datasetValidateResult.resultText))])],1):e._e()])]:e._e()],2)])]:e._e(),a("t-row",{staticClass:"mtm",staticStyle:{"margin-right":"20px"},attrs:{justify:"end"}},[0===e.step?a("t-button",{attrs:{theme:"primary",disabled:!this.form.template_id},on:{click:e.handleNextStep}},[e._v("下一步")]):e._e(),1===e.step?a("t-space",[a("t-button",{attrs:{theme:"default",disabled:!this.form.template_id},on:{click:function(t){e.step=0}}},[e._v("上一步")]),a("t-button",{attrs:{loading:e.loading},on:{click:e.handleSubmit}},[e._v("开始上传")])],1):e._e()],1)],2)},Re=[],Be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("t-upload",{attrs:{theme:"file-flow",multiple:"","auto-upload":!1,"upload-button":null,"cancel-upload-button":null,accept:e.accept,"before-upload":e.beforeUpload},scopedSlots:e._u([{key:"fileListDisplay",fn:function(t){var r=t.files;return[a("t-table",{staticClass:"mtm",attrs:{columns:e.fileColumns,data:r,rowKey:"id","table-layout":"auto"},scopedSlots:e._u([{key:"size",fn:function(t){var r=t.row.size;return[a("span",[e._v(e._s(e.returnFileSize(r)))])]}},{key:"status",fn:function(t){var r=t.row,i=r.status,n=r.error;return[a("t-tooltip",{attrs:{content:n?n.content:"",disabled:!n}},[a("t-row",{staticStyle:{gap:"4px"},attrs:{align:"center"}},[a(e.statusMap[i].icon,{tag:"component",attrs:{color:e.statusMap[i].color}}),a("span",[e._v(e._s(n&&n.title||e.statusMap[i].label))])],1)],1)]}},{key:"operation",fn:function(t){var r=t.rowIndex;return[a("a",{on:{click:function(t){return e.deleteFile(r)}}},[e._v("删除")])]}}],null,!0)})]}}]),model:{value:e.fileList,callback:function(t){e.fileList=t},expression:"fileList"}})},Pe=[],Le=a("ed08"),Fe=a("4528"),Ne=a("1cda"),$e=a("4f2b"),ze=a("bd51"),Ve=a("5feb"),Ue=(a("3bde"),["size"]);function He(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Ge(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?He(Object(a),!0).forEach((function(t){Object(Fe["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):He(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var We={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 23a11 11 0 110-22 11 11 0 010 22zm1-17.5h-2v6.91l4 4L16.41 15 13 11.59V5.5z"}}]},qe=$e["default"].extend({name:"TimeFilledIcon",functional:!0,props:{size:{type:String},onClick:{type:Function}},render:function(e,t){var a=t.props,r=t.data,i=a.size,n=Object(Ne["a"])(a,Ue),s=Object(Ve["a"])(i),o=s.className,l=s.style,c=Ge(Ge({},n||{}),{},{id:"time-filled",icon:We,staticClass:o,style:l});return r.props=c,e(ze["a"],r)}}),Xe=qe,Ye=["size"];function Ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Ze(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(a),!0).forEach((function(t){Object(Fe["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ke(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Je={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 2.25a9.75 9.75 0 000 19.5v-2.44A7.31 7.31 0 1119.31 12h2.44A9.75 9.75 0 0012 2.25z",fillOpacity:.9}}]},Qe=$e["default"].extend({name:"LoadingIcon",functional:!0,props:{size:{type:String},onClick:{type:Function}},render:function(e,t){var a=t.props,r=t.data,i=a.size,n=Object(Ne["a"])(a,Ye),s=Object(Ve["a"])(i),o=s.className,l=s.style,c=Ze(Ze({},n||{}),{},{id:"loading",icon:Je,staticClass:o,style:l});return r.props=c,e(ze["a"],r)}}),et=Qe,tt=["size"];function at(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function rt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?at(Object(a),!0).forEach((function(t){Object(Fe["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):at(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var it={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 23a11 11 0 100-22 11 11 0 000 22zM8.82 7.4L12 10.6l3.18-3.19 1.42 1.42L13.4 12l3.19 3.18-1.42 1.42L12 13.4 8.82 16.6 7.4 15.18 10.6 12 7.4 8.82 8.82 7.4z"}}]},nt=$e["default"].extend({name:"CloseCircleFilledIcon",functional:!0,props:{size:{type:String},onClick:{type:Function}},render:function(e,t){var a=t.props,r=t.data,i=a.size,n=Object(Ne["a"])(a,tt),s=Object(Ve["a"])(i),o=s.className,l=s.style,c=rt(rt({},n||{}),{},{id:"close-circle-filled",icon:it,staticClass:o,style:l});return r.props=c,e(ze["a"],r)}}),st=nt,ot=["size"];function lt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ct(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(a),!0).forEach((function(t){Object(Fe["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):lt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var dt={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 23a11 11 0 100-22 11 11 0 000 22zM7.5 10.59l3 3 6-6L17.91 9l-7.41 7.41L6.09 12l1.41-1.41z"}}]},ut=$e["default"].extend({name:"CheckCircleFilledIcon",functional:!0,props:{size:{type:String},onClick:{type:Function}},render:function(e,t){var a=t.props,r=t.data,i=a.size,n=Object(Ne["a"])(a,ot),s=Object(Ve["a"])(i),o=s.className,l=s.style,c=ct(ct({},n||{}),{},{id:"check-circle-filled",icon:dt,staticClass:o,style:l});return r.props=c,e(ze["a"],r)}}),ht=ut,pt={props:{value:Array,beforeUpload:Function,accept:String},data(){return{statusMap:{waiting:{label:"待上传",icon:Xe,color:"var(--td-text-color-placeholder)"},uploading:{label:"上传中",icon:et,color:"var(--td-brand-color-6)"},fail:{label:"上传失败",icon:st,color:"var(--td-error-color)"},success:{label:"上传成功",icon:ht,color:"var(--td-success-color)"}},fileColumns:[{colKey:"name",title:"名称"},{colKey:"size",title:"大小"},{colKey:"status",title:"状态"},{colKey:"operation",title:"操作"}],fileList:[]}},watch:{fileList:{handler(){this.$emit("input",this.fileList)},deep:!0}},methods:{returnFileSize:Le["d"],deleteFile(e){this.fileList.splice(e,1),this.$emit("update:fileList",this.fileList)}}},ft=pt,mt=(a("d0bb"),Object(_["a"])(ft,Be,Pe,!1,null,"8c35fb2e",null)),gt=mt.exports,_t=a("b392"),vt=a("fd5b"),bt=a.n(vt),yt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.openedDataset.dataset_code?[a("t-row",{attrs:{align:"center"}},[a("t-button",{attrs:{variant:"text",size:"small"},on:{click:e.handleResetSelection}},[a("t-icon",{attrs:{slot:"icon",size:"16px",name:"chevron-left"},slot:"icon"})],1),a("h4",[e._v("数据集名称："+e._s(e.openedDataset.dataset_name))])],1),a("t-table",{attrs:{columns:e.datasetTaskColumns,data:e.datasetTasks,loading:e.fetchDatasetTasks.isPending,rowKey:"dataset_import_id","table-layout":"auto","selected-row-keys":e.selectedDatasetTask},on:{"update:selectedRowKeys":function(t){e.selectedDatasetTask=t},"update:selected-row-keys":function(t){e.selectedDatasetTask=t},"select-change":e.handleSelectDatasetTask},scopedSlots:e._u([{key:"status",fn:function(t){var r=t.row;return[a("span",{class:"导入完成"===r.status?"":"txt-red"},[e._v(e._s(r.status))])]}},{key:"total",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.process.total))])]}}])}),a("t-pagination",{staticClass:"mtm",attrs:{total:e.datasetTaskPage.total,"page-size":e.datasetTaskPage.size,"show-page-size":!1,size:"small","show-jumper":""},on:{change:function(t){return e.handlePageChange("datasetTask")}},model:{value:e.datasetTaskPage.index,callback:function(t){e.$set(e.datasetTaskPage,"index",t)},expression:"datasetTaskPage.index"}})]:[a("tableFilter",{on:{search:function(t){return e.fetchDatasets(e.datasetPage.index=1)},reset:function(t){return e.handleReset(e.datasetPage.index=1)}}},[a("t-form",{ref:"form",staticClass:"mtm",attrs:{data:e.form,"label-width":70,"label-potision":"left"}},[a("t-row",[a("t-col",{attrs:{span:4}},[a("t-form-item",{attrs:{label:"数据集ID",name:"dataset_code"}},[a("t-input",{attrs:{clearable:"",placeholder:"请输入数据集ID"},on:{clear:function(t){e.form.dataset_code=""}},model:{value:e.form.dataset_code,callback:function(t){e.$set(e.form,"dataset_code",t)},expression:"form.dataset_code"}})],1)],1),a("t-col",{attrs:{span:4}},[a("t-form-item",{attrs:{label:"名称",name:"dataset_name"}},[a("Input",{attrs:{clearable:"",placeholder:"请输入数据集名称"},on:{clear:function(t){e.form.dataset_name=""}},model:{value:e.form.dataset_name,callback:function(t){e.$set(e.form,"dataset_name",t)},expression:"form.dataset_name"}})],1)],1),a("t-col",{attrs:{span:4}},[a("t-form-item",{attrs:{label:"标签",name:"dataset_label_list"}},[a("t-cascader",{attrs:{options:e.DatasetLabels,placeholder:"请选择数据集标签",clearable:""},model:{value:e.form.dataset_label_list,callback:function(t){e.$set(e.form,"dataset_label_list",t)},expression:"form.dataset_label_list"}})],1)],1),a("t-col",{staticClass:"mbm mtm",attrs:{span:4}},[a("t-form-item",{attrs:{label:"创建人",name:"creator"}},[a("t-input",{attrs:{clearable:"",placeholder:"请输入创建人"},on:{clear:function(t){e.form.creator=""}},model:{value:e.form.creator,callback:function(t){e.$set(e.form,"creator",t)},expression:"form.creator"}})],1)],1)],1)],1)],1),a("t-loading",{attrs:{loading:e.fetchDatasets.isPending}},[e.datasets.length>0?[a("t-row",{attrs:{gutter:8}},e._l(e.datasets,(function(t){return a("t-col",{key:t.dataset_code,attrs:{span:3}},[a("Card",{staticClass:"dataset-card pointer",class:{active:!!t.is_selected,disabled:!t.import_task_cnt},nativeOn:{click:function(a){return e.handleSelectDataset(t,!t.import_task_cnt)},dblclick:function(a){return e.handleOpenDataset(t,!t.import_task_cnt)}}},[a("div",{staticClass:"content"},[a("div",{attrs:{title:t.dataset_name}},[a("h2",{staticClass:"ellipsis mbm"},[e._v(e._s(t.dataset_name))]),a("p",[e._v(e._s(t.dataset_code))]),a("p",{staticClass:"mbs"},[e._v(e._s(t.import_task_cnt||0)+" 个成功文件")]),t.label?e._l(t.label.split(","),(function(t,r){return a("tag",{key:t,staticClass:"default",attrs:{color:e.colors[r%e.colors.length]}},[e._v(e._s(t))])})):e._e()],2),a("t-row",{attrs:{justify:"space-between",align:"center"}},[a("div",{staticClass:"txt-muted"},[a("h5",[e._v(e._s(t.nick_name||"-"))]),a("h5",[e._v(e._s(t.create_time||"-"))])]),a("t-tooltip",{attrs:{content:"点击选中，双击打开",placement:"top-end"}},[a("Radio",{attrs:{size:"large"},model:{value:t.is_selected,callback:function(a){e.$set(t,"is_selected",a)},expression:"dataset.is_selected"}})],1)],1)],1)])],1)})),1),a("t-pagination",{attrs:{total:e.datasetPage.total,"page-size":e.datasetPage.size,"show-page-size":!1,size:"small","show-jumper":""},on:{change:function(t){return e.handlePageChange("dataset")}},model:{value:e.datasetPage.index,callback:function(t){e.$set(e.datasetPage,"index",t)},expression:"datasetPage.index"}})]:a("t-empty")],2)],e.dataset||e.selectedDatasetTask.length>0?[a("t-form-item",{attrs:{"required-mark":""},scopedSlots:e._u([{key:"label",fn:function(){return[a("span",[e._v("待导入数据包（共 "+e._s(e.dataset&&e.dataset.import_task_cnt||e.selectedDatasetTask.length)+" 个）")])]},proxy:!0}],null,!1,2233641778)},[e.schema&&e.schema.length?a("div",[a("div",{staticStyle:{color:"var(--td-text-color-placeholder)"}},[a("span",[e._v("数据集字段为：")]),e._l(e.schema,(function(t,r){return a("span",{key:t.key},[a("span",{staticStyle:{color:"var(--td-warning-color)"}},[e._v(e._s(t.key))]),r<e.schema.length-2?a("span",[e._v("、")]):e._e(),r===e.schema.length-2?a("span",[e._v("和")]):e._e()])})),a("span",[e._v("若与所选模版不一致可返回上一步修改")])],2),e._t("tip",null,{schema:e.schema})],2):e._e()])]:e._e()],2)},kt=[],xt=a("2289"),wt=a("2c88"),St={components:{fieldArea:_t["a"],tableFilter:j["a"]},props:{project_id:String,datasetCode:String,importTaskIds:Array,datasetSchema:Array},data(){return{visible:!0,DatasetLabels:xt["a"],dataset:null,datasets:[],form:{dataset_code:"",dataset_name:"",dataset_label_list:"",creator:""},datasetPage:{index:1,size:4,total:0},schema:[],datasetTaskColumns:[{colKey:"row-select",type:"multiple",checkProps:({row:e})=>({disabled:0===e.process.total})},{title:"数据包ID",colKey:"dataset_import_id"},{title:"数据包名称",colKey:"src_file_name"},{title:"总题数",colKey:"success_rows"},{title:"状态",colKey:"status"},{title:"上传日期",colKey:"create_time"},{title:"上传者",colKey:"creator"}],datasetTasks:[],datasetTaskPage:{index:1,size:5,total:0},openedDataset:{},selectedDatasetTask:[],colors:["blue","red","green","orange","purple","cyan"]}},watch:{dataset(){this.dataset||Object(n["map"])(this.datasets,e=>{this.$set(e,"is_selected",!1)})}},mounted(){this.fetchDatasets()},methods:{handleReset(){Object(n["forIn"])(this.form,(e,t)=>{this.form[t]=""}),this.fetchDatasets()},handleResetSelection(){this.openedDataset={},this.dataset=null,this.selectedDatasetTask=[],Object(n["forIn"])(this.schema,e=>{this.$set(e,"field","")})},handlePageChange(e){switch(e){case"dataset":this.fetchDatasets(),this.handleResetSelection();break;case"datasetTask":this.fetchDatasetTasks(this.openedDataset.dataset_code);break}},handleSelectDataset(e,t){t||(Object(n["map"])(this.datasets,t=>{t.dataset_code!==e.dataset_code&&this.$set(t,"is_selected",!1)}),this.$set(e,"is_selected",!e.is_selected),this.dataset=e.is_selected?e:null,this.$emit("update:datasetCode",e.is_selected?e.dataset_code:""),this.fetchSchema())},handleOpenDataset(e,t){t||(this.dataset=null,this.openedDataset=e,this.$emit("update:datasetCode",this.openedDataset.dataset_code),this.fetchDatasetTasks(this.openedDataset.dataset_code))},handleSelectDatasetTask(){this.$emit("update:importTaskIds",this.selectedDatasetTask),this.schema&&this.schema.length||this.fetchSchema()}},asyncMethods:{fetchDatasets(){const e={page:{start:(this.datasetPage.index-1)*this.datasetPage.size,size:this.datasetPage.size,return_total:1},finished:1};return Object(n["forIn"])(this.form,(t,a)=>{"dataset_label_list"===a?""===this.form[a]||(e[a]=[this.form[a]]):""!==this.form[a]&&(e[a]=this.form[a])}),Object(wt["j"])(e).then(e=>(this.datasetPage.total=e.total,e.data.map(e=>({...e,is_selected:!1}))))},fetchDatasetTasks(e){const t={dataset_code:e,page:{start:(this.datasetTaskPage.index-1)*this.datasetTaskPage.size,size:this.datasetTaskPage.size,return_total:1}};return Object(wt["n"])(t).then(e=>(this.datasetTaskPage.total=e.total,e.data.map(e=>({...e,dataset_import_id:e.dataset_import_id.toString()})))).catch(e=>{console.log(e),this.$Message.error("数据获取失败，请刷新页面重试")})},fetchSchema(){var e;const t={dataset_code:(null===(e=this.dataset)||void 0===e?void 0:e.dataset_code)||this.openedDataset.dataset_code};return t.dataset_code?Object(wt["m"])(t).then(e=>(console.log(e),this.$emit("update:datasetSchema",e),e)).catch(e=>{console.log(e),this.$Message.error("数据获取失败：请刷新页面重试")}):[]}}},Ct=St,Ot=(a("6ed6"),Object(_["a"])(Ct,yt,kt,!1,null,"d45a4932",null)),Tt=Ot.exports,jt={components:{fileUpload:gt,fieldArea:_t["a"],DatasetSelect:Tt},props:{project_id:String,accept:String},data(){const e="https://security.tianqiong.woa.com/user/auth?platform=qlabel&etime=36";return{visible:!0,step:0,templates:[],schemaColumns:[{colKey:"key",title:"key"},{colKey:"primary",title:"主键"},{colKey:"required",title:"必填"},{colKey:"type",title:"类型"},{colKey:"url_type",title:"媒体类型"},{colKey:"url_dump",title:"是否转存"},{colKey:"element_type",title:"元素类型"}],template:null,schema:[],helperColumns:[{colKey:"key",title:"key"},{colKey:"label",title:"名称"},{colKey:"type",title:"服务类型"},{colKey:"status",title:"状态"}],helpers:[],menu:"local",sizeRules:{".xlsx":209715200,".xls":209715200,".csv":419430400,".jsonl":419430400},datasetSchema:[],form:{dataset_name:"",dataset_url:"",tag_key:"",template_id:"",database:"",table:"",field:[],module:"slight",limit:2e4,sql:"",dataset_code:"",import_task_ids:[]},tdwAuth:!1,tdwAuthLink:e,tdwType:"图形化模式",tdwLimit:{min:1,maxSlight:2e4,maxFull:99999999},fileList:[],project:{},dataset:{}}},computed:{repeatable(){if(this.template){const e=this.$OptimusStageMetadata.find(e=>e.name===this.template.template_type);return e.repeatable}return!1},datasetValidateResult(){const e=this.schema.map(e=>e.key),t=this.datasetSchema.map(e=>e.key),{result:a,resultText:r}=Object(Le["a"])(e,t);return{result:a,resultText:r}},disabled(){var e;switch(this.menu){case"local":return!this.fileList.length||this.fileList.find(e=>"fail"===e.status);case"url":return!this.form.dataset_url;case"tdw":return this.loading||this.tdwAuth||!this.isTdwFormOk;case"dataset":return!(null!==(e=this.datasetValidateResult)&&void 0!==e&&e.result);default:return!0}},loading(){return this.fetchTdwAuth.isPending||this.fetchSubmitImportTask.isPending},isTdwFormOk(){let e=!0;if("图形化模式"===this.tdwType){const t=["dataset_name","database","table","field"];t.forEach(t=>{switch(typeof this.form[t]){case"string":!this.form[t]&&(e=!1);break;case"object":this.form[t].length<=0&&(e=!1);break;default:break}})}return"SQL模式"===this.tdwType&&(e=!!this.form.dataset_name&&!!this.form.sql),e}},watch:{menu(e){["tdw"].includes(e)&&!this.tdwAuth&&(this.fetchTdwAuth(),"图形化模式"===this.tdwType&&this.fetchTdwDbs())},"form.template_id"(e){e&&this.fetchTemplate().then(()=>{this.getTemplateSchema(this.template),this.getTemplateHelpers(this.template)})}},mounted(){this.project_id&&(this.fetchProject(),this.fetchTemplates().then(()=>{var e;this.form.template_id=null===(e=this.templates[0])||void 0===e?void 0:e.template_id}))},methods:{filterTemplates(e,t){return-1!==t.label.indexOf(e)||-1!==t.value.indexOf(e)},returnFileSize:Le["d"],handleNextStep(){if(this.helpers.length>0){const e=this.helpers.every(e=>"配置完成"===e.status);if(!e)return void this.$Message.error("请检查智能辅助服务配置")}this.step=1},beforeUpload(){return!0},getTemplateSchema(e){const t=JSON.parse(e.template_schema),a=(e,t="")=>{const{key:r,required:i,type:n,element_type:s,element_schema:o}=e;let{url_dump:l,url_type:c}=e.url_dump,d=[];return o&&o.length&&(d=o.map(e=>a(e,r+"/"))),void 0!==l||"url"!==n&&"url"!==s||(l=!0),"url"!==s||c||(c="mixed"),{id:t+r,key:r,primary:e.primary?"是":"否",required:i?"是":"否",type:n,url_type:e.url_type,url_dump:l?"是":"否",element_type:e.element_type,children:d}};this.schema=t.map(e=>a(e))},getTemplateHelpers(e){var t,a;const r=JSON.parse(e.template_component),i=(null!==(t=r.helpers)&&void 0!==t?t:[]).map(e=>({...e,type:"预处理",status:"配置完成"})),n=(null!==(a=r.label_helpers)&&void 0!==a?a:[]).map(e=>({...e,type:"智能辅助",status:3===e.extra.currentStep?"配置完成":"配置中"}));this.helpers=[...i,...n]},async exportJsonlExample(){let e="{";const t=this.form.template_id;if(!t)return this.$Message.error("没有获取到项目模板，生成示例失败"),Promise.resolve();const a=await this.fetchTemplate(t);if(a){const t=JSON.parse(a.template_schema);for(let a=0;a<t.length;a++)e+=`"${t[a].key}": "示例值${a+1}"`,a+1<t.length&&(e+=", ");e+="}\n";const r=document.createElement("a");r.href="data:text/plain;charset=utf-8,"+encodeURIComponent(e),r.download="jsonl示例.jsonl",document.body.appendChild(r),r.click(),document.body.removeChild(r)}},async exportExcelExample(){const e=[],t=this.form.template_id;if(!t)return this.$Message.error("没有获取到项目模板，生成示例失败"),Promise.resolve();const a=await this.fetchTemplate(t);if(a){const t=JSON.parse(a.template_schema);e.push(Object(n["map"])(t,e=>e.key)),e.push(Object(n["map"])(t,(e,t)=>"示例值"+(t+1)));const r=bt.a.utils.aoa_to_sheet(e),i=bt.a.utils.book_new();bt.a.utils.book_append_sheet(i,r),bt.a.writeFile(i,"xlsx示例.xlsx")}},routeToDatahouse(){this.visible=!1,this.$emit("RouteToDatahouse")},async handleSubmit(){const e=await this.$refs.form.validate(e=>e);if(!0===e)return this.fetchSubmitImportTask();this.$Message.error("提交失败，请检查表单信息")},emptyValidator(e){return{required:!0,message:e+"不能为空"}},isSelectAll(e,t){return t&&e.length===t.length},onSelectAll(e,t,a){Object(n["set"])(this,t,e&&a?[...a]:[])},sqlValidator(e){const t=t=>/INSERT|UPDATE|DELETE/i.test(t)?{result:!1,message:e+"包含有不被允许的关键词",type:"error"}:{result:!0,type:"success"};return{validator:t,trigger:"blur"}}},asyncMethods:{fetchTemplates(){const e={project_id:this.project_id,template_type:"project",page:{start:0,size:1e3,return_total:1}};return Object(Se["g"])(e).then(e=>e.data.map(e=>({...e,template_id:e.template_id.toString()}))).catch(e=>{console.log(e),this.$Message.error("模板获取失败: "+e.message)})},fetchTemplate(){if(!this.form.template_id)return;const e={template_id:this.form.template_id};return Object(Se["k"])(e).then(e=>e).catch(e=>{this.$Message.error("获取模板详情失败："+e.message)})},fetchSubmitImportTask(){const{project_id:e,menu:t,fileList:a,form:r,tdwType:i}=this,s={project_id:e,template_id:r.template_id};if(r.tag_key&&(s.tag_key=r.tag_key),"local"===t)s.file_list=Object(n["map"])(a,e=>({file_name:e.name,file_size:e.size}));else if("url"===t)s.url=r.dataset_url;else if("tdw"===t){let{sql:e}=r;if("图形化模式"===i)e=`SELECT ${r.field.join(",")} FROM ${r.database}::${r.table}${r.limit?" LIMIT "+r.limit:""}`;else if("SQL模式"===i){const t=/FROM(.+?)::/i,a=e.match(t);a&&a[1]&&(r.database=a[1].trim());const i=/LIMIT\s+(\d+)/i,n=e.match(i);n&&n[1]&&(r.module=Number(n[1].trim())>2e4?"full":"slight")}s.tdw_sql={sql:e,database:r.database,filename:r.dataset_name,module:r.module}}return"dataset"===t?(s.dataset_code=r.dataset_code,r.import_task_ids.length&&(s.import_task_ids=r.import_task_ids),delete s.template_id,Object(h["v"])(s).then(e=>{this.visible=!1,this.$EventBus.$emit("update-project"),setTimeout(()=>{e.import_task_id?this.$Message.success("数据集导入成功！"):this.$Message.warning("数据集导入出错，获取导入任务ID失败")},500)}).catch(e=>{console.log(e),this.$Message.error("提交失败："+e.message)})):Object(we["h"])(s).then(e=>{console.log(e),this.visible=!1,setTimeout(()=>{this.$Message.success("提交成功！数据正在导入中，请稍后刷新查看"),this.$emit("StartUploadFile","local"===t?a.map(e=>e.raw):void 0)},500)}).catch(e=>{console.log(e),this.$Message.error("提交失败："+e.message)})},fetchProject(){const e={project_id:this.project_id};return Object(h["i"])(e).then(e=>e).catch(e=>this.$Message.error("获取数据失败："+e.message))},fetchTemplate(e=this.form.template_id){const t={template_id:e};return Object(Se["k"])(t).then(e=>e).catch(e=>{console.log(e),this.$Message.error("获取模板详情失败："+e.message)})},fetchTdwAuth(){return Object(h["l"])({}).then(e=>e).catch(e=>(console.log(e),!1))},fetchTdwDbs(){return Object(h["r"])({}).then(e=>e).catch(e=>{console.log(e),this.$Message.error("获取数据库列表失败："+e.message)})},fetchTdwTables(){const{database:e}=this.form;if(e)return this.$refs.form.reset({type:"empty",fields:["table","field"]}),Object(h["s"])({database:e}).then(e=>e).catch(e=>{console.log(e),this.$Message.error("获取数据表列表失败："+e.message)})},fetchTdwTableInfo(){const{database:e,table:t}=this.form;if(e&&t)return this.$refs.form.reset({type:"empty",fields:["field"]}),Object(h["k"])({database:e,table:t}).then(e=>e).catch(e=>{console.log(e),this.$Message.error("获取数据表字段失败："+e.message)})}}},It=jt,At=(a("6c7f"),Object(_["a"])(It,Ee,Re,!1,null,"07b1d0e2",null)),Dt=At.exports,Mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("div",{staticClass:"header",attrs:{slot:"header"},slot:"header"},[a("h3",[e._v("编辑聚合字段")])]),a("div",{staticClass:"content"},[a("Form",{ref:"form",attrs:{"label-position":"left","label-width":75,"label-colon":""}},[a("FormItem",{staticClass:"mtm",attrs:{label:"聚合字段"}},[a("Select",{staticStyle:{width:"150px"},model:{value:e.form.tag_key,callback:function(t){e.$set(e.form,"tag_key",t)},expression:"form.tag_key"}},[e._l(e.templateSchema,(function(t){return["$answer"!==t.key?a("Option",{key:t.key,attrs:{value:t.key}},[e._v(e._s(t.key))]):e._e()]}))],2),a("p",{staticClass:"txt-muted"},[e._v("(该字段下相同的值将自动集合，给同一个标注员标注)")])],1)],1),a("Alert",{attrs:{"show-icon":""}},[e._v("确认后将按新的聚合字段聚合，聚合完成后方可按题包下发任务")])],1),a("div",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[a("Button",{on:{click:function(t){e.visible=!1}}},[e._v("取消")]),a("Button",{attrs:{type:"primary",loading:e.fetchSetTagKey.isPending},on:{click:e.submit}},[e._v("确认并处理")])],1)])},Et=[],Rt={props:{project:Object,dataset:Object},data(){return{visible:!0,form:{tag_key:""},templateSchema:""}},mounted(){this.fetchTemplateSchema(),this.form.tag_key=this.dataset.tag_key},methods:{submit(){const{dataset:e,form:t}=this;t.tag_key&&t.tag_key===e.tag_key?this.$Modal.confirm({title:"确定要选择这个聚合字段吗？",content:"这个字段与数据包当前的聚合字段一致，点击确定开始重新聚合",onOk:()=>{this.fetchSetTagKey()}}):this.fetchSetTagKey()}},asyncMethods:{fetchSetTagKey(){const{project:e,dataset:t,form:a}=this,r={project_id:e.project_id,import_task_id:t.dataset_import_id,tag_key:a.tag_key};return Object(h["t"])(r).then(()=>{this.visible=!1,setTimeout(()=>{this.$Message.success("编辑成功！"),this.$emit("refresh")},300)}).catch(e=>{console.log(e),this.$Message.error("编辑失败："+e.message)})},fetchTemplateSchema(){const e={project_id:this.project.project_id};return Object(h["i"])(e).then(e=>{var t;return JSON.parse(null===(t=e.template)||void 0===t?void 0:t.template_schema)||"[]"})}}},Bt=Rt,Pt=Object(_["a"])(Bt,Mt,Et,!1,null,null,null),Lt=Pt.exports,Ft=a("ac90"),Nt=a("957d"),$t=a("db98"),zt=a("9ce4"),Vt=a("c54b"),Ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("auth-view",{attrs:{perm:{domain:"project",action:"delete",extra:{project:e.project.project_id}}}},[a("a",{on:{click:function(t){return e.$emit("deleteSelection",e.row,"数据包")}}},[e._v("删除")]),a("template",{slot:"forbidden"},[a("Tooltip",{attrs:{placement:"bottom-start",transfer:!0,theme:"light"}},[a("span",{staticClass:"txt-muted",staticStyle:{cursor:"not-allowed"}},[e._v("删除")]),a("span",{attrs:{slot:"content"},slot:"content"},[a("p",[e._v("项目拥有者分享项目后可操作")])])])],1)],2)},Ht=[],Gt={props:{project:Object,row:Object}},Wt=Gt,qt=Object(_["a"])(Wt,Ut,Ht,!1,null,null,null),Xt=qt.exports,Yt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"failed-process"},[a("t-list",{attrs:{split:!0,size:"small"}},e._l(e.tList,(function(t,r){return a("t-list-item",{key:t.id},[a("div",{staticClass:"index"},[e._v("序号："+e._s(r+1))]),a("div",[a("span",{staticClass:"title"},[e._v("异常原因：")]),[e._v(e._s(t.error_info))]],2),a("div",[a("span",{staticClass:"title"},[e._v("异常数据：")]),[e._v(e._s(t.origin))]],2)])})),1)],1)},Kt=[],Zt={props:{list:Array},data(){return{tList:[]}},computed:{columns(){return[{colKey:"origin",title:"异常数据"},{colKey:"error_info",title:"异常原因"}]}},watch:{list(){this.init()}},mounted(){this.init()},methods:{init(){this.tList=this.list||[]}}},Jt=Zt,Qt=(a("b795"),Object(_["a"])(Jt,Yt,Kt,!1,null,"3cc18027",null)),ea=Qt.exports,ta={components:{fileStatusRender:Nt["a"],uploadStatusRender:$t["a"],DeleteRecord:Xt,TableFilter:j["a"],FailedProcess:ea},mixins:[c["a"]],modals:["taskCreate"],props:{project:Object},data(){const e=JSON.parse(sessionStorage.getItem("project-detail-dataset-querys"));let t,a;return e&&e.projectId===this.project.project_id&&({queryParams:t,page:a}=e),{dataset_code:this.project.dataset_code,fileDisabled:!1,datasetLog:[],selection:[],fileStatus:P["l"],fileColumns:[{title:"数据包名称/ID",slot:"dataset_import_id",minWidth:200},{title:"上传人及日期",slot:"creator",minWidth:150},{title:"数据包状态",slot:"status",minWidth:230},{title:"聚合字段",slot:"tag_key",width:100},{title:"总题数",slot:"valid_cnt",align:"right",width:100},{title:"处理进度",slot:"cnt",minWidth:270},{title:"操作",slot:"action",width:350,fixed:"right"}],fileDatas:[],fileParams:t||{import_task_ids:"",status:"",file_name:"",creators:""},fileData_page:a||{index:1,size:10,total:0},statLoadingIndex:-1}},computed:{...Object(zt["c"])({uploadQueue:"uploadQueue"}),uploadingCount(){const e=Object.keys(this.uploadQueue).reduce((e,t)=>{const{state:a}=this.uploadQueue[t];return"uploading"===a?e+1:e},0);return e},companyinfo(){return this.$store.state.companyinfo}},watch:{uploadingCount(e,t){e<t&&setTimeout(()=>{this.fetchFileDatas()},1e3)}},created(){var e;this.isTagKey=!(null===(e=this.getRepeatable())||void 0===e||!e.repeatable),this.fetchFileDatas(),this.fetchCreators(),this.fetchTemplatesByProject()},mounted(){this.$EventBus.$on("update-file",e=>{e&&Object.assign(this.fileParams,e),this.fetchFileDatas()})},destroyed(){this.$EventBus.$off("update-file")},asyncMethods:{fetchTemplatesByProject(){const e={project_id:this.project.project_id,template_type:"project",page:{start:0,size:1,return_total:0}};return Object(Se["g"])(e).then(e=>e.data).catch(e=>{console.log(e)})},fetchRetryDataset(e){const t={dataset_import_id:e.dataset_import_id};return Object(we["g"])(t).then(e=>{e&&this.fetchFileDatas()}).catch(e=>{this.$Message.error("重试失败："+e.message)})},fetchFileDatas(){const e=this.fileData_page,t={project_id:this.project.project_id,page:{start:(e.index-1)*e.size,size:e.size,return_total:1},need_pack_cnt:!1};return s.a.forIn(this.fileParams,(e,a)=>{switch(a){case"import_task_ids":e&&(t[a]=[e]);break;case"status":(e||0===e)&&(t[a]=Number(e));break;default:e&&(t[a]=e);break}}),sessionStorage.setItem("project-detail-dataset-querys",JSON.stringify({projectId:this.project.project_id,page:this.fileData_page,queryParams:this.fileParams})),Object(h["n"])(t).then(e=>{const t=s.a.cloneDeep(e.data);return this.fileData_page.total=e.total,this.mapStatImportTask(t),this.checkUploadList(t),t}).catch(e=>{console.log(e),this.$Message.error("列表数据获取失败，请刷新重试")})},fetchStatImportTask(e){const t={project_id:this.project.project_id,dataset_import_id:e,need_pack_cnt:0};return Object(h["u"])(t).then(e=>e).catch(e=>{console.log(e)})},fetchCreators(){const e={project_id:this.project.project_id};return Object(h["m"])(e).then(e=>(this.creators=e.data,this.creators)).catch(e=>{console.log(e)})},fetchDatasetLogs(e,t){const a={dataset_import_id:e.dataset_import_id};return Object(we["f"])(a).then(e=>{const a=e.failrecord||[];if(this.datasetLog=e.data,this.$set(this.fileDatas[t],"logs",this.datasetLog),this.$set(this.fileDatas[t],"failRecord",a),void 0===t)return this.$FastModal.show(Oe["a"],{datasetLog:this.datasetLog}),this.fetchFileDatas(),this.datasetLog}).catch(e=>{console.log(e)})},fetchImportTask(){const e={project_id:this.project.project_id,need_pack_cnt:!1};return Object(h["n"])(e).then(e=>e.data).catch(e=>{console.log(e)})}},methods:{showFailedProcess(e){var t;return(null===(t=e.FailedProcess)||void 0===t?void 0:t.length)>0},...Object(zt["b"])({setUploadQueue:"setUploadQueue"}),async mapStatImportTask(e){for(let r=0;r<e.length;r++){var t,a;this.statLoadingIndex=r;const i=await this.fetchStatImportTask(e[r].dataset_import_id);if(i){this.statLoadingIndex=-1;const t={...e[r],valid_cnt:i.valid_cnt,published_cnt:i.published_cnt,published_tag_cnt:i.published_tag_cnt};this.$set(this.fileDatas,r,t),this.onImportTaskProcess(r)}if("projectDetail"!==this.$route.name||null===(t=this.$route)||void 0===t||null===(a=t.query)||void 0===a||!a.tab.includes("dataset"))return}},onImportTaskProcess(e){const t=this.fileDatas[e],a=t.valid_cnt,r=t.published_cnt;t.publishedT=a&&r?this.mathRound(r,a):0,"导入完成"===t.status?(t.status=r?r===a?20:10:0,t._disabled=!0):(0===t.process.finish_count&&0===t.process.total?t.process.scheduleS="0":t.process.scheduleS=this.mathRound(t.process.finish_count,t.process.total),t.scheduleT=this.mathRound(t.process.current_step,t.process.total_step)),this.$set(this.fileDatas,e,t)},getStatusStage(e,t){var a,r;return e.includes(null===(a=this.uploadQueue)||void 0===a||null===(r=a[t.dataset_import_id])||void 0===r?void 0:r.state)},isDeleteSource(e){return 0!==e.is_delete_source&&void 0!==e.is_delete_source},deleteLabelData(e){const{project:t}=this;this.$FastModal.show(Me,{project:t,importObj:e},{refresh:()=>{this.fetchFileDatas()}})},checkUploadList(e){e.forEach(async e=>{const{bucket:t,region:a,dataset_import_id:r,prefix:i,src_file_name:n,status:s}=e;if(!this.uploadQueue[r]&&"上传中"===s){const e=`${i}/${r}/${n}`,{authorization:s,Key:o}=await this.getToken({id:r,path:e}),l={id:r,Bucket:t,Region:a,Prefix:o,authorization:s};Object(Vt["b"])(l)}})},mathRound(e,t){return Math.round(e/t*1e4)/100},getDatasetStatus(e,t){return"string"===typeof t&&t.includes(e)},createTask(e,t){switch(t){case"formal":if(20!==this.project.project_status)return void this.$Message.warning({content:"审批完成后可创建正式任务",duration:3,closable:!0});case void 0:this.$router.push({name:"create-formal-tasks",params:{id:this.$route.params.id},query:{tab:this.$route.query.tab,dataset_import_id:e.dataset_import_id}});break;case"add":this.$router.push({name:"create-bid-tasks",params:{id:this.$route.params.id},query:{tab:this.$route.query.tab,type:t,dataset_import_id:e.dataset_import_id}});break}},errorDetail(e){this.$FastModal.show(ge["a"],{file:e},{loadSuccessData:()=>{this.fetchFileDatas()}})},loadDetail(e){const t={project_id:this.project.project_id,dataset_import_id:e.dataset_import_id.toString(),dataset_code:e.dataset_code};this.$FastModal.show(ge["a"],{file:e,fileType:"project",jqueryPre:t},{})},async restartTask(e){if(this.uploadQueue[e].cos)this.uploadQueue[e].cos.restartTask(this.uploadQueue[e].id);else{const[t]=this.fileDatas.filter(t=>String(t.dataset_import_id)===String(e)),{bucket:a,region:r,prefix:i,src_file_name:n,file_size:s}=t,{Key:o}=await this.getToken({id:e,path:`${i}/${e}/${n}`});Object(Vt["a"])({id:e,type:"questions",bucket:a,region:r,prefix:i,fileName:n,fileSize:s,Key:o})}},retryQueue(e){this.setUploadQueue({id:e,data:{state:"queuing"}}),Object(Ce["c"])({dataset_import_id:e}).then(()=>{this.setUploadQueue({id:e,data:{state:"queue-end"}})}).catch(t=>{this.$Message.error(t.message),this.setUploadQueue({id:e,data:{state:"queue-error"}})})},deleteDetail(e){Object(h["e"])(e).then(t=>{if(t){const{dataset_import_ids:t}=e;t.forEach(e=>{if(this.uploadQueue[e]){const{state:t,cos:a,id:r}=this.uploadQueue[e];a&&"success"!==t&&a.cancelTask(r),this.setUploadQueue({id:e,data:null})}}),this.cencle(),this.fetchFileDatas(),this.$Message.success("删除成功"),this.$EventBus.$emit("template-update-file")}}).catch(e=>{this.$Message.error("删除失败："+e.message)})},dealParams(e){const t={project_id:this.project.project_id};return e.length?(t.dataset_import_ids=[],e.forEach(e=>{t.dataset_import_ids.push(e.dataset_import_id)})):(t.dataset_import_ids=[],t.dataset_import_ids.push(e.dataset_import_id)),t},deleteSelection(e,t){const a=this.dealParams(e),r=this.getDatasetStatus("处理中",e.status);r&&this.$Message.info("数据包处理中，暂不支持删除"),a&&!r&&this.$Modal.confirm({title:"提示",content:`<p>确定要删除${t?e.src_file_name:"所选"}数据包吗？</p>`,okText:"我再想想",cancelText:"确认删除",onCancel:()=>{this.deleteDetail(a)}})},actionSelect(){this.fileColumns.unshift({type:"selection",width:60,align:"center"}),this.fileDisabled=!0},cencle(){"selection"===this.fileColumns[0].type&&this.fileColumns.shift(),this.fileDisabled=!1,this.selection=[]},getSelectData(e){this.selection=e},changePage(e){this.fileData_page.index=e,this.fetchFileDatas()},resetFile(){return s.a.forIn(this.fileParams,(e,t)=>{this.fileParams[t]=""}),this.fetchFileDatas()},getRepeatable(){var e;return s.a.chain(this.$OptimusStageMetadata).find({name:null===(e=this.project.template)||void 0===e?void 0:e.template_type}).value()},addQuestion(){var e;const t=this;var a,r;(null===(e=this.templatesByProject)||void 0===e?void 0:e.length)>0?this.$FastModal.show(Dt,{project_id:null===(a=t.project)||void 0===a||null===(r=a.project_id)||void 0===r?void 0:r.toString(),accept:".jsonl,.xlsx,.xls,.csv"},{RouteToDatahouse(){setTimeout(()=>{t.$router.push({path:"/projects/datasets/index"})},500)},async StartUploadFile(e){const a=await t.resetFile();a&&e&&t.handleUploadingDatasetFile(e)}}):this.$Message.warning({duration:3,render:e=>e("span",["请先在 ",e("a",{on:{click:()=>{t.$EventBus.$emit("route-to-template")}}},"模板管理")," 中添加模板"])})},handleUploadingDatasetFile(e){const t=this;let a={};s.a.forEach(e,async e=>{const r=s.a.find(t.fileDatas,{src_file_name:e.name,file_size:e.size,status:"上传中"});if(r){const i=`${r.prefix}/${r.dataset_import_id}/${r.src_file_name}`,{Key:n,authorization:s}=await this.getToken({id:r.dataset_import_id,path:i});a={id:r.dataset_import_id,type:"questions",Bucket:r.bucket,Region:r.region,Key:n,authorization:s,file:e,handleTaskReady(){t.$emit("handleTaskReady")}},Object(Vt["c"])(a)}})},async getToken({id:e,path:t}){const a=await Object(we["d"])({import_task_id:e.toString(),path:t}),{token:r,start_time:i,expired_time:n,upload_path:s}=a;return{Key:s,authorization:(e,t)=>{t({TmpSecretId:r.secret_id,TmpSecretKey:r.secret_key,SecurityToken:r.session_token,StartTime:i,ExpiredTime:n})}}},editTagKey(e){const t=this;t.$FastModal.show(Lt,{project:t.project,dataset:e},{refresh(){t.fetchFileDatas()}})},linkDynamicTask(e){const t=this;t.$FastModal.show(Ft["a"],{type:"first",projectId:t.project.project_id,dataset:e},{refresh(){t.fetchFileDatas()}})}}},aa=ta,ra=(a("ba32"),Object(_["a"])(aa,ke,xe,!1,null,"7f0bd665",null)),ia=ra.exports,na=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("TableFilter",{staticClass:"mtm",on:{reset:e.reset,search:function(t){return e.onChangePage(1)}}},[a("Form",{attrs:{"label-width":90,"label-colon":!0}},[a("Row",[a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"模板名称"}},[a("Input",{attrs:{type:"text",placeholder:"请输入模板名称"},model:{value:e.formData.templateName,callback:function(t){e.$set(e.formData,"templateName",t)},expression:"formData.templateName"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"标注场景"}},[a("Select",e._b({on:{"on-clear":function(t){e.formData.templateScene="",e.formData.templateLevel=""}},model:{value:e.formData.templateScene,callback:function(t){e.$set(e.formData,"templateScene",t)},expression:"formData.templateScene"}},"Select",e.selectConfig,!1),e._l(e.options.templateScenes,(function(t){return a("Option",e._b({key:t.value},"Option",t,!1))})),1)],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"模板类型"}},[a("Select",e._b({attrs:{placeholder:"请先选择标注场景"},on:{"on-clear":function(t){e.formData.templateLevel=""}},model:{value:e.formData.templateLevel,callback:function(t){e.$set(e.formData,"templateLevel",t)},expression:"formData.templateLevel"}},"Select",e.selectConfig,!1),e._l(e.options.templateLevels,(function(t){return a("Option",e._b({key:t.value},"Option",t,!1))})),1)],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"创建人"}},[a("user-select",{ref:"userSelect",attrs:{remote:"",showEmail:"",optionValue:"nick_name"},on:{"update:user":function(t){e.formData.creator=t}}})],1)],1)],1)],1)],1),a("Row",{staticClass:"mbb",attrs:{type:"flex",justify:"start",align:"middle"}},[a("t-button",{staticClass:"mrm",attrs:{theme:"primary"},on:{click:e.createTemplate}},[a("t-icon",{attrs:{slot:"icon",name:"add"},slot:"icon"}),e._v("新建模板")],1),a("auth-view",{attrs:{perm:{domain:"project",action:"edit",extra:{company:e.companyinfo.company_id,project:e.project.project_id}}}},[e.isStandardize?a("t-button",{staticClass:"mrm",on:{click:function(t){return e.addTemplate("isStandardize")}}},[e._v("从“标准化模板”导入")]):e._e(),a("t-button",{staticClass:"mrm",attrs:{theme:"default"},on:{click:function(t){return e.addTemplate()}}},[e._v("从“我的模板”导入")])],1)],1),a("Table",{staticStyle:{cursor:"pointer"},attrs:{loading:e.fetchTemplatesByProject.isPending,columns:e.columns,data:e.templatesByProject,"highlight-row":""},scopedSlots:e._u([{key:"template_name",fn:function(t){var r=t.row;return[r.standardized_id?a("StandardizeMark"):e._e(),a("span",[e._v(e._s(r.template_name))])]}},{key:"action",fn:function(t){var r=t.row;return[a("auth-view",{attrs:{perm:{domain:"project",action:"edit",extra:{company:e.companyinfo.company_id,project:e.project.project_id}}},scopedSlots:e._u([{key:"forbidden",fn:function(){return[a("span",[e._v("-")])]},proxy:!0}],null,!0)},[a("router-link",{attrs:{to:{name:"template-edit",params:{id:r.template_id},query:{from:"project",schema:"true"}},target:"_blank"}},[e._v("编辑")]),r.standardized_id?e._e():[a("Divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(t){return e.copyNewTemplate(r)}}},[e._v("复制")])],a("Divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(t){return e.removeTemplate(r)}}},[e._v("删除")])],2)]}}])}),a("Row",{staticClass:"mtm",attrs:{type:"flex",justify:"end"}},[a("Page",{attrs:{current:e.page.index,total:e.page.total,"page-size":e.page.size,"show-total":"","show-elevator":""},on:{"on-change":e.onChangePage}})],1)],1)},sa=[],oa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{width:1050,"mask-closable":!1,"footer-hide":""},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("div",{staticClass:"header",attrs:{slot:"header"},slot:"header"},[a("h3",{staticClass:"mts mbs"},[e._v(e._s(e.isStandardize?"添加标准化模板":"添加模板"))])]),a("div",{staticClass:"content"},[a("TableFilter",{on:{search:function(t){return e.changePage(1)},reset:e.reset}},[a("Form",{ref:"form",attrs:{model:e.form,"label-width":75,"label-position":"left","label-colon":""}},[a("Row",{attrs:{gutter:20}},[a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"模板名称"}},[a("Input",{attrs:{type:"text",placeholder:"请输入模板名称"},model:{value:e.form.template_name,callback:function(t){e.$set(e.form,"template_name",t)},expression:"form.template_name"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"标注场景"}},[a("Select",{attrs:{clearable:"",filterable:"",transfer:"",placeholder:"请选择模板场景"},on:{"on-clear":function(t){e.form.template_scene="",e.form.template_level=""}},model:{value:e.form.template_scene,callback:function(t){e.$set(e.form,"template_scene",t)},expression:"form.template_scene"}},e._l(e.templateScenes,(function(t){return a("Option",{key:t,attrs:{value:t}},[e._v(e._s(t))])})),1)],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"模板类型"}},[a("Select",{attrs:{clearable:"",filterable:"",transfer:"",placeholder:"先选择模板场景，再选择对应类型"},on:{"on-clear":function(t){e.form.template_level=""}},model:{value:e.form.template_level,callback:function(t){e.$set(e.form,"template_level",t)},expression:"form.template_level"}},e._l(e.templateLevels,(function(e){return a("Option",{key:e.template_id,attrs:{value:e.template_id,label:e.template_level1+(e.template_level2?" / "+e.template_level2:"")}})})),1)],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"创建人"}},[a("user-select",{ref:"userSelect",attrs:{remote:"",showEmail:"",optionValue:"nick_name"},on:{"update:user":function(t){e.form.created_by=t}}})],1)],1)],1)],1)],1),a("Table",{attrs:{columns:e.columns,data:e.templates,loading:e.loading},scopedSlots:e._u([{key:"template_name",fn:function(t){var r=t.row;return[e.isStandardize?a("StandardizeMark"):e._e(),a("span",[e._v(e._s(r.template_name))])]}},{key:"action",fn:function(t){var r=t.row;return[a("a",{on:{click:function(t){return e.$emit("routeToTemplate",r)}}},[e._v("预览")]),a("Divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(t){return e.fetchAddProjectTemplate(r)}}},[e._v("选中")])]}}])}),a("br"),a("Row",{attrs:{type:"flex",justify:"end"}},[a("Page",{attrs:{current:e.page.index,total:e.page.total,"page-size":e.page.size,"show-total":"","show-elevator":""},on:{"on-change":e.changePage}})],1),a("br")],1)])},la=[],ca=a("c099"),da={components:{UserSelect:ee["a"],StandardizeMark:ca["a"],TableFilter:j["a"]},props:{project:Object,companyinfo:Object,isStandardize:Boolean},data(){return{visible:!0,form:{template_name:"",template_scene:"",template_level:"",created_by:""},columnsOptions:{id:"模板ID",template_name:"模板名称",template_desc:"模板简介",template_scene:"标注场景",template_level1:"模板类型",creator:"创建人",action:"操作"},page:{index:1,size:5,total:0},templates:[],templateScenes:xt["i"],templateLevels:[]}},computed:{loading(){return this.fetchTemplates.isPending||this.fetchAddProjectTemplate.isPending},columns(){return Object(n["map"])(this.columnsOptions,(e,t)=>{const a={title:e,key:t};return t.includes("id")&&this.$set(a,"width",90),t.includes("template_name")&&(delete a.key,this.$set(a,"slot",t)),t.includes("action")&&(delete a.key,this.$set(a,"slot",t)),a})}},watch:{"form.template_scene"(e){e?this.fetchTemplateLevels():this.templateLevels=[]},"form.created_by"(e){var t;null===(t=this.$refs.userSelect)||void 0===t||t.updateUser(e)}},mounted(){this.fetchTemplates()},methods:{reset(){Object(n["forIn"])(this.form,(e,t)=>{this.$set(this.form,t,"")}),this.changePage(1)},changePage(e){this.page.index=e,this.fetchTemplates()}},asyncMethods:{fetchTemplates(){const{page:e,form:t,project:a,templateLevels:r}=this,i={page:{start:(e.index-1)*e.size,size:e.size,return_total:1}};return Object(n["forIn"])(t,(e,t)=>{if(e&&(i[t]=e),t.includes("template_level")&&e){const t=Object(n["find"])(r,["template_id",e]);t.template_level1&&(i.template_level1=t.template_level1),t.template_level2&&(i.template_level2=t.template_level2)}}),this.isStandardize?(i.business_id=a.business_id,i.template_valid_status=1,Object(p["f"])(i).then(t=>(e.total=t.total,t.data))):Object(Se["l"])(i).then(t=>(e.total=t.total,t.data))},fetchTemplateLevels(){const e={template_scene:this.form.template_scene,is_all:1};return Object(Se["e"])(e).then(e=>e)},fetchAddProjectTemplate(e){const t=this,a={project_id:t.project.project_id,template_id:e.id,template_name:e.template_name};return Object(Se["a"])(a).then(()=>{t.visible=!1,setTimeout(()=>{t.$Message.success({render:e=>e("span",["模板添加成功！可前往 ",e("a",{on:{click:()=>{t.$emit("routeToDataset")}}},"题目库")," 上传数据"]),duration:3}),t.$emit("refresh")},300)}).catch(e=>{console.log(e),t.$Message.error("提交失败："+e.message)})}}},ua=da,ha=(a("9058"),Object(_["a"])(ua,oa,la,!1,null,"7a89a316",null)),pa=ha.exports,fa=a("bccd"),ma=a("912f"),ga={components:{addTemplate:pa,StandardizeMark:ca["a"],UserSelect:ee["a"],TableFilter:j["a"]},mixins:[c["a"]],modals:["createTask","datasetLogs"],props:{project:Object},data(){return{templatesByProject:[],isEditObj:!1,LabelTypes:this.$OptimusStageMetadata,users:[],step:1,loading:!1,templates:[],selectConfig:{clearable:!0,filterable:!0},columns:[{title:"模板ID",key:"template_id",minWidth:100},{title:"模板名称",slot:"template_name",minWidth:100},{title:"模板简介",key:"template_desc",minWidth:100},{title:"标注场景",key:"template_scene",minWidth:100},{title:"模板类型",key:"template_level1",minWidth:100},{title:"修改时间",key:"updated_at",minWidth:100},{title:"创建人",key:"creator",minWidth:100},{title:"操作",slot:"action",minWidth:100,fixed:"right"}],page:{index:1,size:10,total:0},formData:{templateName:"",templateScene:"",templateLevel1:"",creator:""},options:{templateScenes:xt["i"].map(e=>({label:e,value:e,key:e})),templateValidStatus:xt["l"]}}},computed:{companyinfo(){return this.$store.state.companyinfo},isStandardize(){var e;return!(null===(e=this.project)||void 0===e||!e.business_id)}},watch:{"formData.templateScene"(){this.formData.templateScene?this.fetchTemplateLevels():this.$set(this.options,"templateLevels",[])}},created(){this.fetchTemplatesByProject()},mounted(){this.$EventBus.$on("template-update-file",()=>{this.fetchTemplatesByProject()})},destroy(){this.$EventBus.$off("template-update-file")},asyncMethods:{fetchTemplatesByProject(){const{page:e,formData:t}=this,a={};for(const i in t)a[Object(n["snakeCase"])(i)]=t[i];const r={...a,project_id:Object(fa["BigNumber"])(this.project.project_id),template_type:"project",page:{start:(e.index-1)*e.size,size:e.size,return_total:1}};return Object(Se["g"])(r).then(e=>(this.page.total=e.total,e.data))},fetchDeleteProjectTemplate(e){const t={project_id:Object(fa["BigNumber"])(this.project.project_id),template_id:e.template_id};return Object(Se["c"])(t).then(()=>{this.$Message.success("删除成功！")}).catch(e=>{this.$Message.error("删除失败："+e.message)})},fetchTemplateLevels(){const e={template_scene:this.formData.templateScene,is_all:1};return Object(Se["e"])(e).then(e=>{const t=e.map(e=>({label:`${e.template_level1}${e.template_level2?" / "+e.template_level2:""}`,value:e.template_id}));return this.$set(this.options,"templateLevels",t),e})}},methods:{createTemplate(){console.log(this.$route),this.$router.push({name:"create-template",params:{id:this.$route.params.id},query:{tab:this.$route.query.tab}})},onChangePage(e){this.page.index=e,this.fetchTemplatesByProject()},addTemplate(e){const t=this;this.$FastModal.show(pa,{project:t.project,companyinfo:t.companyinfo,isStandardize:!!e},{routeToDataset(){t.$EventBus.$emit("route-to-dataset")},routeToTemplate(e){const a=t.$router.resolve({name:"template-preview",params:{id:e.id}});window.open(a.href,e.id)},refresh(){t.fetchTemplatesByProject(),t.$EventBus.$emit("update-project")}})},removeTemplate(e){if(this.templatesByProject.length<2)return this.$Message.warning("至少要保留一个项目模板"),Promise.resolve();this.$Modal.confirm({title:"确定要删除这个项目模板吗？",content:""+e.template_name,loading:!0,onOk:()=>{this.fetchDeleteProjectTemplate(e).then(()=>{this.$Modal.remove(),this.fetchTemplatesByProject(),this.$EventBus.$emit("update-project")})}})},reset(){Object.keys(this.formData).forEach(e=>{this.formData[e]=""}),this.onChangePage(1)},copyNewTemplate(e){this.$FastModal.show(ma["a"],{isInProject:!0,template:e,projectId:this.project.project_id,$router:this.$router},{refresh:()=>{this.fetchTemplatesByProject(),this.$EventBus.$emit("update-project")}})}}},_a=ga,va=(a("236b"),Object(_["a"])(_a,na,sa,!1,null,"9cc35632",null)),ba=va.exports,ya=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"project_export"},[a("Tip",{attrs:{theme:"red",warp:!1}}),a("Row",{staticClass:"mtb mbm",attrs:{type:"flex",justify:"start"}},[e.selectable?[a("Button",{staticClass:"mrs",attrs:{icon:"ios-cloud-download-outline"},on:{click:function(t){return e.onSelect({enable:!1})}}},[e._v("取消")]),a("Button",{staticClass:"mrs",attrs:{type:"primary",icon:"ios-cloud-download-outline"},on:{click:e.onMultiDownload}},[e._v("确认下载")])]:[a("auth-view",{attrs:{perm:{domain:"project",action:"export",extra:{company:e.companyInfo.company_id,project:e.project.project_id}}}},[a("Button",{attrs:{type:"primary",icon:"ios-cloud-download-outline",disabled:!e.project.allow_http_download},on:{click:function(t){return e.onSelect({enable:!0})}}},[e._v("批量下载")])],1)]],2),a("Table",{ref:"table",attrs:{columns:e.columns,data:e.exportList,loading:e.fetchExportList.isPending},on:{"on-select":function(t,a){return e.onSelect({insert:!0,selection:[a]})},"on-select-cancel":function(t,a){return e.onSelect({insert:!1,selection:[a]})},"on-select-all":function(t){return e.onSelect({insert:!0,selection:t})},"on-select-all-cancel":function(t){return e.onSelect({insert:!1,selection:t})}},scopedSlots:e._u([{key:"export_id",fn:function(t){var r=t.row;return[a("p",[e._v(e._s(r.export_id||"-"))]),a("small",{staticClass:"txt-muted"},[e._v("创建时间: "+e._s(r.created_at||"-"))])]}},{key:"export_cycle",fn:function(t){var r=t.row;return[a("Tooltip",{attrs:{transfer:"",disabled:"非周期"===r.cycle_item.type}},[a("Tag",{attrs:{color:r.cycle_item.color}},[e._v(e._s(r.cycle_item.type))]),a("div",{staticStyle:{"white-space":"normal"},attrs:{slot:"content"},domProps:{innerHTML:e._s(r.cycle_item.desc)},slot:"content"})],1)]}},{key:"storage_type",fn:function(t){var r=t.row;return[a("span",{class:e.storageType(r).includes("安全")&&"txt-green"},[e._v(e._s(e.storageType(r)))])]}},{key:"storage_path",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(e.storagePath(r)))])]}},{key:"export_format",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.export_format||"-"))])]}},{key:"export_filename",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(e.exportFilename(r)))])]}},{key:"export_desc",fn:function(t){var r=t.row;return[r.tdw?[a("p",[e._v("项目: "+e._s(r.project_name))])]:r.deliver_name?[a("p",[e._v("批次: "+e._s(r.deliver_name))]),a("small",{staticClass:"txt-muted"},[e._v("任务: "+e._s(r.task_name||"-"))])]:a("p",[e._v("任务: "+e._s(r.task_name||"-"))])]}},{key:"nick_name",fn:function(t){var r=t.row;return[r.tdw?a("span",[e._v("Qlabel")]):a("span",[e._v(e._s(r.nick_name||"-"))])]}},{key:"export_status",fn:function(e){var t=e.row;return[a("Tooltip",{attrs:{disabled:!["失败"].includes(t.export_status),content:t.failed_desc||"未获取到原因",transfer:""}},[a("export-status-render",{attrs:{value:t.export_status}})],1)]}},{key:"action",fn:function(t){var r=t.row;return[["成功"].includes(r.export_status)?["AIdata需求单"===e.storageType(r)?[a("auth-view",{attrs:{perm:{domain:"project",action:"edit",extra:{company:e.companyInfo.company_id,project:e.project.project_id}}}},[a("a",{on:{click:function(t){return e.gotoAIdata()}}},[e._v("查看")]),"local"!==r.storage_type?a("Divider",{attrs:{type:"vertical"}}):e._e()],1)]:"local"===r.storage_type?a("span",[e._v("-")]):e._e(),a("auth-view",{attrs:{perm:{domain:"project",action:"export",extra:{company:e.companyInfo.company_id,project:e.project.project_id}}}},["local"!==r.storage_type?a("Tooltip",{attrs:{content:"项目已禁止web下载",disabled:!!e.project.allow_http_download}},[a("a",{attrs:{disabled:!e.project.allow_http_download,href:e.getDownloadUrl(r),target:"_blank"}},[e._v("下载")])]):e._e()],1)]:["失败"].includes(r.export_status)?[a("auth-view",{attrs:{perm:{domain:"project",action:"edit",extra:{company:e.companyInfo.company_id,project:e.project.project_id}}}},[a("a",{staticClass:"txt-red",attrs:{href:"javascript:;"},on:{click:function(t){return e.deleteExport(r)}}},[e._v("删除")])])]:[r.tdw?[a("auth-view",{attrs:{perm:{domain:"project",action:"edit",extra:{company:e.companyInfo.company_id,project:e.project.project_id}}}},[a("a",{on:{click:function(t){return e.gotoTdw()}}},[e._v("查看")])])]:a("span",[e._v("-")])]]}}])}),a("Page",{staticClass:"right mtm",attrs:{current:e.page.index,total:e.page.total,"page-size":e.page.size,"show-total":"","show-elevator":""},on:{"on-change":function(t){return e.onPageChange(t,"exports")}}})],1)},ka=[],xa={props:["value"],render(e){const{value:t}=this,a=Object(n["find"])(Object(n["values"])(P["j"]),{value:t});if(a)switch(t){case P["j"].START.value:return e("Tag",{attrs:{color:"default"}},a.text);case P["j"].EXPORTING.value:return e("Tag",{attrs:{color:"cyan"}},a.text);case P["j"].LOADING.value:return e("Tag",{attrs:{color:"blue"}},a.text);case P["j"].SUCCEED.value:return e("Tag",{attrs:{color:"green"}},a.text);case P["j"].ERROR.value:return e("Tag",{attrs:{color:"red"}},a.text);default:return e("Tag",{props:{color:"default"}},"错误状态")}return e("Badge",{props:{}},"-")}},wa=a("175d"),Sa=a("bb017"),Ca={components:{ExportStatusRender:xa,EditModal:F["a"],Tip:Sa["a"]},props:{project:Object},data(){const e="slot";return{Config:l["a"],tableColumns:{export_id:{slot:e,title:"导出ID",width:200},export_cycle:{slot:e,title:"导出周期",width:100},storage_type:{slot:e,title:"导出方式",width:130},storage_path:{slot:e,title:"存储位置",minWidth:140},export_format:{slot:e,title:"导出格式",width:100},export_filename:{slot:e,title:"文件名称",minWidth:120},export_desc:{slot:e,title:"导出备注",minWidth:100},nick_name:{slot:e,title:"导出人",width:120},export_status:{slot:e,title:"导出状态",width:110},action:{slot:e,title:"操作",width:120}},filter_form:{export_name:"",export_time:"",export_type:"",export_url:"",export_format:"",task_id:"",batch_id:"",export_statu:"",end_date:"",start_date:""},ExportFormats:xt["b"],ExportTypes:xt["c"],page:{index:1,size:10,total:0},exportList:[],selectable:!1,selection:{}}},computed:{companyInfo(){return this.$store.state.companyinfo},columns(){const{tableColumns:e}=this;let t=-1;const a=Object.keys(e).map((a,r)=>{e[a].type&&"selection"===e[a].type&&(t=r);const i={...e[a],slot:e[a].slot?a:void 0,key:e[a].slot?void 0:a};return Object(n["omitBy"])(i,n["isNil"])});return[-1,0].includes(t)||a.unshift(a.splice(t,1)[0]),a},aidataBucketPath(){return function(e){const t=JSON.parse(e.storage_params).bucket_id;return Object(n["chain"])(t).split("/").slice(2).unshift("").join("/").value()||"-"}},storageType(){return function(e){const{project:t}=this;switch(e.storage_scene){case"disk":return"AIdata安全桶";case"qlabel_disk":return"直接导出";default:return e.tdw?"TDW混元专区":t.project_type?"AIdata需求单":"直接导出"}}},storagePath(){return function(e){return["local"].includes(e.storage_type)||e.tdw?e.storage_path:this.aidataBucketPath(e)}},exportFilename(){return function(e){return e.tdw?"-":e.export_filename||"-"}}},created(){this.fetchExportList()},mounted(){this.$EventBus.$on("update-export",()=>{this.fetchExportList()})},destroy(){this.$EventBus.$off("update-export")},methods:{onSelect(e){const{enable:t,insert:a,selection:r}=e;"boolean"===typeof t&&(this.selectable=e.enable,e.enable?Object.hasOwn(this.tableColumns,"selection")||this.$set(this.tableColumns,"selection",{type:"selection",width:60,align:"center"}):(this.$refs.table&&this.$refs.table.selectAll(!1),Object.hasOwn(this.tableColumns,"selection")&&this.$delete(this.tableColumns,"selection"),this.$set(this,"selection",{}))),"boolean"===typeof a&&r&&r.forEach(e=>{a?this.$set(this.selection,e.export_id,e):this.$delete(this.selection,e.export_id)})},onDownload(e){const{file_id:t,bucket_id:a}=JSON.parse(e.storage_params),r={fileId:t,bucketId:a,projectId:this.project.project_id};try{Object(wa["t"])(r,e=>{const t=document.createElement("div");t.innerHTML=e;const{message:a}=JSON.parse(t.innerText).error;this.$Message.error("下载失败: "+a)})}catch(i){console.log(i),this.$Message.error("下载失败: "+i.message)}},onMultiDownload(){const{selectable:e,selection:t}=this,a=Object.values(t);e&&a.length&&(a.forEach(e=>{window.open(this.getDownloadUrl(e),"_blank")}),this.onSelect({enable:!1}))},getDownloadUrl(e){const{export_id:t}=e,a={exportId:t,projectId:this.project.project_id},r=`/api/export/download-export-file?exportId=${a.exportId}&projectId=${a.projectId}`;return r},TimeChange(e){this.filter_form.start_date=e[0],this.filter_form.end_date=e[1]},onPageChange(e,t){switch(t){case"exports":this.page.index=e,this.fetchExportList();break}},gotoAIdata(){var e,t;if(null===(e=this.Config)||void 0===e||null===(t=e.EXTERNAL_URL)||void 0===t||!t.aidata)return this.$Message.error("暂时不支持跳转到其他系统"),0;if(!this.project.ai_order_code)return this.$Message.error("需求单号缺失"),0;const a=`${this.Config.EXTERNAL_URL.aidata}/orders/${this.project.ai_order_code}?origin=qlabel&tab=file`;window.open(a,"_blank")},gotoTdw(){const e="https://idex.woa.com/";window.open(e,"_blank")},deleteExport(e){this.$Modal.confirm({title:"删除确认",content:`确定要删除${e.export_filename}导出记录吗？`,onOk:()=>{Object(wa["a"])({project_id:this.project.project_id,export_id:e.export_id}).then(e=>{e&&(this.$Message.success("删除成功"),this.fetchExportList())}).catch(e=>{this.$Message.error("删除失败:"+e.message)})}})},exportListHook({data:e,total:t}){this.page.total=t;const a={H:"小时",D:"天"},r=e.map(e=>{const t=e.export_desc?JSON.parse(e.export_desc):{},r={...e,tdw:!!["tdw"].includes(e.storage_type),project_name:t.project_name||"",task_name:t.task_name||"",deliver_name:t.deliver_name||"",cycle_item:{type:e.is_periodic_task?a[e.cycle_unit]:"非周期",color:e.is_periodic_task?"cyan":"default",desc:`<p>每隔 ${e.cycle_interval} ${a[e.cycle_unit]}增量导出</p><p>上次导出时间: ${e.updated_at}</p>`},_disabled:!("成功"===e.export_status&&"local"!==e.storage_type&&this.project.allow_http_download),_checked:!!Object.hasOwn(this.selection,e.export_id)};return r});return r}},asyncMethods:{fetchExportList(){const{project:e,page:t}=this,a={project_id:e.project_id,page:{start:(t.index-1)*t.size,size:t.size,return_total:1}};return Object(wa["s"])(a).then(e=>this.exportListHook(e)).catch(e=>{console.log(e),this.$Message.error("列表数据获取失败，请刷新重试")})}}},Oa=Ca,Ta=(a("90e5"),Object(_["a"])(Oa,ya,ka,!1,null,"290d296d",null)),ja=Ta.exports,Ia=a("b2b7"),Aa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"margin",staticStyle:{position:"relative"}},[e.fetchLogs.isPending?a("Spin",{attrs:{fix:""}}):e._e(),e.fetchLogs.isResolved?[e.logs&&e.logs.length>0?a("Timeline",e._l(e.logs,(function(t,r){return a("TimelineItem",{key:r,attrs:{color:t.color}},[0===r?a("Icon",{attrs:{slot:"dot",type:"md-disc",size:"20"},slot:"dot"}):e._e(),a("Card",[a("b",[e._v(e._s(t.flow_handle_at||"-"))]),a("div",{staticClass:"content"},[a("span",[e._v(e._s(t.nick_name||"系统自动处理")+"："+e._s(e.flowAction(t.flow_action)))]),"REJECT"===t.flow_action?a("span",{staticClass:"txt-red"},[e._v("（审批意见："+e._s(t.flow_remark||"-")+"）")]):e._e()])])],1)})),1):a("p",[e._v("暂无数据")])]:e._e()],2)},Da=[],Ma={props:{project:Object,status:Number},data(){return{logs:[],projectAction:P["n"]}},computed:{flowAction(){return function(e){let t="";return s.a.forIn(P["n"],(a,r)=>{if(e===r)return t=a.text,!1}),t}}},watch:{status(){this.fetchLogs()}},mounted(){this.fetchLogs()},asyncMethods:{fetchLogs(){const e={flow_code_list:[this.project.project_id],task_id:0};return J["a"].ListFlowLogs(e).then(e=>e.data.result.data).catch(e=>{this.$Message.error("查询失败："+e.message)})}}},Ea=Ma,Ra=(a("8dbf"),Object(_["a"])(Ea,Aa,Da,!1,null,"0080a2d0",null)),Ba=Ra.exports,Pa=a("1542"),La=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{width:"600",title:"审批项目","mask-closable":!1},on:{"on-cancel":function(t){return e.hideModal()}},model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[e.approve?[1===e.project.project_type?[a("p",[e._v("审批状态为【通过】。这是外部标注项目，请添加其他公司：")]),a("br"),a("Form",{ref:"form1",attrs:{model:e.form1,"label-position":"left","label-width":90,"label-colon":""}},[e._l(e.form1.suppliers,(function(t,r){return a("FormItem",{key:r,attrs:{label:"公司"+(r+1),prop:"suppliers."+r+".value",rules:{required:!0,message:"不能为空"}}},[a("Row",[a("Col",{attrs:{span:"14"}},[a("Select",{attrs:{filterable:""},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}},e._l(e.companies,(function(t){return a("Option",{key:t.supplier_id.toString(),attrs:{value:t.supplier_id.toString()}},[e._v(e._s(t.supplier_name))])})),1)],1),a("Col",{attrs:{span:"2"}},[a("Button",{staticClass:"mls",on:{click:function(t){return e.DeleteSupplier(r)}}},[e._v("删除")])],1)],1)],1)})),a("FormItem",{attrs:{"label-width":0}},[a("Button",{attrs:{type:"dashed",icon:"md-add"},on:{click:e.AddSupplier}},[e._v("添加公司")])],1)],2)]:[a("p",[e._v("审批状态为【通过】，请点击确定继续。")])],a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{on:{click:function(t){return e.hideModal()}}},[e._v("取消")]),a("Button",{attrs:{loading:e.fetchApproveProject.isPending,type:"success"},on:{click:e.Submit}},[e._v("确定通过")])],1)]:[a("p",[e._v("审批状态为【不通过】，请填写审批意见：")]),a("br"),a("Form",{ref:"form2",attrs:{model:e.form2,"label-position":"left","label-width":0,"label-colon":""}},[a("FormItem",{attrs:{prop:"content",rules:{required:!0,message:"审批意见是必填项"}}},[a("Input",{attrs:{type:"textarea",placeholder:"请填写审批意见",autosize:{minRows:2,maxRows:5}},model:{value:e.form2.content,callback:function(t){e.$set(e.form2,"content",t)},expression:"form2.content"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{on:{click:function(t){return e.hideModal()}}},[e._v("取消")]),a("Button",{attrs:{loading:e.fetchApproveProject.isPending,type:"error"},on:{click:e.Submit}},[e._v("确定不通过")])],1)]],2)},Fa=[],Na=a("e3fa"),$a={props:{visible:Boolean,approve:Boolean,project:Object},data(){return{modal:this.visible,companies:[],form1:{suppliers:[]},form2:{content:""}}},computed:{companyinfo(){return this.$store.state.companyinfo}},watch:{visible(){this.modal=this.visible,this.visible&&this.approve&&1===this.project.project_type&&this.fetchCompanies()}},methods:{Submit(){if(this.approve)if(1===this.project.project_type){const e=s.a.map(this.form1.suppliers,"value");if(0===e.length)return void this.$Message.warning("审批失败，至少要选择一个公司");this.$refs.form1.validate(t=>{e.length!==s.a.compact(e).length?this.$Message.warning("审批失败，公司不能有空值"):s.a.compact(e).length!==s.a.uniq(s.a.compact(e)).length?this.$Message.warning("审批失败，公司不能有重复"):t&&this.fetchApproveProject(e)})}else this.fetchApproveProject();else this.$refs.form2.validate(e=>{e?this.fetchApproveProject():this.$Message.warning("审批失败，请填写驳回意见")})},AddSupplier(){this.form1.suppliers.push({value:""})},DeleteSupplier(e){this.form1.suppliers.splice(e,1)},hideModal(e){this.$emit("hideModal",e),this.form1.suppliers=[],this.approve||this.$refs.form2.resetFields()}},asyncMethods:{fetchCompanies(){const e={company_id:this.companyinfo.company_id};return Object(Na["n"])(e).then(e=>e)},fetchApproveProject(e){const t={project_id:this.project.project_id,is_passed:this.approve?1:0};return this.approve&&1===this.project.project_type&&(t.supplier_id_list=e),this.approve||(t.approve_comments=this.form2.content),Object(h["a"])(t).then(e=>{e?(this.$Message.success("审批完成！"),this.hideModal("refresh")):this.$Message.error("审批失败")}).catch(e=>{this.$Message.error("操作失败："+e.message)})}}},za=$a,Va=Object(_["a"])(za,La,Fa,!1,null,null,null),Ua=Va.exports,Ha=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{title:"内部标注小组列表",width:600,"mask-closable":!1},on:{"on-cancel":e.hideModal},model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[e.fetchTeams.isResolved?[a("Table",{attrs:{border:"",columns:e.columns,data:e.teams,loading:e.fetchTeams.isPending}}),a("Row",{staticClass:"mtm mbm",attrs:{type:"flex",justify:"space-between"}},[a("div"),a("Page",{attrs:{current:e.pageIndex,total:e.pageTotal,"page-size":e.pageSize,"show-total":"","show-elevator":""},on:{"on-change":e.changePage}})],1)]:a("span",[e._v("暂无数据")]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("span")])],2)},Ga=[],Wa={props:{visible:Boolean},data(){return{modal:this.visible,columns:[{title:"小组ID",key:"team_id",width:150},{title:"小组名称",key:"team_name"}],teams:[],pageIndex:1,pageSize:10,pageTotal:0}},computed:{companyinfo(){return this.$store.state.companyinfo}},watch:{visible(){this.modal=this.visible,this.visible&&this.fetchTeams()}},methods:{changePage(e){this.pageIndex=e,this.fetchTeams()},hideModal(){this.$emit("hideModal")}},asyncMethods:{fetchTeams(){const e={page:{start:(this.pageIndex-1)*this.pageSize,size:this.pageSize,return_total:1},company_id:this.companyinfo.company_id};return Object(Na["s"])(e).then(e=>(this.pageTotal=e.total,e.data)).catch(e=>{console.log(e),this.$Message.error("列表数据获取失败，请刷新页面重试")})}}},qa=Wa,Xa=Object(_["a"])(qa,Ha,Ga,!1,null,null,null),Ya=Xa.exports,Ka=a("738c"),Za={components:{Deny:o["default"],TaskOrders:M,Tasks:ye,ExternalTasks:pe,File:ia,Template:ba,Logs:Ba,Info:b,ExportManager:ja,PermissionManager:Ia["a"],Close:Pa["a"],Approve:Ua,SuppliersInside:Ya,projectStatusRender:f["a"]},mixins:[c["a"]],modals:["edit","approve","suppliersInside"],data(){return{loading:!1,tab:this.$route.query.tab?this.$route.query.tab:"info",project:void 0,suppliers:"",dataset:[],Config:l["a"],projects:[],pageIndex:1,pageSize:6,pageTotal:0,projectQuery:""}},computed:{isShowGuide(){var e,t,a,r;return(!(null!==(e=this.project)&&void 0!==e&&null!==(t=e.import_task_ids)&&void 0!==t&&t.length)||!(null!==(a=this.project)&&void 0!==a&&null!==(r=a.template_ids)&&void 0!==r&&r.length))&&this.project.project_status!==P["o"].REJECT.value&&this.project.project_status!==P["o"].CLOSED.value},userinfo(){return this.$store.state.userinfo},companyinfo(){return this.$store.state.companyinfo},isBusinessOrderModule(){var e;const{business_id:t,business_config:a}=this.project,r=t&&a&&(null===(e=JSON.parse(a))||void 0===e?void 0:e.orderModule);return!!r},tabMap(){return{info:"基本信息","task-orders":"需求管理","bid-tasks":"试标任务","formal-tasks":this.project.project_type?"正式任务":"任务列表",dataset:"题目库",template:"模板管理",export:"导出管理",logs:"日志",permission:"权限管理"}},archived(){return this.project.archive_status>0}},created(){this.fetchProject()},mounted(){this.$EventBus.$on("update-project",()=>{this.fetchProject()}),this.$EventBus.$on("route-to-dataset",e=>{this.ChangeTab("dataset"),this.$EventBus.$emit("update-file",e)}),this.$EventBus.$on("route-to-template",()=>{this.ChangeTab("template")}),this.$EventBus.$on("project-tab-change",e=>{this.tab=e})},activated(){var e;null!==(e=this.project)&&void 0!==e&&e.project_id&&(this.project.project_id!==this.$route.params.id?this.fetchProject():this.setDefaultTab())},destroyed(){this.$EventBus.$off("update-project"),this.$EventBus.$off("route-to-dataset"),this.$EventBus.$off("route-to-template")},methods:{checkDetail(){let e=1;const{template_ids:t,importTask_ids:a}=this.project;t.length&&(e=2),(null===a||void 0===a?void 0:a.length)>0&&t.length&&(e=3),this.$FastModal.show(Ka["a"],{$router:this.$router,project:this.project,step:e,message:"任务下发指引"})},ChangeTab(e){this.$route.query.tab!==e&&(this.tab=e,this.$router.replace({name:"projectDetail",query:{tab:e}}))},debounceFetchProjects:s.a.debounce((function(){this.fetchProjects()}),500),jumpToProject(e){this.$router.push({name:"projectDetail",params:{id:e}}),this.$nextTick(()=>{this.fetchProject()})},changePage(e){this.pageIndex=e,this.debounceFetchProjects()},fetchProjects(){this.loading=!0;const e=this.projectQuery.length>=18&&/^\d+$/.test(this.projectQuery),t=[{page:{start:(this.pageIndex-1)*this.pageSize+1,size:this.pageSize},return_total:1,project_name:this.projectQuery&&!e?this.projectQuery:void 0,project_id:this.projectQuery&&e?this.projectQuery:void 0}];return Object(h["j"])(t).then(e=>(this.projects=e.data,this.pageTotal=e.total,this.loading=!1,this.projects)).catch(e=>{console.log(e)})},setDefaultTab(){if("projectDetail"===this.$route.name&&!this.$route.query.tab)switch(this.project.project_status){case P["o"].PROCESSING.value:this.ChangeTab("formal-tasks");break;case P["o"].WAIT_APPROVE.value:case P["o"].REJECT.value:case P["o"].WAIT_SUPPLIER.value:this.ChangeTab(this.project.project_type?"bid-tasks":"info");break;default:this.ChangeTab("info");break}}},asyncMethods:{fetchCloseProject(){return this.$refs.close.FinishProject(this.project).then(()=>{this.fetchProject()})},fetchProject(){const e={project_id:Object(fa["BigNumber"])(this.$route.params.id)};return Object(h["i"])(e).then(e=>(this.project=e,this.suppliers=s.a.join(s.a.map(this.project.suppliers,"company_name"),", "),this.setDefaultTab(),this.project)).catch(e=>{console.log(e),this.$Message.error("查询失败："+e.message)})},fetchDataset(e){return Promise.resolve(e)}}},Ja=Za,Qa=(a("4320"),Object(_["a"])(Ja,r,i,!1,null,"fe67b1be",null));t["default"]=Qa.exports},bf25:function(e,t,a){"use strict";a("9dc4")},c030:function(e,t,a){"use strict";a("208a")},c099:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("Icon",{attrs:{type:"md-bookmark",color:"orange",size:e.sizeNum}}),a("span",{staticClass:"standardize-mark",class:"mark"+e.sizeNum},[e._v("标")])],1)},i=[],n={props:{size:[String,null]},data(){return{sizeNum:20}},mounted(){switch(this.size){case"large":this.sizeNum=24;break;default:break}}},s=n,o=(a("1534"),a("2be6")),l=Object(o["a"])(s,r,i,!1,null,"c0c38536",null);t["a"]=l.exports},c2da:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{width:"600",title:"操作日志",scrollable:!0,transfer:!1},model:{value:e.modalV,callback:function(t){e.modalV=t},expression:"modalV"}},[a("div",{staticStyle:{"max-height":"600px","overflow-y":"scroll",padding:"10px"}},[e.datasetLog&&e.datasetLog.length>0?a("Timeline",e._l(e.Logs,(function(t){return a("TimelineItem",{key:t.$index,attrs:{color:t.color}},[a("Card",[a("Time",{staticClass:"time",staticStyle:{"font-weight":"bold"},attrs:{time:t.created_at,type:"datetime"}}),a("p",{staticClass:"content"},[e._v(e._s(t.status))])],1)],1)})),1):a("p",[e._v("暂无数据")])],1),a("template",{slot:"footer"},[a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.hideModal()}}},[e._v("关闭")])],1)],2)},i=[],n={props:{project:Object,datasetLog:Array},data(){return{modalV:!1,Logs:[]}},mounted(){const e=RegExp("失败$","g");let t="";this.Logs=this.datasetLog;const a=this.Logs.length;this.modalV=!0,0!==a&&(this.Logs.forEach((e,t)=>{this.Logs[t].color="green"}),t=this.Logs[a-1].status,e.test(t)?this.Logs[a-1].color="red":"导入完成"!==t&&(this.Logs[a-1].status=t+"..."))},methods:{hideModal(){this.modalV=!1}}},s=n,o=a("2be6"),l=Object(o["a"])(s,r,i,!1,null,null,null);t["a"]=l.exports},c4df:function(e,t,a){},c606:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{title:e.readonly?"查看成员信息":"编辑成员信息",width:"700","mask-closable":!1},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("Form",{ref:"form",attrs:{model:e.formData,"label-position":"right","label-width":110}},[e._l(e.formOptions,(function(t,r){return[a("FormItem",{key:r,attrs:{label:t.label}},[e.readonly?[a("div",{staticClass:"txt-muted"},[e._v(e._s(e.formData[r]||"-"))])]:[["radio"].includes(t.type)?[a("RadioGroup",{model:{value:e.formData[r],callback:function(t){e.$set(e.formData,r,t)},expression:"formData[key]"}},e._l(t.options,(function(e){return a("Radio",{key:e,attrs:{label:e,value:e}})})),1)]:e._e(),["checkbox"].includes(t.type)?[a("CheckboxGroup",{on:{"on-change":function(t){t.includes("无")&&(e.formData[r]=["无"])}},model:{value:e.formData[r],callback:function(t){e.$set(e.formData,r,t)},expression:"formData[key]"}},e._l(t.options,(function(t){return a("Checkbox",{key:t,attrs:{label:t,value:t,disabled:e.formData[r].includes("无")&&"无"!==t}})})),1)]:e._e(),["select"].includes(t.type)?[a("t-select",{attrs:{multiple:t.multiple,filterable:"",placeholder:"请选择"+t.label,"allow-create":t.allowCreate},scopedSlots:e._u([t.multiple?{key:"panelBottomContent",fn:function(){return[a("div",{staticClass:"select-panel-footer"},["create"===t.editOrCreate?[a("t-button",{attrs:{variant:"text",block:"",theme:"primary"},on:{click:function(t){return e.onAdd(r)}}},[e._v("新增选项")])]:a("div",[a("t-input",{attrs:{autofocus:""},model:{value:t.newOption,callback:function(a){e.$set(t,"newOption",a)},expression:"val.newOption"}}),a("t-button",{staticStyle:{"margin-top":"8px"},attrs:{size:"small"},on:{click:function(t){return e.onAddConfirm(r)}}},[e._v("确认")]),a("t-button",{staticStyle:{"margin-top":"8px","margin-left":"8px"},attrs:{theme:"default",size:"small"},on:{click:function(t){return e.onAddCancel(r)}}},[e._v("取消")])],1)],2)]},proxy:!0}:null],null,!0),model:{value:e.formData[r],callback:function(t){e.$set(e.formData,r,t)},expression:"formData[key]"}},e._l(t.options,(function(e){return a("t-option",{key:e,attrs:{label:e,value:e}})})),1)]:e._e(),["input"].includes(t.type)?[t.number?[a("InputNumber",{attrs:{min:t.min,max:t.max,precision:.1,"controls-outside":"",placeholder:"范围 0-10"},model:{value:e.formData[r],callback:function(t){e.$set(e.formData,r,t)},expression:"formData[key]"}}),t.unit?a("span",{staticClass:"mlm"},[e._v(e._s(t.unit))]):e._e()]:a("Input",{attrs:{maxlength:t.maxlength,placeholder:"请填写"+t.label+"，"+t.maxlength+"字以内"},model:{value:e.formData[r],callback:function(t){e.$set(e.formData,r,t)},expression:"formData[key]"}})]:e._e()]],2)]}))],2),a("template",{slot:"footer"},[e.readonly?[a("Button",{attrs:{type:"text"},on:{click:function(t){e.visible=!1}}},[e._v("关闭")])]:[a("Button",{attrs:{type:"text"},on:{click:function(t){e.visible=!1}}},[e._v("取消")]),a("Button",{attrs:{type:"primary",loading:e.fetchModifyRoleUserProperties.isPending},on:{click:e.submit}},[e._v("确定")])]],2)],2)},i=[],n=a("a2be"),s=a("e3fa"),o={props:{user:Object,object:Object,readonly:{type:Boolean,default:!1}},data(){return{visible:!0,formData:{sex:"男",age:"21-25岁",education:"本科",profession:[],native:"",residence:"",social_work_age:"0-5年",label_work_age:0,label_experience:[],non_label_experience:"",english_level:[]},formOptions:{sex:{label:"性别",type:"radio",options:["男","女"]},age:{label:"年龄",type:"radio",options:["20岁及以下","21-25岁","26-30岁","31-35岁","36岁及以上"]},education:{label:"学历",type:"radio",options:["中专","大专","本科","硕士","博士"]},profession:{label:"专业分类",type:"select",multiple:!0,editOrCreate:"create",allowCreate:!0,newOption:"",options:["管理学","哲学","经济学","法学","教育学","文学","历史学","理学","工学","农学","医学","军事学","计算机","艺术学","语言","其他"]},native:{label:"籍贯",type:"select",allowCreate:!1,options:Object.values(n["86"])},residence:{label:"常驻地",type:"select",allowCreate:!1,options:Object.values(n["86"])},social_work_age:{label:"社会工龄",type:"radio",options:["0-5年","6-10年","10年以上"]},label_work_age:{label:"标注工龄",type:"input",number:!0,min:0,max:10,unit:"年"},label_experience:{label:"标注项目经验",type:"checkbox",options:["文本类标注经验","图片类标注经验","视频类标注经验","音频类标注经验"]},non_label_experience:{label:"非标注项目经验",type:"input",maxlength:50},english_level:{label:"英语水平",type:"checkbox",options:["无","CET-4","CET-6","专4","专8","托福","雅思"]}}}},created(){const{user:e,readonly:t,formData:a,formOptions:r}=this;if(e.extra_field&&"{}"!==e.extra_field){const i=JSON.parse(e.extra_field);t||("string"===typeof i.label_work_age&&(i.label_work_age=Number(i.label_work_age.replace(r.label_work_age.unit,""))),"string"===typeof i.profession&&(i.profession=i.profession.split(","),this.formOptions.profession.options=[...new Set([...this.formOptions.profession.options,...i.profession])]),"string"===typeof i.label_experience&&(i.label_experience=i.label_experience.split(",")),"string"===typeof i.english_level&&(i.english_level=i.english_level.split(","))),Object.assign(a,i)}else t&&Object.keys(a).forEach(e=>{a[e]=""})},methods:{onAddCancel(e){this.formOptions[e].newOption="",this.formOptions[e].editOrCreate="create"},onAddConfirm(e){this.formOptions[e].options.push(this.formOptions[e].newOption),this.formOptions[e].newOption=""},onAdd(e){this.formOptions[e].editOrCreate="edit"},submit(){const{formOptions:e}=this,t={...this.formData};return t.label_work_age=`${t.label_work_age||0}${e.label_work_age.unit}`,t.profession=t.profession.join(","),t.label_experience=t.label_experience.join(","),t.english_level=t.english_level.join(","),this.fetchModifyRoleUserProperties(t)}},asyncMethods:{fetchModifyRoleUserProperties(e){const{user:t,object:a}=this,r={user_id:t.user_id,object_type:a.object_type,object_id:a.object_id,extra_field:JSON.stringify(e)};return Object(s["v"])(r).then(()=>{this.visible=!1,this.$emit("refresh"),this.$Message.success("提交成功！")}).catch(e=>{console.log(e),this.$Message.error("提交失败："+e.message)})}}},l=o,c=a("2be6"),d=Object(c["a"])(l,r,i,!1,null,null,null);t["a"]=d.exports},c833:function(e,t,a){"use strict";a.d(t,"g",(function(){return i})),a.d(t,"o",(function(){return s})),a.d(t,"i",(function(){return o})),a.d(t,"j",(function(){return l})),a.d(t,"n",(function(){return c})),a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return d})),a.d(t,"e",(function(){return u})),a.d(t,"c",(function(){return h})),a.d(t,"l",(function(){return p})),a.d(t,"k",(function(){return f})),a.d(t,"h",(function(){return g})),a.d(t,"m",(function(){return m})),a.d(t,"f",(function(){return _})),a.d(t,"q",(function(){return v})),a.d(t,"d",(function(){return b})),a.d(t,"p",(function(){return y}));var r=a("dde5");const i=e=>Object(r["c"])("api/user","joinCompany",e),n=e=>Object(r["c"])("api/user","applyJoinCompany",e),s=e=>Object(r["c"])("api/user","registerCompany",e),o=e=>Object(r["c"])("api/user","listMyApplications",e),l=e=>Object(r["c"])("api/user","listMyCompanies",e),c=e=>Object(r["c"])("api/user","queryCompanyByInviteCode",e),d=e=>Object(r["c"])("api/user","cancelRegisterCompany",e),u=e=>Object(r["c"])("api/user","getCompany",e),h=e=>Object(r["c"])("api/user","createTeam",e),p=e=>Object(r["c"])("api/user","listMyTeams",e),f=e=>Object(r["c"])("api/user","listTeamRoster",e),m=e=>Object(r["c"])("api/user","modifyTeam",e),g=e=>Object(r["c"])("api/user","joinTeam",e),_=e=>Object(r["c"])("api/user","getTeam",e),v=e=>Object(r["c"])("api/user","updateUser",e),b=e=>Object(r["c"])("api/user","getAppInfo",e),y=e=>Object(r["c"])("api/user","sudoApp",e)},c97f:function(e,t,a){"use strict";a("3a38")},c9fb:function(e,t,a){"use strict";a("224c")},ccc0:function(e,t,a){},d06d:function(e,t,a){},d0bb:function(e,t,a){"use strict";a("9c40")},d33d:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.$route.params.id?a("auth-view",{attrs:{perm:{domain:"dataset",action:"view",extra:{company:e.userinfo.company_id,dataset:e.$route.params.id.substring(2)}}}},[a("div",{staticStyle:{position:"relative"}},[e.fetchDataset.isPending?a("Spin",{attrs:{fix:""}}):e._e(),e.dataset.dataset_code?[a("Row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[a("Breadcrumb",[a("BreadcrumbItem",[e._v("数据集管理")]),a("BreadcrumbItem",{attrs:{to:"/projects/datasets/index"}},[e._v("数据集列表")]),a("BreadcrumbItem",[e._v("数据集详情")])],1),a("div",[a("Tooltip",{attrs:{content:"编辑"}},[a("Button",{staticClass:"mlm",attrs:{type:"dashed",icon:"md-create",shape:"circle"},on:{click:function(t){return e.handleEditDataset(e.dataset,!0)}}})],1),a("Tooltip",{attrs:{content:"关闭页面"}},[a("Button",{staticClass:"mlm",attrs:{type:"dashed",icon:"md-close",shape:"circle"},on:{click:function(t){return e.$router.back(-1)}}})],1)],1)],1),a("t-divider",{attrs:{align:"left"}},[a("h3",[e._v(e._s(e.dataset.dataset_name||"数据集详情"))])]),a("div",{staticClass:"margin"},[a("div",{staticClass:"margin"},[a("Row",[a("Col",{attrs:{span:"12"}},[a("div",{staticClass:"label"},[e._v("数据集ID")]),a("span",{staticClass:"mrm"},[e._v(e._s(e.dataset.dataset_code||"-"))])]),a("Col",{attrs:{span:"12"}},[a("div",{staticClass:"label"},[e._v("创建时间")]),a("span",{staticClass:"mrm"},[e._v(e._s(e.dataset.create_time||"-"))])])],1),a("Row",[a("Col",{attrs:{span:"12"}},[a("div",{staticClass:"label"},[e._v("描述")]),a("span",{staticClass:"mrm"},[e._v(e._s(e.dataset.desc||"-"))])]),a("Col",{attrs:{span:"12"}},[a("div",{staticClass:"label"},[e._v("创建人")]),a("span",{staticClass:"mrm"},[e._v(e._s(e.dataset.nick_name||"-"))])])],1),a("Row",[a("Col",{attrs:{span:"12"}},[a("div",{staticClass:"label"},[e._v("标签")]),a("span",{staticClass:"mrm"},[e._v(e._s(e.dataset.label||"-"))])])],1)],1),e.dataset.id?a("Tabs",{attrs:{name:"0",animated:!1},on:{"on-click":e.ChangeTab},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("TabPane",{attrs:{label:"数据包列表",name:"files",tab:"0"}},["files"===e.tab?a("Files",{ref:"files",attrs:{dataset_code:e.$route.params.id,datasetId:e.dataset.id.toString()}}):e._e()],1),a("TabPane",{attrs:{label:"数据预览",name:"preview",tab:"0"}},["preview"===e.tab?a("Preview",{ref:"preview",attrs:{dataset_code:e.$route.params.id}}):e._e()],1),a("TabPane",{directives:[{name:"permissions",rawName:"v-permissions",value:{domain:"role-user",action:"view",extra:{objectType:"dataset",objectId:e.dataset.id.toString()}},expression:"{domain: 'role-user', action: 'view', extra: {objectType: 'dataset', objectId: dataset.id.toString()}}"}],attrs:{label:"权限管理",name:"permission",tab:"0"}},["permission"===e.tab?a("PermissionManager",{ref:"permission",attrs:{objType:"dataset",objId:e.dataset.id.toString(),obj:e.dataset}}):e._e()],1),a("TabPane",{attrs:{label:"日志",name:"logs",tab:"0"}},["logs"===e.tab?a("Logs",{ref:"logs",attrs:{dataset_id:e.dataset.id.toString()}}):e._e()],1)],1):e._e()],1)]:a("Row",{staticStyle:{margin:"20px 0"}},[a("Col",{attrs:{span:"24"}},[a("div",{staticClass:"txt-muted",staticStyle:{"text-align":"center"},attrs:{"dis-hover":""}},[e._v("暂无数据")])])],1)],2),a("Row",{staticStyle:{margin:"20px 0"},attrs:{slot:"forbidden"},slot:"forbidden"},[a("Col",{attrs:{span:"24"}},[a("div",{staticClass:"txt-muted",staticStyle:{"text-align":"center"},attrs:{"dis-hover":""}},[e._v("暂无权限查看该数据集")])])],1)],1):e._e()],1)},i=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",{staticClass:"mbm padding"},[a("Button",{staticClass:"mrm",attrs:{type:"primary",icon:"md-add"},on:{click:e.handleCreateDataset}},[e._v("上传文件")]),a("Button",{staticClass:"mrm",attrs:{icon:"md-refresh"},on:{click:e.fetchDatasetTasks}},[e._v("刷新")])],1),a("Table",{attrs:{border:"",columns:e.columns,data:e.datasetTasks,loading:e.fetchDatasetTasks.isPending},scopedSlots:e._u([{key:"src_file_name",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.src_file_name||"-"))])]}},{key:"success_rows",fn:function(t){var r=t.row;return[r.total>r.success_rows?[a("Tooltip",{attrs:{placement:"left",transfer:""}},[a("Icon",{staticClass:"txt-muted mrs",attrs:{type:"ios-alert-outline"}}),a("div",{staticStyle:{"white-space":"normal"},attrs:{slot:"content"},slot:"content"},[e._v(e._s("总数"+r.total+"条，成功导入"+r.success_rows+"条，剩余"+(r.total-r.success_rows)+"条存在错误"))])],1)]:e._e(),a("span",[e._v(e._s(e.$FormatNumber(r.success_rows)||0))])]}},{key:"status",fn:function(t){var r=t.row;return["string"!==typeof r.status?a("file-status-render",{attrs:{value:r.status}}):[e.fetchDatasetTasks.isResolved?a("Progress",{attrs:{percent:Math.round(r.process.current_step/r.process.total_step*100*100)/100,status:e.getDatasetStatus("失败",r.status)?"wrong":"normal"}},[e.getDatasetStatus("失败",r.status)?a("span",[e._v(e._s(Math.round(r.process.current_step/r.process.total_step*100*100)/100)+"%")]):e._e()]):e._e(),a("p",{staticClass:"font-12"},[a("span",[e._v("当前步骤：")]),e.uploadQueue[r.dataset_import_id]&&"上传中"===r.status?[a("upload-status-render",{attrs:{uploadInfo:e.uploadQueue[r.dataset_import_id],fileSize:r.file_size}})]:a("span",[e._v(e._s(r.status)+"("+e._s(r.process.finish_count/r.process.total*100||0)+"%)")]),a("Tooltip",{attrs:{placement:"bottom-start",transfer:!0,"max-width":"210",theme:"light"},on:{"on-popper-show":function(t){return e.fetchDatasetLogs(r,!0)}}},[a("a",{staticStyle:{margin:"0px 3px"},on:{click:function(t){return e.fetchDatasetLogs(r)}}},[a("Icon",{attrs:{type:"ios-alert-outline"}})],1),a("div",{attrs:{slot:"content"},slot:"content"},[e.fetchDatasetLogs.isPending?a("Spin",{attrs:{fix:""}}):e._e(),e.datasetLog.length>0?[e._l(e.datasetLog,(function(t,r){return a("p",{key:r,staticClass:"font-12"},[e._v(e._s(r)+"."+e._s(t.status)+" - "+e._s(t.created_at))])})),e.getDatasetStatus("失败",r.status)?a("p",{staticClass:"font-12",staticStyle:{color:"red"}},[e._v("错误信息："+e._s(r.err_info))]):e._e()]:a("p",{staticClass:"font-12"},[e._v("没有获取到详细的导入信息")])],2)])],2)]]}},{key:"action",fn:function(t){var r=t.row;return[e.getDatasetStatus("失败",r.status)?[a("Poptip",{attrs:{"word-wrap":"",transfer:""},on:{"on-popper-show":function(t){return e.fetchStatTotal(r)}}},[a("div",{staticStyle:{padding:"10px 15px"},attrs:{slot:"content"},slot:"content"},[e.fetchStatTotal.isPending?a("Spin",{attrs:{fix:""}}):e._e(),a("b",{staticClass:"mbm"},[e._v("错误明细")]),a("p",{staticClass:"mbm"},[a("span",[e._v("成功导入"+e._s(e.statTotal.success_rows)+"条数据，")]),a("span",[e._v("失败"+e._s(e.statTotal.err_rows)+"条。")])]),a("Button",{staticClass:"mrm",attrs:{type:"primary",shape:"circle",loading:e.fetchExportErrorDetails.isPending},on:{click:function(t){return e.fetchExportErrorDetails(r)}}},[e._v("下载失败记录")]),a("Button",{attrs:{shape:"circle",loading:e.fetchEffectiveSuccessData.isPending},on:{click:function(t){return e.fetchEffectiveSuccessData(r)}}},[e._v("仅导入成功数据")])],1),a("a",[e._v("错误明细")])]),a("Divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(t){return e.fetchRetryDatasetTask(r)}}},[e._v("重试")])]:e._e(),e.uploadQueue[r.dataset_import_id]?[["waiting","checking","uploading"].includes(e.uploadQueue[r.dataset_import_id].state)?[a("a",{on:{click:function(t){e.uploadQueue[r.dataset_import_id].cos.pauseTask(e.uploadQueue[r.dataset_import_id].id)}}},[e._v("暂停上传")]),a("Divider",{attrs:{type:"vertical"}})]:e._e(),["paused","unCompleted"].includes(e.uploadQueue[r.dataset_import_id].state)?[a("a",{on:{click:function(t){return e.restartTask(r.dataset_import_id)}}},[e._v("继续上传")]),a("Divider",{attrs:{type:"vertical"}})]:e._e(),["notStart","error"].includes(e.uploadQueue[r.dataset_import_id].state)?[a("a",{on:{click:function(t){return e.restartTask(r.dataset_import_id)}}},[e._v("重试")]),a("Divider",{attrs:{type:"vertical"}})]:e._e(),"queue-error"===e.uploadQueue[r.dataset_import_id].state?[a("a",{on:{click:function(t){return e.retryQueue(r.dataset_import_id)}}},[e._v("重试")]),a("Divider",{attrs:{type:"vertical"}})]:e._e()]:e._e(),e.getDatasetStatus("完成",r.status)?[a("a",{on:{click:function(t){return e.handleDownloadDetail(r)}}},[e._v("导出")])]:e._e(),a("auth-view",{attrs:{perm:{domain:"dataset",action:"delete",extra:{dataset:e.datasetId}}}},[e.getDatasetStatus("完成",r.status)?a("Divider",{attrs:{type:"vertical"}}):e._e(),a("a",{on:{click:function(t){return e.handleDeleteDatasetTask(r)}}},[e._v("删除")])],1)]}}])}),a("Page",{staticClass:"right mtm",attrs:{current:e.page.index,total:e.page.total,"page-size":e.page.size,"show-total":"","show-elevator":""},on:{"on-change":e.ChangePage}})],1)},s=[],o=(a("28eb"),a("9ec3")),l=a("9ce4"),c=a("1cdb"),d=a("e209"),u=a("175d"),h=a("c2da"),p=a("2c88"),f=a("f558"),m=a("c54b"),g=a("957d"),_=a("db98"),v=a("af27"),b=a("30ac"),y={components:{fileStatusRender:g["a"],uploadStatusRender:_["a"]},props:{dataset_code:String,datasetId:String},data(){return{columns:[{title:"数据包ID",key:"dataset_import_id",width:200},{title:"数据包名称",slot:"src_file_name"},{title:"数据包状态",slot:"status",width:250},{title:"总题数",slot:"success_rows",align:"right"},{title:"上传时间",key:"create_time"},{title:"上传者",key:"creator"},{title:"操作",slot:"action",minWidth:100}],datasetTasks:[],page:{index:1,size:10,total:0},datasetLog:[],statTotal:""}},computed:{...Object(l["c"])({uploadQueue:"uploadQueue"}),uploadingCount(){const e=Object.keys(this.uploadQueue).reduce((e,t)=>{const{state:a}=this.uploadQueue[t];return"uploading"===a?e+1:e},0);return e}},watch:{uploadingCount(e,t){e<t&&setTimeout(()=>{this.fetchDatasetTasks()},1e3)}},mounted(){this.fetchDatasetTasks()},methods:{...Object(l["b"])({setUploadQueue:"setUploadQueue"}),ChangePage(e){this.page.index=e,this.fetchDatasetTasks()},handleCreateDataset(){var e,t,a;const r=this;r.$FastModal.show(c["a"],{dataset_code:this.dataset_code,dataset_import_id:null!==(e=null===(t=this.datasetTasks)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.dataset_import_id)&&void 0!==e?e:"",accept:".tar"},{StartUploadFile(e,t){console.log(e),t&&r.handleUploadingDatasetFile(e,t),r.fetchDatasetTasks()}})},handleUploadingDatasetFile(e,t){const a=this;this.fetchDatasetLastestTask(e.dataset_code).then(e=>{let r={};Object(o["forEach"])(t,t=>{const i=Object(o["find"])(e,{src_file_name:t.name,file_size:t.size,status:"上传中"});i&&(r={id:i.dataset_import_id,type:"datasets",Bucket:i.bucket,Region:i.region,Key:`${i.prefix}/${i.dataset_import_id}/${i.src_file_name}`,file:t,handleTaskReady(){a.$emit("handleTaskReady")}},Object(m["c"])(r))})})},handleDownloadDetail(e){const t={dataset_code:e.dataset_code,dataset_import_id:e.dataset_import_id.toString()};this.$FastModal.show(d["a"],{file:e,fileType:"dataset",jqueryPre:t},{})},dealParams(e){const t={dataset_code:this.dataset_code};return e.length?(t.dataset_import_ids=[],e.forEach(e=>{t.dataset_import_ids.push(e.dataset_import_id)})):(t.dataset_import_ids=[],t.dataset_import_ids.push(e.dataset_import_id)),t},handleDeleteDatasetTask(e){this.$FastModal.show(v["a"],{dataserObj:e,type:"dataPack"},{refresh:()=>{this.fetchDatasetTasks()}})},checkUploadList(e){e.forEach(e=>{const{bucket:t,region:a,dataset_import_id:r,prefix:i,src_file_name:n,status:s}=e;if(!this.uploadQueue[r]&&"上传中"===s){const e={id:r,Bucket:t,Region:a,Prefix:`${i}/${r}/${n}`};Object(m["b"])(e)}})},getDatasetStatus(e,t){return"string"===typeof t&&RegExp(e,"g").test(t)},restartTask(e){if(this.uploadQueue[e].cos)this.uploadQueue[e].cos.restartTask(this.uploadQueue[e].id);else{const[t]=this.datasetTasks.filter(t=>String(t.dataset_import_id)===String(e)),{bucket:a,region:r,prefix:i,src_file_name:n,file_size:s}=t;Object(m["a"])({id:e,type:"datasets",bucket:a,region:r,prefix:i,fileName:n,fileSize:s})}},retryQueue(e){this.setUploadQueue({id:e,data:{state:"queuing"}}),Object(f["b"])({dataset_import_id:e}).then(()=>{this.setUploadQueue({id:e,data:{state:"queue-end"}})}).catch(t=>{this.$Message.error(t.message),this.setUploadQueue({id:e,data:{state:"queue-error"}})})}},asyncMethods:{fetchDatasetTasks(){const e={dataset_code:this.dataset_code,page:{start:(this.page.index-1)*this.page.size,size:this.page.size,return_total:1}};return p["n"](e).then(e=>(this.page.total=e.total,this.checkUploadList(e.data),e.data)).catch(e=>{console.log(e),this.$Message.error("列表数据获取失败，请刷新重试")})},fetchDatasetLastestTask(e){const t={dataset_code:e};return p["n"](t).then(e=>{const t=Object(o["filter"])(e.data,{status:"上传中"});return t})},fetchDatasetLogs(e,t){this.datasetLog=[];const a={dataset_import_id:e.dataset_import_id};return p["o"](a).then(e=>{if(this.datasetLog=e,!t)return this.$FastModal.show(h["a"],{datasetLog:this.datasetLog}),this.datasetLog}).catch(e=>{console.log(e)})},fetchDeleteFiles(e){return p["h"](e).then(t=>{if(t){const{dataset_import_ids:t}=e;t.forEach(e=>{if(this.uploadQueue[e]){const{state:t,cos:a,id:r}=this.uploadQueue[e];a&&"success"!==t&&a.cancelTask(r),this.setUploadQueue({id:e,data:null})}}),this.cencle(),this.fetchFileDatas(),this.$Message.success("删除成功"),this.$EventBus.$emit("template-update-file")}}).catch(e=>{this.$Message.error("删除失败："+e.message)})},fetchRetryDatasetTask(e){const t={dataset_import_id:e.dataset_import_id};return Object(b["g"])(t).then(e=>{console.log(e),this.fetchDatasetTasks(),this.$Message.success("正在尝试重新上传")}).catch(e=>{console.log(e)})},fetchEffectiveSuccessData(e){const t={dataset_import_id:e.dataset_import_id};return Object(b["a"])(t).then(()=>{this.$Message.success("已导入成功数据"),this.fetchDatasetTasks()}).catch(e=>{this.$Message.error("仅导入成功数据失败："+e.message)})},fetchExportErrorDetails(e){return Object(u["i"])("import_task_id="+e.dataset_import_id)},fetchStatTotal(e){const t={dataset_import_id:e.dataset_import_id};return p["s"](t).then(e=>(console.log(e),e)).catch(e=>{console.log(e)})}}},k=y,x=(a("4f9a"),a("2be6")),w=Object(x["a"])(k,n,s,!1,null,"4195d6ee",null),S=w.exports,C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",{staticStyle:{margin:"20px 10px"},attrs:{type:"flex",justify:"space-between"}},[a("p",[e._v("(共 "+e._s(this.page.total)+" 条数据，仅显示前 "+e._s(this.page.total<10?this.page.total:10)+" 条)")]),a("a",{on:{click:e.fetchExportDatasetDetails}},[e._v("导出")])]),a("Table",{attrs:{border:"",columns:e.columns,data:e.datasetData,loading:e.fetchDatasetData.isPending}})],1)},O=[],T={props:{dataset_code:String},data(){return{columns:[],datasetData:[],page:{index:0,size:10,total:0}}},mounted(){this.fetchDatasetData()},asyncMethods:{fetchDatasetData(){const e={dataset_code:this.dataset_code,page:{start:this.page.index*this.page.size,size:this.page.size,return_total:1}};return Object(p["k"])(e).then(e=>{this.page.total=e.total,Object(o["map"])(e.header,(e,t)=>{this.columns.push({title:e,key:"key"+t,render:(e,a)=>e("div",{style:{maxHeight:"150px",overflowY:"auto",paddingRight:"10px"}},a.row["key"+t])})});const t=[];return Object(o["map"])(e.data,(e,a)=>{t.push({}),Object(o["map"])(e,(e,r)=>{t[a]["key"+r]=e})}),t}).catch(e=>{console.log(e),this.$Message.error("列表数据获取失败，请刷新重试")})},fetchExportDatasetDetails(){return Object(u["g"])({dataset_code:this.dataset_code})}}},j=T,I=Object(x["a"])(j,C,O,!1,null,null,null),A=I.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"margin",staticStyle:{position:"relative"}},[e.fetchLogs.isPending?a("Spin",{attrs:{fix:""}}):e._e(),e.fetchLogs.isResolved&&e.dataset_id?[e.logs&&e.logs.length>0?a("Timeline",e._l(e.logs,(function(t,r){return a("TimelineItem",{key:r,attrs:{color:t.color}},[0===r?a("Icon",{attrs:{slot:"dot",type:"md-disc",size:"20"},slot:"dot"}):e._e(),a("Card",[a("b",[e._v(e._s(t.flow_handle_at||"-"))]),a("div",{staticClass:"content"},[a("span",[e._v(e._s(t.nick_name||"系统自动处理")+"："+e._s(e.flowAction(t.flow_action)))]),"REJECT"===t.flow_action?a("span",{staticClass:"txt-red"},[e._v("（审批意见："+e._s(t.flow_remark||"-")+"）")]):e._e()])])],1)})),1):a("p",[e._v("暂无数据")])]:e._e()],2)},M=[],E=a("26b3"),R=a("312d"),B={props:{dataset_id:String},data(){return{logs:[]}},computed:{flowAction(){return function(e){let t="";return Object(o["forIn"])(R["e"],(a,r)=>{if(e===r)return t=a.text,!1}),t}}},mounted(){this.fetchLogs()},asyncMethods:{fetchLogs(){const e={task_id:0,flow_code_list:[this.dataset_id],page:{start:0,size:100}};return Object(E["a"])(e).then(e=>e.data).catch(e=>{console.log(e),this.$Message.error("获取日志失败："+e.message)})}}},P=B,L=(a("67d6"),Object(x["a"])(P,D,M,!1,null,"e810d640",null)),F=L.exports,N=a("b2b7"),$=a("03c6"),z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{width:600,"mask-closable":!1,"footer-hide":""},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("div",{staticClass:"margin flex-middle"},[a("div",{staticClass:"icon flex-middle blue"},[a("Icon",{attrs:{type:"md-build",color:"white",size:30}})],1),a("h3",{staticClass:"mtm"},[e._v("数据集加工")]),a("Divider"),a("Form",{ref:"form",staticStyle:{width:"350px"},attrs:{model:e.form,"label-width":120,"label-position":"right","label-colon":""}},[a("FormItem",{attrs:{label:"加工任务名称",prop:"handle_name",rules:{required:!0,message:"不能为空"}}},[a("Input",{staticClass:"width",attrs:{placeholder:"请输入数据集名称"},model:{value:e.form.handle_name,callback:function(t){e.$set(e.form,"handle_name",t)},expression:"form.handle_name"}})],1),a("FormItem",{attrs:{label:"输入数据集"}},[a("div",{staticClass:"mls"},[e._v(e._s(e.dataset.dataset_name))])]),a("FormItem",{attrs:{label:"加工任务",prop:"handle_type",rules:{required:!0,message:"不能为空"}}},[a("Select",{model:{value:e.form.handle_type,callback:function(t){e.$set(e.form,"handle_type",t)},expression:"form.handle_type"}},[a("Option",{attrs:{value:1}},[e._v("按文件路径合并")]),a("Option",{attrs:{value:2,disabled:""}},[e._v("音频分离-双声道")]),a("Option",{attrs:{value:3,disabled:""}},[e._v("AI辅助标注-OCR")])],1)],1)],1),a("br"),a("Row",{attrs:{type:"flex",justify:"space-between"}},[a("div"),a("div",{staticClass:"right"},[a("Button",{attrs:{type:"primary",loading:e.fetchCreateHandleTask.isPending},on:{click:e.handleCreateHandleTask}},[e._v("运行")])],1)])],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("span")])])},V=[],U={props:{dataset:Object},data(){return{visible:!0,form:{handle_name:"",handle_type:0},index:1}},mounted(){this.fetchDatasetHandleTask().then(e=>{this.form.handle_name=`${this.dataset.dataset_name}-加工${e+1}`})},methods:{handleCreateHandleTask(){this.$refs.form.validate(e=>{e?this.fetchCreateHandleTask():this.$Message.error("提交失败，请检查是否有遗漏")})}},asyncMethods:{fetchDatasetHandleTask(){const e={handle_task_name:this.dataset.dataset_name,page:{start:0,size:0,return_total:1}};return Object(p["l"])(e).then(e=>e.total).catch(e=>{console.log(e),this.$Message.error("获取数据失败："+e.message)})},fetchCreateHandleTask(){const e={handle_task_name:this.form.handle_name,dataset_code:this.dataset.dataset_code,type:Number(this.form.handle_type)};return Object(p["f"])(e).then(e=>{console.log(e),this.visible=!1,this.$EventBus.$emit("update-handle-tasks"),setTimeout(()=>{this.$Message.success("已创建加工任务！"),this.$emit("routeToHandle")},500)}).catch(e=>{console.log(e),this.$Message.error("创建加工任务失败："+e.message)})}}},H=U,G=(a("5cf5"),Object(x["a"])(H,z,V,!1,null,"4878f054",null)),W=G.exports,q=a("db49"),X={components:{Files:S,Preview:A,Logs:F,PermissionManager:N["a"]},data(){return{Config:q["a"],userinfo:this.$store.state.userinfo.user,tab:this.$route.query.tab?this.$route.query.tab:"files",dataset_code:this.$route.params.id,dataset:{}}},created(){this.dataset_code?this.fetchDataset():this.$Message.error("获取数据集详情失败")},mounted(){this.$EventBus.$on("update-dataset",()=>{this.fetchDataset()})},activated(){this.dataset_code!==this.$route.params.id&&(this.dataset_code=this.$route.params.id,this.tab="files",this.fetchDataset(),this.$refs.files&&this.$refs.files.fetchDatasetTasks())},methods:{ChangeTab(e){this.$route.query.tab!==e&&(this.tab=e,this.$router.replace({query:{tab:e}}))},handleEditDataset(e,t=!0){const a=this;a.$FastModal.show($["a"],{dataset:e,isEdit:t},{refresh(){a.fetchDataset()}})},handleHandleDataset(e){const t=this;t.$FastModal.show(W,{dataset:e},{refresh(){t.fetchDataset()},routeToHandle(){t.$router.push({path:"/projects/handle/index"})}})}},asyncMethods:{fetchDataset(){const e={dataset_code:this.$route.params.id,page:{start:0,size:1,return_total:0}};return Object(p["j"])(e).then(e=>e.data[0]||{}).catch(e=>this.$Message.error("获取数据集详情失败："+e))}},destroy(){this.$EventBus.$off("update-dataset")}},Y=X,K=(a("b17b"),Object(x["a"])(Y,r,i,!1,null,"f972e2b6",null));t["default"]=K.exports},d4a1:function(e,t,a){},d71f:function(e,t,a){"use strict";a("0f6b")},d7b9:function(e,t,a){},d904:function(e,t,a){"use strict";a("7961")},da28:function(e,t,a){},db00:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-attendance"},[a("Row",{staticClass:"mbb"},[a("Col",{attrs:{span:"7"}},[a("span",[e._v("日期：")]),a("DatePicker",{attrs:{type:"date",clearable:"",placeholder:"请选择日期"},model:{value:e.queryDate,callback:function(t){e.queryDate=t},expression:"queryDate"}})],1),e.myBusiness?a("Col",{attrs:{span:"7"}},[a("span",[e._v("关联业务：")]),a("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择对应业务"},model:{value:e.businessId,callback:function(t){e.businessId=t},expression:"businessId"}},e._l(e.myBusiness,(function(t){return a("Option",{key:t.business_id,attrs:{value:t.business_id}},[e._v(e._s(t.business_name))])})),1)],1):e._e()],1),a("Alert",{staticClass:"mbb",attrs:{"show-icon":""}},[e._v("考勤数据每日24时系统自动提交")]),a("Table",{staticClass:"mbb",attrs:{data:e.tableData,columns:e.columns,loading:e.fetchMyAttendanceReport.isPending},scopedSlots:e._u([{key:"date_type",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(e.dateTypeOptions[r.date_type]))])]}},{key:"production_hour",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(e.formatHour(r.production_hour)))])]}},{key:"overtime_hour",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(e.formatHour(r.overtime_hour)))])]}},{key:"non_production_hour",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(e.formatHour(r.non_production_hour)))])]}},{key:"meeting_hour",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(e.formatHour(r.meeting_hour)))])]}},{key:"training_hour",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(e.formatHour(r.training_hour)))])]}},{key:"other_hour",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(e.formatHour(r.other_hour)))])]}},{key:"memo",fn:function(t){var r=t.row,i=t.index;return[e.editMemo.index===i?[a("Input",{attrs:{placeholder:"请填写备注"},model:{value:e.editMemo.value,callback:function(t){e.$set(e.editMemo,"value",t)},expression:"editMemo.value"}}),a("Icon",{staticClass:"pointer mls",attrs:{type:"md-checkmark",color:"#19be6b"},on:{click:function(t){return e.fetchUpsertAttendanceMemo(r)}}}),a("Icon",{staticClass:"pointer mls",attrs:{type:"md-close",color:"#ed4014"},on:{click:function(t){return e.onEditMemo()}}})]:[a("span",[e._v(e._s(r.memo||"-"))]),e.currentDate!==r.statistics_time||r.has_committed?e._e():[a("Icon",{staticClass:"pointer mls",attrs:{type:"ios-create-outline"},on:{click:function(t){return e.onEditMemo(i)}}})]]]}},{key:"status",fn:function(t){var r=t.row;return[e.currentDate!==r.statistics_time||r.has_committed?a("Tag",{attrs:{color:"green"}},[e._v("已提交")]):a("Tag",{attrs:{color:"geekblue"}},[e._v("待系统提交")])]}},{key:"action",fn:function(t){var r=t.row;return[a("a",{on:{click:function(t){return e.showReportDetail(r)}}},[e._v("查看明细")])]}}])}),a("Row",{attrs:{type:"flex",justify:"end"}},[a("Page",{attrs:{current:e.page.index,total:e.page.total,"page-size":e.page.size},on:{"on-change":e.changePage}})],1),a("ReportDetail",{ref:"reportDetail",attrs:{report:e.currentReport,businessId:e.businessId,perspective:"user",scene:"production"}})],1)},i=[],n=a("c206"),s=a.n(n),o=a("e3b4"),l=a("74eb"),c=a("189e"),d={components:{ReportDetail:o["a"]},data(){const e=(e,{column:t})=>e("Row",{props:{justify:"end",align:"middle"}},[e("span",t.title),e("Tooltip",{props:{content:t.desc,transfer:!0,placement:"top",maxWidth:"300"}},[e("Icon",{props:{type:"ios-help-circle-outline"},style:{marginLeft:"3px"}})])]),t={production_hour:{title:"生产工时(h)",desc:"生产工时(h)=首次标注工时(h)+返修工时(h)+首次质检工时(h)+复检工时(h)"},non_production_hour:{title:"非生产工时(h)",desc:"非生产工时(h)=会议工时(h)+培训工时(h)"}};return{businessId:"",currentDate:s()().format("YYYY-MM-DD"),queryDate:"",tableData:[],columns:[{key:"statistics_time",title:"日期",minWidth:110},{slot:"date_type",title:"节日类型",minWidth:95},{slot:"production_hour",...t.production_hour,renderHeader:e,width:130,align:"center"},{slot:"overtime_hour",title:"加班工时(h)",width:110,align:"center"},{slot:"non_production_hour",...t.non_production_hour,renderHeader:e,width:140,align:"center"},{slot:"meeting_hour",title:"会议工时(h)",width:110,align:"center"},{slot:"training_hour",title:"培训工时(h)",width:110,align:"center"},{slot:"status",title:"状态",minWidth:120,align:"center"},{slot:"action",title:"操作",minWidth:120,fixed:"right"}],page:{index:1,size:10,total:30},dateTypeOptions:{weekday:"工作日",weekend:"周末",holiday:"节假日"},currentReport:{},editMemo:{index:-1,value:""}}},watch:{queryDate(){this.changePage(1)},businessId(){this.changePage(1)}},async mounted(){const e=await this.fetchMyBusiness();e&&e.length&&(this.businessId=e[0].business_id)},methods:{formatHour(e){return e?e.toFixed(4):"0"},changePage(e){this.page.index=e,this.fetchMyAttendanceReport()},reset(){this.queryDate="",this.changePage(1)},showReportDetail(e){this.currentReport={...e,status:e.has_committed},this.$refs.reportDetail.open()},onEditMemo(e=-1){this.editMemo.index=e,this.editMemo.value=-1!==e?this.tableData[e].memo:""}},asyncMethods:{fetchMyAttendanceReport(){const{businessId:e,currentDate:t,queryDate:a,page:r}=this,i=(e,t)=>s()(e).subtract(t,"days").format("YYYY-MM-DD"),n={business_id:e,start_time:i(t,r.index*r.size-1),end_time:i(t,(r.index-1)*r.size)};return a&&(n.start_time=i(a,0),n.end_time=i(a,0)),console.log(n),Object(l["r"])(n).then(e=>{this.tableData=e})},fetchUpsertAttendanceMemo(e){const{businessId:t,editMemo:a}=this,r={business_id:t,statistics_time:e.statistics_time,memo:a.value};return Object(l["E"])(r).then(()=>{this.onEditMemo(-1),this.fetchMyAttendanceReport()}).catch(e=>{console.log(e),this.$Message.error("提交失败："+e.message)})},fetchMyBusiness(){const e={};return Object(c["e"])(e).then(e=>e.map(e=>({...e,business_id:e.business_id.toString()})))}}},u=d,h=(a("52cd"),a("2be6")),p=Object(h["a"])(u,r,i,!1,null,"2418fcae",null);t["default"]=p.exports},db67:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"create_formal"},[e.fetchFormalTask.isPending?a("Spin",{attrs:{fix:""}}):e._e(),a("Row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[a("Breadcrumb",[a("BreadcrumbItem",{attrs:{to:{path:"/projects/list/"+e.$route.params.id+"?tab=formal-tasks"}}},[e._v(" "+e._s(e.project.project_type?"正式任务":"任务列表"))]),e.isAdd?a("BreadcrumbItem",[e._v("新建正式任务")]):[0!==e.taskStatus?a("BreadcrumbItem",[e._v("编辑正式任务")]):a("BreadcrumbItem",[e._v("下发正式任务")])]],2)],1),a("t-divider",{attrs:{align:"left"}},[e.isAdd?a("h3",[e._v("创建正式任务")]):[0!==e.taskStatus?a("h3",[e._v("编辑正式任务")]):a("h3",[e._v("下发正式任务")])]],2),a("div",{staticClass:"margin"},[a("Form",{ref:"formBasic",attrs:{model:e.form,"label-position":"top",inline:""}},[a("Row",[a("Col",{attrs:{span:12}},[a("div",{staticClass:"label"},[e._v("项目名称")]),a("span",{staticClass:"mrm"},[e._v(e._s(e.project.project_name))])]),a("Col",{attrs:{span:12}},[a("div",{staticClass:"label"},[e._v("项目交付时间")]),a("span",[e._v(e._s(e.project.project_expect_date||"-"))])]),a("Col",{attrs:{span:12}},[a("div",{staticClass:"label"},[e._v("项目类型")]),a("span",{staticClass:"mrm"},[e._v(e._s(1===e.project.project_type?"外部标注项目":"内部标注项目"))])]),a("Col",{attrs:{span:12}},[a("div",{staticClass:"label"},[e._v("项目说明")]),a("span",[e._v(e._s(e.project.project_desc||"-"))])])],1),a("br"),a("br"),e.menuRender.order?[a("h4",[e._v(e._s(e.menuRender.order))]),a("Divider"),a("Row",{attrs:{gutter:50}},[a("Col",{attrs:{span:"11"}},[a("FormItem",{attrs:{label:"任务是否结算",required:!0,prop:"need_settle"}},[a("RadioGroup",{model:{value:e.form.need_settle,callback:function(t){e.$set(e.form,"need_settle",t)},expression:"form.need_settle"}},[a("Radio",{attrs:{label:1}},[e._v("结算")]),a("Radio",{attrs:{label:0}},[e._v("不结算")])],1)],1)],1),a("Col",{attrs:{span:"11"}},[e.isNeedSettle?a("FormItem",{attrs:{label:"无效数据是否结算",rules:{required:!0,message:"无效数据是否结算是必选项"},prop:"include_invalid"}},[a("RadioGroup",{model:{value:e.form.include_invalid,callback:function(t){e.$set(e.form,"include_invalid",t)},expression:"form.include_invalid"}},[a("Radio",{attrs:{label:1}},[e._v("结算")]),a("Radio",{attrs:{label:0}},[e._v("不结算")])],1)],1):e._e()],1)],1),a("Row",{attrs:{gutter:50}},[a("Col",{attrs:{span:"11"}},[a("FormItem",{staticStyle:{width:"100%"},attrs:{label:"关联需求",prop:"isOrder",rules:{required:e.isNeedSettle,message:"关联需求是必选项"}}},[a("Row",{staticStyle:{width:"100%"},attrs:{align:"bottom"}},[e.businessKey?[a("Col",{staticClass:"settleStyle",attrs:{span:"16"}},[a("FormItem",{staticClass:"mrm",attrs:{prop:"order_id",rules:{required:e.isNeedSettle,message:"关联需求是必选项",trigger:"change"}}},[a("Dropdown",{attrs:{trigger:"click",placement:"bottom-start"},on:{"on-click":e.handleDropItemClick},scopedSlots:e._u([{key:"list",fn:function(){return[e.orders&&e.orders.length?[a("DropdownMenu",{staticClass:"select-width select-height"},e._l(e.orders,(function(t,r){return a("DropdownItem",{key:t.order_id,attrs:{name:r}},[a("p",{domProps:{innerHTML:e._s(e.highlightFirstMatch(t.order_name,e.form.order_name))}})])})),1)]:[a("DropdownItem",{staticClass:"select-width select-height",attrs:{disabled:""}},[e._v("暂无匹配数据")])]]},proxy:!0}],null,!1,3280917645)},[a("Input",{staticClass:"select-pointer",attrs:{disabled:!e.isAdd&&!!e.formalTask&&!!e.formalTask.order_id,icon:e.isOpen?"ios-arrow-up":"ios-arrow-down",placeholder:"请选择"},on:{"on-focus":function(t){e.isOpen=!0},"on-blur":function(t){e.isOpen=!1},"on-change":e.debounceFetchOrders},model:{value:e.form.order_name,callback:function(t){e.$set(e.form,"order_name",t)},expression:"form.order_name"}})],1)],1),a("a",{attrs:{href:e.businessUrl,target:"_blank"}},[e._v("新建需求")])],1)]:[a("Col",[a("RadioGroup",{on:{"on-change":function(t){!t&&(e.form.order_id="")}},model:{value:e.form.isOrder,callback:function(t){e.$set(e.form,"isOrder",t)},expression:"form.isOrder"}},[a("Radio",{staticClass:"mrb",attrs:{label:0,disabled:!e.isAdd}},[e._v("不关联")]),a("Radio",{attrs:{label:1,disabled:!e.isAdd}},[e._v("关联")])],1)],1),e.form.isOrder?a("Col",[a("FormItem",{staticClass:"width mrm",attrs:{prop:"order_id",rules:{required:!0,message:"关联需求是必选项"}}},[a("Select",{attrs:{disabled:!e.isAdd},model:{value:e.form.order_id,callback:function(t){e.$set(e.form,"order_id",t)},expression:"form.order_id"}},e._l(e.orders,(function(t){return a("Option",{key:t.order_id,attrs:{value:t.order_id}},[e._v(e._s(t.order_name))])})),1)],1),e.form.isOrder&&e.form.order_id?a("router-link",{attrs:{to:"/projects/list/"+e.project.project_id+"/tasks/createTaskOrders?order_id="+e.form.order_id+"&scene=view",target:"_blank"}},[e._v("查看需求")]):e._e()],1):e._e()]],2)],1)],1),e.isBusiness&&e.businessModels&&e.businessModels.length?a("Col",{attrs:{span:"11"}},[a("FormItem",{staticClass:"width",attrs:{label:"关联模块",prop:"model_id",rules:{required:e.isNeedSettle,message:"关联模块是必填项，请切换关联需求"}}},[e.businessKey?[e.form.order_id?a("span",[e._v(e._s(e.businessModelValue?e.businessModelValue.join("-"):"-"))]):a("span",{staticClass:"txt-muted"},[e._v("选择关联需求后自动拉取")]),a("Tooltip",{staticClass:"mlm",attrs:{content:"如有疑问请咨询hxy",placement:"top"}},[a("Icon",{attrs:{type:"ios-help-circle-outline"}})],1)]:a("Cascader",{staticStyle:{width:"100%"},attrs:{filterable:"",title:e.businessModelValue?e.businessModelValue.join("-"):"",data:e.businessModels,"render-format":function(e){return e.join("-")},disabled:!!e.businessKey,placeholder:e.businessKey&&!e.form.order_id?"选择关联需求后自动拉取":"请选择"},on:{"on-change":e.onChangeBusinessModel},model:{value:e.businessModelValue,callback:function(t){e.businessModelValue=t},expression:"businessModelValue"}})],2)],1):e._e(),a("Col",{attrs:{span:"11"}},[a("FormItem",{staticClass:"width",attrs:{label:"需求首标指导KPI区间",rules:{required:e.isNeedSettle,message:"需求首标指导KPI区间是必填项，请关联需求"}}},[e.order.order_id?e.order.min_recommended_kpi||e.order.max_recommended_kpi?a("span",[e._v(e._s(e.order.min_recommended_kpi)+"～"+e._s(e.order.max_recommended_kpi)+" 条/h")]):a("span",[e._v("暂无")]):a("span",{staticClass:"txt-muted"},[e._v("选择关联需求后自动拉取")])])],1),a("Col",{attrs:{span:"11"}},[a("FormItem",{staticClass:"width",attrs:{label:"指导KPI",prop:"recommended_kpi",rules:e.recommendedKpiRules}},[a("Row",{staticStyle:{width:"100%"},attrs:{type:"flex",justify:"space-between"}},[a("InputNumber",{staticStyle:{"flex-grow":"1"},attrs:{disabled:!e.isAdd&&e.canRecommendKpiEdit,placeholder:"最多保留2位小数"},on:{"on-change":function(t){e.form.recommended_kpi=t||0===t?Math.ceil(100*t)/100:null}},model:{value:e.form.recommended_kpi,callback:function(t){e.$set(e.form,"recommended_kpi",t)},expression:"form.recommended_kpi"}}),a("span",{staticClass:"mls"},[e._v("条/h")])],1)],1)],1),a("Col",{attrs:{span:"11"}},[a("FormItem",{staticClass:"width",attrs:{label:"每人日应完成量级",prop:"kpi_magnitude",rules:e.ruleNotEmpty}},[e.form.kpi_magnitude?a("span",[e._v(e._s(e.form.kpi_magnitude))]):a("span",{staticClass:"txt-muted"},[e._v("填写指导KPI后自动计算")]),a("Tooltip",{attrs:{content:"计算公式：指导KPI*8*0.8，四舍五入保留小数点后2位",placement:"top"}},[a("Icon",{staticStyle:{"margin-left":"8px"},attrs:{type:"ios-help-circle-outline",color:"black"}})],1)],1)],1),e.isspecialInstructionsShow?a("Col",{attrs:{span:"11"}},[a("FormItem",{staticClass:"width",attrs:{label:"KPI特殊说明",prop:"kpi_explanation",rules:e.kpiExplanationRules}},[a("Input",{staticStyle:{"flex-grow":"1"},attrs:{disabled:!e.isAdd&&e.canKpiExplanationEdit},model:{value:e.form.kpi_explanation,callback:function(t){e.$set(e.form,"kpi_explanation",t)},expression:"form.kpi_explanation"}})],1)],1):e._e(),e.isNeedSettle?[a("Col",{attrs:{span:"11"}},[a("FormItem",{attrs:{label:"任务结算模式",prop:"employment_mode",rules:{required:!0,message:"填写指导KPI后自动计算"}}},[a("Row",{attrs:{align:"middle",gutter:10}},[a("Col",{attrs:{flex:"205px"}},[a("Select",{attrs:{disabled:"无"===e.form.employment_mode,filterable:"",placeholder:"请选择任务结算模式"},model:{value:e.form.employment_mode,callback:function(t){e.$set(e.form,"employment_mode",t)},expression:"form.employment_mode"}},[e._l(e.computedEmploymentModeOptions,(function(t,r){return a("Option",{key:r,attrs:{value:r}},[e._v(e._s(t))])})),"无"===e.form.employment_mode?a("Option",{attrs:{value:"无"}},[e._v("无")]):e._e()],2)],1),a("Col",{attrs:{flex:"70px"}},[a("Checkbox",{attrs:{value:"无"===e.form.employment_mode},on:{"on-change":function(t){e.form.employment_mode=t?"无":""}}},[e._v("暂无")])],1),a("Col",{staticClass:"txt-muted",attrs:{span:"24"}},["contract-hours-1"===e.form.employment_mode?a("small",[e._v("(包工时1=首次标注工时+首次质检工时+验收返修工时)")]):e._e(),"contract-hours-2"===e.form.employment_mode?a("small",[e._v("(包工时2=首次标注工时+验收返修工时)")]):e._e()])],1)],1)],1),["contract-hours-1","contract-hours-2"].includes(e.form.employment_mode)?a("Col",{attrs:{span:"11"}},[a("FormItem",{staticClass:"width",attrs:{label:"用人档位",prop:"personnel_level",rules:e.ruleNotEmpty}},[a("Select",{model:{value:e.form.personnel_level,callback:function(t){e.$set(e.form,"personnel_level",t)},expression:"form.personnel_level"}},[a("Option",{attrs:{value:"一档"}},[e._v("一档")]),a("Option",{attrs:{value:"二档"}},[e._v("二档")])],1)],1)],1):e._e(),a("Col",{attrs:{span:"11"}},[a("FormItem",{staticClass:"width",attrs:{label:"任务最新结算单价",prop:"piecework_price",rules:e.ruleNotEmpty}},[a("InputNumber",{staticStyle:{width:"100%"},attrs:{placeholder:"最多保留3位小数"},on:{"on-change":function(t){e.form.piecework_price=t||0===t?Math.ceil(1e3*t)/1e3:null}},model:{value:e.form.piecework_price,callback:function(t){e.$set(e.form,"piecework_price",t)},expression:"form.piecework_price"}})],1)],1),a("Col",{attrs:{span:"11"}},[a("FormItem",{staticClass:"width",attrs:{label:"最大首检占比",prop:"max_first_check_ratio",rules:e.ruleNotEmpty}},[a("Row",{staticStyle:{width:"100%"},attrs:{type:"flex",justify:"space-between"}},[a("InputNumber",{staticStyle:{"flex-grow":"1"},attrs:{min:0,max:100,placeholder:"限制为整数"},on:{"on-change":function(t){e.form.max_first_check_ratio=t||0===t?Math.ceil(t):null}},model:{value:e.form.max_first_check_ratio,callback:function(t){e.$set(e.form,"max_first_check_ratio",t)},expression:"form.max_first_check_ratio"}}),a("span",{staticClass:"mls"},[e._v("%")])],1)],1)],1)]:e._e()],2)]:e._e(),a("br"),a("h4",[e._v(e._s(e.menuRender.basic))]),a("Divider"),a("Row",{attrs:{gutter:50,align:"top"}},[a("Col",{attrs:{span:"11"}},[a("FormItem",{staticClass:"width",attrs:{label:"物料类型",prop:"materials_type",rules:{required:!0,message:"物料类型是必选项"}}},[a("Select",{attrs:{disabled:!!e.businessKey&&e.form.order_name,placeholder:e.businessKey&&e.form.order_name?"选择关联需求后自动拉取":"--请选择--",filterable:""},model:{value:e.form.materials_type,callback:function(t){e.$set(e.form,"materials_type",t)},expression:"form.materials_type"}},e._l(e.materials,(function(t){return a("Option",{key:t,attrs:{value:t,label:t}},[a("span",[e._v(e._s(t))])])})),1)],1)],1),a("Col",{attrs:{span:"11"}},[a("FormItem",{staticClass:"width",attrs:{label:"准确率",prop:"passed_rate",rules:{required:!0,message:"合格率是必选项"}}},[a("Row",{staticStyle:{width:"100%"},attrs:{type:"flex",justify:"space-between"}},[a("InputNumber",{staticStyle:{"flex-grow":"1"},attrs:{min:0,max:100,disabled:!!e.businessKey&&e.form.order_name,placeholder:e.businessKey&&e.form.order_name?"选择关联需求后自动拉取":"请选择"},model:{value:e.form.passed_rate,callback:function(t){e.$set(e.form,"passed_rate",t)},expression:"form.passed_rate"}}),a("span",{staticClass:"mls"},[e._v("%")])],1)],1)],1),a("Col",{attrs:{span:"11"}},[a("FormItem",{staticClass:"width",attrs:{label:"物料描述",prop:"materials_description",rules:{required:!0,message:"物料描述是必填项"}}},[a("Input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:5},placeholder:"请简要描述物料信息"},model:{value:e.form.materials_description,callback:function(t){e.$set(e.form,"materials_description",t)},expression:"form.materials_description"}})],1)],1),a("Col",{attrs:{span:"11"}},[a("FormItem",{staticClass:"width",attrs:{label:"任务交付时间",prop:"deadline_time",rules:{required:!0,message:"任务交付时间是必选项"}}},[a("DatePicker",{staticStyle:{"flex-grow":"1"},attrs:{value:e.deadlineTimeValue,type:"datetime",format:"yyyy-MM-dd HH:mm:ss",options:e.options,placeholder:e.businessKey&&!e.form.order_id?"选择关联需求后自动拉取":"请选择任务交付时间"},on:{"on-change":function(t){e.form.deadline_time=t}}})],1)],1),a("Col",{attrs:{span:"11"}},[a("FormItem",{staticStyle:{width:"100%"},attrs:{label:"规则文档",prop:"attachment"}},[e.isAdd?a("Row",{staticStyle:{width:"100%"}},[a("Col",{attrs:{span:"24"}},[a("Attachment",{ref:"attachment",attrs:{options:"",objId:e.form.rule_bucket_id||"",objType:"temporary",objScene:"rule"},on:{initTemporaryBucket:function(t){e.form.rule_bucket_id=t.toString()}}})],1)],1):e.formalTask?a("Row",{staticStyle:{width:"100%"}},[e.project.project_type?a("Col",{attrs:{span:"24"}},[a("Alert",{staticClass:"mlm mrm",attrs:{"show-icon":""}},[e._v("相关附件目前允许供应商下载，建议脱敏后上传")])],1):e._e(),a("Col",{attrs:{span:"24"}},[a("Attachment",{ref:"attachment",attrs:{options:["upload","write"],task:Object.assign({},e.formalTask,{task_type:0}),objId:e.formalTask.formal_id.toString(),objType:"formal-task",objScene:"rule"}})],1)],1):e._e()],1)],1)],1),a("br"),a("h4",[e._v(e._s(e.menuRender.template))]),a("Divider"),a("FormItem",{attrs:{label:"选择模板",required:!0}},[a("templateCascader",{directives:[{name:"show",rawName:"v-show",value:!(e.templateData&&e.templateData.template_id),expression:"!(templateData && templateData.template_id)"}],ref:"templateCascader",attrs:{project:e.project},on:{"update:template":function(t){e.templateData=t}}}),e.templateData&&e.templateData.template_id?a("span",{staticClass:"txt-muted"},[e._v("（"+e._s(e.isAdd?"编辑你所选的项目模板，下发成功后将自动生成任务模板":"编辑模板仅对当前任务生效")+"）")]):e._e(),a("router-link",{staticStyle:{"margin-left":"20px"},attrs:{to:"/projects/list/"+e.project.project_id+"?tab=template",target:"_blank"}},[e._v("(若还未配置模板，请点击此处)")])],1),e.templateData&&e.templateData.template_id?a("Table",{attrs:{border:"",columns:e.templateColumns,data:[e.templateData],loading:e.fetchTemplate.isPending},scopedSlots:e._u([{key:"template_name",fn:function(t){var r=t.row;return[r.standardized_id?a("StandardizeMark"):e._e(),a("span",[e._v(e._s(r.template_name))])]}},{key:"action",fn:function(t){var r=t.row;return[a("auth-view",{attrs:{perm:{domain:"task",action:"edit-formal-task",extra:{company:e.companyinfo.company_id,project:e.project.project_id}}}},[a("a",{on:{click:function(t){return e.editWarnHint(r)}}},[e._v("编辑")]),r.standardized_id||e.isAdd?e._e():[a("Divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(t){return e.copyNewTemplate(r)}}},[e._v("复制")])],e.isAdd?[a("Divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(t){return e.$refs.templateCascader.selectTemplate()}}},[e._v("重选模板")])]:e._e(),a("template",{slot:"forbidden"},[e.editTemplateStatus||e.isAdd?a("a",{on:{click:function(t){return e.editWarnHint(r)}}},[e._v("编辑")]):a("span",[e._v("-")])])],2)]}}],null,!1,1208922372)}):e._e(),a("br"),a("br"),1===e.project.project_type?[a("h4",[e._v(e._s(e.menuRender.security))]),a("Divider"),a("Row",[a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"作业管理模式",required:!0,prop:"security_strategy"}},[a("t-space",{attrs:{direction:"vertical",size:0}},[a("RadioGroup",{model:{value:e.form.security_strategy,callback:function(t){e.$set(e.form,"security_strategy",t)},expression:"form.security_strategy"}},[a("Radio",{attrs:{label:0,disabled:e.isRadioDisabled}},[e._v("不限制场地")]),1===e.project.security_strategy?a("Radio",{attrs:{label:1,disabled:e.isRadioDisabled}},[e._v("仅基地标注")]):e._e(),a("Radio",{attrs:{label:3,disabled:1===e.project.project_type&&3===e.project.security_strategy&&e.isRadioDisabled}},[e._v("供应商管理场地")]),a("Radio",{attrs:{label:2,disabled:e.isRadioDisabled}},[e._v("供应商场地作业管控区")])],1),0===e.form.security_strategy?a("span",{staticClass:"txt-muted marginText"},[e._v("不限定工作场地，接受兼职、线上等多种作业模式，价格较其他模式略低。")]):3===e.form.security_strategy?a("span",{staticClass:"txt-muted marginText"},[e._v("在供应商管理的工作场地内作业，服从供应商的现场管理规则。包括供应商自有场地或其下游分包商场地")]):e._e(),2===e.form.security_strategy?a("span",{staticClass:"txt-muted marginText"},[e._v("供应商自有场地，按我司数据隔离区要求进行改造并通过我司验收的；由供应商自有人员进行作业。")]):e._e()],1)],1)],1)],1)]:e._e(),a("br"),a("br"),a("h4",[e._v(e._s(e.menuRender.task))]),a("Divider"),a("t-row",{attrs:{gutter:[0,8]}},[e.project.project_type?[a("t-col",{attrs:{span:12}},[a("Checkbox",{staticClass:"mtm mbm",attrs:{disabled:!e.isLabelGroupOk},model:{value:e.form.allow_label_group,callback:function(t){e.$set(e.form,"allow_label_group",t)},expression:"form.allow_label_group"}},[a("t-tooltip",{attrs:{placement:"right"}},[a("div",{staticStyle:{"white-space":"normal"},attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.isAdd?"工序编排需要和动态任务同时配置，不能与交叉标注/一页多题/题包同时配置":"不可编辑"))]),a("b",[e._v("工序编排")])])],1),a("span",{staticClass:"mlm txt-muted"},[e._v("(可在模板中配置工序；暂时仅支持动态任务工序编排)")])],1)]:e._e(),a("t-col",{attrs:{span:12}},[a("Checkbox",{staticClass:"mtm mbm",attrs:{disabled:!e.isDynamicOk},model:{value:e.form.is_dynamic,callback:function(t){e.$set(e.form,"is_dynamic",t)},expression:"form.is_dynamic"}},[a("b",[e._v("动态任务")]),a("span",{staticClass:"mlm txt-muted"},[e._v("（开启后可通过API动态追加数据到当前任务；暂不支持和交叉标注同时配置）")])])],1),a("t-col",{attrs:{span:12}},[a("Checkbox",{staticClass:"mtm mbm",attrs:{disabled:!e.isCrossOk},model:{value:e.form.isCross,callback:function(t){e.$set(e.form,"isCross",t)},expression:"form.isCross"}},[a("b",[e._v("交叉标注")]),a("span",{staticClass:"mlm txt-muted"},[e._v("（开启后可将同一题目下发给多人标注并生成拟合结果；暂不支持和动态任务/一页多题同时配置）")])])],1),e.form.isCross?a("div",{staticClass:"mbm operationBox"},[a("t-col",{attrs:{span:12}},[a("FormItem",{staticClass:"mtm mbm",attrs:{label:"交叉人数",prop:"cross_num",rules:e.ruleValidate}},[a("InputNumber",{staticClass:"mls",attrs:{min:1,max:e.crossNumLimit,disabled:!e.isAdd},model:{value:e.form.cross_num,callback:function(t){e.$set(e.form,"cross_num",t)},expression:"form.cross_num"}}),a("span",{staticClass:"mls"},[e._v("个人同时标注一道题")])],1)],1),a("t-col",{attrs:{span:"12"}},[a("FormItem",{staticClass:"mbm",attrs:{label:"拟合规则",prop:"cross_num",rules:{required:!0}}},[a("div",{staticStyle:{"line-height":"1",padding:"10px 0"}},[a("span",{staticClass:"mts txt-muted"},[e._v("默认按众数拟合，可前往")]),a("a",{on:{click:function(t){return e.editWarnHint(e.templateData)}}},[e._v("【任务模板】")]),a("span",{staticClass:"mts txt-muted"},[e._v("中修改指定标签的拟合规则；点击蓝字可新开页面跳转对应的任务模板")])])])],1)],1):e._e(),a("Col",{attrs:{span:"24"}},[a("Checkbox",{staticClass:"mtm mbm",attrs:{disabled:!e.isAuditOk},on:{"on-change":function(t){t&&1===e.project.suppliers.length&&(e.form.audit_supplier_id=e.project.suppliers[0].company_id.toString())}},model:{value:e.form.isAudit,callback:function(t){e.$set(e.form,"isAudit",t)},expression:"form.isAudit"}},[a("b",[e._v("外部审核")])]),a("span",{staticClass:"mlm txt-muted"},[e._v("（开启后，供应商提交的标注结果会先进入审核环节，由外部供应商审核后再提交最终验收）")]),e.form.isAudit?a("div",{staticClass:"mbm operationBox"},[a("Col",{attrs:{span:"24"}},[a("FormItem",{staticClass:"mtm mbs",attrs:{label:"审核供应商",prop:"audit_supplier_id",rules:{required:!0,message:"审核供应商是必填项"}}},[a("Select",{staticStyle:{width:"200px"},attrs:{disabled:!e.isAuditOk,filterable:"",placeholder:"请选择供应商"},model:{value:e.form.audit_supplier_id,callback:function(t){e.$set(e.form,"audit_supplier_id",t)},expression:"form.audit_supplier_id"}},e._l(e.project.suppliers,(function(t){return a("Option",{key:t.company_id.toString(),attrs:{value:t.company_id.toString(),label:t.company_name}},[a("span",[e._v(e._s(t.company_name))])])})),1),a("span",{staticClass:"mlm txt-muted"},[e._v("若无审核供应商，请先联系系统管理员添加。")])],1)],1)],1):e._e()],1),a("Col",{attrs:{span:"24"}},[a("Checkbox",{staticClass:"mtm mbm",attrs:{disabled:!e.isReceiveTeamOk},on:{"on-change":function(t){e.form.receive_team_id=""}},model:{value:e.form.isReceiveTeam,callback:function(t){e.$set(e.form,"isReceiveTeam",t)},expression:"form.isReceiveTeam"}},[a("b",[e._v("验收质检")])]),a("span",{staticClass:"mlm txt-muted"},[e._v("（标注需求方如需在验收环节抽检，需开启并配置验收小组）")]),e.form.isReceiveTeam?a("div",{staticClass:"mbm operationBox"},[a("Col",{attrs:{span:"24"}},[a("FormItem",{staticClass:"mtm mbm",attrs:{label:"内部小组",prop:"receive_team_id",rules:{required:!0,message:"验收小组是必填项"}}},[a("Select",{staticStyle:{width:"300px"},attrs:{disabled:!e.isReceiveTeamOk,filterable:"","filter-by-label":"",clearable:"",placeholder:"请输入小组名称关键词以搜索对应小组",loading:e.fetchReceiveTeams.isPending,"remote-method":e.debounceReceiveTeams},on:{"on-clear":function(t){return e.fetchReceiveTeams()},"on-open-change":function(t){t&&!e.form.receive_team_id&&e.fetchReceiveTeams()}},model:{value:e.form.receive_team_id,callback:function(t){e.$set(e.form,"receive_team_id",t)},expression:"form.receive_team_id"}},e._l(e.receiveTeams,(function(t){return a("Option",{key:t.team_id,attrs:{value:t.team_id,label:t.team_name}},[a("p",[e._v(e._s(t.team_name))]),a("small",{staticClass:"txt-muted"},[e._v("创建人: "+e._s(t.nick_name))])])})),1),a("router-link",{staticClass:"mlm",attrs:{to:"/personal-center/my-team",target:"_blank"}},[e._v("去创建")])],1)],1)],1):e._e()],1)],2),a("br"),a("br"),a("h4",[e._v(e._s(e.menuRender.detail))]),a("Divider"),a("t-row",{attrs:{gutter:[0,8]}},[a("t-col",{attrs:{span:12}},[a("t-space",{attrs:{direction:"vertical"}},[a("b",[e._v("题目领取方式")]),a("RadioGroup",{model:{value:e.form.queue_type,callback:function(t){e.$set(e.form,"queue_type",t)},expression:"form.queue_type"}},e._l(e.QueueType,(function(t){return a("Radio",{key:t.label,attrs:{label:t.label,disabled:!e.isAdd}},[e._v(e._s(t.name))])})),1)],1)],1),a("t-col",{attrs:{span:12}},[a("Checkbox",{staticClass:"mtm mbm",model:{value:e.matchQuestions,callback:function(t){e.matchQuestions=t},expression:"matchQuestions"}},[a("b",[e._v("人题匹配")])]),a("span",{staticClass:"mlm txt-muted"},[e._v("（开启后，优先领取题目标签和人员标签匹配的题目标注）")])],1),e.matchQuestions?a("div",{staticClass:"mbm operationBox"},[a("Col",{attrs:{span:"24"}},[a("FormItem",{staticClass:"mbm",attrs:{label:"题目标签",prop:"task_template_key"}},[a("t-select",{attrs:{disabled:!e.isAdd},model:{value:e.form.task_template_key,callback:function(t){e.$set(e.form,"task_template_key",t)},expression:"form.task_template_key"}},e._l(e.templateSchema,(function(e){return a("t-option",{key:e,attrs:{value:e,label:e}})})),1)],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"人员标签",prop:"user_label_key"}},[a("t-select",{attrs:{disabled:!e.isAdd},model:{value:e.form.user_label_key,callback:function(t){e.$set(e.form,"user_label_key",t)},expression:"form.user_label_key"}},[a("t-option",{attrs:{value:"专业分类"}},[e._v("专业分类")])],1)],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"匹配规则"}},[a("t-radio-group",{model:{value:e.matchRule,callback:function(t){e.matchRule=t},expression:"matchRule"}},[a("t-radio",{attrs:{value:"allMatch"}},[e._v("存在匹配（题目标签完全存在于人员标签集合中）")]),a("t-radio",{attrs:{disabled:!0}},[e._v("逻辑匹配（通过逻辑组合将题目和人员标签进行匹配）")])],1)],1)],1)],1):e._e(),a("t-col",{attrs:{span:12}},[a("Checkbox",{staticClass:"mtm mbm",attrs:{disabled:!e.isPackOk},model:{value:e.form.isPack,callback:function(t){e.$set(e.form,"isPack",t)},expression:"form.isPack"}},[e.isPackOk?a("b",[e._v("题包")]):[a("t-tooltip",{attrs:{content:"请先选择模板"}},[a("b",[e._v("题包")])])]],2),a("span",{staticClass:"mlm txt-muted"},[e._v("（题目可按类聚合成题包，开启后按题包流转作业；仅支持部分模板；动态任务只支持在单个数据包内聚类）")])],1),e.form.isPack?a("div",{staticClass:"mbm operationBox"},[a("Col",{attrs:{span:"24"}},[a("FormItem",{staticClass:"mbm",attrs:{label:"聚合字段",prop:"pack_key",rules:{required:!e.form.is_dynamic}}},[a("div",{staticStyle:{"line-height":"1",padding:"10px 0"}},[e.form.pack_key?[a("span",{staticClass:"mls"},[e._v(e._s(e.form.pack_key))]),a("span",{staticClass:"mlm txt-muted"},[e._v("（在下方【数据配置】中选含聚合字段的数据包后自动拉取）")])]:[a("span",{staticClass:"mls"},[e._v("-")]),a("span",{staticClass:"mlm txt-muted"},[e._v(" （请在【"+e._s(e.menuRender.dataset)+"】中选择有聚合字段的标注数据包）")])]],2)])],1),e.layoutShow?a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"展示样式"}},[a("div",{staticClass:"batch-show-style"},[e._v(e._s(e.layout))]),a("Icon",{staticClass:"batch-show-style-icon",attrs:{type:"md-refresh"},on:{click:e.fetchTemplate}}),a("span",[e._v("（可前往")]),a("a",{on:{click:function(t){return e.editWarnHint(e.templateData)}}},[e._v("【任务模板】")]),a("span",[e._v("中预览和变更样式）")])],1)],1):e._e()],1):e._e(),a("t-col",{attrs:{span:12}},[a("Checkbox",{staticClass:"mtm mbm",attrs:{disabled:!e.isLabelNumsOk},on:{"on-change":function(t){e.form.label_nums=t&&e.isLabelNumsTemplate&&!e.form.isPack?2:1}},model:{value:e.form.isLabelNums,callback:function(t){e.$set(e.form,"isLabelNums",t)},expression:"form.isLabelNums"}},[e.isPackOk?a("b",[e._v("一页多题")]):[a("t-tooltip",{attrs:{content:"请先选择模板"}},[a("b",[e._v("一页多题")])])]],2),a("span",{staticClass:"mlm txt-muted"},[e._v("（暂不支持与交叉标注同时配置；仅支持部分模板；题包任务限制一页一题包）")])],1),e.form.isLabelNums?a("div",{staticClass:"mbm operationBox"},[a("Col",{attrs:{span:"24"}},[a("FormItem",{staticClass:"mtm mbm",attrs:{label:e.form.isPack?"每页标注题包数":"每页标注题数",prop:"label_nums",rules:e.form.isPack?[e.ruleNotEmpty]:[e.ruleNotEmpty,e.ruleValidate]}},[a("InputNumber",{staticClass:"mls",attrs:{min:1,max:50,disabled:!e.isLabelNumsTemplate||e.form.isPack},model:{value:e.form.label_nums,callback:function(t){e.$set(e.form,"label_nums",t)},expression:"form.label_nums"}}),a("span",{staticClass:"mls"},[e._v("题")]),a("span",{staticClass:"txt-muted"},[e._v("（"+e._s(e.form.isPack?"暂仅支持一页一个题包，不支持编辑修改":"范围为2～50")+"）")])],1)],1),e.layoutShow?a("Col",{attrs:{span:"24"}},[a("FormItem",[a("Row",{attrs:{slot:"label",align:"top"},slot:"label"},[a("span",{staticClass:"txt-red mrs",staticStyle:{"font-size":"20px"}},[e._v("*")]),a("span",[e._v("展示样式")])]),a("div",{staticClass:"batch-show-style"},[e._v(e._s(e.layout))]),a("a",{on:{click:function(t){return e.editWarnHint(e.templateData)}}},[e._v("(点击前往模版，可预览和变更样式)")]),a("Icon",{staticClass:"batch-show-style-icon",attrs:{type:"md-refresh"},on:{click:e.fetchTemplate}})],1)],1):e._e()],1):e._e(),a("t-col",{attrs:{span:12}},[a("Checkbox",{staticClass:"mtm mbm",model:{value:e.form.isTime,callback:function(t){e.$set(e.form,"isTime",t)},expression:"form.isTime"}},[a("b",[e._v("超时释放")])]),a("span",{staticClass:"mlm txt-muted"},[e._v("（可设置标注/返修超时时间；释放不会清空已保存的标注结果；质检超时释放需在抽检任务下配置）")])],1),e.form.isTime?a("div",{staticClass:"mbm operationBox"},e._l(e.timeoutOptions,(function(t,r){return a("Col",{key:r,attrs:{span:"24"}},[a("FormItem",{staticClass:"mtm mbm",attrs:{label:t,prop:r,rules:[{required:!0,message:t+"是必填项"},{type:"number",min:e.timeoutRange(r).min,max:e.timeoutRange(r).max,message:" "}]}},[["不限时"].includes(e.form[r+"_unit"])?e._e():[a("InputNumber",{staticClass:"mls",attrs:{min:e.timeoutRange(r).min,max:e.timeoutRange(r).max},model:{value:e.form[r],callback:function(t){e.$set(e.form,r,t)},expression:"form[key]"}})],a("Dropdown",{staticClass:"pointer mls",staticStyle:{"line-height":"34px"},attrs:{trigger:"click"},on:{"on-click":function(t){return e.changeTimeoutUnit(t,r)}},scopedSlots:e._u([{key:"list",fn:function(){return[a("DropdownMenu",e._l(e.timeoutUnitOptions,(function(t){return a("DropdownItem",{key:t.label,attrs:{name:t.value}},[e._v(e._s(t.label))])})),1)]},proxy:!0}],null,!0)},[a("span",[e._v(e._s(e.form[r+"_unit"]))]),a("Icon",{attrs:{type:"md-arrow-dropdown"}})],1),["不限时"].includes(e.form[r+"_unit"])?e._e():a("span",{staticClass:"txt-muted"},[e._v("（范围为"+e._s(e.timeoutRange(r).min)+"到"+e._s(e.timeoutRange(r).max)+"）")])],2)],1)})),1):e._e(),a("t-col",{attrs:{span:12}},[a("Checkbox",{staticClass:"mtm mbm",model:{value:e.form.edit_label_result,callback:function(t){e.$set(e.form,"edit_label_result",t)},expression:"form.edit_label_result"}},[a("b",[e._v("允许标注员修改标注")])]),a("span",{staticClass:"mlm txt-muted"},[e._v("（暂不支持与交叉标注同时配置；仅支持部分模板；题包任务限制一页一题包）")])],1),a("t-col",{attrs:{span:12}},[a("Checkbox",{staticClass:"mtm mbm",on:{"on-change":function(t){e.form.label_auto_pause_timeout=t?0:-1,e.form.check_auto_pause_timeout=t?0:-1}},model:{value:e.form.isAutoPause,callback:function(t){e.$set(e.form,"isAutoPause",t)},expression:"form.isAutoPause"}},[a("b",[e._v("限制做题自动暂停时长")])]),a("span",{staticClass:"mlm txt-muted"},[e._v("（暂不支持与交叉标注同时配置；仅支持部分模板；题包任务限制一页一题包）")])],1),e.form.isAutoPause?a("div",{staticClass:"mbm operationBox"},e._l(e.autoPauseOptions,(function(t,r){return a("Col",{key:r,attrs:{span:"24"}},[a("FormItem",{staticClass:"mtm mbm",attrs:{label:t,prop:r,rules:[{required:!0,message:t+"是必填项"},{type:"number",min:e.autoPauseRange(r).min,max:e.autoPauseRange(r).max,message:" "}]}},[["关闭"].includes(e.form[r+"_unit"])?e._e():[a("InputNumber",{staticClass:"mls",attrs:{min:e.autoPauseRange(r).min,max:e.autoPauseRange(r).max},model:{value:e.form[r],callback:function(t){e.$set(e.form,r,t)},expression:"form[key]"}})],a("Dropdown",{staticClass:"pointer mls",staticStyle:{"line-height":"34px"},attrs:{trigger:"click"},on:{"on-click":function(t){return e.changeTimeoutUnit(t,r)}},scopedSlots:e._u([{key:"list",fn:function(){return[a("DropdownMenu",e._l(e.autoPauseUnitOptions,(function(t){return a("DropdownItem",{key:t.label,attrs:{name:t.value}},[e._v(e._s(t.label))])})),1)]},proxy:!0}],null,!0)},[a("span",[e._v(e._s(e.form[r+"_unit"]))]),a("Icon",{attrs:{type:"md-arrow-dropdown"}})],1),a("span",{staticClass:"txt-muted"},[["关闭"].includes(e.form[r+"_unit"])?[e._v("（关闭后做题不会自动暂停）")]:[e._v("（范围为"+e._s(e.autoPauseRange(r).min)+"到"+e._s(e.autoPauseRange(r).max)+"）")]],2)],2)],1)})),1):e._e(),e.project.project_type?[a("Col",{attrs:{span:"24"}},[a("Checkbox",{staticClass:"mtm mbm",attrs:{value:!!e.form.labeler_condition},on:{"on-change":function(t){e.form.labeler_condition=!e.form.labeler_condition}}},[a("b",[e._v("标注员要求")])]),e.form.labeler_condition?[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.editTeamCondition("labeler")}}},[e._v("选择要求")]),e.isLabelerConditionOk?a("div",{staticClass:"mbm txt-muted",staticStyle:{"margin-left":"40px"}},[e._v(e._s(e.isLabelerConditionOk))]):e._e()]:e._e()],2),a("Col",{attrs:{span:"24"}},[a("Checkbox",{staticClass:"mtm mbm",attrs:{value:!!e.form.reviewer_condition},on:{"on-change":function(t){e.form.reviewer_condition=!e.form.reviewer_condition}}},[a("b",[e._v("质检员要求")])]),e.form.reviewer_condition?[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.editTeamCondition("reviewer")}}},[e._v("选择要求")]),e.isReviewerConditionOk?a("div",{staticClass:"mbm txt-muted",staticStyle:{"margin-left":"40px"}},[e._v(e._s(e.isReviewerConditionOk))]):e._e()]:e._e()],2)]:e._e()],2),a("br"),a("br"),a("h4",[e._v(e._s(e.menuRender.dataset))]),a("Divider"),a("Row",[a("Col",{attrs:{span:"24"}},[e.form.is_dynamic?[a("FormItem",{staticClass:"width",staticStyle:{width:"100%"},attrs:{label:"选择数据包",prop:"dataset_import_id"}},[a("span",{staticClass:"txt-muted"},[e._v("任务创建后可通过API接口或【题目库】导入；允许多次导入")])])]:[a("FormItem",{staticClass:"width",staticStyle:{width:"100%"},attrs:{label:"选择数据包",prop:"dataset_import_id",rules:{required:!0,message:"标注数据包是必选项"}}},[a("Row",{attrs:{type:"flex",align:"middle"}},[a("Select",{staticStyle:{width:"300px"},attrs:{disabled:!e.isAdd,filterable:"",clearable:"",placeholder:"请输入数据包名称关键词进行搜索","remote-method":e.debounceFileDatasBase,loading:e.fetchFileDatasBase.isPending},on:{"on-query-change":function(t){!t&&e.debounceFileDatasBase(t)},"on-change":e.getPutNum},model:{value:e.form.dataset_import_id,callback:function(t){e.$set(e.form,"dataset_import_id",t)},expression:"form.dataset_import_id"}},e._l(e.fileDatasBase,(function(t){return a("Option",{key:t.dataset_import_id.toString(),attrs:{value:t.dataset_import_id.toString(),label:t.src_file_name,disabled:e.form.isPack&&!(t.tag_key||t.tag_cnt)||(!e.form.isPack||e.form.label_nums>1)&&!!t.tag_key}},[a("span",[e._v(e._s(t.src_file_name))]),e.form.isPack?a("span",{staticClass:"mls"},[t.tag_key&&t.tag_cnt?a("span",[e._v("（聚合字段："+e._s(t.tag_key)+"）")]):a("span",[e._v("（聚合字段："+e._s(t.tag_key?"聚合中":"-")+"）")])]):e._e(),(!e.form.isPack||e.form.label_nums>1)&&t.tag_key?a("span",{staticClass:"mls"},[a("span",[e._v("(已有聚合字段)")])]):e._e()])})),1),e.isAdd?a("div",{staticClass:"mlm",staticStyle:{position:"relative"}},[e.form.dataset_import_id?e.templateData&&e.templateData.template_id?e.fetchFileData.isPending?a("Spin",{attrs:{fix:"",size:"small"}}):e._e():a("span",{staticClass:"txt-muted"},[e._v("请选择模板")]):a("a",{staticStyle:{"line-height":"32px"},attrs:{href:"projects/list/"+e.$route.params.id+"?tab=dataset",target:"_Blank"}},[e._v("（若还未上传数据包，请点击此处）")]),a("templateValidate",{directives:[{name:"show",rawName:"v-show",value:e.form.dataset_import_id&&e.fileData.dataset_code&&e.templateData&&e.templateData.template_id,expression:"form.dataset_import_id && fileData.dataset_code && templateData && templateData.template_id"}],attrs:{datasetCode:e.fileData.dataset_code,templateId:e.templateData?e.templateData.template_id:""},on:{"update:index":function(t){e.templateValidIndex=t}}})],1):e._e()],1)],1)]],2),a("Col",{attrs:{span:"24"}},[e.isAddOk?a("t-space",{staticStyle:{color:"var(--td-brand-color)",display:"flex","align-items":"center"}},[a("InfoCircleIcon"),a("span",[e._v("数据包可投放的"+e._s(e.form.isPack?"题包数":"题数")+"："+e._s(e.existingNum))]),a("span",{class:{alert_message:e.queTotalNumber>e.existingNum},staticStyle:{"margin-left":"70px"}},[e._v("当前已投放"+e._s(e.form.isPack?"题包数":"题数")+"： "+e._s(e.queTotalNumber))])],1):a("t-alert",[e._v("数据包校验通过后，方可切分下发")]),a("br")],1),e.isAdd&&!e.form.is_dynamic?[e.isAddOk?a("Col",{attrs:{span:"24"}},[a("div",{staticStyle:{margin:"8px 0",padding:"40px","background-color":"#F2F6FE"}},[a("FormItem",{attrs:{label:"快速切分数据包"}},[a("b",[e._v("新增")]),a("InputNumber",{staticStyle:{margin:"0 12px"},attrs:{size:"small",min:0,max:20,placeholder:"请输入"},model:{value:e.taskFrontNumber,callback:function(t){e.taskFrontNumber=t},expression:"taskFrontNumber"}}),a("b",[e._v("个正式任务，各投放")]),a("InputNumber",{staticStyle:{margin:"0 12px"},attrs:{size:"small",min:0,max:e.existingNum,placeholder:"请输入"},model:{value:e.queFrontNumber,callback:function(t){e.queFrontNumber=t},expression:"queFrontNumber"}}),a("b",[e._v(e._s(e.form.isPack?"个题包":"道题目"))]),a("a",{staticStyle:{margin:"0 12px"},attrs:{disabled:!e.queFrontNumber||0===e.queFrontNumber},on:{click:function(t){return e.addTask(e.taskFrontNumber)}}},[e._v("确定")]),a("a",{attrs:{size:"small"},on:{click:e.reset}},[e._v("重置")])],1)],1)]):e._e()]:e._e()],2),e.form.is_dynamic||3===e.templateValidIndex||!e.isAdd?[a("FormItem",{attrs:{label:"任务概览",required:!0}},[e.form.is_dynamic&&!e.form.allow_label_group?a("span",{staticClass:"txt-muted"},[e._v("非工序编排场景，动态任务下仅有一个任务")]):e._e()]),e._l(e.externalTaskDatas,(function(t,r){return e.project.project_type?a("div",{staticClass:"box"},[a("Row",{staticStyle:{margin:"8px"}},[a("Col",{attrs:{span:"7"}},[a("span",[e._v("正式任务"+e._s(r+1))]),e.form.is_dynamic?a("span",{staticStyle:{color:"#13C2C2"}},[e._v("（动态任务）")]):[a("span",[e._v("（题目数：")]),e.isAdd?a("InputNumber",{attrs:{min:0,max:e.existingNum},model:{value:t.detail_num,callback:function(a){e.$set(t,"detail_num",a)},expression:"task.detail_num"}}):a("span",[e._v(e._s(e.form.isPack?t.pack_num:t.data_num))]),a("span",[e._v(" ）")])]],2),e.isAdd&&!e.form.is_dynamic?[a("Col",{attrs:{span:"13"}},[a("span",[e._v("交付供应商：")]),a("Select",{staticStyle:{width:"80%"},attrs:{placeholder:"--请选择--",multiple:!e.form.is_dynamic,filterable:"","label-in-value":""},on:{"on-change":function(t){return e.addSupplier(t,r)}},model:{value:t.supplier_id_list,callback:function(a){e.$set(t,"supplier_id_list",a)},expression:"task.supplier_id_list"}},e._l(e.project.suppliers,(function(t){return t.is_winner?a("Option",{key:t.company_id.toString(),attrs:{value:t.company_id.toString(),label:t.company_name}},[a("span",[e._v(e._s(t.company_name))])]):e._e()})),1)],1),a("Col",{attrs:{span:"4"}},[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.deleteTask(r)}}},[a("icon",{staticClass:"right",attrs:{type:"ios-trash-outline",size:30}})],1)])]:e._e()],2),e.form.is_dynamic?[a("Table",{attrs:{columns:e.form.allow_label_group?e.columns("externalProcessColumns"):e.columns("externalDynamicColumns"),data:t.datas},scopedSlots:e._u([{key:"task_name",fn:function(r){var i=r.row,n=r.index;return[0===e.taskStatus||e.isAdd||!i.task_id?a("Input",{model:{value:t.datas[n].task_name,callback:function(a){e.$set(t.datas[n],"task_name",a)},expression:"task.datas[index].task_name"}}):a("span",[e._v(e._s(i.task_name))])]}},{key:"supplier_name",fn:function(r){var i=r.row,n=r.index;return[!e.isAdd&&i.task_id?a("span",[e._v(e._s(i.supplier_name||"-"))]):[a("Select",{attrs:{transfer:"","label-in-value":""},on:{"on-change":function(e){t.datas[n].supplier_name=e.label}},model:{value:t.datas[n].supplier_id,callback:function(a){e.$set(t.datas[n],"supplier_id",a)},expression:"task.datas[index].supplier_id"}},e._l(e.project.suppliers,(function(t){return t.is_winner?a("Option",{key:t.company_id.toString(),attrs:{value:t.company_id.toString(),label:t.company_name}},[a("span",[e._v(e._s(t.company_name))])]):e._e()})),1)]]}},{key:"number",fn:function(t){t.row;return[a("span",[e._v("100%")])]}},{key:"pre_task_name",fn:function(r){var i=r.row,n=r.index;return[!e.isAdd&&i.task_id?a("span",[e._v(e._s(i.pre_task_name||"-"))]):[a("Select",{attrs:{transfer:""},model:{value:t.datas[n].pre_task_name,callback:function(a){e.$set(t.datas[n],"pre_task_name",a)},expression:"task.datas[index].pre_task_name"}},[e._l(t.datas,(function(t){return[t.task_name!==i.task_name?a("Option",{key:t.task_name,attrs:{value:t.task_name,label:t.task_name}},[e._v(e._s(t.task_name))]):e._e()]})),a("Option",{attrs:{disabled:!!t.datas.find((function(e){return"无"===e.pre_task_name})),value:"无",label:"无"}},[e._v("无")])],2)]]}},{key:"template_label_group",fn:function(r){var i=r.row,n=r.index;return[!e.isAdd&&i.task_id?a("span",[e._v(e._s(i.template_label_group_label||"-"))]):[a("Select",{attrs:{transfer:"",clearable:"",placeholder:"工序选项可在模板中配置"},on:{"on-change":function(e){t.datas[n].template_label_group=e}},model:{value:t.datas[n].template_label_group,callback:function(a){e.$set(t.datas[n],"template_label_group",a)},expression:"task.datas[index].template_label_group"}},[e.labelGroup?e._l(e.labelGroup,(function(t){return a("Option",{key:t.name,attrs:{value:t.name,label:t.label}},[e._v(e._s(t.label))])})):e._e()],2)]]}},{key:"action",fn:function(t){var i=t.row,n=t.index;return[i.isDelete||!e.isAdd&&i.task_id?a("span",[e._v("-")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.deleteSupplier(r,n)}}},[e._v("删除")])]}}],null,!0)}),e.form.allow_label_group?a("div",{staticClass:"mts mbs mls mrs"},[a("Button",{attrs:{type:"dashed",icon:"ios-add",long:""},on:{click:function(t){return e.addMiniTask()}}},[e._v("新增任务")])],1):e._e()]:[a("Table",{attrs:{columns:e.columns("externalColumns"),data:t.datas},scopedSlots:e._u([{key:"task_name",fn:function(r){var i=r.row,n=r.index;return[0===e.taskStatus||e.isAdd?a("Input",{model:{value:t.datas[n].task_name,callback:function(a){e.$set(t.datas[n],"task_name",a)},expression:"task.datas[index].task_name"}}):a("span",[e._v(e._s(i.task_name))])]}},{key:"number",fn:function(t){var r=t.row;t.index;return[a("span",[e._v(e._s(e.form.is_dynamic?"100%":r.number))])]}},{key:"supplier_name",fn:function(t){var r=t.row;return[a("span",[e._v(e._s(r.supplier_name||"-"))])]}},{key:"action",fn:function(t){var i=t.row,n=t.index;return[!i.isDelete&&e.isAdd?a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.deleteSupplier(r,n)}}},[e._v("删除")]):a("span",[e._v("-")])]}}],null,!0)})]],2):e._e()})),e.project.project_type?e._e():a("Table",{attrs:{columns:e.form.is_dynamic?e.columns("insideDynamicColumns"):e.columns("insideColumns"),data:e.insideTaskDatas},scopedSlots:e._u([{key:"task_name",fn:function(t){var r=t.row,i=t.index;return[0===e.taskStatus||e.isAdd?a("Input",{model:{value:e.insideTaskDatas[i].task_name,callback:function(t){e.$set(e.insideTaskDatas[i],"task_name",t)},expression:"insideTaskDatas[index].task_name"}}):a("span",[e._v(e._s(r.task_name))])]}},{key:"number",fn:function(t){t.row;var r=t.index;return[e.form.is_dynamic?[a("span",[e._v("100%")])]:[0===e.taskStatus||e.isAdd?a("InputNumber",{attrs:{size:"small",min:0,max:e.existingNum},model:{value:e.insideTaskDatas[r].number,callback:function(t){e.$set(e.insideTaskDatas[r],"number",t)},expression:"insideTaskDatas[index].number"}}):a("span",[e._v(e._s(e.form.isPack?e.form.pack_num:e.form.data_num))])]]}},{key:"team_id",fn:function(t){var r=t.row,i=t.index;return[0===e.taskStatus||e.isAdd?a("Select",{staticStyle:{"margin-top":"1px"},attrs:{transfer:"",filterable:"",clearable:"",placeholder:"输入小组名称关键词以搜索"},on:{"on-query-change":e.debounceLabelTeams,"on-clear":e.fetchLabelTeams},model:{value:e.insideTaskDatas[i].team_id,callback:function(t){e.$set(e.insideTaskDatas[i],"team_id",t)},expression:"insideTaskDatas[index].team_id"}},e._l(e.labelTeams,(function(t){return a("Option",{key:t.team_id,attrs:{value:t.team_id,label:t.team_name}},[a("p",[e._v(e._s(t.team_name))]),a("small",{staticClass:"txt-muted"},[e._v("创建人: "+e._s(t.nick_name))])])})),1):a("span",[e._v(e._s(r.team_name))])]}},{key:"action",fn:function(t){t.row;var r=t.index;return[e.isAdd?a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.deleteTeam(r)}}},[e._v("删除")]):a("span",[e._v("-")])]}}],null,!1,3304980051)}),e.isAdd&&e.isAddOk?a("Button",{staticStyle:{width:"100%"},attrs:{type:"primary",ghost:"",icon:"ios-add",loading:e.fetchSubmitTask.isPending},on:{click:function(t){return e.addTask(1)}}},[e._v("新增")]):e._e()]:e._e(),a("br"),e.project.project_type?a("div",{staticClass:"left mtm"},[a("t-space",[e.isAdd?a("t-button",{attrs:{loading:e.fetchSubmitTask.isPending},on:{click:function(t){return e.submit()}}},[e._v("下发任务")]):a("t-button",{attrs:{loading:e.fetchUpdateFormalTask.isPending},on:{click:function(t){return e.update("编辑")}}},[e._v("确认修改")]),a("t-button",{on:{click:function(t){return e.goback(!0)}}},[e._v("取消")])],1)],1):a("div",{staticClass:"left mtm"},[a("t-space",[e.isAdd?[a("t-button",{attrs:{loading:e.fetchSubmitTask.isPending},on:{click:function(t){return e.submit()}}},[e._v("下发任务")]),e.form.is_dynamic?e._e():a("t-button",{attrs:{loading:e.fetchSubmitTask.isPending},on:{click:e.save}},[e._v("保存任务")])]:[0!==e.taskStatus?a("t-button",{attrs:{loading:e.fetchUpdateFormalTask.isPending},on:{click:function(t){return e.update("编辑")}}},[e._v("确认修改")]):[a("t-button",{attrs:{loading:e.fetchSaveTask.isPending||e.fetchPublishTask.isPending},on:{click:function(t){return e.update("下发")}}},[e._v("下发任务")]),e.form.is_dynamic?e._e():a("t-button",{attrs:{loading:e.fetchSaveTask.isPending||e.fetchPublishTask.isPending},on:{click:function(t){return e.update("保存")}}},[e._v("保存任务")])]],a("t-button",{attrs:{theme:"default",variant:"base"},on:{click:function(t){return e.goback(!0)}}},[e._v("取消")])],2)],1)],2)],1)],1)},i=[],n=(a("f38f"),a("8d0d"),a("28eb"),a("9ec3")),s=a.n(n),o=a("c206"),l=a.n(o),c=a("ad4a"),d=a("31ca"),u=a("2fa2"),h=a("c099"),p=a("a06e"),f=a("b0f9"),m=a("bccd"),g=a("e3fa"),_=a("06eb"),v=a("2289"),b=a("cb78"),y=a("9fe2"),k=a("189e"),x=a("db49"),w=a("912f"),S=a("0d73"),C=a("4528"),O=a("1cda"),T=a("4f2b"),j=a("bd51"),I=a("5feb"),A=(a("3bde"),["size"]);function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){Object(C["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var E={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 21a9 9 0 100-18 9 9 0 000 18zm11-9a11 11 0 11-22 0 11 11 0 0122 0zm-12 5.5V10h2v7.5h-2zm2-9h-2v-2h2v2z"}}]},R=T["default"].extend({name:"InfoCircleIcon",functional:!0,props:{size:{type:String},onClick:{type:Function}},render:function(e,t){var a=t.props,r=t.data,i=a.size,n=Object(O["a"])(a,A),s=Object(I["a"])(i),o=s.className,l=s.style,c=M(M({},n||{}),{},{id:"info-circle",icon:E,staticClass:o,style:l});return r.props=c,e(j["a"],r)}}),B=R,P={components:{templateCascader:d["a"],templateValidate:u["a"],StandardizeMark:h["a"],Attachment:c["a"],TeamCondition:y["a"],InfoCircleIcon:B},data(){return{Config:x["a"],QueueType:v["h"],employmentModeOptions:v["k"],queFrontNumber:0,taskFrontNumber:0,isAllSelecte:!1,materials:v["e"],existingNum:0,project:{},options:{disabledDate(e){return e&&e.valueOf()<Date.now()}},matchQuestions:!1,deadlineTimeValue:"",form:{isOrder:0,order_id:"",model_id:"",passed_rate:0,overall_total:0,lead_time_str:"",materials_description:"",materials_type:"",employment_mode:"",personnel_level:"",piecework_price:null,max_first_check_ratio:null,deadline_time:"",rule_bucket_id:"",dataset_import_id:"",formal_task_list:[],allow_label_group:!1,is_dynamic:!1,isCross:!1,cross_num:2,isLabelNums:!1,label_nums:1,isTime:!1,label_timeout:0,label_timeout_unit:"分钟",relabel_timeout:0,relabel_timeout_unit:"分钟",isAutoPause:!1,label_auto_pause_timeout:-1,label_auto_pause_timeout_unit:"关闭",check_auto_pause_timeout:-1,check_auto_pause_timeout_unit:"关闭",isAudit:!1,audit_supplier_id:"",isReceiveTeam:!1,receive_team_id:"",isPack:!1,pack_key:"",queue_type:0,security_strategy:0,edit_label_result:!0,labeler_condition:"",reviewer_condition:"",need_settle:1,include_invalid:1,recommended_kpi:0,kpi_magnitude:0,kpi_explanation:"",user_label_key:"",task_template_key:""},matchRule:"allMatch",ruleNotEmpty:{required:!0,message:"是必填项"},ruleValidate:{type:"number",min:2,message:"不能小于2"},businessModelValue:[],templateData:{},crossNumLimit:100,dataNumLimit:2e5,project_id:"",externalTaskDatas:[],insideTaskDatas:[],externalColumns:{task_name:"供应商任务名称",supplier_name:"标注供应商",action:"操作"},externalDynamicColumns:{task_name:"供应商任务名称",supplier_name:"标注供应商",number:"题目分配比例"},insideColumns:{task_name:"任务名称",number:"题目数量",team_id:"标注小组",action:"操作"},insideDynamicColumns:{task_name:"任务名称",number:"题目分配比例",team_id:"标注小组",action:"操作"},externalProcessColumns:{task_name:"供应商任务名称",supplier_name:"标注供应商",pre_task_name:"前置任务",template_label_group:"工序",action:"操作"},totalNumRules:[{required:!0,message:"总需求数量是必填项"},{required:!0,type:"number",min:1,message:"总需求数量不能为0",trigger:"change"}],putNumberRules:[{required:!0,message:"投放数量是必填项"},{required:!0,type:"number",min:1,message:"投放数量不能为0",trigger:"change"}],kpiExplanationRules:[{required:!0,message:"指导KPI如有特殊情况需超出，请填写说明"}],fileData:{},fileDatas:[],templateColumns:[{title:"编号",key:"template_id",minWidth:50},{title:"模板名称",slot:"template_name",minWidth:120},{title:"模板描述",key:"template_desc",minWidth:120},{title:"操作",slot:"action",minWidth:50}],timeoutCount:0,timeoutLimit:3e4,templateValidIndex:0,teamConditionOptions:{sex:"性别",age:"年龄",education:"学历",profession:"专业分类",native:"籍贯",residence:"常驻地",social_work_age:"社会工龄",label_work_age:"标注工龄",label_experience:"标注项目经验",english_level:"英语水平"},timeoutOptions:{label_timeout:"标注超时时间",relabel_timeout:"返修超时时间"},timeoutUnitOptions:[{label:"分钟",value:"分钟",min:1,max:2880},{label:"小时",value:"小时",min:1,max:48},{label:"不限时",value:"不限时",min:0,max:1/0}],autoPauseOptions:{label_auto_pause_timeout:"标注任务自动暂停",check_auto_pause_timeout:"质检任务自动暂停"},autoPauseUnitOptions:[{label:"关闭",value:"关闭",min:0,max:1/0},{label:"分钟",value:"分钟",min:1,max:1440},{label:"秒",value:"秒",min:1,max:86400}],isOpen:!1,canRecommendKpiEdit:!1,canKpiExplanationEdit:!1,order:{}}},computed:{recommendedKpiRules(){return[{required:!0,message:"指导KPI不在【需求首标指导KPI区间】内",validator:(e,t,a)=>{var r,i,n,s;((null===(r=this.order)||void 0===r||!r.min_recommended_kpi)&&(null===(i=this.order)||void 0===i||!i.max_recommended_kpi)||t>=(null===(n=this.order)||void 0===n?void 0:n.min_recommended_kpi)&&t<=(null===(s=this.order)||void 0===s?void 0:s.max_recommended_kpi)||this.form.kpi_explanation.length>0)&&a(),a(new Error(""))}}]},computedEmploymentModeOptions(){return this.isBusinessSettlement?this.listBusinessEmploymentModes:v["k"]},isspecialInstructionsShow(){return!(!this.order.min_recommended_kpi&&!this.order.max_recommended_kpi)&&(1===this.form.need_settle&&(this.form.recommended_kpi<(null===this||void 0===this?void 0:this.order.min_recommended_kpi)||this.form.recommended_kpi>(null===this||void 0===this?void 0:this.order.max_recommended_kpi)))},menuRender(){const{isBusinessSettlement:e}=this;this.project.project_type;const t={order:{title:"结算配置",disabled:!e,visible:!0},basic:{title:"基础信息",visible:!0},template:{title:"编辑模板",visible:!0},security:{title:"安全策略",visible:1===this.project.project_type},task:{title:"流程配置",visible:!0},detail:{title:"做题配置",visible:!0},dataset:{title:"数据配置",visible:!0}},a={};let r=1;for(const o in t){var i;null!==(i=t[o])&&void 0!==i&&i.visible&&(a[o]={...t[o],index:r},r+=1)}let n=0;const s=Object.entries(a).map(([e,t])=>t.disabled?(n+=1,[]):[e,`${t.index-n}、${t.title}`]);return Object.fromEntries(s)},taskStatus(){return Number(this.$route.query.status)},columns(){const e=this;return function(t){return s.a.map(this[t],(t,a)=>{const r={title:t,slot:a};return"number"===a&&this.form.isPack&&(r.title=r.title.replace("题目","题包")),"template_label_group"===a&&(r.renderHeader=t=>t("div",[t("span",{class:"mrs"},"工序"),t("Tooltip",{props:{content:"更新工序",transfer:!0,placement:"top"}},[t("Icon",{props:{type:e.fetchTemplate.isPending?"ios-more":"md-refresh",color:"#5cadff"},on:{click:()=>{e.templateData.template_id&&e.fetchTemplate(e.templateData.template_id)}}})])]),delete r.title),"标注小组"===t&&(r.renderHeader=e=>e("div",[e("span",{class:"mrs"},"标注小组"),e("a",{on:{click:()=>{window.open("/personal-center/my-team")}}},"去创建")])),r})}},isAdd(){return!this.$route.query.task_id},isAddOk(){const{form:e,externalTaskDatas:t,insideTaskDatas:a,templateValidIndex:r}=this;return!e.is_dynamic&&3===r||e.is_dynamic&&t.length<=0&&a.length<=0},isBusiness(){var e;return null===(e=this.project)||void 0===e?void 0:e.business_id},businessConfig(){try{var e;const t=JSON.parse(null===(e=this.project)||void 0===e?void 0:e.business_config);return t}catch(t){return null}},businessUrl(){var e,t;return this.businessKey&&null!==(e=this.businessConfig)&&void 0!==e&&null!==(t=e.orderInfo)&&void 0!==t&&t.enabled?this.businessConfig.orderInfo.from:""},businessKey(){var e;return!(!1!==(null===(e=this.businessConfig)||void 0===e?void 0:e.modifyOrder))},isBusinessSettlement(){var e;const{business_id:t,business_config:a}=this.project,r=t&&a&&(null===(e=JSON.parse(a))||void 0===e?void 0:e.enableSettlement);return r&&this.fetchListBusinessEmploymentModes(),!!r},isLabelGroupOk(){return this.isAdd&&!this.form.isCross&&!this.form.isLabelNums&&!this.form.isPack},isDynamicOk(){return this.isAdd&&!this.form.isCross},isCrossOk(){return this.isAdd&&!this.form.is_dynamic},isPackOk(){return this.isAdd&&this.isLabelNumsTemplate},isLabelNumsOk(){var e;return!this.form.isCross&&!this.form.isPack&&!(null===(e=this.templateData)||void 0===e||!e.template_id)&&this.isLabelNumsTemplate},isAuditOk(){var e;return this.isAdd||!(null!==(e=this.formalTask)&&void 0!==e&&e.audit_supplier_id)||-1===this.formalTask.audit_supplier_id},isReceiveTeamOk(){var e;return this.isAdd||!(null!==(e=this.formalTask)&&void 0!==e&&e.receive_team_id)},isLabelerConditionOk(){let e="";const{labeler_condition:t}=this.form;if(t&&"string"===typeof t){const a=JSON.parse(t);Object.keys(a).forEach(t=>{a[t]&&(e+=`${this.teamConditionOptions[t]}(${a[t]}); `)})}return e},isReviewerConditionOk(){let e="";const{reviewer_condition:t}=this.form;if(t&&"string"===typeof t){const a=JSON.parse(t);Object.keys(a).forEach(t=>{a[t]&&(e+=`${this.teamConditionOptions[t]}(${a[t]}); `)})}return e},companyinfo(){return this.$store.state.companyinfo},isRadioDisabled(){return 0!==this.project.security_strategy},isTaskOk(){let e=this.externalTaskDatas.length>0||this.insideTaskDatas.length>0;return this.project.project_type?this.externalTaskDatas.forEach(t=>{e&&(e=this.form.is_dynamic?t.datas.length>0:t.datas.length>0&&t.detail_num>0,this.form.isAudit&&(e=e&&(this.isAdd?!t.supplier_id_list.includes(this.form.audit_supplier_id):!t.supplier_ids_str.includes(this.form.audit_supplier_id.toString()))),e=e&&t.detail_num*(this.form.isCross?this.form.cross_num:1)<=this.dataNumLimit)}):this.insideTaskDatas.forEach(t=>{e&&(e=(this.form.is_dynamic||t.number>0)&&0!==t.team_id,e=e&&Number(this.form.receive_team_id)!==Number(t.team_id),this.form.isAudit&&(e=e&&this.project.company_id.toString()!==this.form.audit_supplier_id),e=e&&t.number*(this.form.isCross?this.form.cross_num:1)<=this.dataNumLimit)}),e},isSave(){let e=this.insideTaskDatas.length>0;return this.insideTaskDatas.forEach(t=>{e&&(e=t.number>0),e=e&&t.number*(this.form.isCross?this.form.cross_num:1)<=this.dataNumLimit}),e},queTotalNumber(){let e=0;return this.project.project_type?this.externalTaskDatas.forEach(t=>{e+=t.detail_num}):this.insideTaskDatas.forEach(t=>{e+=t.number}),e},templateComponent(){var e;let t=null===(e=this.templateData)||void 0===e?void 0:e.template_component;try{var a;t&&(t=JSON.parse(null===(a=this.templateData)||void 0===a?void 0:a.template_component))}catch(r){console.error(r)}return t},labelGroup(){const{templateComponent:e}=this;return e&&e.$label_group},layoutShow(){var e;return["z-text-stage"].includes(null===(e=this.templateComponent)||void 0===e?void 0:e.component)},layout(){var e,t;return"list"===(null===(e=this.templateComponent)||void 0===e||null===(t=e.extra_attributes)||void 0===t?void 0:t.layout)?"列表":"常规"},isLabelNumsTemplate(){var e;return!(null===(e=this.templateData)||void 0===e||!e.repeatable)},timeoutRange(){return function(e){const{form:t,timeoutUnitOptions:a}=this;if(t[e+"_unit"]){const{min:r,max:i}=s.a.find(a,a=>a.value===t[e+"_unit"]);return{min:r,max:i}}return{min:0,max:0}}},autoPauseRange(){return function(e){const{form:t,autoPauseUnitOptions:a}=this;if(t[e+"_unit"]){const{min:r,max:i}=s.a.find(a,a=>a.value===t[e+"_unit"]);return{min:r,max:i}}return{min:0,max:0}}},submitParams(){const{project:e,isAdd:t,queTotalNumber:a,externalTaskDatas:r,insideTaskDatas:i,companyinfo:n,templateData:o,isLabelerConditionOk:l,isReviewerConditionOk:c,isBusiness:d,isBusinessSettlement:u}=this,{isOrder:h,model_id:p,rule_bucket_id:f,formal_task_list:m,dataset_import_id:g,is_dynamic:_,isCross:v,cross_num:b,isLabelNums:y,label_nums:k,isTime:x,label_timeout:w,label_timeout_unit:S,relabel_timeout:C,relabel_timeout_unit:O,isAutoPause:T,label_auto_pause_timeout:j,label_auto_pause_timeout_unit:I,check_auto_pause_timeout:A,check_auto_pause_timeout_unit:D,isAudit:M,audit_supplier_id:E,isReceiveTeam:R,receive_team_id:B,isPack:P,pack_key:L,pack_num:F,queue_type:N,labeler_condition:$,reviewer_condition:z,allow_label_group:V,employment_mode:U,personnel_level:H,piecework_price:G,max_first_check_ratio:W,...q}=this.form,X=[];e.project_type?r.forEach(t=>{const a=[];t.datas.forEach(r=>{a.push({project_id:e.project_id,task_name:r.task_name,task_num:_||P?0:t.detail_num,pack_num:P?t.detail_num:0,supplier_id:r.supplier_id,detail_assgin_rate:_?100:0,queue_type:N,pre_task_name:_&&V&&"无"!==r.pre_task_name?r.pre_task_name:void 0,template_label_group:_&&V?r.template_label_group:void 0})}),X.push({supplier_id_list:s.a.map(a,e=>e.supplier_id),task_list:a,data_num:_||P?0:t.detail_num,audit_supplier_id:M?E:void 0})}):i.forEach(t=>{const a=[];a.push({project_id:e.project_id,task_name:t.task_name,task_num:_||P?0:t.number,pack_num:P?t.number:0,team_id:t.team_id,supplier_id:n.company_id,detail_assgin_rate:_?100:0,queue_type:N}),X.push({supplier_id_list:[n.company_id],task_list:a,data_num:_||P?0:t.number,audit_supplier_id:M?E:void 0})});const Y={...q,project_id:e.project_id,rule_bucket_id:f||"",template_id:t?o.template_id:null,detail_num:_||P?0:a,dataset_import_id:_?0:g,formal_task_list:X,is_dynamic:_?1:0,cross_num:v?b:0,label_nums:y?k:1,label_timeout:x?w:0,relabel_timeout:x?C:0,label_auto_pause_timeout:T?j:-1,check_auto_pause_timeout:T?A:-1,audit_supplier_id:M?E:null,receive_team_id:R?B:null,pack_num:P?a:0,labeler_condition:l?$:"{}",reviewer_condition:c?z:"{}",allow_label_group:_&&V?1:0,model_id:d&&p?p:null,queue_label_strategy:JSON.stringify({user_label_strategy:{task_template_key:this.form.task_template_key,user_label_key:this.form.user_label_key}}),queue_label_type:this.matchQuestions?3:1};return u&&Object.assign(Y,{employment_mode:"无"!==U?U:"",personnel_level:["contract-hours-1","contract-hours-2"].includes(U)?H:"",piecework_price:Number(G),max_first_check_ratio:Number(W)/100}),s.a.omitBy(Y,s.a.isNil)},isNeedSettle(){return 1===this.form.need_settle},templateSchema(){var e,t;if(null===(e=this.template)||void 0===e||!e.template_schema)return[];const a=JSON.parse(null===(t=this.template)||void 0===t?void 0:t.template_schema);return a.map(e=>e.key)}},watch:{"templateData.template_id"(e,t){if(e){const a=e.toString(),r=(null===t||void 0===t?void 0:t.toString())||t;a!==r&&this.fetchTemplate(e)}else this.form.isLabelNums=!1},"form.order_id"(e){if(this.form.isOrder=Number(!!e),this.isAdd)if(e){const t=this.orders.find(t=>t.order_id===e);if(t){const e=["model","materials_type","passed_rate","deadline_time"];this.autoFillFormBasic(t,"所选需求",e),this.autoFillBucket(t)}}else this.$refs.formBasic.resetFields();else if(this.formalTask&&e!==this.formalTask.order_id){const t=this.orders.find(t=>t.order_id===e);if(t){const e=["model","materials_type","passed_rate","deadline_time"];this.autoFillFormBasic(t,"所选需求",e)}}},"form.allow_label_group"(e){var t;e?this.form.is_dynamic=!0:this.form.is_dynamic&&(this.externalTaskDatas.length>1&&this.externalTaskDatas.splice(1,this.externalTaskDatas.length-1),(null===(t=this.externalTaskDatas[0])||void 0===t?void 0:t.datas.length)>1&&(this.externalTaskDatas[0].datas.splice(1,this.externalTaskDatas[0].datas.length-1),this.changeProcessTask("pre_task_name","",0)))},"form.is_dynamic"(e){e?(this.form.isCross=!1,this.externalTaskDatas.length>1&&this.externalTaskDatas.splice(1,this.externalTaskDatas.length-1),this.insideTaskDatas.length>1&&this.insideTaskDatas.splice(1,this.insideTaskDatas.length-1)):(this.form.allow_label_group=!1,1===this.externalTaskDatas.length&&(this.externalTaskDatas=[]))},"form.isCross"(){this.isAdd&&(this.form.dataset_import_id="",this.form.detail_num=0,this.form.isPack||(this.form.isLabelNums=!1)),this.form.isCross&&(this.form.is_dynamic=!1,this.form.label_nums=1)},"form.isPack"(e,t){this.isAdd&&!this.fileData.tag_key&&(this.form.dataset_import_id="",this.form.pack_key="",this.fileData={},this.fetchFileDatasBase()),this.form.isPack?(this.form.isLabelNums=!0,this.form.label_nums=1):this.form.isLabelNums=!1,!e&&t&&(this.form.dataset_import_id="",this.form.pack_key="",this.fileData={},this.fetchFileDatasBase())},"form.label_nums"(){this.isAdd&&this.form.label_nums>1&&this.fileData.tag_key&&(this.form.dataset_import_id="")},"form.reviewer_condition"(e,t){const{form:a,isLabelerConditionOk:r}=this;!t&&!0===e&&r&&(a.reviewer_condition=a.labeler_condition,this.$Message.success("已根据标注员要求，自动填充质检员要求"))},"form.recommended_kpi"(e){this.form.kpi_magnitude=e&&"number"===typeof e?(8*e*.8).toFixed(2):0},templateValidIndex(e){3===e||this.form.is_dynamic||(this.externalTaskDatas=[],this.insideTaskDatas=[])}},created(){this.fetchFileDatasBase(),this.fetchProject().then(async()=>{if(this.fetchReceiveTeams(),this.fetchLabelTeams(),await this.fetchOrders(),this.isBusiness&&this.fetchBusinessModels(),this.isAdd){const e=await this.fetchFormalDemo();e&&this.initCreateAutoFill(),this.$route.query.dataset_import_id&&(this.form.dataset_import_id=this.$route.query.dataset_import_id.toString(),this.getPutNum(this.form.dataset_import_id))}else this.fetchFormalTask(this.project.project_type),this.fetchEditTemplateStatus()})},methods:{debounceFetchOrders:s.a.debounce((function(){this.fetchOrders()}),500),debounceFileDatasBase:s.a.debounce((function(e){this.fetchFileDatasBase(e?{file_name:e}:null)}),500),debounceReceiveTeams:s.a.debounce((function(e){this.fetchReceiveTeams(e?{team_name:e}:null)}),500),debounceLabelTeams:s.a.debounce((function(e){this.fetchLabelTeams(e?{team_name:e}:null)}),500),changeTimeoutUnit(e,t){this.form[t+"_unit"]=e,["不限时","关闭"].includes(e)&&(this.form[t]=0)},transformTimeout(e){const{form:t,timeoutOptions:a}=this;Object.keys(a).forEach(a=>{if("toMinutes"===e)"小时"===t[a+"_unit"]&&(t[a]*=60,t[a+"_unit"]="分钟");else{const e=t[a]%60===0;t[a]/=e?60:1,e&&(t[a+"_unit"]=t[a]?"小时":"不限时")}})},transformAutoPauseTimeout(e){const{form:t,autoPauseOptions:a}=this;t.isAutoPause&&Object.keys(a).forEach(a=>{if("toSeconds"===e)"分钟"===t[a+"_unit"]&&(t[a]*=60,t[a+"_unit"]="秒");else{const e=t[a]%60===0;t[a]/=e?60:1,t[a+"_unit"]=e?t[a]?"分钟":"关闭":t[a]?"秒":"关闭"}})},changeProcessTask(e,t,a){!t&&this.$refs[`${e}_${a}`]&&this.$refs[`${e}_${a}`][0].clearSingleSelect(),this.$set(this.externalTaskDatas[0].datas[a],e,t||"")},editTeamCondition(e){const t=this;this.$FastModal.show(y["a"],{condition:t.form[e+"_condition"],type:e},{update(a){t.form[e+"_condition"]=a,console.log(t.form[e+"_condition"])}})},editWarnHint(e){var t;let a=`templates/${(null===e||void 0===e?void 0:e.template_id)||(null===(t=this.template)||void 0===t?void 0:t.template_id)}/edit?`;this.isAdd?a+="from=project&schema=true":a+="from=task&schema=false",this.form.isCross&&(a+="&fitting=true"),this.isAdd?window.open(a):this.$Modal.confirm({title:"模板修改风险提示",content:"<p>1、建议只新增工具、标签、选项。</p><p>2、若编辑或删除标签/选项，可能会造成部分已标注的内容需重新标注。</p><p>3、若编辑或删除已有工具，可能会造成已标注的内容显示不出。</p>",onOk:()=>{window.open(a)}})},detailsCheck(){return!(this.queTotalNumber>this.existingNum)||(this.$Modal.info({title:"提示",content:"已投放题目题数大于数据包可投放的题数"}),!1)},validateTask(){const{form:e,project:t,isTaskOk:a,dataNumLimit:r}=this;return!!a||(this.$Modal.info({width:550,title:"下发提示",content:`\n          <p>1、请确认创建的任务数量大于0</p>\n          <p>2、请确认每个任务分配的${e.isPack?"题包":"题目"}大于0</p>\n          <p>3、请确认投放题数乘以同时标注人数不超过${r}，以免下发失败</p>\n          <p>4、请确认每个任务都${t.project_type?"分配了至少一个供应商":"选择了要下发的小组"}</p>\n          ${!t.project_type&&e.receive_team_id?"<p>5、请确认每个标注小组与验收质检内部小组不能一致</p>":""}\n          ${t.project_type&&e.audit_supplier_id?"<p>5、请确认标注供应商与审核供应商不能一致</p>":""}`}),!1)},validatePackKey(){return!(this.fileData.tag_key&&!this.form.isPack)||(this.$Message.error("提交失败：使用聚合数据包的时候必须选择题包选项"),!1)},validateTeamCondition(){const{form:e,isLabelerConditionOk:t,isReviewerConditionOk:a}=this;return e.labeler_condition&&!t?(this.$Message.error("创建失败：勾选了标注员要求配置，但未选择具体要求"),!1):!(e.reviewer_condition&&!a)||(this.$Message.error("创建失败：勾选了质检员要求配置，但未选择具体要求"),!1)},validateLabelGroupTask(){const{project:e,form:t,externalTaskDatas:a,externalProcessColumns:r}=this;let i=!0;if(e.project_type&&t.is_dynamic)for(const n of a[0].datas){for(const[e,o]of Object.entries(n)){if(["task_name","supplier_id"].includes(e)&&!o){i=!1,this.$Message.error("提交失败，请检查是否有遗漏");break}if(t.allow_label_group){if(r[e]&&!o){i=!1,this.$Message.error(`提交失败：供应商任务的${r[e]}不能为空`);break}if("task_name"===e&&s.a.filter(a[0].datas,e=>e.task_name===o).length>1){i=!1,this.$Message.error(`提交失败：供应商任务不能有重复任务名称（${o}）`);break}}}if(!i)break}if(i)return!0},update(e){this.$refs.formBasic.validate(t=>{if(console.log("aa",t,this.form),!t)return this.$Message.error("提交失败，请检查是否有遗漏"),Promise.resolve();if(t){let t={};const a=()=>{var e,a;t={materials_type:this.form.materials_type,passed_rate:this.form.passed_rate,materials_description:this.form.materials_description,deadline_time:this.form.deadline_time,project_id:this.project.project_id,formal_id:this.$route.query.task_id,label_nums:this.form.isLabelNums?this.form.label_nums:1,label_timeout:this.form.isTime?this.form.label_timeout:0,relabel_timeout:this.form.isTime?this.form.relabel_timeout:0,label_auto_pause_timeout:this.form.isAutoPause?this.form.label_auto_pause_timeout:-1,check_auto_pause_timeout:this.form.isAutoPause?this.form.check_auto_pause_timeout:-1,task_id:this.project.project_type?null===(e=this.externalTaskDatas[0])||void 0===e||null===(a=e.datas[0])||void 0===a?void 0:a.task_id:this.insideTaskDatas[0].task_id,need_settle:this.form.need_settle,include_invalid:this.form.include_invalid,recommended_kpi:this.form.recommended_kpi,kpi_magnitude:this.form.kpi_magnitude,kpi_magnitude:this.form.kpi_explanation,queue_label_strategy:JSON.stringify({user_label_strategy:{task_template_key:this.form.task_template_key,user_label_key:this.form.user_label_key}}),queue_label_type:this.matchQuestions?3:2},!this.formalTask.receive_team_id&&this.form.isReceiveTeam&&(t.receive_team_id=this.form.receive_team_id),this.formalTask.audit_supplier_id&&-1!==this.formalTask.audit_supplier_id||!this.form.isAudit||(t.audit_supplier_id=this.form.audit_supplier_id),this.isBusiness&&this.form.model_id&&(t.model_id=this.form.model_id),this.businessKey&&this.form.order_id!==this.formalTask.order_id.toString()&&(t.order_id=this.form.order_id),this.isBusinessSettlement&&Object.assign(t,{employment_mode:"无"!==this.form.employment_mode?this.form.employment_mode:"",personnel_level:["contract-hours-1","contract-hours-2"].includes(this.form.employment_mode)?this.form.personnel_level:"",piecework_price:Number(this.form.piecework_price),max_first_check_ratio:Number(this.form.max_first_check_ratio)/100})};if("编辑"===e)this.formalTask.is_dynamic&&this.formalTask.allow_label_group&&(t.add_task_list=s.a.compact(s.a.map(this.externalTaskDatas[0].datas,e=>!e.task_id&&{...e,project_id:this.project.project_id,task_num:0,pack_num:0,detail_assgin_rate:100,queue_type:this.form.queue_type}))),this.validateTask()&&this.validatePackKey()&&this.validateTeamCondition()&&this.validateLabelGroupTask()&&(this.transformTimeout("toMinutes"),this.transformAutoPauseTimeout("toSeconds"),a(),this.fetchUpdateFormalTask(t));else if("保存"===e)this.transformTimeout("toMinutes"),this.transformAutoPauseTimeout("toSeconds"),a(),t.task_id=this.insideTaskDatas[0].task_id,t.team_id=this.insideTaskDatas[0].team_id,t.task_num=this.insideTaskDatas[0].number,t.task_name=this.insideTaskDatas[0].task_name,this.fetchSaveTask(t);else{if(!this.insideTaskDatas[0].team_id)return void this.$Message.info("请选择要下发的小组");this.validateTask()&&this.validatePackKey()&&this.validateTeamCondition()&&(this.transformTimeout("toMinutes"),this.transformAutoPauseTimeout("toSeconds"),a(),t.task_num=this.insideTaskDatas[0].number,t.task_id=this.insideTaskDatas[0].task_id,t.team_id=this.insideTaskDatas[0].team_id,t.task_name=this.insideTaskDatas[0].task_name,this.fetchPublishTask(t))}}})},submit(){this.$refs.formBasic.validate(e=>{if(!e)return this.$Message.error("提交失败，请检查是否有遗漏"),Promise.resolve();if(e&&this.validateTask()&&this.validatePackKey()&&this.validateTeamCondition()&&this.validateLabelGroupTask()){if(this.form.isReceiveTeam&&!this.form.receive_team_id)return this.$Message.error("下发失败，验收质检内部小组不能为空"),Promise.resolve();if(!this.templateData.template_id)return this.$Message.error("下发失败，模板不能为空"),Promise.resolve();this.form.is_dynamic?this.fetchSubmitDynamicTask():this.detailsCheck()&&this.fetchSubmitTask("formal")}})},save(){this.$refs.formBasic.validate(e=>{if(!e)return this.$Message.error("提交失败，请检查是否有遗漏"),Promise.resolve();e&&!this.isSave?this.$Modal.info({width:550,title:"保存提示",content:`\n            <p>1、请确认创建的任务数量大于0；</p>\n            <p>2、请确认每个任务分配的题目大于0；</p>\n            <p>3、请确认投放题数乘以同时标注人数不超过${this.dataNumLimit}，以免保存失败</p>`}):e&&this.isSave&&this.detailsCheck()&&this.fetchSubmitTask()})},reset(){this.queFrontNumber=0,this.taskFrontNumber=0},getPutNum(e){this.form.dataset_import_id&&this.getFileData().then(t=>{var a,r;t.length>0&&(null===(a=t[0])||void 0===a||null===(r=a.dataset_import_id)||void 0===r?void 0:r.toString())===e?([this.fileData]=t,this.form.pack_key=t[0].tag_key,this.form.pack_key?(this.form.isPack=!0,this.existingNum=t[0].tag_cnt-t[0].published_tag_cnt):(this.form.isPack=!1,this.existingNum=t[0].valid_cnt-t[0].published_cnt),this.isAdd&&this.existingNum>0&&(this.queFrontNumber=this.existingNum,this.taskFrontNumber=1)):this.existingNum=0})},async getFileData(){const e=await this.fetchFileData();if(e){var t;const a=await this.fetchStatImportTask({need_pack_cnt:!(null===e||void 0===e||null===(t=e[0])||void 0===t||!t.tag_key)});if(a){const t={...e[0],valid_cnt:a.valid_cnt,published_cnt:a.published_cnt,published_tag_cnt:a.published_tag_cnt};return Promise.resolve([t])}}return Promise.resolve([])},deleteSupplier(e,t){const{form:a}=this,r=s.a.cloneDeep(this.externalTaskDatas),i=[];r[e].datas.splice(t,1),r[e].datas.forEach(e=>{i.push(e.supplier_id)}),r[e].supplier_id_list=i,a.is_dynamic&&a.allow_label_group&&r[e].datas.forEach((t,a)=>{"无"===t.pre_task_name||r[e].datas.find(e=>e.task_name===t.pre_task_name)||this.changeProcessTask("pre_task_name","",a)}),this.externalTaskDatas=r},deleteTask(e){const t=s.a.cloneDeep(this.externalTaskDatas);t.splice(e,1),this.externalTaskDatas=t},deleteTeam(e){const t=s.a.cloneDeep(this.insideTaskDatas);t.splice(e,1),this.insideTaskDatas=t},addTask(e){if(this.externalTaskDatas.length+e>99||this.insideTaskDatas.length+e>99)return this.$Message.error({content:"每次切分任务最大数量为100个，请分多次切分",duration:3}),this.reset(),0;if(this.project.project_type)for(let t=0;t<e;t++){const e={supplier_id_list:[],detail_num:this.queFrontNumber,datas:[]},t=this.project.suppliers.filter(e=>e.is_winner);if(1===(null===t||void 0===t?void 0:t.length)){const a=t[0];e.datas=[{supplier_name:a.company_name,task_name:`${this.project.project_name}-${this.randomWord()}`,supplier_id:a.company_id.toString(),pre_task_name:"",template_label_group:""}],e.supplier_id_list=[a.company_id.toString()]}else(null===t||void 0===t?void 0:t.length)>1&&(e.datas=[{supplier_name:"",task_name:`${this.project.project_name}-${this.randomWord()}`,supplier_id:"",pre_task_name:"",template_label_group:""}],e.supplier_id_list=[]);this.externalTaskDatas.push(e)}else{const t=s.a.cloneDeep(this.insideTaskDatas);for(let a=0;a<e;a++){const e=this.randomWord();t.push({task_name:`${this.project.project_name}_${e}`,number:this.queFrontNumber,team_id:0})}this.insideTaskDatas=t}this.reset()},addMiniTask(){const{project:e,form:t}=this;if(!(e.project_type&&t.is_dynamic&&t.allow_label_group))return;const a={supplier_id:"",supplier_name:"",task_name:`${e.project_name}-${this.randomWord()}`,pre_task_name:"",template_label_group:""};this.externalTaskDatas[0].datas.push(a)},addSupplier(e,t){const a=[];if(Array.isArray(e))e.forEach(e=>{const t=this.randomWord();a.push({supplier_name:e.label,task_name:`${this.project.project_name}-${t}`,supplier_id:e.value})});else{const t=this.randomWord();a.push({supplier_name:e.label,task_name:`${this.project.project_name}-${t}`,supplier_id:e.value})}this.externalTaskDatas[t].datas=a},randomWord(){let e="";for(let t=0;t<6;t++){const t=this.getRandom(1,2);switch(t){case 1:e+=String.fromCharCode(this.getRandom(48,57));break;case 2:e+=String.fromCharCode(this.getRandom(97,122));break}}return e},getRandom(e,t){return Math.round(Math.random()*(t-e)+e)},goDataset(){const e=this.$router.resolve({name:"projectDetail",params:{id:this.project.project_id},query:{tab:"dataset"}});window.open(e.href,"_blank")},goback(e){this.$router.push({path:"/projects/list/"+this.$route.params.id,query:{tab:"formal-tasks",alive:!e}})},changeTime(e){this.form.expect_date=l()(e).hour(23).minute(59).second(59).format("YYYY-MM-DD HH:mm:ss")},async autoFillBucket(e){this.form.rule_bucket_id||await this.$refs.attachment.fetchCreateBucket(),this.form.rule_bucket_id&&this.$refs.attachment.fetchOverwriteAttachments(e.order_id.toString(),this.form.rule_bucket_id)},async autoFillFormBasic(e,t,a){const r=(({model_id:e,model_name:t,materials_type:a,passed_rate:r,materials_description:i,deadline_time:n,labeler_condition:s,reviewer_condition:o,label_auto_pause_timeout:l,check_auto_pause_timeout:c,label_auto_pause_timeout_unit:d,check_auto_pause_timeout_unit:u,isAutoPause:h})=>({model_id:e,model_name:t,materials_type:a,passed_rate:r,materials_description:i,deadline_time:n,labeler_condition:s,reviewer_condition:o,label_auto_pause_timeout:l,check_auto_pause_timeout:c,label_auto_pause_timeout_unit:d,check_auto_pause_timeout_unit:u,isAutoPause:h}))(e),i=s.a.omitBy(r,s.a.isNil);if(console.log(`预填充${t}信息`,i),s.a.compact(s.a.values(i)).length>0&&(Object.assign(this.form,i),this.deadlineTimeValue=this.form.deadline_time,this.form.model_id=null!==i&&void 0!==i&&i.model_id?i.model_id.toString():"",this.businessModelValue=null!==i&&void 0!==i&&i.model_name?i.model_name.split("-"):[],this.$Message.success(`已根据${t}，自动填充部分信息`)),a){let e=!0;a.forEach(t=>{switch(t){case"model":(!this.form.model_id||!this.form.model_name||this.businessModelValue.length<=0)&&(this.form.model_id="",this.form.model_name="",this.businessModelValue=[],e=!1);break;case"materials_type":-1===this.materials.indexOf(this.form.materials_type)&&(this.form.materials_type="",e=!1);break;case"passed_rate":("number"!==typeof this.form.passed_rate||this.form.passed_rate<0||this.form.passed_rate>100)&&(this.form.passed_rate=null,e=!1);break;case"deadline_time":l()(this.deadlineTimeValue).format("YYYY-MM-DD HH:mm:ss")!==this.form.deadline_time&&(this.form.deadline_time="",this.deadlineTimeValue="",e=!1);break}}),e||this.businessKey&&this.$Message.error("格式错误，请前往混元运营门户修改")}},initCreateAutoFill(){const{project:e,formalDemo:t,businessKey:a}=this,r=e=>{if(-1===e)return{time:-1,unit:"关闭"};let t=e,a="关闭";const r=t%60===0;return t/=r?60:1,a=r?t?"分钟":"关闭":t?"秒":"关闭",{time:t,unit:a}};if(t){const{labeler_condition:e,reviewer_condition:a}=t.formal_task_relation_vos[0],{label_auto_pause_timeout:i,check_auto_pause_timeout:n}=t,s=e&&"{}"!==e?e:"",o=a&&"{}"!==a?a:"",l=i>=0||n>=0;this.autoFillFormBasic({...t,labeler_condition:s,reviewer_condition:o,label_auto_pause_timeout:r(i).time,check_auto_pause_timeout:r(n).time,label_auto_pause_timeout_unit:r(i).unit,check_auto_pause_timeout_unit:r(n).unit,isAutoPause:l},"上一次正式任务")}else if(e.bid_entity){const{labeler_condition:t,reviewer_condition:a,label_auto_pause_timeout:i,check_auto_pause_timeout:n}=e.bid_entity,s=t&&"{}"!==t?t:"",o=a&&"{}"!==a?a:"",l=i>=0||n>=0;this.autoFillFormBasic({...e.bid_entity,labeler_condition:s,reviewer_condition:o,label_auto_pause_timeout:r(i).time,check_auto_pause_timeout:r(n).time,label_auto_pause_timeout_unit:r(i).unit,check_auto_pause_timeout_unit:r(n).unit,isAutoPause:l},"试标任务")}else this.autoFillFormBasic(e,"项目详情");a&&(Object.assign(this.form,{model_id:"",model_name:"",materials_type:"",passed_rate:null,deadline_time:""}),this.businessModelValue=[],this.deadlineTimeValue="")},initLabelGroup(){!this.isAdd&&this.form.allow_label_group&&s.a.map(this.externalTaskDatas[0].datas,e=>{if(e.task_id){if(e.pre_task_id){const t=s.a.find(this.externalTaskDatas[0].datas,t=>t.task_id.toString()===e.pre_task_id.toString());t&&this.$set(e,"pre_task_name",t.task_name)}else this.$set(e,"pre_task_name","无");if(e.template_label_group){const t=s.a.find(this.labelGroup,t=>t.name===e.template_label_group);t&&this.$set(e,"template_label_group_label",t.label)}}})},onChangeBusinessModel(e,t){var a,r;this.businessModelValue=e,this.form.model_id=(null===(a=t[t.length-1])||void 0===a||null===(r=a.model)||void 0===r?void 0:r.model_id)||""},businessModelsHook(e){const t={children:[]},a=(e,t,r)=>{const i="model_name_array",n={label:t[i][r],value:t[i][r]},s=e.children.find(e=>(null===e||void 0===e?void 0:e.value)===t[i][r]);if(s)t[i][r+1]?a(s,t,r+1):e.children.push({...n,model:{...t,model_id:t.model_id.toString()}});else if(t[i][r+1]){const i=e.children.push({...n,children:[]});a(e.children[i-1],t,r+1)}else e.children.push({...n,model:{...t,model_id:t.model_id.toString()}})};return e.data.forEach(e=>{a(t,e,0)}),console.log("组织三级关联模块",t),t.children},highlightFirstMatch(e,t){return Object(S["a"])(e,t)},handleDropItemClick(e){var t,a,r;this.form.order_name=null===(t=this.orders)||void 0===t?void 0:t[e].order_name,this.form.order_id=null===(a=this.orders)||void 0===a?void 0:a[e].order_id,this.order=null===(r=this.orders)||void 0===r?void 0:r[e]},copyNewTemplate(e){this.$FastModal.show(w["a"],{isInProject:!0,template:e,projectId:this.project.project_id,$router:this.$router})}},asyncMethods:{async fetchTemplate(e){const t=await Object(f["k"])({template_id:s.a.isString(e)?Object(m["BigNumber"])(e):e}),a=s.a.chain(this.$OptimusStageMetadata).find({name:t.template_type}).value();return this.templateData={...this.templateData,...t,...a},this.initLabelGroup(),this.templateData},fetchEditTemplateStatus(){const e={task_type:"formal",task_id:this.$route.query.task_id};return b["a"].CheckUpdateTaskTemplate(e).then(e=>e.data.result).catch(e=>{this.$Message.error("数据获取失败："+e.message)})},fetchPublishTask(e){const{project_id:t,formal_id:a,task_id:r,...i}=e,n=this;let s;const o=Object.assign(e,{project_id:this.project.project_id,need_publish:!0,edit_task:{task_id:e.task_id,...i,security_strategy:this.form.security_strategy,edit_label_result:this.form.edit_label_result?1:0}}),l=new Promise((e,t)=>Object(_["k"])(o).then(t=>{t&&e("success")}).catch(e=>{t(e)})),c=new Promise(e=>{n.$Message.info({render:e=>e("span",`正在下发任务……已等待${n.timeoutCount}秒`),duration:n.timeoutLimit/1e3}),s=setInterval(()=>{n.timeoutCount+=1,n.timeoutCount>=n.timeoutLimit/1e3&&e("timeout")},1e3)});return Promise.race([l,c]).then(e=>{switch(clearInterval(s),this.$Message.destroy(),n.timeoutCount=0,e){case"success":return void n.$Message.success({content:"下发成功！",duration:1,onClose:()=>n.goback()});case"timeout":return void n.$Message.warning({content:"下发超时，即将返回到任务列表……",duration:1,onClose:()=>n.goback()})}}).catch(e=>{clearInterval(s),this.$Message.destroy(),n.timeoutCount=0,this.$Message.error("下发失败："+e.message)})},fetchSaveTask(e){const{project_id:t,formal_id:a,task_id:r,...i}=e,n=Object.assign(e,{project_id:this.project.project_id,need_publish:!1,edit_task:{task_id:e.task_id,...i,security_strategy:this.form.security_strategy,edit_label_result:this.form.edit_label_result?1:0}});return Object(_["k"])(n).then(e=>(e&&(this.$Message.success("保存成功"),this.goback()),e)).catch(e=>{this.$Message.error("保存失败："+e.message)})},fetchUpdateFormalTask(e){const{project_id:t,formal_id:a,task_id:r,add_task_list:i,...n}=e,s=Object.assign(e,{project_id:this.project.project_id,edit_task:{task_id:e.task_id,...n,security_strategy:this.form.security_strategy,edit_label_result:this.form.edit_label_result?1:0,labeler_condition:this.isLabelerConditionOk?this.form.labeler_condition:"{}",reviewer_condition:this.isReviewerConditionOk?this.form.reviewer_condition:"{}"}});return Object(_["k"])(s).then(e=>(e&&(this.$Message.success("修改成功"),this.goback()),e)).catch(e=>{this.$Message.error("修改失败："+e.message)})},fetchFormalTask(e){const t={project_id:this.$route.params.id,formal_id_list:[this.$route.query.task_id],page:{start:0,size:1,return_total:0},need_relation:!0,need_template:!0,need_stat_task:!0};return Object(_["g"])(t).then(t=>{var a,r,i,n,o,l,c,d,u,h,p,f,m,g,_,v,b,y,k,x,w,S,C,O,T,j;const I=t.data[0],A=s.a.chain(this.$OptimusStageMetadata).find({name:I.template.template_type}).value();this.form=Object.assign(this.form,I),this.form.isOrder=Number(!!I.order_id),this.form.order_id=I.order_id?null===(a=I.order_id)||void 0===a?void 0:a.toString():"",this.businessKey&&(this.form.isOrder=1);const[D]=I.formal_task_relation_vos,[M]=I.formal_task_relations,E=M.queue_label_strategy&&JSON.parse(M.queue_label_strategy);this.form.task_template_key=null===E||void 0===E||null===(r=E.user_label_strategy)||void 0===r?void 0:r.task_template_key,this.matchQuestions=3===D.queue_label_type,this.form.user_label_key=null===E||void 0===E||null===(i=E.user_label_strategy)||void 0===i?void 0:i.user_label_key,this.form.model_id=I.model_id?null===(n=I.model_id)||void 0===n?void 0:n.toString():null,this.businessModelValue=I.model_name?I.model_name.split("-"):[],this.form.is_dynamic=!!I.is_dynamic,this.form.cross_num>=2&&(this.form.isCross=!0),this.form.label_nums>1&&(this.form.isLabelNums=!0),this.form.isTime=!(null===(o=I.formal_task_relation_vos)||void 0===o||null===(l=o[0])||void 0===l||!l.label_timeout)||!(null===(c=I.formal_task_relation_vos)||void 0===c||null===(d=c[0])||void 0===d||!d.relabel_timeout),this.form.isPack=!!(I.pack_num>0),this.form.isReceiveTeam=!!I.receive_team_id,this.form.security_strategy=null===(u=I.formal_task_relation_vos)||void 0===u||null===(h=u[0])||void 0===h?void 0:h.security_strategy,this.form.edit_label_result=!!this.isAdd||!(null===(p=I.formal_task_relation_vos)||void 0===p||null===(f=p[0])||void 0===f||!f.edit_label_result),this.form.isAudit=!(!I.audit_supplier_id||-1===I.audit_supplier_id),this.form.audit_supplier_id=this.form.isAudit?I.audit_supplier_id.toString():"",this.form.queue_type=null===(m=I.formal_task_relation_vos)||void 0===m||null===(g=m[0])||void 0===g?void 0:g.queue_type,this.form.label_timeout=null===(_=I.formal_task_relation_vos)||void 0===_||null===(v=_[0])||void 0===v?void 0:v.label_timeout,this.form.relabel_timeout=I.relabel_timeout||0;const{label_auto_pause_timeout:R,check_auto_pause_timeout:B}=I;if(this.form.need_settle=null===D||void 0===D?void 0:D.need_settle,this.form.include_invalid=null===D||void 0===D?void 0:D.include_invalid,this.form.recommended_kpi=null===(b=I.formal_task_relations)||void 0===b||null===(y=b[0])||void 0===y?void 0:y.recommended_kpi,this.form.kpi_explanation=null!==(k=null===(x=I.formal_task_relations)||void 0===x||null===(w=x[0])||void 0===w?void 0:w.kpi_explanation)&&void 0!==k?k:"",this.order=null===(S=this.orders.filter(e=>e.order_id===String(I.order_id)))||void 0===S?void 0:S[0],this.order={...this.order,min_recommended_kpi:null===D||void 0===D?void 0:D.min_recommended_kpi,max_recommended_kpi:null===D||void 0===D?void 0:D.max_recommended_kpi},this.form.label_auto_pause_timeout=R,this.form.check_auto_pause_timeout=B,this.form.isAutoPause=this.form.label_auto_pause_timeout>=0||this.form.check_auto_pause_timeout>=0,this.form.allow_label_group=!!I.allow_label_group,this.canRecommendKpiEdit=Boolean(null===(C=I.formal_task_relations)||void 0===C||null===(O=C[0])||void 0===O?void 0:O.recommended_kpi),this.canKpiExplanationEdit=Boolean(null===(T=I.formal_task_relations)||void 0===T||null===(j=T[0])||void 0===j?void 0:j.kpi_explanation),this.isBusinessSettlement){const e=null===I||void 0===I?void 0:I.formal_task_relations[0];Object.assign(this.form,{employment_mode:(null===e||void 0===e?void 0:e.employment_mode)||"无",personnel_level:(null===e||void 0===e?void 0:e.personnel_level)||"",piecework_price:null===e||void 0===e?void 0:e.piecework_price,max_first_check_ratio:[-1,null].includes(null===e||void 0===e?void 0:e.max_first_check_ratio)?null:100*e.max_first_check_ratio})}var P;if(this.transformTimeout(),this.transformAutoPauseTimeout(),e){if(this.externalTaskDatas=[I],this.externalTaskDatas[0].datas=s.a.reverse(I.formal_task_relations),this.externalTaskDatas[0].detail_num=this.form.isPack?I.pack_num:I.data_num,null!==(P=I.formal_task_relation_vos)&&void 0!==P&&P[0]){var L;const{labeler_condition:e,reviewer_condition:t}=null===(L=I.formal_task_relation_vos)||void 0===L?void 0:L[0];this.form.labeler_condition=e&&"{}"!==e?e:"",this.form.reviewer_condition=t&&"{}"!==t?t:""}}else this.insideTaskDatas=I.formal_task_relations,this.insideTaskDatas[0].number=this.form.isPack?I.pack_num:I.data_num;this.deadlineTimeValue=I.deadline_time;const{id:F,template_desc:N,template_name:$,template_type:z}=I.template;return this.templateData={template_id:F,template_desc:N,template_name:$,template_type:z,repeatable:null===A||void 0===A?void 0:A.repeatable},this.getPutNum(I.dataset_import_id),this.fetchTemplate(F),I}).catch(e=>{this.$Message.error("数据获取失败："+e.message)})},fetchFormalDemo(){const e={project_id:Object(m["BigNumber"])(this.$route.params.id),page:{start:0,size:1,return_total:1},need_stat_task:!0,need_relation:!0};return Object(_["g"])(e).then(e=>{if(e.data.length>0)return e.data[0]})},fetchReceiveTeams(e){const t={page:{start:0,size:100,return_total:1},company_id:this.project.company_id};return e&&Object.assign(t,e),Object(g["s"])(t).then(e=>e.data)},fetchLabelTeams(e){const t={page:{start:0,size:100,return_total:1},company_id:this.project.company_id};return e&&Object.assign(t,e),Object(g["s"])(t).then(e=>e.data)},fetchProject(){const e={project_id:Object(m["BigNumber"])(this.$route.params.id)};return Object(p["i"])(e).then(e=>(this.$nextTick(()=>{this.form.security_strategy=e.security_strategy}),e)).catch(e=>{this.$Message.error("查询失败："+e.message)})},fetchFileData(){const e={project_id:this.$route.params.id,page:{start:0,size:1,return_total:0},import_task_ids:[this.form.dataset_import_id],need_pack_cnt:!0};return Object(p["n"])(e).then(e=>e.data).catch(e=>{this.$Message.error("数据包获取失败："+e.message)})},fetchStatImportTask(e){const t={project_id:this.project.project_id,dataset_import_id:this.form.dataset_import_id,need_pack_cnt:e?Number(e.need_pack_cnt):0};return Object(p["u"])(t).then(e=>e).catch(e=>{console.log(e)})},fetchFileDatasBase(e){const t={project_id:this.$route.params.id,page:{start:0,size:100,return_total:1}};return e&&Object.assign(t,e),Object(p["n"])(t).then(e=>e.data.filter(e=>"导入完成"===e.status)).catch(e=>{this.$Message.error("数据包获取失败："+e.message)})},fetchOrders(){var e;const{project:t}=this,a={project_id:t.project_id,order_name:null!==(e=this.form.order_name)&&void 0!==e?e:""};return Object(p["p"])(a).then(e=>e.data.map(e=>({...e,model_id:e.model_id.toString()})))},fetchBusinessModels(){const e={business_id:this.project.business_id,page:{start:0,size:1e3,return_total:1}};return Object(k["c"])(e).then(e=>this.businessModelsHook(e))},fetchSubmitTask(e){this.transformTimeout("toMinutes"),this.transformAutoPauseTimeout("toSeconds");const t={...this.submitParams,is_publish:e?1:0,security_strategy:this.form.security_strategy,edit_label_result:this.form.edit_label_result?1:0};console.log(t);const a=this;let r;const i=new Promise((e,a)=>(console.log(t),Object(_["c"])(t).then(t=>{t&&e("success")}).catch(e=>{a(e)}))),n=new Promise(t=>{a.$Message.info({render:t=>t("span",`正在${e?"创建":"保存"}任务……已等待${a.timeoutCount}秒`),duration:a.timeoutLimit/1e3}),r=setInterval(()=>{a.timeoutCount+=1,a.timeoutCount>=a.timeoutLimit/1e3&&t("timeout")},1e3)});return Promise.race([i,n]).then(t=>{switch(clearInterval(r),this.$Message.destroy(),a.timeoutCount=0,t){case"success":return void a.$Message.success({content:(e?"创建":"保存")+"成功！",duration:1,onClose:()=>a.goback()});case"timeout":return void a.$Message.warning({content:(e?"创建":"保存")+"超时，即将返回到任务列表……",duration:1,onClose:()=>a.goback()})}}).catch(e=>{clearInterval(r),this.$Message.destroy(),a.timeoutCount=0,this.$Message.error("创建失败："+e.message)})},fetchSubmitDynamicTask(){this.transformTimeout("toMinutes"),this.transformAutoPauseTimeout("toSeconds");const e={...this.submitParams,is_publish:1,security_strategy:this.form.security_strategy,edit_label_result:this.form.edit_label_result?1:0};return Object(_["c"])(e).then(e=>(e&&(this.$Message.success("创建成功"),this.goback()),e)).catch(e=>{this.$Message.error("创建失败："+e.message)})},fetchListBusinessEmploymentModes(){const e={business_id:this.project.business_id,page:{start:0,size:1e3,return_total:1}};return Object(k["h"])(e).then(e=>e.data.reduce((e,t)=>(e[t.employment_mode]=t.employment_mode_name,e),{}))}}},L=P,F=(a("f5a8"),a("2be6")),N=Object(F["a"])(L,r,i,!1,null,"e30a6e84",null);t["default"]=N.exports},dced:function(e,t,a){"use strict";a("e9d1")},dd82:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return s}));var r=a("dde5");const i=e=>r["d"].post("passport/verify-email",e),n=e=>Object(r["d"])({url:"passport/verify-token",method:"GET",params:e}),s=e=>Object(r["d"])({url:"passport/register",method:"GET",params:e})},ddbb:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"market"},[a("Header",{staticClass:"header"},[a("Icon",{staticStyle:{margin:"15px"},attrs:{type:"ios-cart",size:"50"}}),a("h1",[e._v("模版市场")])],1),a("Layout",{staticStyle:{margin:"30px 70px"}},[a("Content",[a("Layout",[a("Sider",{style:{background:"#fff",margin:"0 20px 0 0"},attrs:{"hide-trigger":""}},[a("div",{staticStyle:{margin:"20px 20px"}},[a("h3",[e._v("场景选择")]),a("Tree",{ref:"tree",staticClass:"tree",attrs:{data:e.templateType},on:{"on-select-change":e.check}})],1)]),a("Content",{staticClass:"layout-content"},[a("Table",{attrs:{columns:e.columns,data:e.templates,loading:e.fetchTemplates.isPending},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.row;return[a("router-link",{attrs:{to:{path:"/templates/"+r.id+"/preview",params:{id:r.id}},target:"_blank"}},[e._v("预览")]),a("Divider",{attrs:{type:"vertical"}}),a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.selectTemplate(r)}}},[e._v("保存")])]}}])}),a("div",{staticClass:"page"},[a("div",{staticClass:"page_inside"},[a("Page",{attrs:{current:e.pageIndex,total:e.pageTotal,"page-size":e.pageSize,"show-elevator":"","show-total":""},on:{"on-change":e.changePage}})],1)])],1)],1)],1),a("Modal",{attrs:{title:"提示",width:"400px"},model:{value:e.confirmModal,callback:function(t){e.confirmModal=t},expression:"confirmModal"}},[a("p",{staticStyle:{height:"80px","line-height":"40px"}},[e._v("模版已保存，可以创建项目和查看我的模版。")]),a("template",{slot:"footer"},[a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.goWay("/projects/list/create")}}},[e._v("前往创建项目")]),a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.goWay("/projects/templates")}}},[e._v("查看我的模版")]),a("Button",{on:{click:function(t){e.confirmModal=!1}}},[e._v("关闭")])],1)],2)],1)],1)])},i=[],n=a("b0f9"),s={data(){return{confirmModal:!1,scene:[],templates:[],templateType:[],pageIndex:1,pageSize:10,pageTotal:0,params:{},height:0,columns:[{title:"#",key:"id",width:"100",align:"right"},{title:"模板名称",key:"template_name",width:"200"},{title:"模板简介",key:"template_desc",width:"500"},{title:"操作",slot:"action",minWidth:150}]}},watch:{scene(e){e.length>0?this.params.template_scene=e:this.params.template_scene="",this.pageIndex=1,this.fetchTemplates(this.params)}},created(){this.fetchTemplates(),this.height=window.innerHeight-204+"px",console.log(this.height)},methods:{check({},e){let t="",a=!1;const r=i=>{i.forEach(i=>{e.key!==i.key||a?i.children&&!a&&(t=""===t?i.key:`${t},${i.key}`,r(i.children)):(t=""===t?i.key:`${t},${i.key}`,a=!0)})};r(this.templateType),this.scene=a?t:""},selectTemplate(e){const t={template_component:e.template_component,template_desc:e.template_desc,template_name:e.template_name,template_sample:e.template_sample,template_scene:e.template_scene,template_schema:e.template_schema,template_origin:"模板市场"};Object(n["i"])(t).then(e=>{e&&(this.confirmModal=!0,this.template_id=e)})},goWay(e){this.confirmModal=!1,this.$router.push({path:""+e})},changePage(e){this.pageIndex=e,this.fetchTemplates()}},asyncMethods:{fetchTemplates(e){return this.params={page:{start:(this.pageIndex-1)*this.pageSize,size:this.pageSize},return_total:1},e&&(this.params=e),Object(n["m"])(this.params).then(e=>(this.templates=e.data,this.pageTotal=e.total,this.templates)).catch(e=>{console.log(e),this.$Message.error("列表数据获取失败，请刷新重试")})}}},o=s,l=(a("dced"),a("2be6")),c=Object(l["a"])(o,r,i,!1,null,"596fe7b6",null);t["default"]=c.exports},de3e:function(e,t,a){},e042:function(e,t,a){"use strict";a("56c2")},e043:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"person-box"},[a("div",{staticClass:"sider"},[a("Icon",{staticClass:"mbm",attrs:{type:"ios-contact-outline",size:"100"}}),a("div",{staticClass:"mbs"},[a("span",{staticClass:"header"},[e._v(e._s(e.nickName))]),a("Tooltip",{attrs:{content:"修改昵称",placement:"right"}},[a("Icon",{staticClass:"mls",staticStyle:{cursor:"pointer"},attrs:{type:"ios-create",size:"20",color:"#5cadff"},on:{click:function(t){return e.editNickName(e.nickName)}}})],1)],1),a("p",[e._v(e._s(e.userinfo.email||"-"))]),a("p",[e._v(e._s(e.companyName||"-"))])],1),a("div",{staticClass:"container"},[a("Tabs",{attrs:{name:"0"},on:{"on-click":e.changeTab},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[e.isInCompany?e._e():a("TabPane",{attrs:{label:"我的公司",name:"/my-company",tab:"0"}}),e.isInCompany?a("TabPane",{attrs:{label:"处理中的题目",name:"/questions-processing",tab:"0"}}):e._e(),e.userinfo.company_id?[a("TabPane",{attrs:{label:"我的小组",name:"/my-team",tab:"0"}})]:e._e()],2),a("router-view",{staticClass:"t_padding"})],1)])},i=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{title:"修改用户昵称",width:"450",transfer:!1,"mask-closable":!1},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("Form",{ref:"form",attrs:{model:e.form}},[a("FormItem",{attrs:{prop:"newName",rules:{required:!0,message:"不能为空"}}},[a("Input",{attrs:{maxlength:"12",placeholder:"请输入昵称，最多12个字符"},on:{"on-enter":e.fetchUpdateUser},model:{value:e.form.newName,callback:function(t){e.$set(e.form,"newName",t)},expression:"form.newName"}})],1)],1),a("div",{staticClass:"switch_button",attrs:{slot:"footer"},slot:"footer"},[a("Button",{on:{click:function(t){e.visible=!1}}},[e._v("取消")]),a("Button",{attrs:{type:"primary",loading:e.fetchUpdateUser.isPending},nativeOn:{click:function(t){return e.UpdateUser.apply(null,arguments)}}},[e._v("确定")])],1)],1)},s=[],o=a("c833"),l={props:{oldName:String},data(){return{visible:!0,form:{newName:""}}},created(){this.form.newName=this.oldName},methods:{UpdateUser(){this.$refs.form.validate(e=>{e?this.form.newName.trim()?this.fetchUpdateUser():this.$Message.error("提交失败，名称不能为空"):this.$Message.error("提交失败，请检查是否有遗漏")})}},asyncMethods:{fetchUpdateUser(){const e={nick_name:this.form.newName.trim()};return Object(o["q"])(e).then(e=>{e?(this.$Message.success("修改成功！"),this.visible=!1,setTimeout(()=>{this.$emit("refresh")},300)):this.$Message.error("修改失败")}).catch(e=>{this.$Message.error("修改失败："+e.message)})}}},c=l,d=a("2be6"),u=Object(d["a"])(c,n,s,!1,null,null,null),h=u.exports,p={data(){return{tab:"/questions-processing",userinfo:{},showAvatar:!0}},computed:{nickName(){const e=this.$store.state.userinfo.user?this.$store.state.userinfo.user.nick_name:"";return e},companyName(){var e,t;return null===(e=this.$store.state.userinfo)||void 0===e||null===(t=e.company)||void 0===t?void 0:t.company_name},isInCompany(){var e,t;return Boolean(null===(e=this.$store.state.userinfo)||void 0===e||null===(t=e.company)||void 0===t?void 0:t.company_id)}},created(){var e,t;this.userinfo=this.$store.state.userinfo.user,null!==(e=this.$store.state.userinfo)&&void 0!==e&&null!==(t=e.company)&&void 0!==t&&t.company_id&&this.changeTab("/questions-processing")},mounted(){this.changeTab(this.$route.path.match(/(\/[\w-]+)/g)[1]),this.$route.query.success&&(this.$Message.success("切换账号成功"),this.$router.replace(this.$route.path))},methods:{editNickName(e){this.$FastModal.show(h,{oldName:e},{refresh(){location.reload()}})},changeTab(e){this.tab=e,this.$router.push({path:"/personal-center"+e})}}},f=p,m=(a("71bc"),Object(d["a"])(f,r,i,!1,null,"3f726eb5",null));t["default"]=m.exports},e0bc:function(e,t,a){},e125:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"create_bid"},[a("Row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[a("Breadcrumb",[a("BreadcrumbItem",{attrs:{to:{path:"/projects/list/"+e.$route.params.id,query:{tab:"bid-tasks"}}}},[e._v("试标任务")]),e.isAdd?a("BreadcrumbItem",[e._v("新建试标任务")]):a("BreadcrumbItem",[e._v("编辑试标任务")])],1)],1),a("br"),a("Divider",{attrs:{orientation:"left"}},[e.isAdd?a("h2",{staticClass:"mbm"},[e._v("新建试标任务")]):a("h2",{staticClass:"mbm"},[e._v("编辑试标任务")])]),a("div",{staticClass:"margin"},[a("Form",{ref:"formBasic",attrs:{model:e.form,"label-position":"top",inline:""}},[a("Row",[a("Col",{attrs:{span:"12"}},[a("div",{staticClass:"label"},[e._v("项目名称")]),a("span",{staticClass:"mrm"},[e._v(e._s(e.project.project_name))])]),a("Col",{attrs:{span:"12"}},[a("div",{staticClass:"label"},[e._v("项目交付时间")]),a("span",[e._v(e._s(e.project.project_expect_date||"-"))])])],1),a("Row",[a("Col",{attrs:{span:"12"}},[a("div",{staticClass:"label"},[e._v("项目类型")]),a("span",{staticClass:"mrm"},[e._v(e._s(1===e.project.project_type?"外部标注项目":"内部标注项目"))])]),a("Col",{attrs:{span:"12"}},[a("div",{staticClass:"label"},[e._v("项目说明")]),a("span",[e._v(e._s(e.project.project_desc||"-"))])])],1),a("br"),a("br"),a("h4",[e._v("1、基础信息")]),a("Divider"),e.isAdd?a("Row",[a("Col",{attrs:{span:"24"}},[a("t-space",{staticStyle:{"align-items":"center"},attrs:{size:8}},[a("FormItem",{staticClass:"width",attrs:{label:"指定供应商",prop:"supplier_id_list",rules:{required:!0,message:"意向供应商是必选项"}}},[a("auth-view",{attrs:{perm:{domain:"task",action:"view-bid-supplier",extra:{company:e.userinfo.user.company_id}}}},[a("Select",{attrs:{placeholder:"--请选择--",multiple:"",filterable:"","label-in-value":"",disabled:!e.isAdd||e.form.is_all_supplier},on:{"on-change":e.addSupplier},model:{value:e.form.supplier_id_list,callback:function(t){e.$set(e.form,"supplier_id_list",t)},expression:"form.supplier_id_list"}},e._l(e.project.suppliers||e.orderSuppliers||[],(function(t){return a("Option",{key:t.company_id.toString(),attrs:{value:t.company_id.toString()}},[e._v(e._s(t.company_name))])})),1),a("template",{slot:"forbidden"},[a("Select",{attrs:{placeholder:"--请选择--",multiple:"",filterable:"","label-in-value":"",disabled:!e.isAdd||e.form.is_all_supplier},on:{"on-change":e.addSupplier},model:{value:e.form.supplier_id_list,callback:function(t){e.$set(e.form,"supplier_id_list",t)},expression:"form.supplier_id_list"}},e._l(e.project.suppliers||e.orderSuppliers||[],(function(t){return a("Option",{key:t.company_id.toString(),attrs:{value:t.company_id.toString()}},[e._v("供应商"+e._s(t.supplier_no))])})),1)],1)],2)],1),a("FormItem",{staticStyle:{width:"370px","padding-top":"20px"}},[a("Tooltip",{attrs:{content:"标准订单默认全量发布",placement:"top-start",disabled:!e.project.is_standard_order}},[a("Checkbox",{attrs:{disabled:!!e.project.is_standard_order},on:{"on-change":e.selectAll},model:{value:e.form.is_all_supplier,callback:function(t){e.$set(e.form,"is_all_supplier",t)},expression:"form.is_all_supplier"}},[e._v("全量发布 （勾选后，试标任务将发布给全部供应商）")])],1)],1)],1)],1)],1):a("Row",[a("Col",{attrs:{span:"11"}},[a("FormItem",{staticClass:"width",attrs:{label:"指定供应商",prop:"supplier_id_list",rules:{required:!0,message:"意向供应商是必选项"}}},[a("auth-view",{attrs:{perm:{domain:"task",action:"view-bid-supplier",extra:{company:e.userinfo.user.company_id}}}},[a("Select",{attrs:{placeholder:"--请选择--",multiple:"",filterable:"","label-in-value":"",disabled:!e.isAdd},model:{value:e.form.supplier_id_list,callback:function(t){e.$set(e.form,"supplier_id_list",t)},expression:"form.supplier_id_list"}},e._l(e.project.suppliers||e.orderSuppliers||[],(function(t){return a("Option",{key:t.company_id.toString(),attrs:{value:t.company_id.toString()}},[e._v(e._s(t.company_name))])})),1),a("template",{slot:"forbidden"},[a("Select",{attrs:{placeholder:"--请选择--",multiple:"",filterable:"","label-in-value":"",disabled:!e.isAdd},model:{value:e.form.supplier_id_list,callback:function(t){e.$set(e.form,"supplier_id_list",t)},expression:"form.supplier_id_list"}},e._l(e.project.suppliers||e.orderSuppliers||[],(function(t){return a("Option",{key:t.company_id.toString(),attrs:{value:t.company_id.toString()}},[e._v("供应商"+e._s(t.supplier_no))])})),1)],1)],2)],1)],1),a("Col",{attrs:{span:"13"}},[a("FormItem",{staticClass:"width",attrs:{label:"新增指定供应商"}},[a("Select",{attrs:{placeholder:"--请选择--",multiple:"",filterable:"","label-in-value":"",disabled:e.isAllSelecte||e.bidTask&&1===e.bidTask.status_id},on:{"on-change":e.addSupplier},model:{value:e.newSupplier,callback:function(t){e.newSupplier=t},expression:"newSupplier"}},e._l(e.newSuppliers||e.orderSuppliers||[],(function(t){return a("Option",{key:t.company_id.toString(),attrs:{value:t.company_id.toString(),label:t.company_name}},[a("span",[e._v(e._s(t.company_name))])])})),1)],1),a("FormItem",{staticStyle:{width:"70px"}},[a("Checkbox",{attrs:{disabled:e.bidTask&&1===e.bidTask.status_id},on:{"on-change":e.selectAll},model:{value:e.isAllSelecte,callback:function(t){e.isAllSelecte=t},expression:"isAllSelecte"}},[e._v("全选")])],1)],1)],1),a("Row",[a("Col",{attrs:{span:"11"}},[a("FormItem",{staticClass:"width",attrs:{label:"物料类型",prop:"materials_type",rules:{required:!0,message:"物料类型是必选项"}}},[a("Select",{attrs:{placeholder:"--请选择--",filterable:""},model:{value:e.form.materials_type,callback:function(t){e.$set(e.form,"materials_type",t)},expression:"form.materials_type"}},e._l(e.materials,(function(t){return a("Option",{key:t,attrs:{value:t,label:t}},[a("span",[e._v(e._s(t))])])})),1)],1)],1),a("Col",{attrs:{span:"13"}},[a("FormItem",{attrs:{label:"合格率",prop:"passed_rate",rules:{required:!0,message:"合格率是必选项"}}},[a("InputNumber",{staticStyle:{width:"150px"},attrs:{min:0,max:100},model:{value:e.form.passed_rate,callback:function(t){e.$set(e.form,"passed_rate",t)},expression:"form.passed_rate"}}),a("span",[e._v(" %")])],1)],1)],1),a("Row",[a("Col",{attrs:{span:"11"}},[a("FormItem",{attrs:{label:"总需求数量",prop:"overall_total",rules:e.totalNumRules}},[a("InputNumber",{staticStyle:{width:"170px"},model:{value:e.form.overall_total,callback:function(t){e.$set(e.form,"overall_total",t)},expression:"form.overall_total"}}),a("FormItem",{staticStyle:{width:"90px","margin-left":"20px"},attrs:{prop:"unit",rules:{required:!0,message:"单位是必选项"}}},[a("Select",{attrs:{placeholder:"-请选择-",filterable:""},model:{value:e.form.unit,callback:function(t){e.$set(e.form,"unit",t)},expression:"form.unit"}},e._l(e.units,(function(t){return a("Option",{key:t,attrs:{value:t,label:t}},[a("span",[e._v(e._s(t))])])})),1)],1)],1)],1),a("Col",{attrs:{span:"13"}},[a("FormItem",{staticClass:"width",attrs:{label:"交付频率",prop:"lead_time_str",rules:{required:!0,message:"交付频率是必填项"}}},[a("Input",{model:{value:e.form.lead_time_str,callback:function(t){e.$set(e.form,"lead_time_str",t)},expression:"form.lead_time_str"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"11"}},[a("FormItem",{staticClass:"width",attrs:{label:"物料描述",prop:"materials_description",rules:{required:!0,message:"物料描述是必填项"}}},[a("Input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:5},placeholder:"请简要描述物料信息"},model:{value:e.form.materials_description,callback:function(t){e.$set(e.form,"materials_description",t)},expression:"form.materials_description"}})],1)],1),a("Col",{attrs:{span:"13"}},[a("FormItem",{attrs:{label:"试标截止时间",prop:"deadline_time",rules:{required:!0,message:"试标截止时间是必选项"}}},[a("DatePicker",{staticStyle:{width:"250px"},attrs:{value:e.form.deadlineTime,type:"datetime",options:e.options,placeholder:"请选择试标截止时间",disabled:!(!e.bidTask||!e.bidTask.is_close_deliver)},on:{"on-change":function(t){e.form.deadline_time=t}}})],1),e.isAdd?e._e():a("div",{staticStyle:{margin:"-24px 0 0 12px",color:"#999"}},[e._v("如需对试标任务进行延期，可在AIdata操作【截止试标】前修改试标截止时间")])],1)],1),a("Row",[a("Col",{attrs:{span:"10"}},[a("FormItem",{staticStyle:{width:"100%"},attrs:{label:"规则文档",prop:"attachment"}},[e.isAdd?a("span",{staticClass:"txt-muted"},[e._v("(任务创建成功后，可上传规则文档)")]):e.bidTask?a("Row",{staticStyle:{width:"100%"}},[a("Col",{attrs:{span:"24"}},[a("Alert",{staticClass:"mlm mrm",attrs:{"show-icon":""}},[e._v("相关附件目前允许供应商下载，建议脱敏后上传")])],1),a("Col",{attrs:{span:"24"}},[a("attachment",{attrs:{options:["upload","write"],task:Object.assign({},e.bidTask,{task_type:1}),objId:e.bidTask.bid_id.toString(),objType:"bid-task",objScene:"rule"}})],1)],1):e._e()],1)],1)],1),a("br"),a("h4",[e._v("2、编辑模板")]),a("Divider"),a("FormItem",{attrs:{label:"选择模板",required:!0}},[a("templateCascader",{directives:[{name:"show",rawName:"v-show",value:!(e.templateData&&e.templateData.template_id),expression:"!(templateData && templateData.template_id)"}],ref:"templateCascader",attrs:{project:e.project},on:{"update:template":function(t){e.templateData=t}}}),e.templateData&&e.templateData.template_id?a("span",{staticClass:"txt-muted"},[e._v("（"+e._s(e.isAdd?"编辑你所选的项目模板，下发成功后将自动生成任务模板":"编辑模板仅对当前任务生效")+"）")]):e._e(),a("router-link",{staticStyle:{"margin-left":"20px"},attrs:{to:"/projects/list/"+e.project.project_id+"?tab=template",target:"_blank"}},[e._v("(若还未配置模板，请点击此处)")])],1),e.templateData&&e.templateData.template_id?a("Table",{attrs:{border:"",columns:e.templateColumns,data:[e.templateData]},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.row;return[a("auth-view",{attrs:{perm:{domain:"task",action:"edit-bid-task",extra:{company:e.companyinfo.company_id,project:e.project.project_id}}}},[a("a",{on:{click:function(t){return e.editWarnHint(r)}}},[e._v("编辑")]),e.isAdd?[a("Divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(t){return e.$refs.templateCascader.selectTemplate()}}},[e._v("重选模板")])]:e._e(),a("template",{slot:"forbidden"},[e.editTemplateStatus||e.isAdd?a("a",{on:{click:function(t){return e.editWarnHint(r)}}},[e._v("编辑")]):a("span",[e._v("-")])])],2)]}}],null,!1,3831791675)}):e._e(),a("br"),a("br"),a("h4",[e._v("3、安全策略")]),a("Divider"),a("Row",[a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"作业管理模式",required:!0}},[a("t-space",{attrs:{direction:"vertical",size:0}},[a("RadioGroup",{model:{value:e.form.security_strategy,callback:function(t){e.$set(e.form,"security_strategy",t)},expression:"form.security_strategy"}},[a("Radio",{attrs:{label:0,disabled:e.isRadioDisabled}},[e._v("不限制场地")]),1===e.form.security_strategy?a("Radio",{attrs:{label:1,disabled:e.isRadioDisabled}},[e._v("仅基地标注")]):e._e(),a("Radio",{attrs:{label:3,disabled:1===e.project.project_type&&3===e.form.security_strategy&&e.isRadioDisabled}},[e._v("供应商管理场地")]),a("Radio",{attrs:{label:2,disabled:e.isRadioDisabled}},[e._v("供应商场地作业管控区")])],1),0===e.form.security_strategy?a("span",{staticClass:"txt-muted marginText"},[e._v("不限定工作场地，接受兼职、线上等多种作业模式，价格较其他模式略低。")]):3===e.form.security_strategy?a("span",{staticClass:"txt-muted marginText"},[e._v("在供应商管理的工作场地内作业，服从供应商的现场管理规则。包括供应商自有场地或其下游分包商场地")]):e._e(),2===e.form.security_strategy?a("span",{staticClass:"txt-muted marginText"},[e._v("供应商自有场地，按我司数据隔离区要求进行改造并通过我司验收的；由供应商自有人员进行作业。")]):e._e()],1)],1)],1)],1),a("br"),a("br"),a("h4",[e._v("4、流程配置")]),a("Divider"),a("Row",[a("t-space",{attrs:{direction:"vertical"}},[a("Col",{attrs:{span:"24"}},[a("t-tooltip",{attrs:{disabled:e.isCrossOk,placement:"right"}},[a("div",{staticStyle:{"white-space":"normal"},attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.isAdd?"交叉标注不能与一页多题同时配置":"不可编辑"))]),a("Checkbox",{staticClass:"mtm mbm",attrs:{disabled:!e.isCrossOk},on:{"on-change":function(t){e.form.cross_num=t?2:0}},model:{value:e.form.isCross,callback:function(t){e.$set(e.form,"isCross",t)},expression:"form.isCross"}},[a("b",[e._v("交叉标注")])]),a("span",{staticClass:"mlm txt-muted"},[e._v("（开启后可将同一题目下发给多人标注并生成拟合结果；暂不支持和动态任务/一页多题同时配置）")])],1)],1),e.form.isCross?a("div",{staticClass:"mbm operationBox"},[a("Col",{attrs:{span:"24"}},[a("FormItem",{staticClass:"mtm mbm",attrs:{label:"交叉人数",prop:"cross_num",rules:e.ruleValidate}},[a("InputNumber",{staticClass:"mls",attrs:{min:1,max:e.cross_num_limit,disabled:!e.isAdd},model:{value:e.form.cross_num,callback:function(t){e.$set(e.form,"cross_num",t)},expression:"form.cross_num"}}),a("span",{staticClass:"mls"},[e._v("个人同时标注一道题")])],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{staticClass:"mbm",attrs:{label:"拟合设置",prop:"cross_num",rules:{required:!0}}},[a("div",{staticStyle:{"line-height":"1",padding:"10px 0"}},[a("span",{staticClass:"mts txt-muted"},[e._v("默认按众数计算拟合结果")]),a("a",{on:{click:function(t){return e.editWarnHint(e.templateData)}}},[e._v("（点击前往模板，可在标签维度修改拟合结果计算规则）")])])])],1)],1):e._e(),a("Col",{attrs:{span:"24"}},[a("Checkbox",{staticClass:"mtm mbm",attrs:{disabled:!e.isReceiveTeamOk},model:{value:e.form.isReceiveTeam,callback:function(t){e.$set(e.form,"isReceiveTeam",t)},expression:"form.isReceiveTeam"}},[a("b",[e._v("验收质检")])]),a("span",{staticClass:"mlm txt-muted"},[e._v("（标注需求方如需在验收环节抽检，需开启并配置验收小组）")]),e.form.isReceiveTeam?a("div",{staticClass:"mbm operationBox"},[a("Col",{staticStyle:{"align-item":"center"},attrs:{span:"24"}},[a("FormItem",{staticClass:"mtm mbm",attrs:{label:"内部小组",prop:"receive_team_id",rules:{required:!0,message:"验收小组是必填项"}}},[a("Select",{staticStyle:{width:"300px"},attrs:{disabled:!e.isReceiveTeamOk,filterable:"","filter-by-label":"",clearable:"",placeholder:"请输入小组名称关键词以搜索对应小组",loading:e.fetchCompanyTeams.isPending,"remote-method":e.debounceCompanyTeams},on:{"on-clear":function(t){return e.fetchCompanyTeams()},"on-open-change":function(t){t&&!e.form.receive_team_id&&e.fetchCompanyTeams()}},model:{value:e.form.receive_team_id,callback:function(t){e.$set(e.form,"receive_team_id",t)},expression:"form.receive_team_id"}},e._l(e.companyTeams,(function(t){return a("Option",{key:t.team_id,attrs:{value:t.team_id,label:t.team_name}},[a("p",[e._v(e._s(t.team_name))]),a("small",{staticClass:"txt-muted"},[e._v("创建人: "+e._s(t.nick_name))])])})),1),a("router-link",{staticClass:"mlm",attrs:{to:"/personal-center/my-team",target:"_blank"}},[e._v("去创建")])],1)],1)],1):e._e()],1)],1)],1),a("br"),a("br"),a("h4",[e._v("5、做题配置")]),a("Divider"),a("t-row",{attrs:{gutter:[0,8]}},[a("t-col",{attrs:{span:12}},[a("Checkbox",{staticClass:"mtm mbm",model:{value:e.matchQuestions,callback:function(t){e.matchQuestions=t},expression:"matchQuestions"}},[a("b",[e._v("人题匹配")])]),a("span",{staticClass:"mlm txt-muted"},[e._v("（开启后，优先领取题目标签和人员标签匹配的题目标注）")])],1),e.matchQuestions?a("div",{staticClass:"mbm operationBox"},[a("Col",{attrs:{span:"24"}},[a("FormItem",{staticClass:"mbm",attrs:{label:"题目标签",prop:"task_template_key"}},[a("t-select",{model:{value:e.form.task_template_key,callback:function(t){e.$set(e.form,"task_template_key",t)},expression:"form.task_template_key"}},e._l(e.templateSchema,(function(e){return a("t-option",{key:e,attrs:{value:e,label:e}})})),1)],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"人员标签",prop:"user_label_key"}},[a("t-select",{model:{value:e.form.user_label_key,callback:function(t){e.$set(e.form,"user_label_key",t)},expression:"form.user_label_key"}},[a("t-option",{attrs:{value:"专业分类"}},[e._v("专业分类")])],1)],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"匹配规则"}},[a("t-radio-group",{model:{value:e.matchRule,callback:function(t){e.matchRule=t},expression:"matchRule"}},[a("t-radio",{attrs:{value:"allMatch"}},[e._v("存在匹配（题目标签完全存在于人员标签集合中）")]),a("t-radio",{attrs:{disabled:!0}},[e._v("逻辑匹配（通过逻辑组合将题目和人员标签进行匹配）")])],1)],1)],1)],1):e._e(),a("t-col",{attrs:{span:12}},[a("Checkbox",{staticClass:"mtm mbm",attrs:{disabled:!e.isPackOk},model:{value:e.form.isPack,callback:function(t){e.$set(e.form,"isPack",t)},expression:"form.isPack"}},[e.isPackOk?a("b",[e._v("题包")]):[a("t-tooltip",{scopedSlots:e._u([{key:"content",fn:function(){return[a("span",[e._v(e._s(e.isAdd?"不支持的标注模板场景":"不可编辑"))])]},proxy:!0}],null,!1,2615780410)},[a("b",[e._v("题包")])])]],2),a("span",{staticClass:"mlm txt-muted"},[e._v("（题目可按类聚合成题包，开启后按题包流转作业；仅支持部分模板；动态任务只支持在单个数据包内聚类）")])],1),e.form.isPack?a("div",{staticClass:"mbm operationBox"},[a("Col",{attrs:{span:"24"}},[a("FormItem",{staticClass:"mbm",attrs:{label:"聚合字段",prop:"pack_key",rules:{required:!0}}},[a("div",{staticStyle:{"line-height":"1",padding:"10px 0"}},[e.form.pack_key?[a("span",{staticClass:"mls"},[e._v(e._s(e.form.pack_key))]),a("span",{staticClass:"mlm txt-muted"},[e._v("（自动读取标注数据包的配置，")]),a("a",{on:{click:e.goDataset}},[e._v("点击前往修改")]),a("span",{staticClass:"txt-muted"},[e._v("）")])]:[a("span",{staticClass:"mls"},[e._v("-")]),a("span",{staticClass:"mlm txt-muted"},[e._v(" （请在【4、数据配置】中选择有聚合字段的标注数据包）")])]],2)])],1),e.layoutShow?a("Col",{attrs:{span:"24"}},[a("FormItem",[a("Row",{attrs:{slot:"label",align:"top"},slot:"label"},[a("span",{staticClass:"txt-red mrs",staticStyle:{"font-size":"20px"}},[e._v("*")]),a("span",[e._v("展示样式")])]),a("div",{staticClass:"batch-show-style"},[e._v(e._s(e.layout))]),a("a",{on:{click:function(t){return e.editWarnHint(e.templateData)}}},[e._v("(点击前往模板，可预览和变更样式)")]),a("Icon",{staticClass:"batch-show-style-icon",attrs:{type:"md-refresh"},on:{click:e.fetchTemplate}})],1)],1):e._e()],1):e._e(),a("t-col",{attrs:{span:12}},[a("Checkbox",{staticClass:"mtm mbm",attrs:{disabled:!e.isLabelNumsOk},on:{"on-change":function(t){e.form.label_nums=t&&e.isLabelNumsTemplate&&!e.form.isPack?2:1}},model:{value:e.form.isLabelNums,callback:function(t){e.$set(e.form,"isLabelNums",t)},expression:"form.isLabelNums"}},[e.isLabelNumsOk?a("b",[e._v("一页多题")]):[a("t-tooltip",{scopedSlots:e._u([{key:"content",fn:function(){return[a("span",[e._v("一页多题不能与交叉标注同时配置，题包任务限制一页一题")])]},proxy:!0}],null,!1,701821597)},[a("b",[e._v("一页多题")])])]],2),a("span",{staticClass:"mlm txt-muted"},[e._v("（暂不支持与交叉标注同时配置；仅支持部分模板；题包任务限制一页一题包）")])],1),e.form.isLabelNums?a("div",{staticClass:"mbm operationBox"},[a("Col",{attrs:{span:"24"}},[a("FormItem",{staticClass:"mtm mbm",attrs:{label:e.form.isPack?"每页标注题包数":"每页标注题数",prop:"label_nums",rules:e.form.isPack?e.ruleNotEmpty:e.ruleValidate}},[a("InputNumber",{staticClass:"mls",attrs:{min:1,max:50,disabled:!e.isLabelNumsTemplate||e.form.isPack},model:{value:e.form.label_nums,callback:function(t){e.$set(e.form,"label_nums",t)},expression:"form.label_nums"}}),a("span",{staticClass:"mls"},[e._v("题")]),a("span",{staticClass:"txt-muted"},[e._v("（"+e._s(e.form.isPack?"暂仅支持一页一个题包，不支持编辑修改":"范围为2～50")+"）")])],1)],1),e.layoutShow?a("Col",{attrs:{span:"24"}},[a("FormItem",[a("Row",{attrs:{slot:"label",align:"top"},slot:"label"},[a("span",{staticClass:"txt-red mrs",staticStyle:{"font-size":"20px"}},[e._v("*")]),a("span",[e._v("展示样式")])]),a("div",{staticClass:"batch-show-style"},[e._v(e._s(e.layout))]),a("a",{on:{click:function(t){return e.editWarnHint(e.templateData)}}},[e._v("(点击前往模板，可预览和变更样式)")]),a("Icon",{staticClass:"batch-show-style-icon",attrs:{type:"md-refresh"},on:{click:e.fetchTemplate}})],1)],1):e._e()],1):e._e(),a("t-col",{attrs:{span:12}},[a("Checkbox",{staticClass:"mtm mbm",model:{value:e.form.isTime,callback:function(t){e.$set(e.form,"isTime",t)},expression:"form.isTime"}},[a("b",[e._v("超时释放")])]),a("span",{staticClass:"mlm txt-muted"},[e._v("（可设置标注/返修超时时间；释放不会清空已保存的标注结果；质检超时释放需在抽检任务下配置）")])],1),e.form.isTime?a("div",{staticClass:"mbm operationBox"},e._l(e.timeoutOptions,(function(t,r){return a("Col",{key:r,attrs:{span:"24"}},[a("FormItem",{staticClass:"mtm mbm",attrs:{label:t,prop:r,rules:[{required:!0,message:t+"是必填项"},{type:"number",min:e.timeoutRange(r).min,max:e.timeoutRange(r).max,message:" "}]}},[["不限时"].includes(e.form[r+"_unit"])?e._e():[a("InputNumber",{staticClass:"mls",attrs:{min:e.timeoutRange(r).min,max:e.timeoutRange(r).max},model:{value:e.form[r],callback:function(t){e.$set(e.form,r,t)},expression:"form[key]"}})],a("Dropdown",{staticClass:"pointer mls",staticStyle:{"line-height":"34px"},attrs:{trigger:"click"},on:{"on-click":function(t){return e.changeTimeoutUnit(t,r)}},scopedSlots:e._u([{key:"list",fn:function(){return[a("DropdownMenu",e._l(e.timeoutUnitOptions,(function(t){return a("DropdownItem",{key:t.label,attrs:{name:t.value}},[e._v(e._s(t.label))])})),1)]},proxy:!0}],null,!0)},[a("span",[e._v(e._s(e.form[r+"_unit"]))]),a("Icon",{attrs:{type:"md-arrow-dropdown"}})],1),["不限时"].includes(e.form[r+"_unit"])?e._e():a("span",{staticClass:"txt-muted"},[e._v("（范围为"+e._s(e.timeoutRange(r).min)+"到"+e._s(e.timeoutRange(r).max)+"）")])],2)],1)})),1):e._e(),a("t-col",{attrs:{span:12}},[a("Checkbox",{staticClass:"mtm mbm",model:{value:e.form.edit_label_result,callback:function(t){e.$set(e.form,"edit_label_result",t)},expression:"form.edit_label_result"}},[a("b",[e._v("允许标注员修改标注")])])],1),a("t-col",{attrs:{span:12}},[a("Checkbox",{staticClass:"mtm mbm",on:{"on-change":function(t){e.form.label_auto_pause_timeout=t?0:-1,e.form.check_auto_pause_timeout=t?0:-1}},model:{value:e.form.isAutoPause,callback:function(t){e.$set(e.form,"isAutoPause",t)},expression:"form.isAutoPause"}},[a("b",[e._v("限制做题自动暂停时长")])])],1),e.form.isAutoPause?a("div",{staticClass:"mbm operationBox"},e._l(e.autoPauseOptions,(function(t,r){return a("Col",{key:r,attrs:{span:"24"}},[a("FormItem",{staticClass:"mtm mbm",attrs:{label:t,prop:r,rules:[{required:!0,message:t+"是必填项"},{type:"number",min:e.autoPauseRange(r).min,max:e.autoPauseRange(r).max,message:" "}]}},[["关闭"].includes(e.form[r+"_unit"])?e._e():[a("InputNumber",{staticClass:"mls",attrs:{min:e.autoPauseRange(r).min,max:e.autoPauseRange(r).max},model:{value:e.form[r],callback:function(t){e.$set(e.form,r,t)},expression:"form[key]"}})],a("Dropdown",{staticClass:"pointer mls",staticStyle:{"line-height":"34px"},attrs:{trigger:"click"},on:{"on-click":function(t){return e.changeTimeoutUnit(t,r)}},scopedSlots:e._u([{key:"list",fn:function(){return[a("DropdownMenu",e._l(e.autoPauseUnitOptions,(function(t){return a("DropdownItem",{key:t.label,attrs:{name:t.value}},[e._v(e._s(t.label))])})),1)]},proxy:!0}],null,!0)},[a("span",[e._v(e._s(e.form[r+"_unit"]))]),a("Icon",{attrs:{type:"md-arrow-dropdown"}})],1),a("span",{staticClass:"txt-muted"},[["关闭"].includes(e.form[r+"_unit"])?[e._v("（关闭后做题不会自动暂停）")]:[e._v("（范围为"+e._s(e.autoPauseRange(r).min)+"到"+e._s(e.autoPauseRange(r).max)+"）")]],2)],2)],1)})),1):e._e(),a("t-col",{attrs:{span:12}},[a("Checkbox",{staticClass:"mtm mbm",on:{"on-change":function(t){e.form.labeler_condition=!e.form.labeler_condition}},model:{value:e.form.labeler_condition,callback:function(t){e.$set(e.form,"labeler_condition",t)},expression:"form.labeler_condition"}},[a("b",[e._v("标注员要求")])]),e.form.labeler_condition?[a("a",{staticStyle:{"margin-left":"20px"},attrs:{href:"javascript:;"},on:{click:function(t){return e.editTeamCondition("labeler")}}},[e._v("选择要求")]),e.isLabelerConditionOk?a("div",{staticClass:"mbm txt-muted",staticStyle:{"margin-left":"40px"}},[e._v(e._s(e.isLabelerConditionOk))]):e._e()]:e._e()],2),a("t-col",{attrs:{span:12}},[a("Checkbox",{staticClass:"mtm mbm",on:{"on-change":function(t){e.form.reviewer_condition=!e.form.reviewer_condition}},model:{value:e.form.reviewer_condition,callback:function(t){e.$set(e.form,"reviewer_condition",t)},expression:"form.reviewer_condition"}},[a("b",[e._v("质检员要求")])]),e.form.reviewer_condition?[a("a",{staticStyle:{"margin-left":"20px"},attrs:{href:"javascript:;"},on:{click:function(t){return e.editTeamCondition("reviewer")}}},[e._v("选择要求")]),e.isReviewerConditionOk?a("div",{staticClass:"mbm txt-muted",staticStyle:{"margin-left":"40px"}},[e._v(e._s(e.isReviewerConditionOk))]):e._e()]:e._e()],2)],1),a("br"),a("br"),a("h4",[e._v("6、数据配置")]),a("Divider"),a("Row",[a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"数据领取方式",prop:"queue_type",required:!0}},[a("RadioGroup",{model:{value:e.form.queue_type,callback:function(t){e.$set(e.form,"queue_type",t)},expression:"form.queue_type"}},e._l(e.QueueType,(function(t){return a("Radio",{key:t.label,attrs:{label:t.label,disabled:!e.isAdd}},[e._v(e._s(t.name))])})),1)],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{staticStyle:{width:"100%"},attrs:{label:"标注数据包",prop:"dataset_import_id",rules:{required:!0,message:"标注数据包是必选项"}}},[a("Row",{attrs:{type:"flex",align:"middle"}},[a("Select",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入数据包名称关键词进行搜索",filterable:"",clearable:"","remote-method":e.debounceFileDatasBase,loading:e.fetchFileDatasBase.isPending,disabled:!e.isAdd},on:{"on-query-change":function(t){!t&&e.debounceFileDatasBase(t)},"on-change":e.getPutNum},model:{value:e.form.dataset_import_id,callback:function(t){e.$set(e.form,"dataset_import_id",t)},expression:"form.dataset_import_id"}},e._l(e.fileDatasBase,(function(t){return a("Option",{key:t.dataset_import_id.toString(),attrs:{value:t.dataset_import_id.toString(),label:t.src_file_name,disabled:e.form.isPack&&!(t.tag_key||t.tag_cnt)||(!e.form.isPack||e.form.label_nums>1)&&!!t.tag_key}},[a("span",[e._v(e._s(t.src_file_name))]),e.form.isPack?a("span",{staticClass:"mls"},[t.tag_key&&t.tag_cnt?a("span",[e._v("（聚合字段："+e._s(t.tag_key)+"）")]):a("span",[e._v("（聚合字段："+e._s(t.tag_key?"聚合中":"-")+"）")])]):e._e(),(!e.form.isPack||e.form.label_nums>1)&&t.tag_key?a("span",{staticClass:"mls"},[a("span",[e._v("(已有聚合字段)")])]):e._e()])})),1),e.isAdd?a("div",{staticClass:"mlm",staticStyle:{position:"relative"}},[e.form.dataset_import_id?e.templateData&&e.templateData.template_id?e.fetchFileData.isPending?a("Spin",{attrs:{fix:"",size:"small"}}):e._e():a("span",{staticClass:"txt-muted"},[e._v("请选择模板")]):a("a",{staticStyle:{"line-height":"32px"},attrs:{href:"projects/list/"+e.$route.params.id+"?tab=dataset",target:"_Blank"}},[e._v("（若还未上传数据包，请点击此处）")]),a("templateValidate",{directives:[{name:"show",rawName:"v-show",value:e.form.dataset_import_id&&e.fileData.dataset_code&&e.templateData&&e.templateData.template_id,expression:"form.dataset_import_id && fileData.dataset_code && templateData && templateData.template_id"}],attrs:{datasetCode:e.fileData.dataset_code,templateId:e.templateData?e.templateData.template_id:""},on:{"update:index":function(t){e.templateValidIndex=t}}})],1):e._e()],1)],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"投放数量",prop:"detail_num",rules:e.putNumberRules}},[a("Tooltip",{attrs:{content:"请选择数据包和模板并完成校验",disabled:3===e.templateValidIndex,placement:"right"}},[a("InputNumber",{staticStyle:{width:"270px"},attrs:{min:0,max:e.existingNum,disabled:""===e.form.dataset_import_id||!e.isAdd||3!==e.templateValidIndex},model:{value:e.form.detail_num,callback:function(t){e.$set(e.form,"detail_num",t)},expression:"form.detail_num"}})],1)],1)],1)],1),e.isAdd?a("Alert",[e._v("数据包可投放的"+e._s(e.form.isPack?"题包数":"题数")+"："+e._s(e.existingNum-e.form.detail_num))]):e._e(),a("br"),a("p",{staticClass:"mbm"},[e._v("任务概览:")]),a("div",{staticClass:"box"},[a("p",{staticClass:"mbm mtm mrm mlm"},[e._v("试标任务（"+e._s(e.form.isPack?"题包":"题目")+"数："+e._s(e.form.detail_num)+"）将分配给以下意向供应商")]),a("Table",{attrs:{columns:e.supplierColumns,data:e.datas},scopedSlots:e._u([{key:"task_name",fn:function(t){var r=t.row,i=t.index;return[e.isAdd?a("Input",{model:{value:e.datas[i].task_name,callback:function(t){e.$set(e.datas[i],"task_name",t)},expression:"datas[index].task_name"}}):a("span",[e._v(e._s(r.task_name))])]}},{key:"supplier_name",fn:function(t){var r=t.row;return[a("auth-view",{attrs:{perm:{domain:"task",action:"view-bid-supplier",extra:{company:e.userinfo.user.company_id}}}},[a("span",[e._v(e._s(r.supplier_name))]),a("template",{slot:"forbidden"},[a("span",[e._v(e._s(e.isAdd?r.supplier_name:"供应商"+r.supplier_no))])])],2)]}},{key:"action",fn:function(t){var r=t.row,i=t.index;return[e.project.is_standard_order?[e._v("-")]:[r.isDelete?a("span",[e._v("-")]):a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.deleteData(i)}}},[e._v("删除")])]]}}])})],1),a("br"),a("div",{staticClass:"left"},[a("t-space",{attrs:{size:8}},[e.isAdd?[a("t-button",{attrs:{loading:e.fetchSubmit.isPending},on:{click:function(t){return e.fetchSubmit()}}},[e._v("下发任务")])]:a("t-button",{attrs:{loading:e.fetchSave.isPending},on:{click:function(t){return e.fetchSave()}}},[e._v("确认修改")]),a("t-button",{attrs:{theme:"default",variant:"base"},on:{click:function(t){return e.goback(!0)}}},[e._v("取消")])],2)],1)],1)],1)],1)},i=[],n=(a("8d0d"),a("0f30"),a("9ec3")),s=a.n(n),o=a("c206"),l=a.n(o),c=a("ad4a"),d=a("31ca"),u=a("2fa2"),h=a("b0f9"),p=a("06eb"),f=a("a06e"),m=a("bccd"),g=a("2289"),_=a("cb78"),v=a("e3fa"),b=a("9fe2"),y={components:{templateCascader:d["a"],templateValidate:u["a"],attachment:c["a"],TeamCondition:b["a"]},data(){return{QueueType:g["h"],backNum:0,isAllSelecte:!1,units:g["j"],materials:g["e"],newSupplier:[],newSuppliers:[],existingNum:0,project:{},options:{disabledDate(e){return e&&e.valueOf()<Date.now()}},matchQuestions:!1,matchRule:"allMatch",form:{is_all_supplier:!1,supplier_id_list:[],passed_rate:0,overall_total:0,detail_num:0,unit:"",lead_time_str:"",materials_description:"",materials_type:"",deadline_time:"",deadlineTime:"",dataset_import_id:"",isCross:!1,isLabelNums:!1,cross_num:2,label_nums:1,label_timeout:0,label_timeout_unit:"分钟",relabel_timeout:0,relabel_timeout_unit:"分钟",isAutoPause:!1,label_auto_pause_timeout:-1,label_auto_pause_timeout_unit:"关闭",check_auto_pause_timeout:-1,check_auto_pause_timeout_unit:"关闭",isTime:!1,isReceiveTeam:!1,receive_team_id:"",isPack:!1,pack_key:"",queue_type:0,security_strategy:0,edit_label_result:!0,labeler_condition:"",reviewer_condition:"",task_template_key:"",user_label_key:""},ruleNotEmpty:[{required:!0,message:"是必填项"}],ruleValidate:[{required:!0,message:"是必填项"},{type:"number",min:2,message:"不能小于2"}],templateData:{},cross_num_limit:100,data_num_limit:2e5,project_id:"",datas:[],supplierColumns:[{title:"供应商任务名称",slot:"task_name",width:300},{title:"标注供应商",slot:"supplier_name"},{title:"操作",slot:"action"}],templateDatas:[],templateColumns:[{title:"编号",key:"template_id",minWidth:50},{title:"模板名称",key:"template_name",minWidth:120},{title:"模板描述",key:"template_desc",minWidth:120},{title:"操作",slot:"action",minWidth:50}],totalNumRules:[{required:!0,message:"总需求数量是必填项"},{required:!0,type:"number",min:1,message:"总需求数量需大于0",trigger:"change"}],putNumberRules:[{required:!0,message:"投放数量是必填项"},{required:!0,type:"number",min:1,message:"投放数量不能为0",trigger:"change"}],fileData:{},fileDatas:[],templateValidIndex:0,teamConditionOptions:{sex:"性别",age:"年龄",education:"学历",profession:"专业分类",native:"籍贯",residence:"常驻地",social_work_age:"社会工龄",label_work_age:"标注工龄",label_experience:"标注项目经验",english_level:"英语水平"},timeoutOptions:{label_timeout:"标注超时时间",relabel_timeout:"返修超时时间"},timeoutUnitOptions:[{label:"分钟",value:"分钟",min:1,max:2880},{label:"小时",value:"小时",min:1,max:48},{label:"不限时",value:"不限时",min:0,max:1/0}],autoPauseOptions:{label_auto_pause_timeout:"标注任务自动暂停",check_auto_pause_timeout:"质检任务自动暂停"},autoPauseUnitOptions:[{label:"关闭",value:"关闭",min:0,max:1/0},{label:"分钟",value:"分钟",min:1,max:1440},{label:"秒",value:"秒",min:1,max:86400}]}},computed:{isAdd(){return"add"===this.$route.query.type},isCrossOk(){return this.isAdd},isPackOk(){return this.isAdd&&this.isLabelNumsTemplate},isLabelNumsOk(){var e;return!this.form.isCross&&!this.form.isPack&&!(null===(e=this.templateData)||void 0===e||!e.template_id)&&this.isLabelNumsTemplate},isReceiveTeamOk(){var e;return this.isAdd||!(null!==(e=this.bidTask)&&void 0!==e&&e.receive_team_id)},isLabelerConditionOk(){let e="";const{labeler_condition:t}=this.form;if(t&&"string"===typeof t){const a=JSON.parse(t);Object.keys(a).forEach(t=>{a[t]&&(e+=`${this.teamConditionOptions[t]}(${a[t]}); `)})}return e},isReviewerConditionOk(){let e="";const{reviewer_condition:t}=this.form;if(t&&"string"===typeof t){const a=JSON.parse(t);Object.keys(a).forEach(t=>{a[t]&&(e+=`${this.teamConditionOptions[t]}(${a[t]}); `)})}return e},userinfo(){return this.$store.state.userinfo},companyinfo(){return this.$store.state.companyinfo},templateComponent(){var e;let t=null===(e=this.templateData)||void 0===e?void 0:e.template_component;try{var a;t&&(t=JSON.parse(null===(a=this.templateData)||void 0===a?void 0:a.template_component))}catch(r){console.error(r)}return t},layoutShow(){var e;return["z-text-stage"].includes(null===(e=this.templateComponent)||void 0===e?void 0:e.component)},layout(){var e,t;return"list"===(null===(e=this.templateComponent)||void 0===e||null===(t=e.extra_attributes)||void 0===t?void 0:t.layout)?"列表":"常规"},isLabelNumsTemplate(){var e;return!(null===(e=this.templateData)||void 0===e||!e.repeatable)},timeoutRange(){return function(e){const{form:t,timeoutUnitOptions:a}=this;if(t[e+"_unit"]){const{min:r,max:i}=s.a.find(a,a=>a.value===t[e+"_unit"]);return{min:r,max:i}}return{min:0,max:0}}},autoPauseRange(){return function(e){const{form:t,autoPauseUnitOptions:a}=this;if(t[e+"_unit"]){const{min:r,max:i}=s.a.find(a,a=>a.value===t[e+"_unit"]);return{min:r,max:i}}return{min:0,max:0}}},isRadioDisabled(){return console.log(this.project.security_strategy),0!==this.project.security_strategy},templateSchema(){var e,t;if(null===(e=this.template)||void 0===e||!e.template_schema)return[];const a=JSON.parse(null===(t=this.template)||void 0===t?void 0:t.template_schema);return a.map(e=>e.key)}},watch:{"templateData.template_id"(e,t){e?s.a.isEqual(e,t)||this.fetchTemplate(e):this.form.isLabelNums=!1},"form.isCross"(){this.isAdd&&(this.form.dataset_import_id="",this.form.detail_num=0,this.form.isPack||(this.form.isLabelNums=!1)),this.form.isCross&&(this.form.label_nums=1)},"form.isPack"(){this.isAdd&&(this.form.dataset_import_id="",this.form.detail_num=0,this.form.pack_key="",this.existingNum=0,this.fileData={},this.fetchFileDatasBase()),this.form.isPack?(this.form.isLabelNums=!0,this.form.label_nums=1):this.form.isLabelNums=!1},"form.label_nums"(){this.isAdd&&this.form.label_nums>1&&this.fileData.tag_key&&(this.form.dataset_import_id="",this.form.detail_num=0)},"form.reviewer_condition"(e,t){const{form:a,isLabelerConditionOk:r}=this;!t&&!0===e&&r&&(a.reviewer_condition=a.labeler_condition,this.$Message.success("已根据标注员要求，自动填充质检员要求"))},"form.overall_total"(){this.$nextTick(()=>this.form.overall_total=Math.round(100*Number(this.form.overall_total))/100)},templateValidIndex(e){3!==e&&(this.form.detail_num=0)}},created(){this.fetchProject().then(()=>{this.fetchCompanyTeams()}),this.fetchFileDatasBase()},methods:{debounceFileDatasBase:s.a.debounce((function(e){this.fetchFileDatasBase(e?{file_name:e}:null)}),500),debounceCompanyTeams:s.a.debounce((function(e){this.fetchCompanyTeams(e?{team_name:e}:null)}),500),changeTimeoutUnit(e,t){this.form[t+"_unit"]=e,["不限时","关闭"].includes(e)&&(this.form[t]=0)},transformTimeout(e){const{form:t,timeoutOptions:a}=this;Object.keys(a).forEach(a=>{if("toMinutes"===e)t[a]*="小时"===t[a+"_unit"]?60:1;else{const e=t[a]%60===0;t[a]/=e?60:1,e&&(t[a+"_unit"]=t[a]?"小时":"不限时")}})},transformAutoPauseTimeout(e){const{form:t,autoPauseOptions:a}=this;t.isAutoPause&&Object.keys(a).forEach(a=>{if("toSeconds"===e)t[a]*="分钟"===t[a+"_unit"]?60:1;else{const e=t[a]%60===0;t[a]/=e?60:1,t[a+"_unit"]=e?t[a]?"分钟":"关闭":t[a]?"秒":"关闭"}})},editTeamCondition(e){const t=this;this.$FastModal.show(b["a"],{condition:t.form[e+"_condition"],type:e},{update(a){t.form[e+"_condition"]=a,console.log(t.form[e+"_condition"])}})},editWarnHint(e){var t;let a=`templates/${(null===e||void 0===e?void 0:e.template_id)||(null===(t=this.templateData)||void 0===t?void 0:t.template_id)}/edit?`;this.isAdd?a+="from=project&schema=true":a+="from=task&schema=false",this.form.isCross&&(a+="&fitting=true"),this.isAdd?window.open(a):this.$Modal.confirm({title:"模板修改风险提示",content:"<p>1、建议只新增工具、标签、选项。</p><p>2、若编辑或删除标签/选项，可能会造成部分已标注的内容需重新标注。</p><p>3、若编辑或删除已有工具，可能会造成已标注的内容显示不出。</p>",onOk:()=>{window.open(a)}})},checkTask(e){e.is_bid?this.$Modal.info({title:"提示",content:"该项目已被创建试标任务，点击确定返回项目详情",onOk:()=>{this.goback()}}):20===e.project_status&&this.$Modal.info({title:"提示",content:"该项目已直接定标，点击确定返回项目详情",onOk:()=>{this.goback()}})},getPutNum(e){this.form.dataset_import_id&&this.getFileData().then(t=>{t.length>0&&t[0].dataset_import_id.toString()===e?([this.fileData]=t,this.form.pack_key=t[0].tag_key,this.form.isPack?this.existingNum=t[0].tag_cnt-t[0].published_tag_cnt:(this.existingNum=t[0].valid_cnt-t[0].published_cnt,t[0].tag_key&&this.isPackOk&&(this.form.isPack=!0,this.existingNum=t[0].tag_cnt-t[0].published_tag_cnt))):this.existingNum=0})},async getFileData(){const e=await this.fetchFileData();if(e){const t=await this.fetchStatImportTask({need_pack_cnt:!!e[0].tag_key});if(t){const a={...e[0],valid_cnt:t.valid_cnt,published_cnt:t.published_cnt,published_tag_cnt:t.published_tag_cnt};return Promise.resolve([a])}}return Promise.resolve([])},deleteData(e){const t=s.a.cloneDeep(this.datas),a=[];t.splice(e,1),this.datas=t,t.forEach(e=>{a.push(e.supplier_id)}),this.form.supplier_id_list=a,this.form.is_all_supplier=!1},addSupplier(e){const t=[];e.forEach(e=>{const a=this.randomWord();t.push({supplier_name:e.label,task_name:`${this.project.project_name}-${a}`,supplier_id:e.value})}),this.isAdd?this.datas=t:this.datas=this.bidTask.bid_task_relation_vos.concat(t)},randomWord(){let e="";for(let t=0;t<6;t++){const t=this.getRandom(1,2);switch(t){case 1:e+=String.fromCharCode(this.getRandom(48,57));break;case 2:e+=String.fromCharCode(this.getRandom(97,122));break}}return e},getRandom(e,t){return Math.round(Math.random()*(t-e))+e},goback(e){this.$router.push({path:"/projects/list/"+this.$route.params.id,query:{tab:this.$route.query.tab,tab1:"bid",alive:!e}})},selectAll(e){const t=[];e&&this.isAdd?(this.project.suppliers.forEach(e=>{t.push(e.company_id.toString())}),this.form.supplier_id_list=t):e&&!this.isAdd?(this.newSuppliers.forEach(e=>{t.push(e.company_id.toString())}),this.newSupplier=t):this.isAdd?this.form.supplier_id_list=[]:this.newSupplier=[]},changeTime(e){this.form.expect_date=l()(e).hour(23).minute(59).second(59).format("YYYY-MM-DD HH:mm:ss")},validateDataNumLimit(){return this.form.isCross?!(this.form.cross_num*this.form.detail_num>this.data_num_limit)||(this.$Message.error(`创建失败：请确认投放题数乘以同时标注人数不超过${this.data_num_limit}，以免下发失败`),!1):!(this.form.detail_num>this.data_num_limit)||(this.$Message.error(`创建失败：请确认投放题数乘以同时标注人数不超过${this.data_num_limit}，以免下发失败`),!1)},validatePackKey(){return!(this.fileData.tag_key&&!this.form.isPack)||(this.$Message.error("创建失败：使用聚合数据包的时候必须选择题包选项"),!1)},validateTeamCondition(){const{form:e,isLabelerConditionOk:t,isReviewerConditionOk:a}=this;return e.labeler_condition&&!t?(this.$Message.error("创建失败：勾选了标注员要求配置，但未选择具体要求"),!1):!(e.reviewer_condition&&!a)||(this.$Message.error("创建失败：勾选了质检员要求配置，但未选择具体要求"),!1)},validateDeadlineTime(){return!(new Date(this.form.deadline_time)<new Date(this.bidTask.deadline_time))||(this.$Message.error("创建失败：试标截止时间不能提前，只能延后，请重新选择"),!1)},validateForSubmit(){return this.validateDataNumLimit()&&this.validatePackKey()&&this.validateTeamCondition()},goDataset(){const e=this.$router.resolve({name:"projectDetail",params:{id:this.project.project_id},query:{tab:"dataset"}});window.open(e.href,"_blank")},autoFillFormBasic(e){const t=["materials_type","unit","lead_time","materials_description","passed_rate","overall_total"],a=s.a.pickBy(e,(e,a)=>t.includes(a)&&e);a.lead_time_str=a.lead_time,console.log(a),Object.assign(this.form,a),Object.keys(a).length&&this.$Message.success("已自动填充部分信息")}},asyncMethods:{async fetchTemplate(e){const t=await Object(h["k"])({template_id:s.a.isString(e)?Number(e):e}),a=s.a.chain(this.$OptimusStageMetadata).find({name:t.template_type}).value();return this.templateData={...this.templateData,...t,...a},this.templateData},fetchEditTemplateStatus(e){const t={task_type:"bid",task_id:e};return _["a"].CheckUpdateTaskTemplate(t).then(e=>e.data.result).catch(e=>{this.$Message.error("数据获取失败："+e.message)})},fetchBidTask(){const e={project_id:this.$route.params.id,bid_id_list:[this.$route.query.task_id],need_stat_task:!0,need_relation:!0,need_template:!0},t=[];let a=[];return Object(p["f"])(e).then(e=>{var r,i;if(0===e.data.length)return 0;const n=e.data[0],o=null===(r=e.data[0].bid_task_relation_vos)||void 0===r?void 0:r[0],{labeler_condition:l,reviewer_condition:c}=o,d={is_all_supplier:!!n.is_all_supplier,security_strategy:null===o||void 0===o?void 0:o.security_strategy,isCross:!!(n.cross_num>=2),isReceiveTeam:!!n.receive_team_id,isPack:!!(n.pack_num>0),isLabelNums:!!(n.label_nums>1),isTime:!!(n.label_timeout||null!==o&&void 0!==o&&o.relabel_timeout),relabel_timeout:(null===o||void 0===o?void 0:o.relabel_timeout)||0,edit_label_result:!(null===o||void 0===o||!o.edit_label_result),isAutoPause:!!(n.label_auto_pause_timeout>=0||n.check_auto_pause_timeout>=0),labeler_condition:l&&"{}"!==l?l:"",reviewer_condition:c&&"{}"!==c?c:"",detail_num:n.pack_num>0?n.pack_num:n.bid_data_num,queue_type:null===o||void 0===o?void 0:o.queue_type,deadlineTime:n.deadline_time};Object.keys(n).forEach(e=>{Object.hasOwn(this.form,e)&&(this.form[e]=n[e])}),Object.assign(this.form,d),this.transformTimeout(),this.transformAutoPauseTimeout(),a=s.a.cloneDeep(n),a.bid_task_relation_vos.forEach((e,r)=>{a.bid_task_relation_vos[r].isDelete=!0,t.push(e.supplier_id.toString())}),this.form.supplier_id_list=t,this.datas=a.bid_task_relation_vos,this.getPutNum(a.dataset_import_id);const[u]=a.bid_task_relations,h=u.queue_label_strategy&&JSON.parse(u.queue_label_strategy);this.matchQuestions=3===u.queue_label_type,this.form.task_template_key=null===h||void 0===h||null===(i=h.user_label_strategy)||void 0===i?void 0:i.task_template_key,this.form.user_label_key=null===h||void 0===h?void 0:h.user_label_strategy.user_label_key;const p=s.a.chain(this.$OptimusStageMetadata).find({name:e.data[0].template.template_type}).value();return this.templateData=a.template,this.templateData.template_id=a.template.id,this.templateData.repeatable=p&&p.repeatable,this.fetchEditTemplateStatus(a.bid_id),this.newSuppliers=this.project.suppliers.filter(e=>{if(!this.form.supplier_id_list.includes(e.company_id.toString()))return e}),a})},fetchProject(){const e={project_id:Object(m["BigNumber"])(this.$route.params.id)};return Object(f["i"])(e).then(e=>(this.isAdd?(this.autoFillFormBasic(e),this.$route.query.dataset_import_id&&(this.form.dataset_import_id=this.$route.query.dataset_import_id.toString(),this.getPutNum(this.form.dataset_import_id))):this.fetchBidTask(),this.project=e,e.is_standard_order?(this.form.is_all_supplier=!0,this.selectAll(!0)):this.fetchOrderSuppliers(),this.form.security_strategy=e.security_strategy,e)).catch(e=>{console.log(e),this.$Message.error("查询失败："+e.message)})},fetchSubmit(){const{form:e,templateData:t,isLabelerConditionOk:a,isReviewerConditionOk:r}=this;let i={};const n=()=>{this.transformTimeout("toMinutes"),this.transformAutoPauseTimeout("toSeconds"),i=s.a.cloneDeep(this.form);const n=[];this.datas.forEach(e=>{n.push({project_id:this.$route.params.id,task_name:e.task_name,task_num:this.form.isPack?0:this.form.detail_num,pack_num:this.form.isPack?this.form.detail_num:0,supplier_id:e.supplier_id,queue_type:this.form.queue_type})});const o={project_id:this.$route.params.id,template_id:t.template_id,task_list:n,is_all_supplier:e.is_all_supplier?1:0,security_strategy:e.security_strategy,edit_label_result:e.edit_label_result?1:0,cross_num:e.isCross?e.cross_num:0,label_timeout:e.isTime?e.label_timeout:0,relabel_timeout:e.isTime?e.relabel_timeout:0,detail_num:e.isPack?0:e.detail_num,pack_num:e.isPack?e.detail_num:0,receive_team_id:e.isReceiveTeam?e.receive_team_id:void 0,labeler_condition:a?e.labeler_condition:"{}",reviewer_condition:r?e.reviewer_condition:"{}",label_auto_pause_timeout:e.isAutoPause?e.label_auto_pause_timeout:-1,check_auto_pause_timeout:e.isAutoPause?e.check_auto_pause_timeout:-1,queue_label_strategy:JSON.stringify({user_label_strategy:{task_template_key:this.form.task_template_key,user_label_key:this.form.user_label_key}}),queue_label_type:this.matchQuestions?3:1};Object.assign(i,s.a.omitBy(o,s.a.isNil)),delete i.deadlineTime,delete i.lead_time,delete i.template,delete i.isCross,delete i.isLabelNums,delete i.isTime,delete i.isPack,delete i.pack_key,delete i.isReceiveTeam,delete i.isAutoPause,delete i.label_auto_pause_timeout_unit,delete i.check_auto_pause_timeout_unit,console.log(i)};if(!this.validateForSubmit())return Promise.resolve({});this.$refs.formBasic.validate(e=>e?e?(n(),Object(p["b"])(i).then(e=>(this.$Message.success("创建成功"),this.goback(),e)).catch(e=>{this.$Message.error("创建失败："+e.message)})):void 0:(this.$Message.error("提交失败，请检查是否有遗漏"),Promise.resolve()))},fetchSave(){let e={};const t=()=>{this.transformTimeout("toMinutes"),this.transformAutoPauseTimeout("toSeconds");const t=[],{materials_type:a,passed_rate:r,overall_total:i,unit:n,lead_time_str:s,materials_description:o,deadline_time:l,isTime:c,isCross:d,isLabelNums:u,isPack:h,isReceiveTeam:p,labeler_condition:f,reviewer_condition:m,isAutoPause:g}=this.form;e={project_id:this.$route.params.id,bid_id:this.bidTask.bid_id,materials_type:a,passed_rate:r,overall_total:i,unit:n,lead_time_str:s,materials_description:o,deadline_time:l,label_timeout:c?this.form.label_timeout:0,relabel_timeout:c?this.form.relabel_timeout:0,label_auto_pause_timeout:g?this.form.label_auto_pause_timeout:-1,check_auto_pause_timeout:g?this.form.check_auto_pause_timeout:-1,label_nums:u?this.form.label_nums:1,cross_num:d?this.form.cross_num:0,pack_num:h?this.form.detail_num:0,receive_team_id:p?this.form.receive_team_id:0,security_strategy:this.form.security_strategy,edit_label_result:this.form.edit_label_result?1:0,labeler_condition:this.isLabelerConditionOk?f:"{}",reviewer_condition:this.isReviewerConditionOk?m:"{}",queue_label_strategy:JSON.stringify({user_label_strategy:{task_template_key:this.form.task_template_key,user_label_key:this.form.user_label_key}}),queue_label_type:this.matchQuestions?3:2},this.datas.forEach(e=>{this.newSupplier.includes(e.supplier_id.toString())&&t.push({project_id:this.$route.params.id,task_name:e.task_name,task_num:this.form.isPack?0:this.form.detail_num,pack_num:this.form.isPack?this.form.detail_num:0,supplier_id:e.supplier_id})}),e.add_task_list=t,console.log(e)};if(!this.validateDataNumLimit()||!this.validateTeamCondition()||!this.validateDeadlineTime())return Promise.resolve({});this.$refs.formBasic.validate(a=>a?a?(t(),Object(p["d"])(e).then(e=>(this.$Message.success("保存成功"),this.goback(),e)).catch(e=>{this.$Message.error("保存失败："+e.message)})):void 0:(this.$Message.error("提交失败，请检查是否有遗漏"),Promise.resolve()))},fetchFileData(){const e={project_id:this.$route.params.id,page:{start:0,size:1,return_total:0},import_task_ids:[this.form.dataset_import_id],need_pack_cnt:!0};return Object(f["n"])(e).then(e=>e.data).catch(e=>{this.$Message.error("数据包获取失败："+e.message)})},fetchStatImportTask(e){const t={project_id:this.project.project_id,dataset_import_id:this.form.dataset_import_id,need_pack_cnt:e?Number(e.need_pack_cnt):0};return Object(f["u"])(t).then(e=>e).catch(e=>{console.log(e)})},fetchFileDatasBase(e){const t={project_id:this.$route.params.id,page:{start:0,size:100,return_total:1}};return e&&Object.assign(t,e),Object(f["n"])(t).then(e=>e.data.filter(e=>"导入完成"===e.status)).catch(e=>{this.$Message.error("数据包获取失败："+e.message)})},fetchCompanyTeams(e){const t={page:{start:0,size:100,return_total:1},company_id:this.project.company_id};return e&&Object.assign(t,e),Object(v["s"])(t).then(e=>e.data)},fetchOrderSuppliers(){return Object(v["m"])().then(e=>e).catch(e=>{console.log(e)})}}},k=y,x=(a("9176"),a("2be6")),w=Object(x["a"])(k,r,i,!1,null,"714b7bc3",null);t["default"]=w.exports},e209:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.jqueryPre?a("Modal",{attrs:{title:["datasetHandle"].includes(e.fileType)?"导出":"请选择要导出的文件",width:450},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("Tip"),a("RadioGroup",{model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},["project"===e.fileType||"dataset"===e.fileType?[a("div",{staticClass:"mbm mtm mlm mrm"},[a("Radio",{attrs:{label:"resource"}},[e._v("数据包源文件")])],1)]:e._e(),"project"===e.fileType||"tasks"===e.fileType?[a("div",{staticClass:"mbm mtm mlm mrm"},[a("Radio",{attrs:{label:"label_result_csv"}},[e._v("标注结果（CSV格式）")])],1),a("div",{staticClass:"mbm mtm mlm mrm"},[a("Radio",{attrs:{label:"label_result_xml"}},[e._v("标注结果（XML格式）")])],1)]:e._e(),"dataset"===e.fileType?[a("div",{staticClass:"mbm mtm mlm mrm"},[a("Radio",{attrs:{label:"ready_result"}},[e._v("解析后的待标注结果")])],1)]:e._e(),e.file&&e.file.total!==e.file.success_rows?[a("div",{staticClass:"mbm mtm mlm mrm"},[a("Radio",{attrs:{label:"error"}},[e._v("错误明细")])],1)]:e._e()],2),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{on:{click:function(t){e.visible=!1}}},[e._v("取消")]),a("Button",{attrs:{type:"primary",loading:e.Submit.isPending},on:{click:e.Submit}},[e._v("确认并下载")])],1)],1):a("Modal",{attrs:{title:"错误明细",width:400},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[e.datasetStatTotal?[a("p",[e._v("成功导入"+e._s(e.datasetStatTotal.success_rows)+"条数据，失败"+e._s(e.datasetStatTotal.err_rows)+"条数据。")]),a("div",{attrs:{slot:"footer"},slot:"footer"},[e.datasetStatTotal.success_rows?a("Button",{attrs:{loading:e.fetchLoadSuccessData.isPending},on:{click:function(t){return e.fetchLoadSuccessData(e.file)}}},[e._v("仅导入成功数据")]):a("Button",{on:{click:function(t){e.visible=!1}}},[e._v("取消")]),a("Button",{attrs:{type:"primary",loading:e.fetchExportErrorDetails.isPending},on:{click:function(t){return e.fetchExportErrorDetails(e.file)}}},[e._v("下载失败记录")])],1)]:a("spin",{attrs:{fix:""}})],2)},i=[],n=(a("8d0d"),a("2c88")),s=a("30ac"),o=a("175d"),l=a("bb017"),c=a("9ec3"),d={components:{Tip:l["a"]},props:{file:Object,fileType:String,jqueryPre:[String,Object]},data(){return{visible:!0,type:"",usePrimaryKey:0}},created(){!this.jqueryPre&&this.fetchDatasetStatTotal()},asyncMethods:{Submit(){const{type:e,file:t,jqueryPre:a,fileType:r}=this,i=Object(c["cloneDeep"])(a);switch(e){case"resource":this.fetchDownloadSourceUrl(a);break;case"label_result_csv":Object(o["u"])(i);break;case"label_result_xml":Object(o["v"])(i);break;case"ready_result":Object(o["g"])(i);break;case"error":Object(o["i"])("import_task_id="+t.dataset_import_id);break}["datasetHandle"].includes(r)&&Object(o["j"])("handle_task_id="+t.handle_id),this.visible=!1},fetchDownloadSourceUrl(e){try{Object(s["b"])(e,e=>{const t=document.createElement("div");t.innerHTML=e;const{message:a}=JSON.parse(t.innerText).error;this.$Message.error("下载失败："+a)})}catch(t){console.log(t),this.$Message.error("下载失败："+t.message)}},fetchExportErrorDetails(e){return this.visible=!1,Object(o["i"])("import_task_id="+e.dataset_import_id,e=>{const t=document.createElement("div");t.innerHTML=e;const{message:a}=JSON.parse(t.innerText).error;this.$Message.error(a)})},fetchLoadSuccessData(e){const t={dataset_import_id:e.dataset_import_id};return Object(s["a"])(t).then(()=>{this.$emit("loadSuccessData"),this.visible=!1}).catch(e=>{this.visible=!1,this.$Message.error("仅导入成功数据失败："+e.message)})},fetchDatasetStatTotal(){const e={dataset_import_id:this.file.dataset_import_id};return Object(n["s"])(e).then(e=>e).catch(e=>{this.$Message.error("错误数据获取失败："+e.message)})}}},u=d,h=a("2be6"),p=Object(h["a"])(u,r,i,!1,null,null,null);t["a"]=p.exports},e28c:function(e,t,a){},e2f5:function(e,t,a){e.exports=a.p+"static/img/tdw-upload.261693b3.png"},e40a:function(e,t,a){},e5aa:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Layout",[r("Header",{staticClass:"app-header"},[r("div",{staticClass:"app-header__logo"},[r("img",{attrs:{src:a("9d64")}})]),r("div",{staticClass:"app-header__extra"},[r("Poptip",{attrs:{trigger:"hover"}},[r("div",{staticClass:"avatar"},[r("Avatar",{staticStyle:{"margin-right":"5px"},attrs:{icon:"ios-person"}}),r("span",[e._v(e._s(e.nickName))]),r("Icon",{attrs:{type:"md-arrow-dropdown"}})],1),r("div",{staticClass:"operate",attrs:{slot:"content"},slot:"content"},[r("a",{staticClass:"link",on:{click:e.logout}},[e._v("退出登录")])])])],1)]),r("Layout",{staticClass:"layout"},[e.loading?r("div",{staticClass:"container"},[r("div",{staticClass:"header"},[r("Divider",[r("h2",{staticClass:"container_h2",staticStyle:{color:"rgb(116 121 132)"}},[e._v("邀请通知")])])],1),r("div",{staticClass:"content"},[r("div",{staticClass:"form"},[r("p",{staticClass:"size footer",staticStyle:{"margin-bottom":"50px",color:"red"}},[e._v("邀请码无效或已过期")]),r("br"),r("br"),r("br")])]),r("Divider",{staticClass:"footer"},[r("Button",{attrs:{type:"primary",ghost:""},on:{click:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"nactive",void 0,t.key,void 0)?null:e.goRegister.apply(null,arguments)}}},[e._v("去注册")])],1)],1):r("div",{staticClass:"container"},[r("div",{staticClass:"header"},[r("Divider",[r("h2",{staticClass:"container_h2",staticStyle:{color:"rgb(116 121 132)"}},[e._v("邀请通知")])])],1),r("div",{staticClass:"content"},[r("div",{staticClass:"form",staticStyle:{"line-height":"2"}},[r("b",[e._v(e._s(e.tokenObj.company_name||"-")+" 邀请您（"+e._s(e.tokenObj.email||"email")+"）加入企鹅标注平台。")]),r("br"),r("br"),r("p",[e._v("1、点击“同意”，使用邮箱 "+e._s(e.tokenObj.email||"email")+" 注册账号并绑定 "+e._s(e.tokenObj.company_name||"-")+" 。")]),r("p",[e._v("2、点击“忽略”，跳转到注册页面，注册新的账号。")]),r("br"),r("br")])]),r("Divider",{staticClass:"footer"},[r("Button",{staticClass:"mrm",attrs:{type:"error",ghost:""},nativeOn:{click:function(t){return e.goRegister.apply(null,arguments)}}},[e._v("忽略")]),r("Button",{attrs:{type:"success",ghost:"",loading:e.fetchRegister.isPending},nativeOn:{click:function(t){return e.fetchRegister.apply(null,arguments)}}},[e._v("同意")])],1)],1)])],1)},i=[],n=a("dde5"),s=a("dd82"),o={data(){return{token:"",tokenObj:{},loading:!1}},computed:{nickName(){const e=this.$store.state.userinfo.wx_user?this.$store.state.userinfo.wx_user.nick_name:"";return e}},created(){this.$route.query.token&&(this.token=this.$route.query.token,this.fetchVerifyTicket())},asyncMethods:{fetchRegister(){const e={token:this.token};return Object(s["a"])(e).then(e=>{e.data.error?this.$Message.error(e.data.error.message):(this.$Message.success("已同意邀请！"),this.getLoginStatus(!0))}).catch(e=>{console.log(e)})},fetchVerifyTicket(){const e={token:this.token};return Object(s["c"])(e).then(e=>{e.data.result.email?(this.tokenObj=e.data.result,this.loading=!1):this.$Message.error("邀请链接无效")}).catch(e=>{console.log(e)})}},methods:{logout(){Object(n["d"])({method:"get",url:"passport/logout"}).then(e=>{e.data.result&&this.getLoginStatus()})},getLoginStatus(e){Object(n["d"])({method:"get",url:"passport/profile"}).then(t=>{if(t.data.result)if(this.$store.commit("setUserInfo",t.data.result),e)this.$router.push({path:"/personal-center"}).catch(e=>{console.log(e)});else{const{origin:e}=window.location;window.location.replace(e+"/v2/login")}}).catch(e=>{console.log(e)})},goRegister(){this.$router.push({path:"/register"}).catch(e=>{console.log(e)})}}},l=o,c=(a("faf0"),a("2be6")),d=Object(c["a"])(l,r,i,!1,null,"1056e4ba",null);t["default"]=d.exports},e5f4:function(e,t,a){},e60b:function(e,t,a){},e60f:function(e,t,a){"use strict";a("8eea")},e772:function(e,t,a){"use strict";a("d06d")},e78f:function(e,t,a){e.exports=a.p+"static/img/normal-preview.23bc6e38.png"},e9d1:function(e,t,a){},eb10:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},i=[],n=a("cb78"),s=a("bccd"),o={data(){return{task:{}}},methods:{DeleteTask(e){const t=new Promise(t=>{this.task=e,this.$Modal.confirm({title:"确定要删除这个任务吗？",content:`<p>任务名称：${this.task.task_name}</p><p>确定删除的话，任务内容会被清空。</p>`,onOk:()=>{this.fetchDeleteTask().then(()=>{t()})}})});return t}},asyncMethods:{fetchDeleteTask(){const e={project_id:this.task.project_id,task_id:Object(s["BigNumber"])(this.task.task_id)};return n["a"].DeleteTask(e).then(e=>{e.data.result?this.$Message.success("任务删除成功！"):this.$Message.error("任务删除失败："+e.data.result)}).catch(e=>{this.$Message.error("任务删除失败："+e.message)})}}},l=o,c=a("2be6"),d=Object(c["a"])(l,r,i,!1,null,null,null);t["a"]=d.exports},ecab:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Alert",{staticClass:"deleteTip",attrs:{type:"error"}},[a("p",[e._v("删除用户，名下标注数据说明：")]),a("p",[e._v("1）狀态为“标注中”，则题目的标注状态更新为“待标注”。题目待其他标注员领取标注；")]),a("p",[e._v("2）状态为“已标注”质检不通过的题目，题目在抽检任务中剔除，标注结果保留，标注状态更新为”待标注”，题目待其他标注员领取；")]),a("p",[e._v("3）状态为“已标注”质检通过的题目，不处理。")]),a("br"),a("p",[e._v("删除用户，名下质检数据说明：")]),a("p",[e._v("1）状态为“质检中”，则题目的质检状态打回成“待质检”，题目可被其他的质检员领取质检；")]),a("p",[e._v("2）状态为“质检不通过〞，则题目的质检状态不变，待标注员返修，标注返回后题目进入待质检，题目可被其他的质检员领取质检；")]),a("p",[e._v("3）状态为“质检通过”，不处理。")])])},i=[],n=(a("1c78"),a("2be6")),s={},o=Object(n["a"])(s,r,i,!1,null,"1015476e",null);t["a"]=o.exports},ed50:function(e,t,a){},f0d0:function(e,t,a){},f1b1:function(e,t,a){},f5a8:function(e,t,a){"use strict";a("8287")},f607:function(e,t,a){"use strict";a("e28c")},f66b:function(e,t,a){"use strict";a("ab0d")},f76b:function(e,t,a){},f875:function(e,t,a){"use strict";a("11cb")},f891:function(e,t,a){},fa30:function(e,t,a){},fa43:function(e,t,a){},faf0:function(e,t,a){"use strict";a("3787")},fb02:function(e,t,a){"use strict";a("2557")},fc28:function(e,t,a){},fd5b:function(e,t,a){(function(r,i,n,s){/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */
var o={};function l(t){t.version="0.17.5";var o=1200,l=1252;"undefined"===typeof cptable&&("undefined"!==typeof r?r.cptable=a("0906"):"undefined"!==typeof window&&(window.cptable=a("0906")));for(var c=[874,932,936,949,950],d=0;d<=8;++d)c.push(1250+d);var u={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},h=function(e){-1!=c.indexOf(e)&&(l=u[0]=e)};function p(){h(1252)}var f=function(e){o=e,h(e)};function m(){f(1200),p()}function g(e){for(var t=[],a=0,r=e.length;a<r;++a)t[a]=e.charCodeAt(a);return t}function _(e){for(var t=[],a=0;a<e.length>>1;++a)t[a]=String.fromCharCode(e.charCodeAt(2*a)+(e.charCodeAt(2*a+1)<<8));return t.join("")}function v(e){for(var t=[],a=0;a<e.length>>1;++a)t[a]=String.fromCharCode(e.charCodeAt(2*a+1)+(e.charCodeAt(2*a)<<8));return t.join("")}var b=function(e){var t=e.charCodeAt(0),a=e.charCodeAt(1);return 255==t&&254==a?_(e.slice(2)):254==t&&255==a?v(e.slice(2)):65279==t?e.slice(1):e},y=function(e){return String.fromCharCode(e)},k=function(e){return String.fromCharCode(e)};"undefined"!==typeof cptable&&(f=function(e){o=e,h(e)},b=function(e){return 255===e.charCodeAt(0)&&254===e.charCodeAt(1)?cptable.utils.decode(1200,g(e.slice(2))):e},y=function(e){return 1200===o?String.fromCharCode(e):cptable.utils.decode(o,[255&e,e>>8])[0]},k=function(e){return cptable.utils.decode(l,[e])[0]});var x=null,w=!0,S=function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{encode:function(t){for(var a="",r=0,i=0,n=0,s=0,o=0,l=0,c=0,d=0;d<t.length;)r=t.charCodeAt(d++),s=r>>2,i=t.charCodeAt(d++),o=(3&r)<<4|i>>4,n=t.charCodeAt(d++),l=(15&i)<<2|n>>6,c=63&n,isNaN(i)?l=c=64:isNaN(n)&&(c=64),a+=e.charAt(s)+e.charAt(o)+e.charAt(l)+e.charAt(c);return a},decode:function(t){var a="",r=0,i=0,n=0,s=0,o=0,l=0,c=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<t.length;)s=e.indexOf(t.charAt(d++)),o=e.indexOf(t.charAt(d++)),r=s<<2|o>>4,a+=String.fromCharCode(r),l=e.indexOf(t.charAt(d++)),i=(15&o)<<4|l>>2,64!==l&&(a+=String.fromCharCode(i)),c=e.indexOf(t.charAt(d++)),n=(3&l)<<6|c,64!==c&&(a+=String.fromCharCode(n));return a}}}(),C="undefined"!==typeof i&&"undefined"!==typeof n&&"undefined"!==typeof n.versions&&!!n.versions.node,O=function(){};if("undefined"!==typeof i){var T=!i.from;if(!T)try{i.from("foo","utf8")}catch(D_){T=!0}O=T?function(e,t){return t?new i(e,t):new i(e)}:i.from.bind(i),i.alloc||(i.alloc=function(e){return new i(e)}),i.allocUnsafe||(i.allocUnsafe=function(e){return new i(e)})}function j(e){return C?i.alloc(e):new Array(e)}function I(e){return C?i.allocUnsafe(e):new Array(e)}var A=function(e){return C?O(e,"binary"):e.split("").map((function(e){return 255&e.charCodeAt(0)}))};function D(e){if("undefined"===typeof ArrayBuffer)return A(e);for(var t=new ArrayBuffer(e.length),a=new Uint8Array(t),r=0;r!=e.length;++r)a[r]=255&e.charCodeAt(r);return t}function M(e){if(Array.isArray(e))return e.map((function(e){return String.fromCharCode(e)})).join("");for(var t=[],a=0;a<e.length;++a)t[a]=String.fromCharCode(e[a]);return t.join("")}function E(e){if("undefined"===typeof Uint8Array)throw new Error("Unsupported");return new Uint8Array(e)}function R(e){if("undefined"==typeof ArrayBuffer)throw new Error("Unsupported");if(e instanceof ArrayBuffer)return R(new Uint8Array(e));for(var t=new Array(e.length),a=0;a<e.length;++a)t[a]=e[a];return t}var B=function(e){return[].concat.apply([],e)},P=/\u0000/g,L=/[\u0001-\u0006]/g,F={},N=function(e){function t(e){var t="",a=e.length-1;while(a>=0)t+=e.charAt(a--);return t}function a(e,t){var a="";while(a.length<t)a+=e;return a}function r(e,t){var r=""+e;return r.length>=t?r:a("0",t-r.length)+r}function i(e,t){var r=""+e;return r.length>=t?r:a(" ",t-r.length)+r}function n(e,t){var r=""+e;return r.length>=t?r:r+a(" ",t-r.length)}function s(e,t){var r=""+Math.round(e);return r.length>=t?r:a("0",t-r.length)+r}function o(e,t){var r=""+e;return r.length>=t?r:a("0",t-r.length)+r}e.version="0.11.2";var l=Math.pow(2,32);function c(e,t){if(e>l||e<-l)return s(e,t);var a=Math.round(e);return o(a,t)}function d(e,t){return t=t||0,e.length>=7+t&&103===(32|e.charCodeAt(t))&&101===(32|e.charCodeAt(t+1))&&110===(32|e.charCodeAt(t+2))&&101===(32|e.charCodeAt(t+3))&&114===(32|e.charCodeAt(t+4))&&97===(32|e.charCodeAt(t+5))&&108===(32|e.charCodeAt(t+6))}var u=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],h=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function p(e){e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "'}var f={};p(f);var m=[],g=0;for(g=5;g<=8;++g)m[g]=32+g;for(g=23;g<=26;++g)m[g]=0;for(g=27;g<=31;++g)m[g]=14;for(g=50;g<=58;++g)m[g]=14;for(g=59;g<=62;++g)m[g]=g-58;for(g=67;g<=68;++g)m[g]=g-58;for(g=72;g<=75;++g)m[g]=g-58;for(g=67;g<=68;++g)m[g]=g-57;for(g=76;g<=78;++g)m[g]=g-56;for(g=79;g<=81;++g)m[g]=g-34;var _=[];function v(e,t,a){var r=e<0?-1:1,i=e*r,n=0,s=1,o=0,l=1,c=0,d=0,u=Math.floor(i);while(c<t){if(u=Math.floor(i),o=u*s+n,d=u*c+l,i-u<5e-8)break;i=1/(i-u),n=s,s=o,l=c,c=d}if(d>t&&(c>t?(d=l,o=n):(d=c,o=s)),!a)return[0,r*o,d];var h=Math.floor(r*o/d);return[h,r*o-h*d,d]}function b(e,t,a){if(e>2958465||e<0)return null;var r=0|e,i=Math.floor(86400*(e-r)),n=0,s=[],o={D:r,T:i,u:86400*(e-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(r+=1462),o.u>.9999&&(o.u=0,86400==++i&&(o.T=i=0,++r,++o.D)),60===r)s=a?[1317,10,29]:[1900,2,29],n=3;else if(0===r)s=a?[1317,8,29]:[1900,1,0],n=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],n=l.getDay(),r<60&&(n=(n+6)%7),a&&(n=T(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=n,o}_[5]=_[63]='"$"#,##0_);\\("$"#,##0\\)',_[6]=_[64]='"$"#,##0_);[Red]\\("$"#,##0\\)',_[7]=_[65]='"$"#,##0.00_);\\("$"#,##0.00\\)',_[8]=_[66]='"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',_[41]='_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',_[42]='_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',_[43]='_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',_[44]='_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)',e.parse_date_code=b;var y=new Date(1899,11,31,0,0,0),k=y.getTime(),x=new Date(1900,2,1,0,0,0);function w(e,t){var a=e.getTime();return t?a-=1262304e5:e>=x&&(a+=864e5),(a-(k+6e4*(e.getTimezoneOffset()-y.getTimezoneOffset())))/864e5}function S(e){return e.toString(10)}e._general_int=S;var C=function(){var e=/(?:\.0*|(\.\d*[1-9])0+)$/;function t(t){return-1==t.indexOf(".")?t:t.replace(e,"$1")}var a=/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,r=/(E[+-])(\d)$/;function i(e){return-1==e.indexOf("E")?e:e.replace(a,"$1E").replace(r,"$10$2")}function n(e){var a=e<0?12:11,r=t(e.toFixed(12));return r.length<=a?r:(r=e.toPrecision(10),r.length<=a?r:e.toExponential(5))}function s(e){var a=t(e.toFixed(11));return a.length>(e<0?12:11)||"0"===a||"-0"===a?e.toPrecision(6):a}function o(e){var a,r=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return a=r>=-4&&r<=-1?e.toPrecision(10+r):Math.abs(r)<=9?n(e):10===r?e.toFixed(10).substr(0,12):s(e),t(i(a.toUpperCase()))}return o}();function O(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):C(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return N(14,w(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function T(e,t){t[0]-=581;var a=e.getDay();return e<60&&(a=(a+6)%7),a}function j(e,t,a,i){var n,s="",o=0,l=0,c=a.y,d=0;switch(e){case 98:c=a.y+543;case 121:switch(t.length){case 1:case 2:n=c%100,d=2;break;default:n=c%1e4,d=4;break}break;case 109:switch(t.length){case 1:case 2:n=a.m,d=t.length;break;case 3:return h[a.m-1][1];case 5:return h[a.m-1][0];default:return h[a.m-1][2]}break;case 100:switch(t.length){case 1:case 2:n=a.d,d=t.length;break;case 3:return u[a.q][0];default:return u[a.q][1]}break;case 104:switch(t.length){case 1:case 2:n=1+(a.H+11)%12,d=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:n=a.H,d=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:n=a.M,d=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;return 0!==a.u||"s"!=t&&"ss"!=t?(l=i>=2?3===i?1e3:100:1===i?10:1,o=Math.round(l*(a.S+a.u)),o>=60*l&&(o=0),"s"===t?0===o?"0":""+o/l:(s=r(o,2+i),"ss"===t?s.substr(0,2):"."+s.substr(2,t.length-1))):r(a.S,t.length);case 90:switch(t){case"[h]":case"[hh]":n=24*a.D+a.H;break;case"[m]":case"[mm]":n=60*(24*a.D+a.H)+a.M;break;case"[s]":case"[ss]":n=60*(60*(24*a.D+a.H)+a.M)+Math.round(a.S+a.u);break;default:throw"bad abstime format: "+t}d=3===t.length?1:2;break;case 101:n=c,d=1;break}var p=d>0?r(n,d):"";return p}function I(e){var t=3;if(e.length<=t)return e;for(var a=e.length%t,r=e.substr(0,a);a!=e.length;a+=t)r+=(r.length>0?",":"")+e.substr(a,t);return r}e._general_num=C,e._general=O;var A=function(){var e=/%/g;function s(t,r,i){var n=r.replace(e,""),s=r.length-n.length;return A(t,n,i*Math.pow(10,2*s))+a("%",s)}function o(e,t,a){var r=t.length-1;while(44===t.charCodeAt(r-1))--r;return A(e,t.substr(0,r),a/Math.pow(10,3*(t.length-r)))}function l(e,t){var a,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+l(e,-t);var i=e.indexOf(".");-1===i&&(i=e.indexOf("E"));var n=Math.floor(Math.log(t)*Math.LOG10E)%i;if(n<0&&(n+=i),a=(t/Math.pow(10,n)).toPrecision(r+1+(i+n)%i),-1===a.indexOf("e")){var s=Math.floor(Math.log(t)*Math.LOG10E);-1===a.indexOf(".")?a=a.charAt(0)+"."+a.substr(1)+"E+"+(s-a.length+n):a+="E+"+(s-n);while("0."===a.substr(0,2))a=a.charAt(0)+a.substr(2,i)+"."+a.substr(2+i),a=a.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");a=a.replace(/\+-/,"-")}a=a.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,a,r){return t+a+r.substr(0,(i+n)%i)+"."+r.substr(n)+"E"}))}else a=t.toExponential(r);return e.match(/E\+00$/)&&a.match(/e[+-]\d$/)&&(a=a.substr(0,a.length-1)+"0"+a.charAt(a.length-1)),e.match(/E\-/)&&a.match(/e\+/)&&(a=a.replace(/e\+/,"e")),a.replace("e","E")}var d=/# (\?+)( ?)\/( ?)(\d+)/;function u(e,t,n){var s=parseInt(e[4],10),o=Math.round(t*s),l=Math.floor(o/s),c=o-l*s,d=s;return n+(0===l?"":""+l)+" "+(0===c?a(" ",e[1].length+1+e[4].length):i(c,e[1].length)+e[2]+"/"+e[3]+r(d,e[4].length))}function h(e,t,r){return r+(0===t?"":""+t)+a(" ",e[1].length+2+e[4].length)}var p=/^#*0*\.([0#]+)/,f=/\).*[0#]/,m=/\(###\) ###\\?-####/;function g(e){for(var t,a="",r=0;r!=e.length;++r)switch(t=e.charCodeAt(r)){case 35:break;case 63:a+=" ";break;case 48:a+="0";break;default:a+=String.fromCharCode(t)}return a}function _(e,t){var a=Math.pow(10,t);return""+Math.round(e*a)/a}function b(e,t){var a=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(a*r)).length?0:Math.round(a*r)}function y(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function k(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}function x(e,h,w){if(40===e.charCodeAt(0)&&!h.match(f)){var S=h.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return w>=0?x("n",S,w):"("+x("n",S,-w)+")"}if(44===h.charCodeAt(h.length-1))return o(e,h,w);if(-1!==h.indexOf("%"))return s(e,h,w);if(-1!==h.indexOf("E"))return l(h,w);if(36===h.charCodeAt(0))return"$"+x(e,h.substr(" "==h.charAt(1)?2:1),w);var C,O,T,j,D=Math.abs(w),M=w<0?"-":"";if(h.match(/^00+$/))return M+c(D,h.length);if(h.match(/^[#?]+$/))return C=c(w,0),"0"===C&&(C=""),C.length>h.length?C:g(h.substr(0,h.length-C.length))+C;if(O=h.match(d))return u(O,D,M);if(h.match(/^#+0+$/))return M+c(D,h.length-h.indexOf("0"));if(O=h.match(p))return C=_(w,O[1].length).replace(/^([^\.]+)$/,"$1."+g(O[1])).replace(/\.$/,"."+g(O[1])).replace(/\.(\d*)$/,(function(e,t){return"."+t+a("0",g(O[1]).length-t.length)})),-1!==h.indexOf("0.")?C:C.replace(/^0\./,".");if(h=h.replace(/^#+([0.])/,"$1"),O=h.match(/^(0*)\.(#*)$/))return M+_(D,O[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,O[1].length?"0.":".");if(O=h.match(/^#{1,3},##0(\.?)$/))return M+I(c(D,0));if(O=h.match(/^#,##0\.([#0]*0)$/))return w<0?"-"+x(e,h,-w):I(""+(Math.floor(w)+y(w,O[1].length)))+"."+r(b(w,O[1].length),O[1].length);if(O=h.match(/^#,#*,#0/))return x(e,h.replace(/^#,#*,/,""),w);if(O=h.match(/^([0#]+)(\\?-([0#]+))+$/))return C=t(x(e,h.replace(/[\\-]/g,""),w)),T=0,t(t(h.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return T<C.length?C.charAt(T++):"0"===e?"0":""})));if(h.match(m))return C=x(e,"##########",w),"("+C.substr(0,3)+") "+C.substr(3,3)+"-"+C.substr(6);var E="";if(O=h.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return T=Math.min(O[4].length,7),j=v(D,Math.pow(10,T)-1,!1),C=""+M,E=A("n",O[1],j[1])," "==E.charAt(E.length-1)&&(E=E.substr(0,E.length-1)+"0"),C+=E+O[2]+"/"+O[3],E=n(j[2],T),E.length<O[4].length&&(E=g(O[4].substr(O[4].length-E.length))+E),C+=E,C;if(O=h.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return T=Math.min(Math.max(O[1].length,O[4].length),7),j=v(D,Math.pow(10,T)-1,!0),M+(j[0]||(j[1]?"":"0"))+" "+(j[1]?i(j[1],T)+O[2]+"/"+O[3]+n(j[2],T):a(" ",2*T+1+O[2].length+O[3].length));if(O=h.match(/^[#0?]+$/))return C=c(w,0),h.length<=C.length?C:g(h.substr(0,h.length-C.length))+C;if(O=h.match(/^([#0?]+)\.([#0]+)$/)){C=""+w.toFixed(Math.min(O[2].length,10)).replace(/([^0])0+$/,"$1"),T=C.indexOf(".");var R=h.indexOf(".")-T,B=h.length-C.length-R;return g(h.substr(0,R)+C+h.substr(h.length-B))}if(O=h.match(/^00,000\.([#0]*0)$/))return T=b(w,O[1].length),w<0?"-"+x(e,h,-w):I(k(w)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?r(0,3-e.length):"")+e}))+"."+r(T,O[1].length);switch(h){case"###,##0.00":return x(e,"#,##0.00",w);case"###,###":case"##,###":case"#,###":var P=I(c(D,0));return"0"!==P?M+P:"";case"###,###.00":return x(e,"###,##0.00",w).replace(/^0\./,".");case"#,###.00":return x(e,"#,##0.00",w).replace(/^0\./,".");default:}throw new Error("unsupported format |"+h+"|")}function w(e,t,a){var r=t.length-1;while(44===t.charCodeAt(r-1))--r;return A(e,t.substr(0,r),a/Math.pow(10,3*(t.length-r)))}function S(t,r,i){var n=r.replace(e,""),s=r.length-n.length;return A(t,n,i*Math.pow(10,2*s))+a("%",s)}function C(e,t){var a,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+C(e,-t);var i=e.indexOf(".");-1===i&&(i=e.indexOf("E"));var n=Math.floor(Math.log(t)*Math.LOG10E)%i;if(n<0&&(n+=i),a=(t/Math.pow(10,n)).toPrecision(r+1+(i+n)%i),!a.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);-1===a.indexOf(".")?a=a.charAt(0)+"."+a.substr(1)+"E+"+(s-a.length+n):a+="E+"+(s-n),a=a.replace(/\+-/,"-")}a=a.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,a,r){return t+a+r.substr(0,(i+n)%i)+"."+r.substr(n)+"E"}))}else a=t.toExponential(r);return e.match(/E\+00$/)&&a.match(/e[+-]\d$/)&&(a=a.substr(0,a.length-1)+"0"+a.charAt(a.length-1)),e.match(/E\-/)&&a.match(/e\+/)&&(a=a.replace(/e\+/,"e")),a.replace("e","E")}function O(e,s,o){if(40===e.charCodeAt(0)&&!s.match(f)){var l=s.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return o>=0?O("n",l,o):"("+O("n",l,-o)+")"}if(44===s.charCodeAt(s.length-1))return w(e,s,o);if(-1!==s.indexOf("%"))return S(e,s,o);if(-1!==s.indexOf("E"))return C(s,o);if(36===s.charCodeAt(0))return"$"+O(e,s.substr(" "==s.charAt(1)?2:1),o);var c,u,_,b,y=Math.abs(o),k=o<0?"-":"";if(s.match(/^00+$/))return k+r(y,s.length);if(s.match(/^[#?]+$/))return c=""+o,0===o&&(c=""),c.length>s.length?c:g(s.substr(0,s.length-c.length))+c;if(u=s.match(d))return h(u,y,k);if(s.match(/^#+0+$/))return k+r(y,s.length-s.indexOf("0"));if(u=s.match(p))return c=(""+o).replace(/^([^\.]+)$/,"$1."+g(u[1])).replace(/\.$/,"."+g(u[1])),c=c.replace(/\.(\d*)$/,(function(e,t){return"."+t+a("0",g(u[1]).length-t.length)})),-1!==s.indexOf("0.")?c:c.replace(/^0\./,".");if(s=s.replace(/^#+([0.])/,"$1"),u=s.match(/^(0*)\.(#*)$/))return k+(""+y).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,u[1].length?"0.":".");if(u=s.match(/^#{1,3},##0(\.?)$/))return k+I(""+y);if(u=s.match(/^#,##0\.([#0]*0)$/))return o<0?"-"+O(e,s,-o):I(""+o)+"."+a("0",u[1].length);if(u=s.match(/^#,#*,#0/))return O(e,s.replace(/^#,#*,/,""),o);if(u=s.match(/^([0#]+)(\\?-([0#]+))+$/))return c=t(O(e,s.replace(/[\\-]/g,""),o)),_=0,t(t(s.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return _<c.length?c.charAt(_++):"0"===e?"0":""})));if(s.match(m))return c=O(e,"##########",o),"("+c.substr(0,3)+") "+c.substr(3,3)+"-"+c.substr(6);var x="";if(u=s.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return _=Math.min(u[4].length,7),b=v(y,Math.pow(10,_)-1,!1),c=""+k,x=A("n",u[1],b[1])," "==x.charAt(x.length-1)&&(x=x.substr(0,x.length-1)+"0"),c+=x+u[2]+"/"+u[3],x=n(b[2],_),x.length<u[4].length&&(x=g(u[4].substr(u[4].length-x.length))+x),c+=x,c;if(u=s.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return _=Math.min(Math.max(u[1].length,u[4].length),7),b=v(y,Math.pow(10,_)-1,!0),k+(b[0]||(b[1]?"":"0"))+" "+(b[1]?i(b[1],_)+u[2]+"/"+u[3]+n(b[2],_):a(" ",2*_+1+u[2].length+u[3].length));if(u=s.match(/^[#0?]+$/))return c=""+o,s.length<=c.length?c:g(s.substr(0,s.length-c.length))+c;if(u=s.match(/^([#0]+)\.([#0]+)$/)){c=""+o.toFixed(Math.min(u[2].length,10)).replace(/([^0])0+$/,"$1"),_=c.indexOf(".");var T=s.indexOf(".")-_,j=s.length-c.length-T;return g(s.substr(0,T)+c+s.substr(s.length-j))}if(u=s.match(/^00,000\.([#0]*0)$/))return o<0?"-"+O(e,s,-o):I(""+o).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?r(0,3-e.length):"")+e}))+"."+r(0,u[1].length);switch(s){case"###,###":case"##,###":case"#,###":var D=I(""+y);return"0"!==D?k+D:"";default:if(s.match(/\.[0#?]*$/))return O(e,s.slice(0,s.lastIndexOf(".")),o)+g(s.slice(s.lastIndexOf(".")))}throw new Error("unsupported format |"+s+"|")}return function(e,t,a){return(0|a)===a?O(e,t,a):x(e,t,a)}}();function D(e){for(var t=[],a=!1,r=0,i=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:a=!a;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(i,r-i),i=r+1}if(t[t.length]=e.substr(i),!0===a)throw new Error("Format |"+e+"| unterminated string ");return t}e._split=D;var M=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function E(e){var t=0,a="",r="";while(t<e.length)switch(a=e.charAt(t)){case"G":d(e,t)&&(t+=6),t++;break;case'"':for(;34!==e.charCodeAt(++t)&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===e.charAt(t+1)||"2"===e.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if("A/P"===e.substr(t,3).toUpperCase())return!0;if("AM/PM"===e.substr(t,5).toUpperCase())return!0;if("上午/下午"===e.substr(t,5).toUpperCase())return!0;++t;break;case"[":r=a;while("]"!==e.charAt(t++)&&t<e.length)r+=e.charAt(t);if(r.match(M))return!0;break;case".":case"0":case"#":while(t<e.length&&("0#?.,E+-%".indexOf(a=e.charAt(++t))>-1||"\\"==a&&"-"==e.charAt(t+1)&&"0#".indexOf(e.charAt(t+2))>-1));break;case"?":while(e.charAt(++t)===a);break;case"*":++t," "!=e.charAt(t)&&"*"!=e.charAt(t)||++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":while(t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1);break;case" ":++t;break;default:++t;break}return!1}function R(e,t,a,r){var i,n,s,o=[],l="",c=0,u="",h="t",p="H";while(c<e.length)switch(u=e.charAt(c)){case"G":if(!d(e,c))throw new Error("unrecognized character "+u+" in "+e);o[o.length]={t:"G",v:"General"},c+=7;break;case'"':for(l="";34!==(s=e.charCodeAt(++c))&&c<e.length;)l+=String.fromCharCode(s);o[o.length]={t:"t",v:l},++c;break;case"\\":var f=e.charAt(++c),m="("===f||")"===f?f:"t";o[o.length]={t:m,v:f},++c;break;case"_":o[o.length]={t:"t",v:" "},c+=2;break;case"@":o[o.length]={t:"T",v:t},++c;break;case"B":case"b":if("1"===e.charAt(c+1)||"2"===e.charAt(c+1)){if(null==i&&(i=b(t,a,"2"===e.charAt(c+1)),null==i))return"";o[o.length]={t:"X",v:e.substr(c,2)},h=u,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0)return"";if(null==i&&(i=b(t,a),null==i))return"";l=u;while(++c<e.length&&e.charAt(c).toLowerCase()===u)l+=u;"m"===u&&"h"===h.toLowerCase()&&(u="M"),"h"===u&&(u=p),o[o.length]={t:u,v:l},h=u;break;case"A":case"a":case"上":var g={t:u,v:u};if(null==i&&(i=b(t,a)),"A/P"===e.substr(c,3).toUpperCase()?(null!=i&&(g.v=i.H>=12?"P":"A"),g.t="T",p="h",c+=3):"AM/PM"===e.substr(c,5).toUpperCase()?(null!=i&&(g.v=i.H>=12?"PM":"AM"),g.t="T",c+=5,p="h"):"上午/下午"===e.substr(c,5).toUpperCase()?(null!=i&&(g.v=i.H>=12?"下午":"上午"),g.t="T",c+=5,p="h"):(g.t="t",++c),null==i&&"T"===g.t)return"";o[o.length]=g,h=u;break;case"[":l=u;while("]"!==e.charAt(c++)&&c<e.length)l+=e.charAt(c);if("]"!==l.slice(-1))throw'unterminated "[" block: |'+l+"|";if(l.match(M)){if(null==i&&(i=b(t,a),null==i))return"";o[o.length]={t:"Z",v:l.toLowerCase()},h=l.charAt(1)}else l.indexOf("$")>-1&&(l=(l.match(/\$([^-\[\]]*)/)||[])[1]||"$",E(e)||(o[o.length]={t:"t",v:l}));break;case".":if(null!=i){l=u;while(++c<e.length&&"0"===(u=e.charAt(c)))l+=u;o[o.length]={t:"s",v:l};break}case"0":case"#":l=u;while(++c<e.length&&"0#?.,E+-%".indexOf(u=e.charAt(c))>-1)l+=u;o[o.length]={t:"n",v:l};break;case"?":l=u;while(e.charAt(++c)===u)l+=u;o[o.length]={t:u,v:l},h=u;break;case"*":++c," "!=e.charAt(c)&&"*"!=e.charAt(c)||++c;break;case"(":case")":o[o.length]={t:1===r?"t":u,v:u},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":l=u;while(c<e.length&&"0123456789".indexOf(e.charAt(++c))>-1)l+=e.charAt(c);o[o.length]={t:"D",v:l};break;case" ":o[o.length]={t:u,v:u},++c;break;case"$":o[o.length]={t:"t",v:"$"},++c;break;default:if(-1===",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(u))throw new Error("unrecognized character "+u+" in "+e);o[o.length]={t:"t",v:u},++c;break}var _,v=0,y=0;for(c=o.length-1,h="t";c>=0;--c)switch(o[c].t){case"h":case"H":o[c].t=p,h="h",v<1&&(v=1);break;case"s":(_=o[c].v.match(/\.0+$/))&&(y=Math.max(y,_[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":h=o[c].t;break;case"m":"s"===h&&(o[c].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&o[c].v.match(/[Hh]/)&&(v=1),v<2&&o[c].v.match(/[Mm]/)&&(v=2),v<3&&o[c].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:i.u>=.5&&(i.u=0,++i.S),i.S>=60&&(i.S=0,++i.M),i.M>=60&&(i.M=0,++i.H);break;case 2:i.u>=.5&&(i.u=0,++i.S),i.S>=60&&(i.S=0,++i.M);break}var k,x="";for(c=0;c<o.length;++c)switch(o[c].t){case"t":case"T":case" ":case"D":break;case"X":o[c].v="",o[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":o[c].v=j(o[c].t.charCodeAt(0),o[c].v,i,y),o[c].t="t";break;case"n":case"?":k=c+1;while(null!=o[k]&&("?"===(u=o[k].t)||"D"===u||(" "===u||"t"===u)&&null!=o[k+1]&&("?"===o[k+1].t||"t"===o[k+1].t&&"/"===o[k+1].v)||"("===o[c].t&&(" "===u||"n"===u||")"===u)||"t"===u&&("/"===o[k].v||" "===o[k].v&&null!=o[k+1]&&"?"==o[k+1].t)))o[c].v+=o[k].v,o[k]={v:"",t:";"},++k;x+=o[c].v,c=k-1;break;case"G":o[c].t="t",o[c].v=O(t,a);break}var w,S,C="";if(x.length>0){40==x.charCodeAt(0)?(w=t<0&&45===x.charCodeAt(0)?-t:t,S=A("n",x,w)):(w=t<0&&r>1?-t:t,S=A("n",x,w),w<0&&o[0]&&"t"==o[0].t&&(S=S.substr(1),o[0].v="-"+o[0].v)),k=S.length-1;var T=o.length;for(c=0;c<o.length;++c)if(null!=o[c]&&"t"!=o[c].t&&o[c].v.indexOf(".")>-1){T=c;break}var I=o.length;if(T===o.length&&-1===S.indexOf("E")){for(c=o.length-1;c>=0;--c)null!=o[c]&&-1!=="n?".indexOf(o[c].t)&&(k>=o[c].v.length-1?(k-=o[c].v.length,o[c].v=S.substr(k+1,o[c].v.length)):k<0?o[c].v="":(o[c].v=S.substr(0,k+1),k=-1),o[c].t="t",I=c);k>=0&&I<o.length&&(o[I].v=S.substr(0,k+1)+o[I].v)}else if(T!==o.length&&-1===S.indexOf("E")){for(k=S.indexOf(".")-1,c=T;c>=0;--c)if(null!=o[c]&&-1!=="n?".indexOf(o[c].t)){for(n=o[c].v.indexOf(".")>-1&&c===T?o[c].v.indexOf(".")-1:o[c].v.length-1,C=o[c].v.substr(n+1);n>=0;--n)k>=0&&("0"===o[c].v.charAt(n)||"#"===o[c].v.charAt(n))&&(C=S.charAt(k--)+C);o[c].v=C,o[c].t="t",I=c}for(k>=0&&I<o.length&&(o[I].v=S.substr(0,k+1)+o[I].v),k=S.indexOf(".")+1,c=T;c<o.length;++c)if(null!=o[c]&&(-1!=="n?(".indexOf(o[c].t)||c===T)){for(n=o[c].v.indexOf(".")>-1&&c===T?o[c].v.indexOf(".")+1:0,C=o[c].v.substr(0,n);n<o[c].v.length;++n)k<S.length&&(C+=S.charAt(k++));o[c].v=C,o[c].t="t",I=c}}}for(c=0;c<o.length;++c)null!=o[c]&&"n?".indexOf(o[c].t)>-1&&(w=r>1&&t<0&&c>0&&"-"===o[c-1].v?-t:t,o[c].v=A(o[c].t,o[c].v,w),o[c].t="t");var D="";for(c=0;c!==o.length;++c)null!=o[c]&&(D+=o[c].v);return D}e.is_date=E,e._eval=R;var B=/\[[=<>]/,P=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function L(e,t){if(null==t)return!1;var a=parseFloat(t[2]);switch(t[1]){case"=":if(e==a)return!0;break;case">":if(e>a)return!0;break;case"<":if(e<a)return!0;break;case"<>":if(e!=a)return!0;break;case">=":if(e>=a)return!0;break;case"<=":if(e<=a)return!0;break}return!1}function F(e,t){var a=D(e),r=a.length,i=a[r-1].indexOf("@");if(r<4&&i>-1&&--r,a.length>4)throw new Error("cannot find right format for |"+a.join("|")+"|");if("number"!==typeof t)return[4,4===a.length||i>-1?a[a.length-1]:"@"];switch(a.length){case 1:a=i>-1?["General","General","General",a[0]]:[a[0],a[0],a[0],"@"];break;case 2:a=i>-1?[a[0],a[0],a[0],a[1]]:[a[0],a[1],a[0],"@"];break;case 3:a=i>-1?[a[0],a[1],a[0],a[2]]:[a[0],a[1],a[2],"@"];break;case 4:break}var n=t>0?a[0]:t<0?a[1]:a[2];if(-1===a[0].indexOf("[")&&-1===a[1].indexOf("["))return[r,n];if(null!=a[0].match(B)||null!=a[1].match(B)){var s=a[0].match(P),o=a[1].match(P);return L(t,s)?[r,a[0]]:L(t,o)?[r,a[1]]:[r,a[null!=s&&null!=o?2:1]]}return[r,n]}function N(e,t,a){null==a&&(a={});var r="";switch(typeof e){case"string":r="m/d/yy"==e&&a.dateNF?a.dateNF:e;break;case"number":r=14==e&&a.dateNF?a.dateNF:(null!=a.table?a.table:f)[e],null==r&&(r=a.table&&a.table[m[e]]||f[m[e]]),null==r&&(r=_[e]||"General");break}if(d(r,0))return O(t,a);t instanceof Date&&(t=w(t,a.date1904));var i=F(r,t);if(d(i[1]))return O(t,a);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return R(i[1],t,a,i[0])}function $(e,t){if("number"!=typeof t){t=+t||-1;for(var a=0;a<392;++a)if(void 0!=f[a]){if(f[a]==e){t=a;break}}else t<0&&(t=a);t<0&&(t=391)}return f[t]=e,t}e.load=$,e._table=f,e.get_table=function(){return f},e.load_table=function(e){for(var t=0;392!=t;++t)void 0!==e[t]&&$(e[t],t)},e.init_table=p,e.format=N};N(F);var $={"General Number":"General","General Date":F._table[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":F._table[15],"Short Date":F._table[14],"Long Time":F._table[19],"Medium Time":F._table[18],"Short Time":F._table[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:F._table[2],Standard:F._table[4],Percent:F._table[10],Scientific:F._table[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'},z={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},V=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function U(e){var t="number"==typeof e?F._table[e]:e;return t=t.replace(V,"(\\d+)"),new RegExp("^"+t+"$")}function H(e,t,a){var r=-1,i=-1,n=-1,s=-1,o=-1,l=-1;(t.match(V)||[]).forEach((function(e,t){var c=parseInt(a[t+1],10);switch(e.toLowerCase().charAt(0)){case"y":r=c;break;case"d":n=c;break;case"h":s=c;break;case"s":l=c;break;case"m":s>=0?o=c:i=c;break}})),l>=0&&-1==o&&i>=0&&(o=i,i=-1);var c=(""+(r>=0?r:(new Date).getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(n>=1?n:1)).slice(-2);7==c.length&&(c="0"+c),8==c.length&&(c="20"+c);var d=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return-1==s&&-1==o&&-1==l?c:-1==r&&-1==i&&-1==n?d:c+"T"+d}var G,W=!0;(function(e){e(G={})})((function(e){function t(){for(var e=0,t=new Array(256),a=0;256!=a;++a)e=a,e=1&e?-306674912^e>>>1:e>>>1,e=1&e?-306674912^e>>>1:e>>>1,e=1&e?-306674912^e>>>1:e>>>1,e=1&e?-306674912^e>>>1:e>>>1,e=1&e?-306674912^e>>>1:e>>>1,e=1&e?-306674912^e>>>1:e>>>1,e=1&e?-306674912^e>>>1:e>>>1,e=1&e?-306674912^e>>>1:e>>>1,t[a]=e;return"undefined"!==typeof Int32Array?new Int32Array(t):t}e.version="1.2.0";var a=t();function r(e,t){for(var r=-1^t,i=e.length-1,n=0;n<i;)r=r>>>8^a[255&(r^e.charCodeAt(n++))],r=r>>>8^a[255&(r^e.charCodeAt(n++))];return n===i&&(r=r>>>8^a[255&(r^e.charCodeAt(n))]),-1^r}function i(e,t){if(e.length>1e4)return n(e,t);for(var r=-1^t,i=e.length-3,s=0;s<i;)r=r>>>8^a[255&(r^e[s++])],r=r>>>8^a[255&(r^e[s++])],r=r>>>8^a[255&(r^e[s++])],r=r>>>8^a[255&(r^e[s++])];while(s<i+3)r=r>>>8^a[255&(r^e[s++])];return-1^r}function n(e,t){for(var r=-1^t,i=e.length-7,n=0;n<i;)r=r>>>8^a[255&(r^e[n++])],r=r>>>8^a[255&(r^e[n++])],r=r>>>8^a[255&(r^e[n++])],r=r>>>8^a[255&(r^e[n++])],r=r>>>8^a[255&(r^e[n++])],r=r>>>8^a[255&(r^e[n++])],r=r>>>8^a[255&(r^e[n++])],r=r>>>8^a[255&(r^e[n++])];while(n<i+7)r=r>>>8^a[255&(r^e[n++])];return-1^r}function s(e,t){for(var r,i,n=-1^t,s=0,o=e.length;s<o;)r=e.charCodeAt(s++),r<128?n=n>>>8^a[255&(n^r)]:r<2048?(n=n>>>8^a[255&(n^(192|r>>6&31))],n=n>>>8^a[255&(n^(128|63&r))]):r>=55296&&r<57344?(r=64+(1023&r),i=1023&e.charCodeAt(s++),n=n>>>8^a[255&(n^(240|r>>8&7))],n=n>>>8^a[255&(n^(128|r>>2&63))],n=n>>>8^a[255&(n^(128|i>>6&15|(3&r)<<4))],n=n>>>8^a[255&(n^(128|63&i))]):(n=n>>>8^a[255&(n^(224|r>>12&15))],n=n>>>8^a[255&(n^(128|r>>6&63))],n=n>>>8^a[255&(n^(128|63&r))]);return-1^n}e.table=a,e.bstr=r,e.buf=i,e.str=s}));var q,X=function(){var e,t={};function r(e,t){for(var a=e.split("/"),r=t.split("/"),i=0,n=0,s=Math.min(a.length,r.length);i<s;++i){if(n=a[i].length-r[i].length)return n;if(a[i]!=r[i])return a[i]<r[i]?-1:1}return a.length-r.length}function i(e){if("/"==e.charAt(e.length-1))return-1===e.slice(0,-1).indexOf("/")?e:i(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(0,t+1)}function n(e){if("/"==e.charAt(e.length-1))return n(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(t+1)}function s(e,t){"string"===typeof t&&(t=new Date(t));var a=t.getHours();a=a<<6|t.getMinutes(),a=a<<5|t.getSeconds()>>>1,e.write_shift(2,a);var r=t.getFullYear()-1980;r=r<<4|t.getMonth()+1,r=r<<5|t.getDate(),e.write_shift(2,r)}function o(e){var t=65535&e.read_shift(2),a=65535&e.read_shift(2),r=new Date,i=31&a;a>>>=5;var n=15&a;a>>>=4,r.setMilliseconds(0),r.setFullYear(a+1980),r.setMonth(n-1),r.setDate(i);var s=31&t;t>>>=5;var o=63&t;return t>>>=6,r.setHours(t),r.setMinutes(o),r.setSeconds(s<<1),r}function l(e){Qt(e,0);var t={},a=0;while(e.l<=e.length-4){var r=e.read_shift(2),i=e.read_shift(2),n=e.l+i,s={};switch(r){case 21589:a=e.read_shift(1),1&a&&(s.mtime=e.read_shift(4)),i>5&&(2&a&&(s.atime=e.read_shift(4)),4&a&&(s.ctime=e.read_shift(4))),s.mtime&&(s.mt=new Date(1e3*s.mtime));break}e.l=n,t[r]=s}return t}function c(){return e||(e=a(8))}function d(e,t){if(80==e[0]&&75==e[1])return Te(e,t);if(e.length<512)throw new Error("CFB file size "+e.length+" < 512");var a=3,r=512,i=0,n=0,s=0,o=0,l=0,c=[],d=e.slice(0,512);Qt(d,0);var m=u(d);switch(a=m[0],a){case 3:r=512;break;case 4:r=4096;break;case 0:if(0==m[1])return Te(e,t);default:throw new Error("Major Version: Expected 3 or 4 saw "+a)}512!==r&&(d=e.slice(0,r),Qt(d,28));var _=e.slice(0,r);h(d,a);var y=d.read_shift(4,"i");if(3===a&&0!==y)throw new Error("# Directory Sectors: Expected 0 saw "+y);d.l+=4,s=d.read_shift(4,"i"),d.l+=4,d.chk("00100000","Mini Stream Cutoff Size: "),o=d.read_shift(4,"i"),i=d.read_shift(4,"i"),l=d.read_shift(4,"i"),n=d.read_shift(4,"i");for(var k=-1,x=0;x<109;++x){if(k=d.read_shift(4,"i"),k<0)break;c[x]=k}var w=p(e,r);g(l,n,w,r,c);var S=v(w,s,c,r);S[s].name="!Directory",i>0&&o!==F&&(S[o].name="!MiniFAT"),S[c[0]].name="!FAT",S.fat_addrs=c,S.ssz=r;var C={},O=[],T=[],j=[];b(s,S,w,O,i,C,T,o),f(T,j,O),O.shift();var I={FileIndex:T,FullPaths:j};return t&&t.raw&&(I.raw={header:_,sectors:w}),I}function u(e){if(80==e[e.l]&&75==e[e.l+1])return[0,0];e.chk(N,"Header Signature: "),e.l+=16;var t=e.read_shift(2,"u");return[e.read_shift(2,"u"),t]}function h(e,t){var a=9;switch(e.l+=2,a=e.read_shift(2)){case 9:if(3!=t)throw new Error("Sector Shift: Expected 9 saw "+a);break;case 12:if(4!=t)throw new Error("Sector Shift: Expected 12 saw "+a);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+a)}e.chk("0600","Mini Sector Shift: "),e.chk("000000000000","Reserved: ")}function p(e,t){for(var a=Math.ceil(e.length/t)-1,r=[],i=1;i<a;++i)r[i-1]=e.slice(i*t,(i+1)*t);return r[a-1]=e.slice(a*t),r}function f(e,t,a){for(var r=0,i=0,n=0,s=0,o=0,l=a.length,c=[],d=[];r<l;++r)c[r]=d[r]=r,t[r]=a[r];for(;o<d.length;++o)r=d[o],i=e[r].L,n=e[r].R,s=e[r].C,c[r]===r&&(-1!==i&&c[i]!==i&&(c[r]=c[i]),-1!==n&&c[n]!==n&&(c[r]=c[n])),-1!==s&&(c[s]=r),-1!==i&&r!=c[r]&&(c[i]=c[r],d.lastIndexOf(i)<o&&d.push(i)),-1!==n&&r!=c[r]&&(c[n]=c[r],d.lastIndexOf(n)<o&&d.push(n));for(r=1;r<l;++r)c[r]===r&&(-1!==n&&c[n]!==n?c[r]=c[n]:-1!==i&&c[i]!==i&&(c[r]=c[i]));for(r=1;r<l;++r)if(0!==e[r].type){if(o=r,o!=c[o])do{o=c[o],t[r]=t[o]+"/"+t[r]}while(0!==o&&-1!==c[o]&&o!=c[o]);c[r]=-1}for(t[0]+="/",r=1;r<l;++r)2!==e[r].type&&(t[r]+="/")}function m(e,t,a){var r=e.start,i=e.size,n=[],s=r;while(a&&i>0&&s>=0)n.push(t.slice(s*R,s*R+R)),i-=R,s=Gt(a,4*s);return 0===n.length?ta(0):B(n).slice(0,e.size)}function g(e,t,a,r,i){var n=F;if(e===F){if(0!==t)throw new Error("DIFAT chain shorter than expected")}else if(-1!==e){var s=a[e],o=(r>>>2)-1;if(!s)return;for(var l=0;l<o;++l){if((n=Gt(s,4*l))===F)break;i.push(n)}t>=1&&g(Gt(s,r-4),t-1,a,r,i)}}function _(e,t,a,r,i){var n=[],s=[];i||(i=[]);var o=r-1,l=0,c=0;for(l=t;l>=0;){i[l]=!0,n[n.length]=l,s.push(e[l]);var d=a[Math.floor(4*l/r)];if(c=4*l&o,r<4+c)throw new Error("FAT boundary crossed: "+l+" 4 "+r);if(!e[d])break;l=Gt(e[d],c)}return{nodes:n,data:xt([s])}}function v(e,t,a,r){var i=e.length,n=[],s=[],o=[],l=[],c=r-1,d=0,u=0,h=0,p=0;for(d=0;d<i;++d)if(o=[],h=d+t,h>=i&&(h-=i),!s[h]){l=[];var f=[];for(u=h;u>=0;){f[u]=!0,s[u]=!0,o[o.length]=u,l.push(e[u]);var m=a[Math.floor(4*u/r)];if(p=4*u&c,r<4+p)throw new Error("FAT boundary crossed: "+u+" 4 "+r);if(!e[m])break;if(u=Gt(e[m],p),f[u])break}n[h]={nodes:o,data:xt([l])}}return n}function b(e,t,a,r,i,n,s,o){for(var l,c=0,d=r.length?2:0,u=t[e].data,h=0,p=0;h<u.length;h+=128){var f=u.slice(h,h+128);Qt(f,64),p=f.read_shift(2),l=St(f,0,p-d),r.push(l);var g={name:l,type:f.read_shift(1),color:f.read_shift(1),L:f.read_shift(4,"i"),R:f.read_shift(4,"i"),C:f.read_shift(4,"i"),clsid:f.read_shift(16),state:f.read_shift(4,"i"),start:0,size:0},v=f.read_shift(2)+f.read_shift(2)+f.read_shift(2)+f.read_shift(2);0!==v&&(g.ct=y(f,f.l-8));var b=f.read_shift(2)+f.read_shift(2)+f.read_shift(2)+f.read_shift(2);0!==b&&(g.mt=y(f,f.l-8)),g.start=f.read_shift(4,"i"),g.size=f.read_shift(4,"i"),g.size<0&&g.start<0&&(g.size=g.type=0,g.start=F,g.name=""),5===g.type?(c=g.start,i>0&&c!==F&&(t[c].name="!StreamData")):g.size>=4096?(g.storage="fat",void 0===t[g.start]&&(t[g.start]=_(a,g.start,t.fat_addrs,t.ssz)),t[g.start].name=g.name,g.content=t[g.start].data.slice(0,g.size)):(g.storage="minifat",g.size<0?g.size=0:c!==F&&g.start!==F&&t[c]&&(g.content=m(g,t[c].data,(t[o]||{}).data))),g.content&&Qt(g.content,0),n[l]=g,s.push(g)}}function y(e,t){return new Date(1e3*(Ht(e,t+4)/1e7*Math.pow(2,32)+Ht(e,t)/1e7-11644473600))}function k(t,a){return c(),d(e.readFileSync(t),a)}function x(e,t){switch(t&&t.type||"base64"){case"file":return k(e,t);case"base64":return d(A(S.decode(e)),t);case"binary":return d(A(e),t)}return d(e,t)}function w(e,t){var a=t||{},r=a.root||"Root Entry";if(e.FullPaths||(e.FullPaths=[]),e.FileIndex||(e.FileIndex=[]),e.FullPaths.length!==e.FileIndex.length)throw new Error("inconsistent CFB structure");0===e.FullPaths.length&&(e.FullPaths[0]=r+"/",e.FileIndex[0]={name:r,type:5}),a.CLSID&&(e.FileIndex[0].clsid=a.CLSID),O(e)}function O(e){var t="Sh33tJ5";if(!X.find(e,"/"+t)){var a=ta(4);a[0]=55,a[1]=a[3]=50,a[2]=54,e.FileIndex.push({name:t,type:2,content:a,size:4,L:69,R:69,C:69}),e.FullPaths.push(e.FullPaths[0]+t),T(e)}}function T(e,t){w(e);for(var a=!1,s=!1,o=e.FullPaths.length-1;o>=0;--o){var l=e.FileIndex[o];switch(l.type){case 0:s?a=!0:(e.FileIndex.pop(),e.FullPaths.pop());break;case 1:case 2:case 5:s=!0,isNaN(l.R*l.L*l.C)&&(a=!0),l.R>-1&&l.L>-1&&l.R==l.L&&(a=!0);break;default:a=!0;break}}if(a||t){var c=new Date(1987,1,19),d=0,u=[];for(o=0;o<e.FullPaths.length;++o)0!==e.FileIndex[o].type&&u.push([e.FullPaths[o],e.FileIndex[o]]);for(o=0;o<u.length;++o){var h=i(u[o][0]);for(s=!1,d=0;d<u.length;++d)u[d][0]===h&&(s=!0);s||u.push([h,{name:n(h).replace("/",""),type:1,clsid:z,ct:c,mt:c,content:null}])}for(u.sort((function(e,t){return r(e[0],t[0])})),e.FullPaths=[],e.FileIndex=[],o=0;o<u.length;++o)e.FullPaths[o]=u[o][0],e.FileIndex[o]=u[o][1];for(o=0;o<u.length;++o){var p=e.FileIndex[o],f=e.FullPaths[o];if(p.name=n(f).replace("/",""),p.L=p.R=p.C=-(p.color=1),p.size=p.content?p.content.length:0,p.start=0,p.clsid=p.clsid||z,0===o)p.C=u.length>1?1:-1,p.size=0,p.type=5;else if("/"==f.slice(-1)){for(d=o+1;d<u.length;++d)if(i(e.FullPaths[d])==f)break;for(p.C=d>=u.length?-1:d,d=o+1;d<u.length;++d)if(i(e.FullPaths[d])==i(f))break;p.R=d>=u.length?-1:d,p.type=1}else i(e.FullPaths[o+1]||"")==i(f)&&(p.R=o+1),p.type=2}}}function D(e,t){var a=t||{};if(T(e),"zip"==a.fileType)return Ie(e,a);var r=function(e){for(var t=0,a=0,r=0;r<e.FileIndex.length;++r){var i=e.FileIndex[r];if(i.content){var n=i.content.length;n>0&&(n<4096?t+=n+63>>6:a+=n+511>>9)}}var s=e.FullPaths.length+3>>2,o=t+7>>3,l=t+127>>7,c=o+a+s+l,d=c+127>>7,u=d<=109?0:Math.ceil((d-109)/127);while(c+d+u+127>>7>d)u=++d<=109?0:Math.ceil((d-109)/127);var h=[1,u,d,l,s,a,t,0];return e.FileIndex[0].size=t<<6,h[7]=(e.FileIndex[0].start=h[0]+h[1]+h[2]+h[3]+h[4]+h[5])+(h[6]+7>>3),h}(e),i=ta(r[7]<<9),n=0,s=0;for(n=0;n<8;++n)i.write_shift(1,$[n]);for(n=0;n<8;++n)i.write_shift(2,0);for(i.write_shift(2,62),i.write_shift(2,3),i.write_shift(2,65534),i.write_shift(2,9),i.write_shift(2,6),n=0;n<3;++n)i.write_shift(2,0);for(i.write_shift(4,0),i.write_shift(4,r[2]),i.write_shift(4,r[0]+r[1]+r[2]+r[3]-1),i.write_shift(4,0),i.write_shift(4,4096),i.write_shift(4,r[3]?r[0]+r[1]+r[2]-1:F),i.write_shift(4,r[3]),i.write_shift(-4,r[1]?r[0]-1:F),i.write_shift(4,r[1]),n=0;n<109;++n)i.write_shift(-4,n<r[2]?r[1]+n:-1);if(r[1])for(s=0;s<r[1];++s){for(;n<236+127*s;++n)i.write_shift(-4,n<r[2]?r[1]+n:-1);i.write_shift(-4,s===r[1]-1?F:s+1)}var o=function(e){for(s+=e;n<s-1;++n)i.write_shift(-4,n+1);e&&(++n,i.write_shift(-4,F))};for(s=n=0,s+=r[1];n<s;++n)i.write_shift(-4,V.DIFSECT);for(s+=r[2];n<s;++n)i.write_shift(-4,V.FATSECT);o(r[3]),o(r[4]);for(var l=0,c=0,d=e.FileIndex[0];l<e.FileIndex.length;++l)d=e.FileIndex[l],d.content&&(c=d.content.length,c<4096||(d.start=s,o(c+511>>9)));o(r[6]+7>>3);while(511&i.l)i.write_shift(-4,V.ENDOFCHAIN);for(s=n=0,l=0;l<e.FileIndex.length;++l)d=e.FileIndex[l],d.content&&(c=d.content.length,!c||c>=4096||(d.start=s,o(c+63>>6)));while(511&i.l)i.write_shift(-4,V.ENDOFCHAIN);for(n=0;n<r[4]<<2;++n){var u=e.FullPaths[n];if(u&&0!==u.length){d=e.FileIndex[n],0===n&&(d.start=d.size?d.start-1:F);var h=0===n&&a.root||d.name;if(c=2*(h.length+1),i.write_shift(64,h,"utf16le"),i.write_shift(2,c),i.write_shift(1,d.type),i.write_shift(1,d.color),i.write_shift(-4,d.L),i.write_shift(-4,d.R),i.write_shift(-4,d.C),d.clsid)i.write_shift(16,d.clsid,"hex");else for(l=0;l<4;++l)i.write_shift(4,0);i.write_shift(4,d.state||0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,d.start),i.write_shift(4,d.size),i.write_shift(4,0)}else{for(l=0;l<17;++l)i.write_shift(4,0);for(l=0;l<3;++l)i.write_shift(4,-1);for(l=0;l<12;++l)i.write_shift(4,0)}}for(n=1;n<e.FileIndex.length;++n)if(d=e.FileIndex[n],d.size>=4096){for(i.l=d.start+1<<9,l=0;l<d.size;++l)i.write_shift(1,d.content[l]);for(;511&l;++l)i.write_shift(1,0)}for(n=1;n<e.FileIndex.length;++n)if(d=e.FileIndex[n],d.size>0&&d.size<4096){for(l=0;l<d.size;++l)i.write_shift(1,d.content[l]);for(;63&l;++l)i.write_shift(1,0)}while(i.l<i.length)i.write_shift(1,0);return i}function M(e,t){var a=e.FullPaths.map((function(e){return e.toUpperCase()})),r=a.map((function(e){var t=e.split("/");return t[t.length-("/"==e.slice(-1)?2:1)]})),i=!1;47===t.charCodeAt(0)?(i=!0,t=a[0].slice(0,-1)+t):i=-1!==t.indexOf("/");var n=t.toUpperCase(),s=!0===i?a.indexOf(n):r.indexOf(n);if(-1!==s)return e.FileIndex[s];var o=!n.match(L);for(n=n.replace(P,""),o&&(n=n.replace(L,"!")),s=0;s<a.length;++s){if((o?a[s].replace(L,"!"):a[s]).replace(P,"")==n)return e.FileIndex[s];if((o?r[s].replace(L,"!"):r[s]).replace(P,"")==n)return e.FileIndex[s]}return null}t.version="1.1.4";var E,R=64,F=-2,N="d0cf11e0a1b11ae1",$=[208,207,17,224,161,177,26,225],z="00000000000000000000000000000000",V={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:F,FREESECT:-1,HEADER_SIGNATURE:N,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:z,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function U(t,a,r){c();var i=D(t,r);e.writeFileSync(a,i)}function H(e){for(var t=new Array(e.length),a=0;a<e.length;++a)t[a]=String.fromCharCode(e[a]);return t.join("")}function W(t,a){var r=D(t,a);switch(a&&a.type){case"file":return c(),e.writeFileSync(a.filename,r),r;case"binary":return H(r);case"base64":return S.encode(H(r))}return r}function q(e){try{var t=e.InflateRaw,a=new t;if(a._processChunk(new Uint8Array([3,0]),a._finishFlushFlag),!a.bytesRead)throw new Error("zlib does not expose bytesRead");E=e}catch(D_){console.error("cannot use native zlib: "+(D_.message||D_))}}function Y(e,t){if(!E)return Ce(e,t);var a=E.InflateRaw,r=new a,i=r._processChunk(e.slice(e.l),r._finishFlushFlag);return e.l+=r.bytesRead,i}function K(e){return E?E.deflateRawSync(e):pe(e)}var Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Q=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ee(e){var t=139536&(e<<1|e<<11)|558144&(e<<5|e<<15);return 255&(t>>16|t>>8|t)}for(var te="undefined"!==typeof Uint8Array,ae=te?new Uint8Array(256):[],re=0;re<256;++re)ae[re]=ee(re);function ie(e,t){var a=ae[255&e];return t<=8?a>>>8-t:(a=a<<8|ae[e>>8&255],t<=16?a>>>16-t:(a=a<<8|ae[e>>16&255],a>>>24-t))}function ne(e,t){var a=7&t,r=t>>>3;return(e[r]|(a<=6?0:e[r+1]<<8))>>>a&3}function se(e,t){var a=7&t,r=t>>>3;return(e[r]|(a<=5?0:e[r+1]<<8))>>>a&7}function oe(e,t){var a=7&t,r=t>>>3;return(e[r]|(a<=4?0:e[r+1]<<8))>>>a&15}function le(e,t){var a=7&t,r=t>>>3;return(e[r]|(a<=3?0:e[r+1]<<8))>>>a&31}function ce(e,t){var a=7&t,r=t>>>3;return(e[r]|(a<=1?0:e[r+1]<<8))>>>a&127}function de(e,t,a){var r=7&t,i=t>>>3,n=(1<<a)-1,s=e[i]>>>r;return a<8-r?s&n:(s|=e[i+1]<<8-r,a<16-r?s&n:(s|=e[i+2]<<16-r,a<24-r||(s|=e[i+3]<<24-r),s&n))}function ue(e,t){var a=e.length,r=2*a>t?2*a:t+5,i=0;if(a>=t)return e;if(C){var n=I(r);if(e.copy)e.copy(n);else for(;i<e.length;++i)n[i]=e[i];return n}if(te){var s=new Uint8Array(r);if(s.set)s.set(e);else for(;i<e.length;++i)s[i]=e[i];return s}return e.length=r,e}function he(e){for(var t=new Array(e),a=0;a<e;++a)t[a]=0;return t}var pe=function(){var e=function(){return function(e,t){var a=0;while(a<e.length){var r=Math.min(65535,e.length-a),i=a+r==e.length;t.write_shift(1,+i),t.write_shift(2,r),t.write_shift(2,65535&~r);while(r-- >0)t[t.l++]=e[a++]}return t.l}}();return function(t){var a=ta(50+Math.floor(1.1*t.length)),r=e(t,a);return a.slice(0,r)}}();function fe(e,t,a){var r=1,i=0,n=0,s=0,o=0,l=e.length,c=te?new Uint16Array(32):he(32);for(n=0;n<32;++n)c[n]=0;for(n=l;n<a;++n)e[n]=0;l=e.length;var d=te?new Uint16Array(l):he(l);for(n=0;n<l;++n)c[i=e[n]]++,r<i&&(r=i),d[n]=0;for(c[0]=0,n=1;n<=r;++n)c[n+16]=o=o+c[n-1]<<1;for(n=0;n<l;++n)o=e[n],0!=o&&(d[n]=c[o+16]++);var u=0;for(n=0;n<l;++n)if(u=e[n],0!=u)for(o=ie(d[n],r)>>r-u,s=(1<<r+4-u)-1;s>=0;--s)t[o|s<<u]=15&u|n<<4;return r}var me=te?new Uint16Array(512):he(512),ge=te?new Uint16Array(32):he(32);if(!te){for(var _e=0;_e<512;++_e)me[_e]=0;for(_e=0;_e<32;++_e)ge[_e]=0}(function(){for(var e=[],t=0;t<32;t++)e.push(5);fe(e,ge,32);var a=[];for(t=0;t<=143;t++)a.push(8);for(;t<=255;t++)a.push(9);for(;t<=279;t++)a.push(7);for(;t<=287;t++)a.push(8);fe(a,me,288)})();var ve=te?new Uint16Array(32768):he(32768),be=te?new Uint16Array(32768):he(32768),ye=te?new Uint16Array(128):he(128),ke=1,xe=1;function we(e,t){var a=le(e,t)+257;t+=5;var r=le(e,t)+1;t+=5;var i=oe(e,t)+4;t+=4;for(var n=0,s=te?new Uint8Array(19):he(19),o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=1,c=te?new Uint8Array(8):he(8),d=te?new Uint8Array(8):he(8),u=s.length,h=0;h<i;++h)s[Z[h]]=n=se(e,t),l<n&&(l=n),c[n]++,t+=3;var p=0;for(c[0]=0,h=1;h<=l;++h)d[h]=p=p+c[h-1]<<1;for(h=0;h<u;++h)0!=(p=s[h])&&(o[h]=d[p]++);var f=0;for(h=0;h<u;++h)if(f=s[h],0!=f){p=ae[o[h]]>>8-f;for(var m=(1<<7-f)-1;m>=0;--m)ye[p|m<<f]=7&f|h<<3}var g=[];for(l=1;g.length<a+r;)switch(p=ye[ce(e,t)],t+=7&p,p>>>=3){case 16:n=3+ne(e,t),t+=2,p=g[g.length-1];while(n-- >0)g.push(p);break;case 17:n=3+se(e,t),t+=3;while(n-- >0)g.push(0);break;case 18:n=11+ce(e,t),t+=7;while(n-- >0)g.push(0);break;default:g.push(p),l<p&&(l=p);break}var _=g.slice(0,a),v=g.slice(a);for(h=a;h<286;++h)_[h]=0;for(h=r;h<30;++h)v[h]=0;return ke=fe(_,ve,286),xe=fe(v,be,30),t}function Se(e,t){if(3==e[0]&&!(3&e[1]))return[j(t),2];var a=0,r=0,i=I(t||1<<18),n=0,s=i.length>>>0,o=0,l=0;while(0==(1&r))if(r=se(e,a),a+=3,r>>>1!=0)for(r>>>1==1?(o=9,l=5):(a=we(e,a),o=ke,l=xe),!t&&s<n+32767&&(i=ue(i,n+32767),s=i.length);;){var c=de(e,a,o),d=r>>>1==1?me[c]:ve[c];if(a+=15&d,d>>>=4,0===(d>>>8&255))i[n++]=d;else{if(256==d)break;d-=257;var u=d<8?0:d-4>>2;u>5&&(u=0);var h=n+J[d];u>0&&(h+=de(e,a,u),a+=u),c=de(e,a,l),d=r>>>1==1?ge[c]:be[c],a+=15&d,d>>>=4;var p=d<4?0:d-2>>1,f=Q[d];p>0&&(f+=de(e,a,p),a+=p),!t&&s<h&&(i=ue(i,h),s=i.length);while(n<h)i[n]=i[n-f],++n}}else{7&a&&(a+=8-(7&a));var m=e[a>>>3]|e[1+(a>>>3)]<<8;if(a+=32,!t&&s<n+m&&(i=ue(i,n+m),s=i.length),"function"===typeof e.copy)e.copy(i,n,a>>>3,(a>>>3)+m),n+=m,a+=8*m;else while(m-- >0)i[n++]=e[a>>>3],a+=8}return[t?i:i.slice(0,n),a+7>>>3]}function Ce(e,t){var a=e.slice(e.l||0),r=Se(a,t);return e.l+=r[1],r[0]}function Oe(e,t){if(!e)throw new Error(t);"undefined"!==typeof console&&console.error(t)}function Te(e,t){var a=e;Qt(a,0);var r=[],i=[],n={FileIndex:r,FullPaths:i};w(n,{root:t.root});var s=a.length-4;while((80!=a[s]||75!=a[s+1]||5!=a[s+2]||6!=a[s+3])&&s>=0)--s;a.l=s+4,a.l+=4;var o=a.read_shift(2);a.l+=6;var c=a.read_shift(4);for(a.l=c,s=0;s<o;++s){a.l+=20;var d=a.read_shift(4),u=a.read_shift(4),h=a.read_shift(2),p=a.read_shift(2),f=a.read_shift(2);a.l+=8;var m=a.read_shift(4),g=l(a.slice(a.l+h,a.l+h+p));a.l+=h+p+f;var _=a.l;a.l=m+4,je(a,d,u,n,g),a.l=_}return n}function je(e,t,a,r,i){e.l+=2;var n=e.read_shift(2),s=e.read_shift(2),c=o(e);if(8257&n)throw new Error("Unsupported ZIP encryption");for(var d=e.read_shift(4),u=e.read_shift(4),h=e.read_shift(4),p=e.read_shift(2),f=e.read_shift(2),m="",g=0;g<p;++g)m+=String.fromCharCode(e[e.l++]);if(f){var _=l(e.slice(e.l,e.l+f));(_[21589]||{}).mt&&(c=_[21589].mt),((i||{})[21589]||{}).mt&&(c=i[21589].mt)}e.l+=f;var v=e.slice(e.l,e.l+u);switch(s){case 8:v=Y(e,h);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+s)}var b=!1;8&n&&(d=e.read_shift(4),134695760==d&&(d=e.read_shift(4),b=!0),u=e.read_shift(4),h=e.read_shift(4)),u!=t&&Oe(b,"Bad compressed size: "+t+" != "+u),h!=a&&Oe(b,"Bad uncompressed size: "+a+" != "+h);var y=G.buf(v,0);d>>0!=y>>0&&Oe(b,"Bad CRC32 checksum: "+d+" != "+y),De(r,m,v,{unsafe:!0,mt:c})}function Ie(e,t){var a=t||{},r=[],i=[],n=ta(1),o=a.compression?8:0,l=0,c=!1;c&&(l|=8);var d=0,u=0,h=0,p=0,f=e.FullPaths[0],m=f,g=e.FileIndex[0],_=[],v=0;for(d=1;d<e.FullPaths.length;++d)if(m=e.FullPaths[d].slice(f.length),g=e.FileIndex[d],g.size&&g.content&&"Sh33tJ5"!=m){var b=h,y=ta(m.length);for(u=0;u<m.length;++u)y.write_shift(1,127&m.charCodeAt(u));y=y.slice(0,y.l),_[p]=G.buf(g.content,0);var k=g.content;8==o&&(k=K(k)),n=ta(30),n.write_shift(4,67324752),n.write_shift(2,20),n.write_shift(2,l),n.write_shift(2,o),g.mt?s(n,g.mt):n.write_shift(4,0),n.write_shift(-4,8&l?0:_[p]),n.write_shift(4,8&l?0:k.length),n.write_shift(4,8&l?0:g.content.length),n.write_shift(2,y.length),n.write_shift(2,0),h+=n.length,r.push(n),h+=y.length,r.push(y),h+=k.length,r.push(k),8&l&&(n=ta(12),n.write_shift(-4,_[p]),n.write_shift(4,k.length),n.write_shift(4,g.content.length),h+=n.l,r.push(n)),n=ta(46),n.write_shift(4,33639248),n.write_shift(2,0),n.write_shift(2,20),n.write_shift(2,l),n.write_shift(2,o),n.write_shift(4,0),n.write_shift(-4,_[p]),n.write_shift(4,k.length),n.write_shift(4,g.content.length),n.write_shift(2,y.length),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n.write_shift(4,b),v+=n.l,i.push(n),v+=y.length,i.push(y),++p}return n=ta(22),n.write_shift(4,101010256),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,p),n.write_shift(2,p),n.write_shift(4,v),n.write_shift(4,h),n.write_shift(2,0),B([B(r),B(i),n])}function Ae(e){var t={};return w(t,e),t}function De(e,t,a,r){var i=r&&r.unsafe;i||w(e);var s=!i&&X.find(e,t);if(!s){var o=e.FullPaths[0];t.slice(0,o.length)==o?o=t:("/"!=o.slice(-1)&&(o+="/"),o=(o+t).replace("//","/")),s={name:n(t),type:2},e.FileIndex.push(s),e.FullPaths.push(o),i||X.utils.cfb_gc(e)}return s.content=a,s.size=a?a.length:0,r&&(r.CLSID&&(s.clsid=r.CLSID),r.mt&&(s.mt=r.mt),r.ct&&(s.ct=r.ct)),s}function Me(e,t){w(e);var a=X.find(e,t);if(a)for(var r=0;r<e.FileIndex.length;++r)if(e.FileIndex[r]==a)return e.FileIndex.splice(r,1),e.FullPaths.splice(r,1),!0;return!1}function Ee(e,t,a){w(e);var r=X.find(e,t);if(r)for(var i=0;i<e.FileIndex.length;++i)if(e.FileIndex[i]==r)return e.FileIndex[i].name=n(a),e.FullPaths[i]=a,!0;return!1}function Re(e){T(e,!0)}return t.find=M,t.read=x,t.parse=d,t.write=W,t.writeFile=U,t.utils={cfb_new:Ae,cfb_add:De,cfb_del:Me,cfb_mov:Ee,cfb_gc:Re,ReadShift:qt,CheckField:Jt,prep_blob:Qt,bconcat:B,use_zlib:q,_deflateRaw:pe,_inflateRaw:Ce,consts:V},t}();"undefined"===typeof W&&(e.exports=X);try{q=a(8)}catch(D_){}function Y(e){return"string"===typeof e?D(e):Array.isArray(e)?E(e):e}function K(e,t,a){if("undefined"!==typeof q&&q.writeFileSync)return a?q.writeFileSync(e,t,a):q.writeFileSync(e,t);var r="utf8"==a?et(t):t;if("undefined"!==typeof IE_SaveFile)return IE_SaveFile(r,e);if("undefined"!==typeof Blob){var i=new Blob([Y(r)],{type:"application/octet-stream"});if("undefined"!==typeof navigator&&navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if("undefined"!==typeof saveAs)return saveAs(i,e);if("undefined"!==typeof URL&&"undefined"!==typeof document&&document.createElement&&URL.createObjectURL){var n=URL.createObjectURL(i);if("object"===typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&"undefined"!==typeof setTimeout&&setTimeout((function(){URL.revokeObjectURL(n)}),6e4),chrome.downloads.download({url:n,filename:e,saveAs:!0});var o=document.createElement("a");if(null!=o.download)return o.download=e,o.href=n,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&"undefined"!==typeof setTimeout&&setTimeout((function(){URL.revokeObjectURL(n)}),6e4),n}}if("undefined"!==typeof s&&"undefined"!==typeof File&&"undefined"!==typeof Folder)try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=M(t)),l.write(t),l.close(),t}catch(D_){if(!D_.message||!D_.message.match(/onstruct/))throw D_}throw new Error("cannot save file "+e)}function Z(e){if("undefined"!==typeof q)return q.readFileSync(e);if("undefined"!==typeof s&&"undefined"!==typeof File&&"undefined"!==typeof Folder)try{var t=File(e);t.open("r"),t.encoding="binary";var a=t.read();return t.close(),a}catch(D_){if(!D_.message||!D_.message.match(/onstruct/))throw D_}throw new Error("Cannot access file "+e)}function J(e){for(var t=Object.keys(e),a=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&a.push(t[r]);return a}function Q(e,t){for(var a=[],r=J(e),i=0;i!==r.length;++i)null==a[e[r[i]][t]]&&(a[e[r[i]][t]]=r[i]);return a}function ee(e){for(var t=[],a=J(e),r=0;r!==a.length;++r)t[e[a[r]]]=a[r];return t}function te(e){for(var t=[],a=J(e),r=0;r!==a.length;++r)t[e[a[r]]]=parseInt(a[r],10);return t}function ae(e){for(var t=[],a=J(e),r=0;r!==a.length;++r)null==t[e[a[r]]]&&(t[e[a[r]]]=[]),t[e[a[r]]].push(a[r]);return t}var re=new Date(1899,11,30,0,0,0);function ie(e,t){var a=e.getTime();t&&(a-=1263168e5);var r=re.getTime()+6e4*(e.getTimezoneOffset()-re.getTimezoneOffset());return(a-r)/864e5}var ne=new Date,se=re.getTime()+6e4*(ne.getTimezoneOffset()-re.getTimezoneOffset()),oe=ne.getTimezoneOffset();function le(e){var t=new Date;return t.setTime(24*e*60*60*1e3+se),t.getTimezoneOffset()!==oe&&t.setTime(t.getTime()+6e4*(t.getTimezoneOffset()-oe)),t}function ce(e){var t=0,a=0,r=!1,i=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var n=1;n!=i.length;++n)if(i[n]){switch(a=1,n>3&&(r=!0),i[n].slice(i[n].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[n].slice(i[n].length-1));case"D":a*=24;case"H":a*=60;case"M":if(!r)throw new Error("Unsupported ISO Duration Field: M");a*=60;case"S":break}t+=a*parseInt(i[n],10)}return t}var de=new Date("2017-02-19T19:06:09.000Z");isNaN(de.getFullYear())&&(de=new Date("2/19/17"));var ue=2017==de.getFullYear();function he(e,t){var a=new Date(e);if(ue)return t>0?a.setTime(a.getTime()+60*a.getTimezoneOffset()*1e3):t<0&&a.setTime(a.getTime()-60*a.getTimezoneOffset()*1e3),a;if(e instanceof Date)return e;if(1917==de.getFullYear()&&!isNaN(a.getFullYear())){var r=a.getFullYear();return e.indexOf(""+r)>-1||a.setFullYear(a.getFullYear()+100),a}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],n=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(n=new Date(n.getTime()-60*n.getTimezoneOffset()*1e3)),n}function pe(e){for(var t="",a=0;a!=e.length;++a)t+=String.fromCharCode(e[a]);return t}function fe(e){if("undefined"!=typeof JSON&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"!=typeof e||null==e)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=fe(e[a]));return t}function me(e,t){var a="";while(a.length<t)a+=e;return a}function ge(e){var t=Number(e);if(isFinite(t))return t;if(!isNaN(t))return NaN;if(!/\d/.test(e))return t;var a=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,(function(){return a*=100,""}));return isNaN(t=Number(r))?(r=r.replace(/[(](.*)[)]/,(function(e,t){return a=-a,t})),isNaN(t=Number(r))?t:t/a):t/a}function _e(e){var t=new Date(e),a=new Date(NaN),r=t.getYear(),i=t.getMonth(),n=t.getDate();return isNaN(n)||r<0||r>8099?a:(i>0||n>1)&&101!=r||e.toLowerCase().match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)?t:e.match(/[^-0-9:,\/\\]/)?a:t}var ve,be=5=="abacaba".split(/(:?b)/i).length;function ye(e,t,a){if(be||"string"==typeof t)return e.split(t);for(var r=e.split(t),i=[r[0]],n=1;n<r.length;++n)i.push(a),i.push(r[n]);return i}function ke(e){return e?e.data?b(e.data):e.asNodeBuffer&&C?b(e.asNodeBuffer().toString("binary")):e.asBinary?b(e.asBinary()):e._data&&e._data.getContent?b(pe(Array.prototype.slice.call(e._data.getContent(),0))):e.content&&e.type?b(pe(e.content)):null:null}function xe(e){if(!e)return null;if(e.data)return g(e.data);if(e.asNodeBuffer&&C)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return"string"==typeof t?g(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function we(e){return e&&".bin"===e.name.slice(-4)?xe(e):ke(e)}function Se(e,t){for(var a=e.FullPaths||J(e.files),r=t.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),n=0;n<a.length;++n){var s=a[n].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==s||i==s)return e.files?e.files[a[n]]:e.FileIndex[n]}return null}function Ce(e,t){var a=Se(e,t);if(null==a)throw new Error("Cannot find file "+t+" in zip");return a}function Oe(e,t,a){if(!a)return we(Ce(e,t));if(!t)return null;try{return Oe(e,t)}catch(D_){return null}}function Te(e,t,a){if(!a)return ke(Ce(e,t));if(!t)return null;try{return Te(e,t)}catch(D_){return null}}function je(e){for(var t=e.FullPaths||J(e.files),a=[],r=0;r<t.length;++r)"/"!=t[r].slice(-1)&&a.push(t[r]);return a.sort()}function Ie(e,t,a){e.FullPaths?X.utils.cfb_add(e,t,a):e.file(t,a)}function Ae(){return ve?new ve:X.utils.cfb_new()}function De(e,t){var a;if(ve)switch(t.type){case"base64":a=new ve(e,{base64:!0});break;case"binary":case"array":a=new ve(e,{base64:!1});break;case"buffer":a=new ve(e);break;default:throw new Error("Unrecognized type "+t.type)}else switch(t.type){case"base64":a=X.read(e,{type:"base64"});break;case"binary":a=X.read(e,{type:"binary"});break;case"buffer":case"array":a=X.read(e,{type:"buffer"});break;default:throw new Error("Unrecognized type "+t.type)}return a}function Me(e,t){if("/"==e.charAt(0))return e.slice(1);var a=t.split("/");"/"!=t.slice(-1)&&a.pop();var r=e.split("/");while(0!==r.length){var i=r.shift();".."===i?a.pop():"."!==i&&a.push(i)}return a.join("/")}"undefined"!==typeof JSZipSync&&(ve=JSZipSync),e.exports&&"undefined"===typeof ve&&(ve=a("9047"));var Ee='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',Re=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,Be=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/gm;Ee.match(Be)||(Be=/<[^>]*>/g);var Pe=/<\w*:/,Le=/<(\/?)\w+:/;function Fe(e,t,a){for(var r={},i=0,n=0;i!==e.length;++i)if(32===(n=e.charCodeAt(i))||10===n||13===n)break;if(t||(r[0]=e.slice(0,i)),i===e.length)return r;var s=e.match(Re),o=0,l="",c=0,d="",u="",h=1;if(s)for(c=0;c!=s.length;++c){for(u=s[c],n=0;n!=u.length;++n)if(61===u.charCodeAt(n))break;d=u.slice(0,n).trim();while(32==u.charCodeAt(n+1))++n;for(h=34==(i=u.charCodeAt(n+1))||39==i?1:0,l=u.slice(n+1+h,u.length-h),o=0;o!=d.length;++o)if(58===d.charCodeAt(o))break;if(o===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),r[d]=l,a||(r[d.toLowerCase()]=l);else{var p=(5===o&&"xmlns"===d.slice(0,5)?"xmlns":"")+d.slice(o+1);if(r[p]&&"ext"==d.slice(o-3,o))continue;r[p]=l,a||(r[p.toLowerCase()]=l)}}return r}function Ne(e){return e.replace(Le,"<$1")}var $e={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},ze=ee($e),Ve=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/gi,t=/_x([\da-fA-F]{4})_/gi;return function a(r){var i=r+"",n=i.indexOf("<![CDATA[");if(-1==n)return i.replace(e,(function(e,t){return $e[e]||String.fromCharCode(parseInt(t,e.indexOf("x")>-1?16:10))||e})).replace(t,(function(e,t){return String.fromCharCode(parseInt(t,16))}));var s=i.indexOf("]]>");return a(i.slice(0,n))+i.slice(n+9,s)+a(i.slice(s+3))}}(),Ue=/[&<>'"]/g,He=/[\u0000-\u0008\u000b-\u001f]/g;function Ge(e){var t=e+"";return t.replace(Ue,(function(e){return ze[e]})).replace(He,(function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"}))}function We(e){return Ge(e).replace(/ /g,"_x0020_")}var qe=/[\u0000-\u001f]/g;function Xe(e){var t=e+"";return t.replace(Ue,(function(e){return ze[e]})).replace(/\n/g,"<br/>").replace(qe,(function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"}))}function Ye(e){var t=e+"";return t.replace(Ue,(function(e){return ze[e]})).replace(qe,(function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"}))}var Ke=function(){var e=/&#(\d+);/g;function t(e,t){return String.fromCharCode(parseInt(t,10))}return function(a){return a.replace(e,t)}}(),Ze=function(){return function(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}}();function Je(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}var Qe=function(e){var t="",a=0,r=0,i=0,n=0,s=0,o=0;while(a<e.length)r=e.charCodeAt(a++),r<128?t+=String.fromCharCode(r):(i=e.charCodeAt(a++),r>191&&r<224?(s=(31&r)<<6,s|=63&i,t+=String.fromCharCode(s)):(n=e.charCodeAt(a++),r<240?t+=String.fromCharCode((15&r)<<12|(63&i)<<6|63&n):(s=e.charCodeAt(a++),o=((7&r)<<18|(63&i)<<12|(63&n)<<6|63&s)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(1023&o)))));return t},et=function(e){var t=[],a=0,r=0,i=0;while(a<e.length)switch(r=e.charCodeAt(a++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(63&r)));break;case r>=55296&&r<57344:r-=55296,i=e.charCodeAt(a++)-56320+(r<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(63&i)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(63&r)))}return t.join("")};if(C){var tt=function(e){var t,a,r,n=i.alloc(2*e.length),s=1,o=0,l=0;for(a=0;a<e.length;a+=s)s=1,(r=e.charCodeAt(a))<128?t=r:r<224?(t=64*(31&r)+(63&e.charCodeAt(a+1)),s=2):r<240?(t=4096*(15&r)+64*(63&e.charCodeAt(a+1))+(63&e.charCodeAt(a+2)),s=3):(s=4,t=262144*(7&r)+4096*(63&e.charCodeAt(a+1))+64*(63&e.charCodeAt(a+2))+(63&e.charCodeAt(a+3)),t-=65536,l=55296+(t>>>10&1023),t=56320+(1023&t)),0!==l&&(n[o++]=255&l,n[o++]=l>>>8,l=0),n[o++]=t%256,n[o++]=t>>>8;return n.slice(0,o).toString("ucs2")},at="foo bar bazâð£";Qe(at)==tt(at)&&(Qe=tt);var rt=function(e){return O(e,"binary").toString("utf8")};Qe(at)==rt(at)&&(Qe=rt),et=function(e){return O(e,"utf8").toString("binary")}}var it=function(){var e={};return function(t,a){var r=t+"|"+(a||"");return e[r]?e[r]:e[r]=new RegExp("<(?:\\w+:)?"+t+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+t+">",a||"")}}(),nt=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map((function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]}));return function(t){for(var a=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),r=0;r<e.length;++r)a=a.replace(e[r][0],e[r][1]);return a}}(),st=function(){var e={};return function(t){return void 0!==e[t]?e[t]:e[t]=new RegExp("<(?:vt:)?"+t+">([\\s\\S]*?)</(?:vt:)?"+t+">","g")}}(),ot=/<\/?(?:vt:)?variant>/g,lt=/<(?:vt:)([^>]*)>([\s\S]*)</;function ct(e,t){var a=Fe(e),r=e.match(st(a.baseType))||[],i=[];if(r.length!=a.size){if(t.WTF)throw new Error("unexpected vector length "+r.length+" != "+a.size);return i}return r.forEach((function(e){var t=e.replace(ot,"").match(lt);t&&i.push({v:Qe(t[2]),t:t[1]})})),i}var dt=/(^\s|\s$|\n)/;function ut(e,t){return"<"+e+(t.match(dt)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function ht(e){return J(e).map((function(t){return" "+t+'="'+e[t]+'"'})).join("")}function pt(e,t,a){return"<"+e+(null!=a?ht(a):"")+(null!=t?(t.match(dt)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function ft(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(D_){if(t)throw D_}return""}function mt(e,t){switch(typeof e){case"string":var a=pt("vt:lpwstr",Ge(e));return t&&(a=a.replace(/&quot;/g,"_x0022_")),a;case"number":return pt((0|e)==e?"vt:i4":"vt:r8",Ge(String(e)));case"boolean":return pt("vt:bool",e?"true":"false")}if(e instanceof Date)return pt("vt:filetime",ft(e));throw new Error("Unable to serialize "+e)}var gt={dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema",main:["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"]},_t={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function vt(e,t){for(var a=1-2*(e[t+7]>>>7),r=((127&e[t+7])<<4)+(e[t+6]>>>4&15),i=15&e[t+6],n=5;n>=0;--n)i=256*i+e[t+n];return 2047==r?0==i?a*(1/0):NaN:(0==r?r=-1022:(r-=1023,i+=Math.pow(2,52)),a*Math.pow(2,r-52)*i)}function bt(e,t,a){var r=(t<0||1/t==-1/0?1:0)<<7,i=0,n=0,s=r?-t:t;isFinite(s)?0==s?i=n=0:(i=Math.floor(Math.log(s)/Math.LN2),n=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(n)||n<Math.pow(2,52))?i=-1022:(n-=Math.pow(2,52),i+=1023)):(i=2047,n=isNaN(t)?26985:0);for(var o=0;o<=5;++o,n/=256)e[a+o]=255&n;e[a+6]=(15&i)<<4|15&n,e[a+7]=i>>4|r}var yt,kt,xt=function(e){for(var t=[],a=10240,r=0;r<e[0].length;++r)if(e[0][r])for(var i=0,n=e[0][r].length;i<n;i+=a)t.push.apply(t,e[0][r].slice(i,i+a));return t},wt=xt,St=function(e,t,a){for(var r=[],i=t;i<a;i+=2)r.push(String.fromCharCode(Vt(e,i)));return r.join("").replace(P,"")},Ct=St,Ot=function(e,t,a){for(var r=[],i=t;i<t+a;++i)r.push(("0"+e[i].toString(16)).slice(-2));return r.join("")},Tt=Ot,jt=function(e,t,a){for(var r=[],i=t;i<a;i++)r.push(String.fromCharCode(zt(e,i)));return r.join("")},It=jt,At=function(e,t){var a=Ht(e,t);return a>0?jt(e,t+4,t+4+a-1):""},Dt=At,Mt=function(e,t){var a=Ht(e,t);return a>0?jt(e,t+4,t+4+a-1):""},Et=Mt,Rt=function(e,t){var a=2*Ht(e,t);return a>0?jt(e,t+4,t+4+a-1):""},Bt=Rt;yt=kt=function(e,t){var a=Ht(e,t);return a>0?St(e,t+4,t+4+a):""};var Pt,Lt,Ft=function(e,t){var a=Ht(e,t);return a>0?jt(e,t+4,t+4+a):""},Nt=Ft;Pt=Lt=function(e,t){return vt(e,t)};var $t=function(e){return Array.isArray(e)};C&&(St=function(e,t,a){return i.isBuffer(e)?e.toString("utf16le",t,a).replace(P,""):Ct(e,t,a)},Ot=function(e,t,a){return i.isBuffer(e)?e.toString("hex",t,t+a):Tt(e,t,a)},At=function(e,t){if(!i.isBuffer(e))return Dt(e,t);var a=e.readUInt32LE(t);return a>0?e.toString("utf8",t+4,t+4+a-1):""},Mt=function(e,t){if(!i.isBuffer(e))return Et(e,t);var a=e.readUInt32LE(t);return a>0?e.toString("utf8",t+4,t+4+a-1):""},Rt=function(e,t){if(!i.isBuffer(e))return Bt(e,t);var a=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+a-1)},yt=function(e,t){if(!i.isBuffer(e))return kt(e,t);var a=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+a)},Ft=function(e,t){if(!i.isBuffer(e))return Nt(e,t);var a=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+a)},jt=function(e,t,a){return i.isBuffer(e)?e.toString("utf8",t,a):It(e,t,a)},xt=function(e){return e[0].length>0&&i.isBuffer(e[0][0])?i.concat(e[0]):wt(e)},B=function(e){return i.isBuffer(e[0])?i.concat(e):[].concat.apply([],e)},Pt=function(e,t){return i.isBuffer(e)?e.readDoubleLE(t):Lt(e,t)},$t=function(e){return i.isBuffer(e)||Array.isArray(e)}),"undefined"!==typeof cptable&&(St=function(e,t,a){return cptable.utils.decode(1200,e.slice(t,a)).replace(P,"")},jt=function(e,t,a){return cptable.utils.decode(65001,e.slice(t,a))},At=function(e,t){var a=Ht(e,t);return a>0?cptable.utils.decode(l,e.slice(t+4,t+4+a-1)):""},Mt=function(e,t){var a=Ht(e,t);return a>0?cptable.utils.decode(o,e.slice(t+4,t+4+a-1)):""},Rt=function(e,t){var a=2*Ht(e,t);return a>0?cptable.utils.decode(1200,e.slice(t+4,t+4+a-1)):""},yt=function(e,t){var a=Ht(e,t);return a>0?cptable.utils.decode(1200,e.slice(t+4,t+4+a)):""},Ft=function(e,t){var a=Ht(e,t);return a>0?cptable.utils.decode(65001,e.slice(t+4,t+4+a)):""});var zt=function(e,t){return e[t]},Vt=function(e,t){return 256*e[t+1]+e[t]},Ut=function(e,t){var a=256*e[t+1]+e[t];return a<32768?a:-1*(65535-a+1)},Ht=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Gt=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Wt=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function qt(e,t){var a,r,n,s,l,c,d="",u=[];switch(t){case"dbcs":if(c=this.l,C&&i.isBuffer(this))d=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)d+=String.fromCharCode(Vt(this,c)),c+=2;e*=2;break;case"utf8":d=jt(this,this.l,this.l+e);break;case"utf16le":e*=2,d=St(this,this.l,this.l+e);break;case"wstr":if("undefined"===typeof cptable)return qt.call(this,e,"dbcs");d=cptable.utils.decode(o,this.slice(this.l,this.l+2*e)),e*=2;break;case"lpstr-ansi":d=At(this,this.l),e=4+Ht(this,this.l);break;case"lpstr-cp":d=Mt(this,this.l),e=4+Ht(this,this.l);break;case"lpwstr":d=Rt(this,this.l),e=4+2*Ht(this,this.l);break;case"lpp4":e=4+Ht(this,this.l),d=yt(this,this.l),2&e&&(e+=2);break;case"8lpp4":e=4+Ht(this,this.l),d=Ft(this,this.l),3&e&&(e+=4-(3&e));break;case"cstr":e=0,d="";while(0!==(n=zt(this,this.l+e++)))u.push(y(n));d=u.join("");break;case"_wstr":e=0,d="";while(0!==(n=Vt(this,this.l+e)))u.push(y(n)),e+=2;e+=2,d=u.join("");break;case"dbcs-cont":for(d="",c=this.l,l=0;l<e;++l){if(this.lens&&-1!==this.lens.indexOf(c))return n=zt(this,c),this.l=c+1,s=qt.call(this,e-l,n?"dbcs-cont":"sbcs-cont"),u.join("")+s;u.push(y(Vt(this,c))),c+=2}d=u.join(""),e*=2;break;case"cpstr":if("undefined"!==typeof cptable){d=cptable.utils.decode(o,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(d="",c=this.l,l=0;l!=e;++l){if(this.lens&&-1!==this.lens.indexOf(c))return n=zt(this,c),this.l=c+1,s=qt.call(this,e-l,n?"dbcs-cont":"sbcs-cont"),u.join("")+s;u.push(y(zt(this,c))),c+=1}d=u.join("");break;default:switch(e){case 1:return a=zt(this,this.l),this.l++,a;case 2:return a=("i"===t?Ut:Vt)(this,this.l),this.l+=2,a;case 4:case-4:return"i"===t||0===(128&this[this.l+3])?(a=(e>0?Gt:Wt)(this,this.l),this.l+=4,a):(r=Ht(this,this.l),this.l+=4,r);case 8:case-8:if("f"===t)return r=8==e?Pt(this,this.l):Pt([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;e=8;case 16:d=Ot(this,this.l,e);break}}return this.l+=e,d}var Xt=function(e,t,a){e[a]=255&t,e[a+1]=t>>>8&255,e[a+2]=t>>>16&255,e[a+3]=t>>>24&255},Yt=function(e,t,a){e[a]=255&t,e[a+1]=t>>8&255,e[a+2]=t>>16&255,e[a+3]=t>>24&255},Kt=function(e,t,a){e[a]=255&t,e[a+1]=t>>>8&255};function Zt(e,t,a){var r=0,i=0;if("dbcs"===a){for(i=0;i!=t.length;++i)Kt(this,t.charCodeAt(i),this.l+2*i);r=2*t.length}else if("sbcs"===a){if("undefined"!==typeof cptable&&874==l)for(i=0;i!=t.length;++i){var n=cptable.utils.encode(l,t.charAt(i));this[this.l+i]=n[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=255&t.charCodeAt(i);r=t.length}else{if("hex"===a){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}if("utf16le"===a){var s=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var o=t.charCodeAt(i);this[this.l++]=255&o,this[this.l++]=o>>8}while(this.l<s)this[this.l++]=0;return this}switch(e){case 1:r=1,this[this.l]=255&t;break;case 2:r=2,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t;break;case 3:r=3,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t,t>>>=8,this[this.l+2]=255&t;break;case 4:r=4,Xt(this,t,this.l);break;case 8:if(r=8,"f"===a){bt(this,t,this.l);break}case 16:break;case-4:r=4,Yt(this,t,this.l);break}}return this.l+=r,this}function Jt(e,t){var a=Ot(this,this.l,e.length>>1);if(a!==e)throw new Error(t+"Expected "+e+" saw "+a);this.l+=e.length>>1}function Qt(e,t){e.l=t,e.read_shift=qt,e.chk=Jt,e.write_shift=Zt}function ea(e,t){e.l+=t}function ta(e){var t=j(e);return Qt(t,0),t}function aa(e,t,a){if(e){var r,i,n;Qt(e,e.l||0);var s=e.length,o=0,l=0;while(e.l<s){o=e.read_shift(1),128&o&&(o=(127&o)+((127&e.read_shift(1))<<7));var c=Jm[o]||Jm[65535];for(r=e.read_shift(1),n=127&r,i=1;i<4&&128&r;++i)n+=(127&(r=e.read_shift(1)))<<7*i;l=e.l+n;var d=c.f&&c.f(e,n,a);if(e.l=l,t(d,c.n,o))return}}}function ra(){var e=[],t=C?256:2048,a=function(e){var t=ta(e);return Qt(t,0),t},r=a(t),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&e.push(r),r=null)},n=function(e){return r&&e<r.length-r.l?r:(i(),r=a(Math.max(e+1,t)))},s=function(){return i(),xt([e])},o=function(e){i(),r=e,null==r.l&&(r.l=r.length),n(t)};return{next:n,push:o,end:s,_bufs:e}}function ia(e,t,a,r){var i,n=+Qm[t];if(!isNaN(n)){r||(r=Jm[n].p||(a||[]).length||0),i=1+(n>=128?1:0)+1,r>=128&&++i,r>=16384&&++i,r>=2097152&&++i;var s=e.next(i);n<=127?s.write_shift(1,n):(s.write_shift(1,128+(127&n)),s.write_shift(1,n>>7));for(var o=0;4!=o;++o){if(!(r>=128)){s.write_shift(1,r);break}s.write_shift(1,128+(127&r)),r>>=7}r>0&&$t(a)&&e.push(a)}}function na(e,t,a){var r=fe(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!a||a.biff<12){while(r.c>=256)r.c-=256;while(r.r>=65536)r.r-=65536}return r}function sa(e,t,a){var r=fe(e);return r.s=na(r.s,t.s,a),r.e=na(r.e,t.s,a),r}function oa(e,t){if(e.cRel&&e.c<0){e=fe(e);while(e.c<0)e.c+=t>8?16384:256}if(e.rRel&&e.r<0){e=fe(e);while(e.r<0)e.r+=t>8?1048576:t>5?65536:16384}var a=ka(e);return e.cRel||null==e.cRel||(a=_a(a)),e.rRel||null==e.rRel||(a=pa(a)),a}function la(e,t){return 0!=e.s.r||e.s.rRel||e.e.r!=(t.biff>=12?1048575:t.biff>=8?65536:16384)||e.e.rRel?0!=e.s.c||e.s.cRel||e.e.c!=(t.biff>=12?16383:255)||e.e.cRel?oa(e.s,t.biff)+":"+oa(e.e,t.biff):(e.s.rRel?"":"$")+ha(e.s.r)+":"+(e.e.rRel?"":"$")+ha(e.e.r):(e.s.cRel?"":"$")+ga(e.s.c)+":"+(e.e.cRel?"":"$")+ga(e.e.c)}var ca={},da=function(e,t){var r;if("undefined"!==typeof t)r=t;else{try{r=a(9)}catch(D_){r=null}}e.rc4=function(e,t){var a=new Array(256),r=0,i=0,n=0,s=0;for(i=0;256!=i;++i)a[i]=i;for(i=0;256!=i;++i)n=n+a[i]+e[i%e.length].charCodeAt(0)&255,s=a[i],a[i]=a[n],a[n]=s;i=n=0;var o=j(t.length);for(r=0;r!=t.length;++r)i=i+1&255,n=(n+a[i])%256,s=a[i],a[i]=a[n],a[n]=s,o[r]=t[r]^a[a[i]+a[n]&255];return o},e.md5=function(e){if(!r)throw new Error("Unsupported crypto");return r.createHash("md5").update(e).digest("hex")}};function ua(e){return parseInt(fa(e),10)-1}function ha(e){return""+(e+1)}function pa(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function fa(e){return e.replace(/\$(\d+)$/,"$1")}function ma(e){for(var t=va(e),a=0,r=0;r!==t.length;++r)a=26*a+t.charCodeAt(r)-64;return a-1}function ga(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function _a(e){return e.replace(/^([A-Z])/,"$$$1")}function va(e){return e.replace(/^\$([A-Z])/,"$1")}function ba(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ya(e){for(var t=0,a=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(a=26*a+(i-64))}return{c:a-1,r:t-1}}function ka(e){for(var t=e.c+1,a="";t;t=(t-1)/26|0)a=String.fromCharCode((t-1)%26+65)+a;return a+(e.r+1)}function xa(e){var t=e.indexOf(":");return-1==t?{s:ya(e),e:ya(e)}:{s:ya(e.slice(0,t)),e:ya(e.slice(t+1))}}function wa(e,t){return"undefined"===typeof t||"number"===typeof t?wa(e.s,e.e):("string"!==typeof e&&(e=ka(e)),"string"!==typeof t&&(t=ka(t)),e==t?e:e+":"+t)}function Sa(e){var t={s:{c:0,r:0},e:{c:0,r:0}},a=0,r=0,i=0,n=e.length;for(a=0;r<n;++r){if((i=e.charCodeAt(r)-64)<1||i>26)break;a=26*a+i}for(t.s.c=--a,a=0;r<n;++r){if((i=e.charCodeAt(r)-48)<0||i>9)break;a=10*a+i}if(t.s.r=--a,r===n||10!=i)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,a=0;r!=n;++r){if((i=e.charCodeAt(r)-64)<1||i>26)break;a=26*a+i}for(t.e.c=--a,a=0;r!=n;++r){if((i=e.charCodeAt(r)-48)<0||i>9)break;a=10*a+i}return t.e.r=--a,t}function Ca(e,t){var a="d"==e.t&&t instanceof Date;if(null!=e.z)try{return e.w=F.format(e.z,a?ie(t):t)}catch(D_){}try{return e.w=F.format((e.XF||{}).numFmtId||(a?14:0),a?ie(t):t)}catch(D_){return""+t}}function Oa(e,t,a){return null==e||null==e.t||"z"==e.t?"":void 0!==e.w?e.w:("d"==e.t&&!e.z&&a&&a.dateNF&&(e.z=a.dateNF),"e"==e.t?Er[e.v]||e.v:Ca(e,void 0==t?e.v:t))}function Ta(e,t){var a=t&&t.sheet?t.sheet:"Sheet1",r={};return r[a]=e,{SheetNames:[a],Sheets:r}}function ja(e,t,a){var r=a||{},i=e?Array.isArray(e):r.dense;null!=x&&null==i&&(i=x);var n=e||(i?[]:{}),s=0,o=0;if(n&&null!=r.origin){if("number"==typeof r.origin)s=r.origin;else{var l="string"==typeof r.origin?ya(r.origin):r.origin;s=l.r,o=l.c}n["!ref"]||(n["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(n["!ref"]){var d=Sa(n["!ref"]);c.s.c=d.s.c,c.s.r=d.s.r,c.e.c=Math.max(c.e.c,d.e.c),c.e.r=Math.max(c.e.r,d.e.r),-1==s&&(c.e.r=s=d.e.r+1)}for(var u=0;u!=t.length;++u)if(t[u]){if(!Array.isArray(t[u]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[u].length;++h)if("undefined"!==typeof t[u][h]){var p={v:t[u][h]},f=s+u,m=o+h;if(c.s.r>f&&(c.s.r=f),c.s.c>m&&(c.s.c=m),c.e.r<f&&(c.e.r=f),c.e.c<m&&(c.e.c=m),!t[u][h]||"object"!==typeof t[u][h]||Array.isArray(t[u][h])||t[u][h]instanceof Date)if(Array.isArray(p.v)&&(p.f=t[u][h][1],p.v=p.v[0]),null===p.v)if(p.f)p.t="n";else if(r.nullError)p.t="e",p.v=0;else{if(!r.sheetStubs)continue;p.t="z"}else"number"===typeof p.v?p.t="n":"boolean"===typeof p.v?p.t="b":p.v instanceof Date?(p.z=r.dateNF||F._table[14],r.cellDates?(p.t="d",p.w=F.format(p.z,ie(p.v))):(p.t="n",p.v=ie(p.v),p.w=F.format(p.z,p.v))):p.t="s";else p=t[u][h];if(i)n[f]||(n[f]=[]),n[f][m]&&n[f][m].z&&(p.z=n[f][m].z),n[f][m]=p;else{var g=ka({c:m,r:f});n[g]&&n[g].z&&(p.z=n[g].z),n[g]=p}}}return c.s.c<1e7&&(n["!ref"]=wa(c)),n}function Ia(e,t){return ja(null,e,t)}function Aa(e,t){return t||(t=ta(4)),t.write_shift(4,e),t}function Da(e){var t=e.read_shift(4);return 0===t?"":e.read_shift(t,"dbcs")}function Ma(e,t){var a=!1;return null==t&&(a=!0,t=ta(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),a?t.slice(0,t.l):t}function Ea(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Ra(e,t){return t||(t=ta(4)),t.write_shift(2,e.ich||0),t.write_shift(2,e.ifnt||0),t}function Ba(e,t){var a=e.l,r=e.read_shift(1),i=Da(e),n=[],s={t:i,h:i};if(0!==(1&r)){for(var o=e.read_shift(4),l=0;l!=o;++l)n.push(Ea(e));s.r=n}else s.r=[{ich:0,ifnt:0}];return e.l=a+t,s}function Pa(e,t){var a=!1;return null==t&&(a=!0,t=ta(15+4*e.t.length)),t.write_shift(1,0),Ma(e.t,t),a?t.slice(0,t.l):t}da(ca,"undefined"!==typeof crypto?crypto:void 0);var La=Ba;function Fa(e,t){var a=!1;return null==t&&(a=!0,t=ta(23+4*e.t.length)),t.write_shift(1,1),Ma(e.t,t),t.write_shift(4,1),Ra({ich:0,ifnt:0},t),a?t.slice(0,t.l):t}function Na(e){var t=e.read_shift(4),a=e.read_shift(2);return a+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:a}}function $a(e,t){return null==t&&(t=ta(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function za(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Va(e,t){return null==t&&(t=ta(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var Ua=Da,Ha=Ma;function Ga(e){var t=e.read_shift(4);return 0===t||4294967295===t?"":e.read_shift(t,"dbcs")}function Wa(e,t){var a=!1;return null==t&&(a=!0,t=ta(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),a?t.slice(0,t.l):t}var qa=Da,Xa=Ga,Ya=Wa;function Ka(e){var t=e.slice(e.l,e.l+4),a=1&t[0],r=2&t[0];e.l+=4,t[0]&=252;var i=0===r?Pt([0,0,0,0,t[0],t[1],t[2],t[3]],0):Gt(t,0)>>2;return a?i/100:i}function Za(e,t){null==t&&(t=ta(4));var a=0,r=0,i=100*e;if(e==(0|e)&&e>=-(1<<29)&&e<1<<29?r=1:i==(0|i)&&i>=-(1<<29)&&i<1<<29&&(r=1,a=1),!r)throw new Error("unsupported RkNumber "+e);t.write_shift(-4,((a?i:e)<<2)+(a+2))}function Ja(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function Qa(e,t){return t||(t=ta(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var er=Ja,tr=Qa;function ar(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function rr(e,t){return(t||ta(8)).write_shift(8,e,"f")}function ir(e){var t={},a=e.read_shift(1),r=a>>>1,i=e.read_shift(1),n=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=i;var c=Mr[i];c&&(t.rgb=fl(c));break;case 2:t.rgb=fl([s,o,l]);break;case 3:t.theme=i;break}return 0!=n&&(t.tint=n>0?n/32767:n/32768),t}function nr(e,t){if(t||(t=ta(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;null!=e.index?(t.write_shift(1,2),t.write_shift(1,e.index)):null!=e.theme?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var a=e.tint||0;if(a>0?a*=32767:a<0&&(a*=32768),t.write_shift(2,a),e.rgb&&null==e.theme){var r=e.rgb||"FFFFFF";"number"==typeof r&&(r=("000000"+r.toString(16)).slice(-6)),t.write_shift(1,parseInt(r.slice(0,2),16)),t.write_shift(1,parseInt(r.slice(2,4),16)),t.write_shift(1,parseInt(r.slice(4,6),16)),t.write_shift(1,255)}else t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);return t}function sr(e){var t=e.read_shift(1);e.l++;var a={fBold:1&t,fItalic:2&t,fUnderline:4&t,fStrikeout:8&t,fOutline:16&t,fShadow:32&t,fCondense:64&t,fExtend:128&t};return a}function or(e,t){t||(t=ta(2));var a=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,a),t.write_shift(1,0),t}function lr(e,t){var a={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=e.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return a[e.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return e.l-=4,e.read_shift(0,1==t?"lpstr":"lpwstr")}function cr(e){return lr(e,1)}function dr(e){return lr(e,2)}var ur=2,hr=3,pr=11,fr=12,mr=19,gr=30,_r=64,vr=65,br=71,yr=4096,kr=80,xr=81,wr=[kr,xr],Sr={1:{n:"CodePage",t:ur},2:{n:"Category",t:kr},3:{n:"PresentationFormat",t:kr},4:{n:"ByteCount",t:hr},5:{n:"LineCount",t:hr},6:{n:"ParagraphCount",t:hr},7:{n:"SlideCount",t:hr},8:{n:"NoteCount",t:hr},9:{n:"HiddenCount",t:hr},10:{n:"MultimediaClipCount",t:hr},11:{n:"ScaleCrop",t:pr},12:{n:"HeadingPairs",t:yr|fr},13:{n:"TitlesOfParts",t:yr|gr},14:{n:"Manager",t:kr},15:{n:"Company",t:kr},16:{n:"LinksUpToDate",t:pr},17:{n:"CharacterCount",t:hr},19:{n:"SharedDoc",t:pr},22:{n:"HyperlinksChanged",t:pr},23:{n:"AppVersion",t:hr,p:"version"},24:{n:"DigSig",t:vr},26:{n:"ContentType",t:kr},27:{n:"ContentStatus",t:kr},28:{n:"Language",t:kr},29:{n:"Version",t:kr},255:{},2147483648:{n:"Locale",t:mr},2147483651:{n:"Behavior",t:mr},1919054434:{}},Cr={1:{n:"CodePage",t:ur},2:{n:"Title",t:kr},3:{n:"Subject",t:kr},4:{n:"Author",t:kr},5:{n:"Keywords",t:kr},6:{n:"Comments",t:kr},7:{n:"Template",t:kr},8:{n:"LastAuthor",t:kr},9:{n:"RevNumber",t:kr},10:{n:"EditTime",t:_r},11:{n:"LastPrinted",t:_r},12:{n:"CreatedDate",t:_r},13:{n:"ModifiedDate",t:_r},14:{n:"PageCount",t:hr},15:{n:"WordCount",t:hr},16:{n:"CharCount",t:hr},17:{n:"Thumbnail",t:br},18:{n:"Application",t:kr},19:{n:"DocSecurity",t:hr},255:{},2147483648:{n:"Locale",t:mr},2147483651:{n:"Behavior",t:mr},1919054434:{}},Or=Q(Sr,"n"),Tr=Q(Cr,"n"),jr={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Ir=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Ar(e){return e.map((function(e){return[e>>16&255,e>>8&255,255&e]}))}var Dr=Ar([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Mr=fe(Dr),Er={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Rr=te(Er),Br={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.sheetMetadata":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"TODO","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"vba","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Pr=function(){var e={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};return J(e).forEach((function(t){["xlsm","xlam"].forEach((function(a){e[t][a]||(e[t][a]=e[t].xlsx)}))})),J(e).forEach((function(t){J(e[t]).forEach((function(a){Br[e[t][a]]=t}))})),e}(),Lr=ae(Br);function Fr(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],TODO:[],xmlns:""}}function Nr(e){var t=Fr();if(!e||!e.match)return t;var a={};if((e.match(Be)||[]).forEach((function(e){var r=Fe(e);switch(r[0].replace(Pe,"<")){case"<?xml":break;case"<Types":t.xmlns=r["xmlns"+(r[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":a[r.Extension]=r.ContentType;break;case"<Override":void 0!==t[Br[r.ContentType]]&&t[Br[r.ContentType]].push(r.PartName);break}})),t.xmlns!==gt.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=a,delete t.calcchains,t}gt.CT="http://schemas.openxmlformats.org/package/2006/content-types";var $r=pt("Types",null,{xmlns:gt.CT,"xmlns:xsd":gt.xsd,"xmlns:xsi":gt.xsi}),zr=[["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels",Lr.rels[0]]].map((function(e){return pt("Default",null,{Extension:e[0],ContentType:e[1]})}));function Vr(e,t){var a,r=[];r[r.length]=Ee,r[r.length]=$r,r=r.concat(zr);var i=function(i){e[i]&&e[i].length>0&&(a=e[i][0],r[r.length]=pt("Override",null,{PartName:("/"==a[0]?"":"/")+a,ContentType:Pr[i][t.bookType||"xlsx"]}))},n=function(a){(e[a]||[]).forEach((function(e){r[r.length]=pt("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:Pr[a][t.bookType||"xlsx"]})}))},s=function(t){(e[t]||[]).forEach((function(e){r[r.length]=pt("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:Lr[t][0]})}))};return i("workbooks"),n("sheets"),n("charts"),s("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(s),s("vba"),s("comments"),s("drawings"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Ur={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Hr(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Gr(e,t){var a={"!id":{}};if(!e)return a;"/"!==t.charAt(0)&&(t="/"+t);var r={};return(e.match(Be)||[]).forEach((function(e){var i=Fe(e);if("<Relationship"===i[0]){var n={};n.Type=i.Type,n.Target=i.Target,n.Id=i.Id,i.TargetMode&&(n.TargetMode=i.TargetMode);var s="External"===i.TargetMode?i.Target:Me(i.Target,t);a[s]=n,r[i.Id]=n}})),a["!id"]=r,a}gt.RELS="http://schemas.openxmlformats.org/package/2006/relationships";var Wr=pt("Relationships",null,{xmlns:gt.RELS});function qr(e){var t=[Ee,Wr];return J(e["!id"]).forEach((function(a){t[t.length]=pt("Relationship",null,e["!id"][a])})),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}var Xr=[Ur.HLINK,Ur.XPATH,Ur.XMISS];function Yr(e,t,a,r,i,n){if(i||(i={}),e["!id"]||(e["!id"]={}),t<0)for(t=1;e["!id"]["rId"+t];++t);if(i.Id="rId"+t,i.Type=r,i.Target=a,n?i.TargetMode=n:Xr.indexOf(i.Type)>-1&&(i.TargetMode="External"),e["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][i.Id]=i,e[("/"+i.Target).replace("//","/")]=i,t}var Kr="application/vnd.oasis.opendocument.spreadsheet";function Zr(e,t){var a,r,i=Cm(e);while(a=Om.exec(i))switch(a[3]){case"manifest":break;case"file-entry":if(r=Fe(a[0],!1),"/"==r.path&&r.type!==Kr)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw a}}function Jr(e){var t=[Ee];t.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),t.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var a=0;a<e.length;++a)t.push('  <manifest:file-entry manifest:full-path="'+e[a][0]+'" manifest:media-type="'+e[a][1]+'"/>\n');return t.push("</manifest:manifest>"),t.join("")}function Qr(e,t,a){return['  <rdf:Description rdf:about="'+e+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(a||"odf")+"#"+t+'"/>\n',"  </rdf:Description>\n"].join("")}function ei(e,t){return['  <rdf:Description rdf:about="'+e+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+'"/>\n',"  </rdf:Description>\n"].join("")}function ti(e){var t=[Ee];t.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var a=0;a!=e.length;++a)t.push(Qr(e[a][0],e[a][1])),t.push(ei("",e[a][0]));return t.push(Qr("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}var ai=function(){var e='<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+t.version+"</meta:generator></office:meta></office:document-meta>";return function(){return e}}(),ri=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];gt.CORE_PROPS="http://schemas.openxmlformats.org/package/2006/metadata/core-properties",Ur.CORE_PROPS="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties";var ii=function(){for(var e=new Array(ri.length),t=0;t<ri.length;++t){var a=ri[t],r="(?:"+a[0].slice(0,a[0].indexOf(":"))+":)"+a[0].slice(a[0].indexOf(":")+1);e[t]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return e}();function ni(e){var t={};e=Qe(e);for(var a=0;a<ri.length;++a){var r=ri[a],i=e.match(ii[a]);null!=i&&i.length>0&&(t[r[1]]=Ve(i[1])),"date"===r[2]&&t[r[1]]&&(t[r[1]]=he(t[r[1]]))}return t}var si=pt("cp:coreProperties",null,{"xmlns:cp":gt.CORE_PROPS,"xmlns:dc":gt.dc,"xmlns:dcterms":gt.dcterms,"xmlns:dcmitype":gt.dcmitype,"xmlns:xsi":gt.xsi});function oi(e,t,a,r,i){null==i[e]&&null!=t&&""!==t&&(i[e]=t,t=Ge(t),r[r.length]=a?pt(e,t,a):ut(e,t))}function li(e,t){var a=t||{},r=[Ee,si],i={};if(!e&&!a.Props)return r.join("");e&&(null!=e.CreatedDate&&oi("dcterms:created","string"===typeof e.CreatedDate?e.CreatedDate:ft(e.CreatedDate,a.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),null!=e.ModifiedDate&&oi("dcterms:modified","string"===typeof e.ModifiedDate?e.ModifiedDate:ft(e.ModifiedDate,a.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var n=0;n!=ri.length;++n){var s=ri[n],o=a.Props&&null!=a.Props[s[1]]?a.Props[s[1]]:e?e[s[1]]:null;!0===o?o="1":!1===o?o="0":"number"==typeof o&&(o=String(o)),null!=o&&oi(s[0],o,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var ci=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];gt.EXT_PROPS="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",Ur.EXT_PROPS="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties";var di=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function ui(e,t,a,r){var i=[];if("string"==typeof e)i=ct(e,r);else for(var n=0;n<e.length;++n)i=i.concat(e[n].map((function(e){return{v:e}})));var s="string"==typeof t?ct(t,r).map((function(e){return e.v})):t,o=0,l=0;if(s.length>0)for(var c=0;c!==i.length;c+=2){switch(l=+i[c+1].v,i[c].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":a.Worksheets=l,a.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":a.NamedRanges=l,a.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":a.Chartsheets=l,a.ChartNames=s.slice(o,o+l);break}o+=l}}function hi(e,t,a){var r={};return t||(t={}),e=Qe(e),ci.forEach((function(a){var i=(e.match(it(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=Ve(i));break;case"bool":t[a[1]]="true"===i;break;case"raw":var n=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));n&&n.length>0&&(r[a[1]]=n[1]);break}})),r.HeadingPairs&&r.TitlesOfParts&&ui(r.HeadingPairs,r.TitlesOfParts,t,a),t}var pi=pt("Properties",null,{xmlns:gt.EXT_PROPS,"xmlns:vt":gt.vt});function fi(e){var t=[],a=pt;return e||(e={}),e.Application="SheetJS",t[t.length]=Ee,t[t.length]=pi,ci.forEach((function(r){if(void 0!==e[r[1]]){var i;switch(r[2]){case"string":i=Ge(String(e[r[1]]));break;case"bool":i=e[r[1]]?"true":"false";break}void 0!==i&&(t[t.length]=a(r[0],i))}})),t[t.length]=a("HeadingPairs",a("vt:vector",a("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+a("vt:variant",a("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=a("TitlesOfParts",a("vt:vector",e.SheetNames.map((function(e){return"<vt:lpstr>"+Ge(e)+"</vt:lpstr>"})).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}gt.CUST_PROPS="http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",Ur.CUST_PROPS="http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties";var mi=/<[^>]+>[^<]*/g;function gi(e,t){var a={},r="",i=e.match(mi);if(i)for(var n=0;n!=i.length;++n){var s=i[n],o=Fe(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":r=Ve(o.name);break;case"</property>":r=null;break;default:if(0===s.indexOf("<vt:")){var l=s.split(">"),c=l[0].slice(4),d=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":a[r]=Ve(d);break;case"bool":a[r]=Je(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":a[r]=parseInt(d,10);break;case"r4":case"r8":case"decimal":a[r]=parseFloat(d);break;case"filetime":case"date":a[r]=he(d);break;case"cy":case"error":a[r]=Ve(d);break;default:if("/"==c.slice(-1))break;t.WTF&&"undefined"!==typeof console&&console.warn("Unexpected",s,c,l)}}else if("</"===s.slice(0,2));else if(t.WTF)throw new Error(s)}}return a}var _i=pt("Properties",null,{xmlns:gt.CUST_PROPS,"xmlns:vt":gt.vt});function vi(e){var t=[Ee,_i];if(!e)return t.join("");var a=1;return J(e).forEach((function(r){++a,t[t.length]=pt("property",mt(e[r],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:a,name:Ge(r)})})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var bi={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},yi=ee(bi);function ki(e,t,a){t=yi[t]||t,e[t]=a}function xi(e,t){var a=[];return J(bi).map((function(e){for(var t=0;t<ri.length;++t)if(ri[t][1]==e)return ri[t];for(t=0;t<ci.length;++t)if(ci[t][1]==e)return ci[t];throw e})).forEach((function(r){if(null!=e[r[1]]){var i=t&&t.Props&&null!=t.Props[r[1]]?t.Props[r[1]]:e[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}"number"==typeof i?i=String(i):!0===i||!1===i?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),a.push(ut(bi[r[1]]||r[1],i))}})),pt("DocumentProperties",a.join(""),{xmlns:_t.o})}function wi(e,t){var a=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return e&&J(e).forEach((function(t){if(Object.prototype.hasOwnProperty.call(e,t)){for(var r=0;r<ri.length;++r)if(t==ri[r][1])return;for(r=0;r<ci.length;++r)if(t==ci[r][1])return;for(r=0;r<a.length;++r)if(t==a[r])return;var n=e[t],s="string";"number"==typeof n?(s="float",n=String(n)):!0===n||!1===n?(s="boolean",n=n?"1":"0"):n=String(n),i.push(pt(We(t),n,{"dt:dt":s}))}})),t&&J(t).forEach((function(a){if(Object.prototype.hasOwnProperty.call(t,a)&&(!e||!Object.prototype.hasOwnProperty.call(e,a))){var r=t[a],n="string";"number"==typeof r?(n="float",r=String(r)):!0===r||!1===r?(n="boolean",r=r?"1":"0"):r instanceof Date?(n="dateTime.tz",r=r.toISOString()):r=String(r),i.push(pt(We(a),r,{"dt:dt":n}))}})),"<"+r+' xmlns="'+_t.o+'">'+i.join("")+"</"+r+">"}function Si(e){var t=e.read_shift(4),a=e.read_shift(4);return new Date(1e3*(a/1e7*Math.pow(2,32)+t/1e7-11644473600)).toISOString().replace(/\.000/,"")}function Ci(e){var t="string"==typeof e?new Date(Date.parse(e)):e,a=t.getTime()/1e3+11644473600,r=a%Math.pow(2,32),i=(a-r)/Math.pow(2,32);r*=1e7,i*=1e7;var n=r/Math.pow(2,32)|0;n>0&&(r%=Math.pow(2,32),i+=n);var s=ta(8);return s.write_shift(4,r),s.write_shift(4,i),s}function Oi(e,t,a){var r=e.l,i=e.read_shift(0,"lpstr-cp");if(a)while(e.l-r&3)++e.l;return i}function Ti(e,t,a){var r=e.read_shift(0,"lpwstr");return a&&(e.l+=4-(r.length+1&3)&3),r}function ji(e,t,a){return 31===t?Ti(e):Oi(e,t,a)}function Ii(e,t,a){return ji(e,t,!1===a?0:4)}function Ai(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return ji(e,t,0)}function Di(e){for(var t=e.read_shift(4),a=[],r=0;r!=t;++r){var i=e.l;a[r]=e.read_shift(0,"lpwstr").replace(P,""),e.l-i&2&&(e.l+=2)}return a}function Mi(e){for(var t=e.read_shift(4),a=[],r=0;r!=t;++r)a[r]=e.read_shift(0,"lpstr-cp").replace(P,"");return a}function Ei(e){var t=e.l,a=Fi(e,xr);0==e[e.l]&&0==e[e.l+1]&&e.l-t&2&&(e.l+=2);var r=Fi(e,hr);return[a,r]}function Ri(e){for(var t=e.read_shift(4),a=[],r=0;r<t/2;++r)a.push(Ei(e));return a}function Bi(e,t){for(var a=e.read_shift(4),r={},i=0;i!=a;++i){var n=e.read_shift(4),s=e.read_shift(4);r[n]=e.read_shift(s,1200===t?"utf16le":"utf8").replace(P,"").replace(L,"!"),1200===t&&s%2&&(e.l+=2)}return 3&e.l&&(e.l=e.l>>3<<2),r}function Pi(e){var t=e.read_shift(4),a=e.slice(e.l,e.l+t);return e.l+=t,(3&t)>0&&(e.l+=4-(3&t)&3),a}function Li(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function Fi(e,t,a){var r,i=e.read_shift(2),n=a||{};if(e.l+=2,t!==fr&&i!==t&&-1===wr.indexOf(t)&&(4126!=(65534&t)||4126!=(65534&i)))throw new Error("Expected type "+t+" saw "+i);switch(t===fr?i:t){case 2:return r=e.read_shift(2,"i"),n.raw||(e.l+=2),r;case 3:return r=e.read_shift(4,"i"),r;case 11:return 0!==e.read_shift(4);case 19:return r=e.read_shift(4),r;case 30:return Oi(e,i,4).replace(P,"");case 31:return Ti(e);case 64:return Si(e);case 65:return Pi(e);case 71:return Li(e);case 80:return Ii(e,i,!n.raw).replace(P,"");case 81:return Ai(e,i).replace(P,"");case 4108:return Ri(e);case 4126:case 4127:return 4127==i?Di(e):Mi(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+i)}}function Ni(e,t){var a=ta(4),r=ta(4);switch(a.write_shift(4,80==e?31:e),e){case 3:r.write_shift(-4,t);break;case 5:r=ta(8),r.write_shift(8,t,"f");break;case 11:r.write_shift(4,t?1:0);break;case 64:r=Ci(t);break;case 31:case 80:r=ta(4+2*(t.length+1)+(t.length%2?0:2)),r.write_shift(4,t.length+1),r.write_shift(0,t,"dbcs");while(r.l!=r.length)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return B([a,r])}function $i(e,t){var a=e.l,r=e.read_shift(4),i=e.read_shift(4),n=[],s=0,o=0,l=-1,c={};for(s=0;s!=i;++s){var d=e.read_shift(4),u=e.read_shift(4);n[s]=[d,u+a]}n.sort((function(e,t){return e[1]-t[1]}));var h={};for(s=0;s!=i;++s){if(e.l!==n[s][1]){var p=!0;if(s>0&&t)switch(t[n[s-1][0]].t){case 2:e.l+2===n[s][1]&&(e.l+=2,p=!1);break;case 80:e.l<=n[s][1]&&(e.l=n[s][1],p=!1);break;case 4108:e.l<=n[s][1]&&(e.l=n[s][1],p=!1);break}if((!t||0==s)&&e.l<=n[s][1]&&(p=!1,e.l=n[s][1]),p)throw new Error("Read Error: Expected address "+n[s][1]+" at "+e.l+" :"+s)}if(t){var m=t[n[s][0]];if(h[m.n]=Fi(e,m.t,{raw:!0}),"version"===m.p&&(h[m.n]=String(h[m.n]>>16)+"."+("0000"+String(65535&h[m.n])).slice(-4)),"CodePage"==m.n)switch(h[m.n]){case 0:h[m.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:f(o=h[m.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[m.n])}}else if(1===n[s][0]){if(o=h.CodePage=Fi(e,ur),f(o),-1!==l){var g=e.l;e.l=n[l][1],c=Bi(e,o),e.l=g}}else if(0===n[s][0]){if(0===o){l=s,e.l=n[s+1][1];continue}c=Bi(e,o)}else{var _,v=c[n[s][0]];switch(e[e.l]){case 65:e.l+=4,_=Pi(e);break;case 30:e.l+=4,_=Ii(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,_=Ii(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,_=e.read_shift(4,"i");break;case 19:e.l+=4,_=e.read_shift(4);break;case 5:e.l+=4,_=e.read_shift(8,"f");break;case 11:e.l+=4,_=Yi(e,4);break;case 64:e.l+=4,_=he(Si(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[v]=_}}return e.l=a+r,h}var zi=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"].concat(di);function Vi(e){switch(typeof e){case"boolean":return 11;case"number":return(0|e)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function Ui(e,t,a){var r=ta(8),i=[],n=[],s=8,o=0,l=ta(8),c=ta(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),n.push(l),i.push(c),s+=8+l.length,!t){c=ta(8),c.write_shift(4,0),i.unshift(c);var d=[ta(4)];for(d[0].write_shift(4,e.length),o=0;o<e.length;++o){var u=e[o][0];l=ta(8+2*(u.length+1)+(u.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,u.length+1),l.write_shift(0,u,"dbcs");while(l.l!=l.length)l.write_shift(1,0);d.push(l)}l=B(d),n.unshift(l),s+=8+l.length}for(o=0;o<e.length;++o)if((!t||t[e[o][0]])&&!(zi.indexOf(e[o][0])>-1)&&null!=e[o][1]){var h=e[o][1],p=0;if(t){p=+t[e[o][0]];var f=a[p];if("version"==f.p&&"string"==typeof h){var m=h.split(".");h=(+m[0]<<16)+(+m[1]||0)}l=Ni(f.t,h)}else{var g=Vi(h);-1==g&&(g=31,h=String(h)),l=Ni(g,h)}n.push(l),c=ta(8),c.write_shift(4,t?p:2+o),i.push(c),s+=8+l.length}var _=8*(n.length+1);for(o=0;o<n.length;++o)i[o].write_shift(4,_),_+=n[o].length;return r.write_shift(4,s),r.write_shift(4,n.length),B([r].concat(i).concat(n))}function Hi(e,t,a){var r=e.content;if(!r)return{};Qt(r,0);var i,n,s,o,l=0;r.chk("feff","Byte Order: "),r.read_shift(2);var c=r.read_shift(4),d=r.read_shift(16);if(d!==X.utils.consts.HEADER_CLSID&&d!==a)throw new Error("Bad PropertySet CLSID "+d);if(i=r.read_shift(4),1!==i&&2!==i)throw new Error("Unrecognized #Sets: "+i);if(n=r.read_shift(16),o=r.read_shift(4),1===i&&o!==r.l)throw new Error("Length mismatch: "+o+" !== "+r.l);2===i&&(s=r.read_shift(16),l=r.read_shift(4));var u,h=$i(r,t),p={SystemIdentifier:c};for(var f in h)p[f]=h[f];if(p.FMTID=n,1===i)return p;if(l-r.l==2&&(r.l+=2),r.l!==l)throw new Error("Length mismatch 2: "+r.l+" !== "+l);try{u=$i(r,null)}catch(D_){}for(f in u)p[f]=u[f];return p.FMTID=[n,s],p}function Gi(e,t,a,r,i,n){var s=ta(i?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,X.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,i?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,i?68:48);var l=Ui(e,a,r);if(o.push(l),i){var c=Ui(i,null,null);s.write_shift(16,n,"hex"),s.write_shift(4,68+l.length),o.push(c)}return B(o)}function Wi(e,t){return e.read_shift(t),null}function qi(e,t){t||(t=ta(e));for(var a=0;a<e;++a)t.write_shift(1,0);return t}function Xi(e,t,a){var r=[],i=e.l+t;while(e.l<i)r.push(a(e,i-e.l));if(i!==e.l)throw new Error("Slurp error");return r}function Yi(e,t){return 1===e.read_shift(t)}function Ki(e,t){return t||(t=ta(2)),t.write_shift(2,+!!e),t}function Zi(e){return e.read_shift(2,"u")}function Ji(e,t){return t||(t=ta(2)),t.write_shift(2,e),t}function Qi(e,t){return Xi(e,t,Zi)}function en(e){var t=e.read_shift(1),a=e.read_shift(1);return 1===a?t:1===t}function tn(e,t,a){return a||(a=ta(2)),a.write_shift(1,"e"==t?+e:+!!e),a.write_shift(1,"e"==t?1:0),a}function an(e,t,a){var r=e.read_shift(a&&a.biff>=12?2:1),i="sbcs-cont",n=o;if(a&&a.biff>=8&&(o=1200),a&&8!=a.biff)12==a.biff&&(i="wstr");else{var s=e.read_shift(1);s&&(i="dbcs-cont")}a.biff>=2&&a.biff<=5&&(i="cpstr");var l=r?e.read_shift(r,i):"";return o=n,l}function rn(e){var t=o;o=1200;var a,r=e.read_shift(2),i=e.read_shift(1),n=4&i,s=8&i,l=1+(1&i),c=0,d={};s&&(c=e.read_shift(2)),n&&(a=e.read_shift(4));var u=2==l?"dbcs-cont":"sbcs-cont",h=0===r?"":e.read_shift(r,u);return s&&(e.l+=4*c),n&&(e.l+=a),d.t=h,s||(d.raw="<t>"+d.t+"</t>",d.r=d.t),o=t,d}function nn(e){var t=e.t||"",a=1,r=ta(3+(a>1?2:0));r.write_shift(2,t.length),r.write_shift(1,1|(a>1?8:0)),a>1&&r.write_shift(2,a);var i=ta(2*t.length);i.write_shift(2*t.length,t,"utf16le");var n=[r,i];return B(n)}function sn(e,t,a){var r;if(a){if(a.biff>=2&&a.biff<=5)return e.read_shift(t,"cpstr");if(a.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return r=0===i?e.read_shift(t,"sbcs-cont"):e.read_shift(t,"dbcs-cont"),r}function on(e,t,a){var r=e.read_shift(a&&2==a.biff?1:2);return 0===r?(e.l++,""):sn(e,r,a)}function ln(e,t,a){if(a.biff>5)return on(e,t,a);var r=e.read_shift(1);return 0===r?(e.l++,""):e.read_shift(r,a.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function cn(e,t,a){return a||(a=ta(3+2*e.length)),a.write_shift(2,e.length),a.write_shift(1,1),a.write_shift(31,e,"utf16le"),a}function dn(e){var t=e.read_shift(1);e.l++;var a=e.read_shift(2);return e.l+=2,[t,a]}function un(e){var t=e.read_shift(4),a=e.l,r=!1;t>24&&(e.l+=t-24,"795881f43b1d7f48af2c825dc4852763"===e.read_shift(16)&&(r=!0),e.l=a);var i=e.read_shift((r?t-24:t)>>1,"utf16le").replace(P,"");return r&&(e.l+=24),i}function hn(e){var t=e.read_shift(2),a="";while(t-- >0)a+="../";var r=e.read_shift(0,"lpstr-ansi");if(e.l+=2,57005!=e.read_shift(2))throw new Error("Bad FileMoniker");var i=e.read_shift(4);if(0===i)return a+r.replace(/\\/g,"/");var n=e.read_shift(4);if(3!=e.read_shift(2))throw new Error("Bad FileMoniker");var s=e.read_shift(n>>1,"utf16le").replace(P,"");return a+s}function pn(e,t){var a=e.read_shift(16);switch(t-=16,a){case"e0c9ea79f9bace118c8200aa004ba90b":return un(e,t);case"0303000000000000c000000000000046":return hn(e,t);default:throw new Error("Unsupported Moniker "+a)}}function fn(e){var t=e.read_shift(4),a=t>0?e.read_shift(t,"utf16le").replace(P,""):"";return a}function mn(e,t){t||(t=ta(6+2*e.length)),t.write_shift(4,1+e.length);for(var a=0;a<e.length;++a)t.write_shift(2,e.charCodeAt(a));return t.write_shift(2,0),t}function gn(e,t){var a=e.l+t,r=e.read_shift(4);if(2!==r)throw new Error("Unrecognized streamVersion: "+r);var i=e.read_shift(2);e.l+=2;var n,s,o,l,c,d,u="";16&i&&(n=fn(e,a-e.l)),128&i&&(s=fn(e,a-e.l)),257===(257&i)&&(o=fn(e,a-e.l)),1===(257&i)&&(l=pn(e,a-e.l)),8&i&&(u=fn(e,a-e.l)),32&i&&(c=e.read_shift(16)),64&i&&(d=Si(e)),e.l=a;var h=s||o||l||"";h&&u&&(h+="#"+u),h||(h="#"+u),2&i&&"/"==h.charAt(0)&&"/"!=h.charAt(1)&&(h="file://"+h);var p={Target:h};return c&&(p.guid=c),d&&(p.time=d),n&&(p.Tooltip=n),p}function _n(e){var t=ta(512),a=0,r=e.Target;"file://"==r.slice(0,7)&&(r=r.slice(7));var i=r.indexOf("#"),n=i>-1?31:23;switch(r.charAt(0)){case"#":n=28;break;case".":n&=-3;break}t.write_shift(4,2),t.write_shift(4,n);var s=[8,6815827,6619237,4849780,83];for(a=0;a<s.length;++a)t.write_shift(4,s[a]);if(28==n)r=r.slice(1),mn(r,t);else if(2&n){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<s.length;++a)t.write_shift(1,parseInt(s[a],16));var o=i>-1?r.slice(0,i):r;for(t.write_shift(4,2*(o.length+1)),a=0;a<o.length;++a)t.write_shift(2,o.charCodeAt(a));t.write_shift(2,0),8&n&&mn(i>-1?r.slice(i+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),a=0;a<s.length;++a)t.write_shift(1,parseInt(s[a],16));var l=0;while("../"==r.slice(3*l,3*l+3)||"..\\"==r.slice(3*l,3*l+3))++l;for(t.write_shift(2,l),t.write_shift(4,r.length-3*l+1),a=0;a<r.length-3*l;++a)t.write_shift(1,255&r.charCodeAt(a+3*l));for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),a=0;a<6;++a)t.write_shift(4,0)}return t.slice(0,t.l)}function vn(e){var t=e.read_shift(1),a=e.read_shift(1),r=e.read_shift(1),i=e.read_shift(1);return[t,a,r,i]}function bn(e,t){var a=vn(e,t);return a[3]=0,a}function yn(e){var t=e.read_shift(2),a=e.read_shift(2),r=e.read_shift(2);return{r:t,c:a,ixfe:r}}function kn(e,t,a,r){return r||(r=ta(6)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,a||0),r}function xn(e){var t=e.read_shift(2),a=e.read_shift(2);return e.l+=8,{type:t,flags:a}}function wn(e,t,a){return 0===t?"":ln(e,t,a)}function Sn(e,t,a){var r=a.biff>8?4:2,i=e.read_shift(r),n=e.read_shift(r,"i"),s=e.read_shift(r,"i");return[i,n,s]}function Cn(e){var t=e.read_shift(2),a=Ka(e);return[t,a]}function On(e,t,a){e.l+=4,t-=4;var r=e.l+t,i=an(e,t,a),n=e.read_shift(2);if(r-=e.l,n!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+n);return e.l+=n,i}function Tn(e){var t=e.read_shift(2),a=e.read_shift(2),r=e.read_shift(2),i=e.read_shift(2);return{s:{c:r,r:t},e:{c:i,r:a}}}function jn(e,t){return t||(t=ta(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function In(e){var t=e.read_shift(2),a=e.read_shift(2),r=e.read_shift(1),i=e.read_shift(1);return{s:{c:r,r:t},e:{c:i,r:a}}}var An=In;function Dn(e){e.l+=4;var t=e.read_shift(2),a=e.read_shift(2),r=e.read_shift(2);return e.l+=12,[a,t,r]}function Mn(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function En(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Rn(e){e.l+=2,e.l+=e.read_shift(2)}var Bn={0:Rn,4:Rn,5:Rn,6:Rn,7:En,8:Rn,9:Rn,10:Rn,11:Rn,12:Rn,13:Mn,14:Rn,15:Rn,16:Rn,17:Rn,18:Rn,19:Rn,20:Rn,21:Dn};function Pn(e,t){var a=e.l+t,r=[];while(e.l<a){var i=e.read_shift(2);e.l-=2;try{r.push(Bn[i](e,a-e.l))}catch(D_){return e.l=a,r}}return e.l!=a&&(e.l=a),r}function Ln(e,t){var a={BIFFVer:0,dt:0};switch(a.BIFFVer=e.read_shift(2),t-=2,t>=2&&(a.dt=e.read_shift(2),e.l-=2),a.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+a.BIFFVer)}return e.read_shift(t),a}function Fn(e,t,a){var r=1536,i=16;switch(a.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var n=ta(i);return n.write_shift(2,r),n.write_shift(2,t),i>4&&n.write_shift(2,29282),i>6&&n.write_shift(2,1997),i>8&&(n.write_shift(2,49161),n.write_shift(2,1),n.write_shift(2,1798),n.write_shift(2,0)),n}function Nn(e,t){return 0===t||e.read_shift(2),1200}function $n(e,t,a){if(a.enc)return e.l+=t,"";var r=e.l,i=ln(e,0,a);return e.read_shift(t+r-e.l),i}function zn(e,t){var a=!t||8==t.biff,r=ta(a?112:54);r.write_shift(8==t.biff?2:1,7),a&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(a?0:536870912));while(r.l<r.length)r.write_shift(1,a?0:32);return r}function Vn(e,t,a){var r=a&&8==a.biff||2==t?e.read_shift(2):(e.l+=t,0);return{fDialog:16&r,fBelow:64&r,fRight:128&r}}function Un(e,t,a){var r=e.read_shift(4),i=3&e.read_shift(1),n=e.read_shift(1);switch(n){case 0:n="Worksheet";break;case 1:n="Macrosheet";break;case 2:n="Chartsheet";break;case 6:n="VBAModule";break}var s=an(e,0,a);return 0===s.length&&(s="Sheet1"),{pos:r,hs:i,dt:n,name:s}}function Hn(e,t){var a=!t||t.biff>=8?2:1,r=ta(8+a*e.name.length);r.write_shift(4,e.pos),r.write_shift(1,e.hs||0),r.write_shift(1,e.dt),r.write_shift(1,e.name.length),t.biff>=8&&r.write_shift(1,1),r.write_shift(a*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function Gn(e,t){for(var a=e.l+t,r=e.read_shift(4),i=e.read_shift(4),n=[],s=0;s!=i&&e.l<a;++s)n.push(rn(e));return n.Count=r,n.Unique=i,n}function Wn(e,t){var a=ta(8);a.write_shift(4,e.Count),a.write_shift(4,e.Unique);for(var r=[],i=0;i<e.length;++i)r[i]=nn(e[i],t);var n=B([a].concat(r));return n.parts=[a.length].concat(r.map((function(e){return e.length}))),n}function qn(e,t){var a={};return a.dsst=e.read_shift(2),e.l+=t-2,a}function Xn(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var a=e.read_shift(2);e.l+=4;var r=e.read_shift(1);return e.l+=3,7&r&&(t.level=7&r),32&r&&(t.hidden=!0),64&r&&(t.hpt=a/20),t}function Yn(e){var t=xn(e);if(2211!=t.type)throw new Error("Invalid Future Record "+t.type);var a=e.read_shift(4);return 0!==a}function Kn(e){return e.read_shift(2),e.read_shift(4)}function Zn(e,t,a){var r=0;a&&2==a.biff||(r=e.read_shift(2));var i=e.read_shift(2);a&&2==a.biff&&(r=1-(i>>15),i&=32767);var n={Unsynced:1&r,DyZero:(2&r)>>1,ExAsc:(4&r)>>2,ExDsc:(8&r)>>3};return[n,i]}function Jn(e){var t=e.read_shift(2),a=e.read_shift(2),r=e.read_shift(2),i=e.read_shift(2),n=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,a],Dim:[r,i],Flags:n,CurTab:s,FirstTab:o,Selected:l,TabRatio:c}}function Qn(){var e=ta(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function es(e,t,a){if(a&&a.biff>=2&&a.biff<5)return{};var r=e.read_shift(2);return{RTL:64&r}}function ts(e){var t=ta(18),a=1718;return e&&e.RTL&&(a|=64),t.write_shift(2,a),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function as(){}function rs(e,t,a){var r={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(a&&a.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return r.name=an(e,0,a),r}function is(e,t){var a=e.name||"Arial",r=t&&5==t.biff,i=r?15+a.length:16+2*a.length,n=ta(i);return n.write_shift(2,20*(e.sz||12)),n.write_shift(4,0),n.write_shift(2,400),n.write_shift(4,0),n.write_shift(2,0),n.write_shift(1,a.length),r||n.write_shift(1,1),n.write_shift((r?1:2)*a.length,a,r?"sbcs":"utf16le"),n}function ns(e){var t=yn(e);return t.isst=e.read_shift(4),t}function ss(e,t,a,r){var i=ta(10);return kn(e,t,r,i),i.write_shift(4,a),i}function os(e,t,a){a.biffguess&&2==a.biff&&(a.biff=5);var r=e.l+t,i=yn(e,6);2==a.biff&&e.l++;var n=on(e,r-e.l,a);return i.val=n,i}function ls(e,t,a,r,i){var n=!i||8==i.biff,s=ta(+n+8+(1+n)*a.length);return kn(e,t,r,s),s.write_shift(2,a.length),n&&s.write_shift(1,1),s.write_shift((1+n)*a.length,a,n?"utf16le":"sbcs"),s}function cs(e,t,a){var r=e.read_shift(2),i=ln(e,0,a);return[r,i]}function ds(e,t,a,r){var i=a&&5==a.biff;r||(r=ta(i?3+t.length:5+2*t.length)),r.write_shift(2,e),r.write_shift(i?1:2,t.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var n=r.length>r.l?r.slice(0,r.l):r;return null==n.l&&(n.l=n.length),n}var us=ln;function hs(e,t,a){var r=e.l+t,i=8!=a.biff&&a.biff?2:4,n=e.read_shift(i),s=e.read_shift(i),o=e.read_shift(2),l=e.read_shift(2);return e.l=r,{s:{r:n,c:o},e:{r:s,c:l}}}function ps(e,t){var a=8!=t.biff&&t.biff?2:4,r=ta(2*a+6);return r.write_shift(a,e.s.r),r.write_shift(a,e.e.r+1),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c+1),r.write_shift(2,0),r}function fs(e){var t=e.read_shift(2),a=e.read_shift(2),r=Cn(e);return{r:t,c:a,ixfe:r[0],rknum:r[1]}}function ms(e,t){var a=e.l+t-2,r=e.read_shift(2),i=e.read_shift(2),n=[];while(e.l<a)n.push(Cn(e));if(e.l!==a)throw new Error("MulRK read error");var s=e.read_shift(2);if(n.length!=s-i+1)throw new Error("MulRK length mismatch");return{r:r,c:i,C:s,rkrec:n}}function gs(e,t){var a=e.l+t-2,r=e.read_shift(2),i=e.read_shift(2),n=[];while(e.l<a)n.push(e.read_shift(2));if(e.l!==a)throw new Error("MulBlank read error");var s=e.read_shift(2);if(n.length!=s-i+1)throw new Error("MulBlank length mismatch");return{r:r,c:i,C:s,ixfe:n}}function _s(e,t,a,r){var i={},n=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return i.patternType=Ir[o>>26],r.cellStyles?(i.alc=7&n,i.fWrap=n>>3&1,i.alcV=n>>4&7,i.fJustLast=n>>7&1,i.trot=n>>8&255,i.cIndent=n>>16&15,i.fShrinkToFit=n>>20&1,i.iReadOrder=n>>22&2,i.fAtrNum=n>>26&1,i.fAtrFnt=n>>27&1,i.fAtrAlc=n>>28&1,i.fAtrBdr=n>>29&1,i.fAtrPat=n>>30&1,i.fAtrProt=n>>31&1,i.dgLeft=15&s,i.dgRight=s>>4&15,i.dgTop=s>>8&15,i.dgBottom=s>>12&15,i.icvLeft=s>>16&127,i.icvRight=s>>23&127,i.grbitDiag=s>>30&3,i.icvTop=127&o,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=127&l,i.icvBack=l>>7&127,i.fsxButton=l>>14&1,i):i}function vs(e,t,a){var r={};return r.ifnt=e.read_shift(2),r.numFmtId=e.read_shift(2),r.flags=e.read_shift(2),r.fStyle=r.flags>>2&1,t-=6,r.data=_s(e,t,r.fStyle,a),r}function bs(e,t,a,r){var i=a&&5==a.biff;r||(r=ta(i?16:20)),r.write_shift(2,0),e.style?(r.write_shift(2,e.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,e.numFmtId||0),r.write_shift(2,t<<4));var n=0;return e.numFmtId>0&&i&&(n|=1024),r.write_shift(4,n),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function ys(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(0!==t[0]&&t[0]--,0!==t[1]&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function ks(e){var t=ta(8);return t.write_shift(4,0),t.write_shift(2,e[0]?e[0]+1:0),t.write_shift(2,e[1]?e[1]+1:0),t}function xs(e,t,a){var r=yn(e,6);2!=a.biff&&9!=t||++e.l;var i=en(e,2);return r.val=i,r.t=!0===i||!1===i?"b":"e",r}function ws(e,t,a,r,i,n){var s=ta(8);return kn(e,t,r,s),tn(a,n,s),s}function Ss(e,t,a){a.biffguess&&2==a.biff&&(a.biff=5);var r=yn(e,6),i=ar(e,8);return r.val=i,r}function Cs(e,t,a,r){var i=ta(14);return kn(e,t,r,i),rr(a,i),i}var Os=wn;function Ts(e,t,a){var r=e.l+t,i=e.read_shift(2),n=e.read_shift(2);if(a.sbcch=n,1025==n||14849==n)return[n,i];if(n<1||n>255)throw new Error("Unexpected SupBook type: "+n);var s=sn(e,n),o=[];while(r>e.l)o.push(on(e));return[n,i,s,o]}function js(e,t,a){var r,i=e.read_shift(2),n={fBuiltIn:1&i,fWantAdvise:i>>>1&1,fWantPict:i>>>2&1,fOle:i>>>3&1,fOleLink:i>>>4&1,cf:i>>>5&1023,fIcon:i>>>15&1};return 14849===a.sbcch&&(r=On(e,t-2,a)),n.body=r||e.read_shift(t-2),"string"===typeof r&&(n.Name=r),n}var Is=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function As(e,t,a){var r=e.l+t,i=e.read_shift(2),n=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(a&&2==a.biff?1:2),l=0;(!a||a.biff>=5)&&(5!=a.biff&&(e.l+=2),l=e.read_shift(2),5==a.biff&&(e.l+=2),e.l+=4);var c=sn(e,s,a);32&i&&(c=Is[c.charCodeAt(0)]);var d=r-e.l;a&&2==a.biff&&--d;var u=r!=e.l&&0!==o&&d>0?Xu(e,d,a,o):[];return{chKey:n,Name:c,itab:l,rgce:u}}function Ds(e,t,a){if(a.biff<8)return Ms(e,t,a);var r=[],i=e.l+t,n=e.read_shift(a.biff>8?4:2);while(0!==n--)r.push(Sn(e,a.biff>8?12:6,a));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return r}function Ms(e,t,a){3==e[e.l+1]&&e[e.l]++;var r=an(e,t,a);return 3==r.charCodeAt(0)?r.slice(1):r}function Es(e,t,a){if(!(a.biff<8)){var r=e.read_shift(2),i=e.read_shift(2),n=sn(e,r,a),s=sn(e,i,a);return[n,s]}e.l+=t}function Rs(e,t,a){var r=In(e,6);e.l++;var i=e.read_shift(1);return t-=8,[Yu(e,t,a),i,r]}function Bs(e,t,a){var r=An(e,6);switch(a.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[r,Wu(e,t,a,r)]}function Ps(e){var t=0!==e.read_shift(4),a=0!==e.read_shift(4),r=e.read_shift(4);return[t,a,r]}function Ls(e,t,a){if(!(a.biff<8)){var r=e.read_shift(2),i=e.read_shift(2),n=e.read_shift(2),s=e.read_shift(2),o=ln(e,0,a);return a.biff<8&&e.read_shift(1),[{r:r,c:i},o,s,n]}}function Fs(e,t,a){return Ls(e,t,a)}function Ns(e,t){var a=[],r=e.read_shift(2);while(r--)a.push(Tn(e,t));return a}function $s(e){var t=ta(2+8*e.length);t.write_shift(2,e.length);for(var a=0;a<e.length;++a)jn(e[a],t);return t}function zs(e,t,a){if(a&&a.biff<8)return Us(e,t,a);var r=Dn(e,22),i=Pn(e,t-22,r[1]);return{cmo:r,ft:i}}var Vs=[];function Us(e,t,a){e.l+=4;var r=e.read_shift(2),i=e.read_shift(2),n=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((Vs[r]||ea)(e,t,a)),{cmo:[i,r,n],ft:s}}function Hs(e,t,a){var r=e.l,i="";try{e.l+=4;var n=(a.lastobj||{cmo:[0,0]}).cmo[1];-1==[0,5,7,11,12,14].indexOf(n)?e.l+=6:dn(e,6,a);var s=e.read_shift(2);e.read_shift(2),Zi(e,2);var o=e.read_shift(2);e.l+=o;for(var l=1;l<e.lens.length-1;++l){if(e.l-r!=e.lens[l])throw new Error("TxO: bad continue record");var c=e[e.l],d=sn(e,e.lens[l+1]-e.lens[l]-1);if(i+=d,i.length>=(c?s:2*s))break}if(i.length!==s&&i.length!==2*s)throw new Error("cchText: "+s+" != "+i.length);return e.l=r+t,{t:i}}catch(D_){return e.l=r+t,{t:i}}}function Gs(e,t){var a=Tn(e,8);e.l+=16;var r=gn(e,t-24);return[a,r]}function Ws(e){var t=ta(24),a=ya(e[0]);t.write_shift(2,a.r),t.write_shift(2,a.r),t.write_shift(2,a.c),t.write_shift(2,a.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(r[i],16));return B([t,_n(e[1])])}function qs(e,t){e.read_shift(2);var a=Tn(e,8),r=e.read_shift((t-10)/2,"dbcs-cont");return r=r.replace(P,""),[a,r]}function Xs(e){var t=e[1].Tooltip,a=ta(10+2*(t.length+1));a.write_shift(2,2048);var r=ya(e[0]);a.write_shift(2,r.r),a.write_shift(2,r.r),a.write_shift(2,r.c),a.write_shift(2,r.c);for(var i=0;i<t.length;++i)a.write_shift(2,t.charCodeAt(i));return a.write_shift(2,0),a}function Ys(e){var t,a=[0,0];return t=e.read_shift(2),a[0]=jr[t]||t,t=e.read_shift(2),a[1]=jr[t]||t,a}function Ks(e){return e||(e=ta(4)),e.write_shift(2,1),e.write_shift(2,1),e}function Zs(e){var t=e.read_shift(2),a=[];while(t-- >0)a.push(bn(e,8));return a}function Js(e){var t=e.read_shift(2),a=[];while(t-- >0)a.push(bn(e,8));return a}function Qs(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function eo(e,t,a){if(!a.cellStyles)return ea(e,t);var r=a&&a.biff>=12?4:2,i=e.read_shift(r),n=e.read_shift(r),s=e.read_shift(r),o=e.read_shift(r),l=e.read_shift(2);2==r&&(e.l+=2);var c={s:i,e:n,w:s,ixfe:o,flags:l};return(a.biff>=5||!a.biff)&&(c.level=l>>8&7),c}function to(e,t){var a=ta(12);a.write_shift(2,t),a.write_shift(2,t),a.write_shift(2,256*e.width),a.write_shift(2,0);var r=0;return e.hidden&&(r|=1),a.write_shift(1,r),r=e.level||0,a.write_shift(1,r),a.write_shift(2,0),a}function ao(e,t){var a={};return t<32||(e.l+=16,a.header=ar(e,8),a.footer=ar(e,8),e.l+=2),a}function ro(e,t,a){var r={area:!1};if(5!=a.biff)return e.l+=t,r;var i=e.read_shift(1);return e.l+=3,16&i&&(r.area=!0),r}function io(e){for(var t=ta(2*e),a=0;a<e;++a)t.write_shift(2,a+1);return t}Vs[8]=function(e,t){var a=e.l+t;e.l+=10;var r=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var i=e.read_shift(1);return e.l+=i,e.l=a,{fmt:r}};var no=yn,so=Qi,oo=on;function lo(e){var t=e.read_shift(2),a=e.read_shift(2),r=e.read_shift(4),i={fmt:t,env:a,len:r,data:e.slice(e.l,e.l+r)};return e.l+=r,i}function co(e,t,a){a.biffguess&&5==a.biff&&(a.biff=2);var r=yn(e,6);++e.l;var i=ln(e,t-7,a);return r.t="str",r.val=i,r}function uo(e){var t=yn(e,6);++e.l;var a=ar(e,8);return t.t="n",t.val=a,t}function ho(e,t,a){var r=ta(15);return ig(r,e,t),r.write_shift(8,a,"f"),r}function po(e){var t=yn(e,6);++e.l;var a=e.read_shift(2);return t.t="n",t.val=a,t}function fo(e,t,a){var r=ta(9);return ig(r,e,t),r.write_shift(2,a),r}function mo(e){var t=e.read_shift(1);return 0===t?(e.l++,""):e.read_shift(t,"sbcs-cont")}function go(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function _o(e,t,a){var r=e.l+t,i=yn(e,6),n=e.read_shift(2),s=sn(e,n,a);return e.l=r,i.t="str",i.val=s,i}var vo=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=ee({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127}),a=[2,3,48,49,131,139,140,245];function r(t,a){var r=[],i=j(1);switch(a.type){case"base64":i=A(S.decode(t));break;case"binary":i=A(t);break;case"buffer":case"array":i=t;break}Qt(i,0);var n=i.read_shift(1),s=!!(136&n),o=!1,l=!1;switch(n){case 2:break;case 3:break;case 48:o=!0,s=!0;break;case 49:o=!0,s=!0;break;case 131:break;case 139:break;case 140:l=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+n.toString(16))}var c=0,d=521;2==n&&(c=i.read_shift(2)),i.l+=3,2!=n&&(c=i.read_shift(4)),c>1048576&&(c=1e6),2!=n&&(d=i.read_shift(2));var u=i.read_shift(2),h=a.codepage||1252;2!=n&&(i.l+=16,i.read_shift(1),0!==i[i.l]&&(h=e[i[i.l]]),i.l+=1,i.l+=2),l&&(i.l+=36);var p=[],f={},m=Math.min(i.length,2==n?521:d-10-(o?264:0)),g=l?32:11;while(i.l<m&&13!=i[i.l])switch(f={},f.name=cptable.utils.decode(h,i.slice(i.l,i.l+g)).replace(/[\u0000\r\n].*$/g,""),i.l+=g,f.type=String.fromCharCode(i.read_shift(1)),2==n||l||(f.offset=i.read_shift(4)),f.len=i.read_shift(1),2==n&&(f.offset=i.read_shift(2)),f.dec=i.read_shift(1),f.name.length&&p.push(f),2!=n&&(i.l+=l?13:14),f.type){case"B":o&&8==f.len||!a.WTF||console.log("Skipping "+f.name+":"+f.type);break;case"G":case"P":a.WTF&&console.log("Skipping "+f.name+":"+f.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+f.type)}if(13!==i[i.l]&&(i.l=d-1),13!==i.read_shift(1))throw new Error("DBF Terminator not found "+i.l+" "+i[i.l]);i.l=d;var _=0,v=0;for(r[0]=[],v=0;v!=p.length;++v)r[0][v]=p[v].name;while(c-- >0)if(42!==i[i.l])for(++i.l,r[++_]=[],v=0,v=0;v!=p.length;++v){var b=i.slice(i.l,i.l+p[v].len);i.l+=p[v].len,Qt(b,0);var y=cptable.utils.decode(h,b);switch(p[v].type){case"C":y.trim().length&&(r[_][v]=y.replace(/\s+$/,""));break;case"D":8===y.length?r[_][v]=new Date(+y.slice(0,4),+y.slice(4,6)-1,+y.slice(6,8)):r[_][v]=y;break;case"F":r[_][v]=parseFloat(y.trim());break;case"+":case"I":r[_][v]=l?2147483648^b.read_shift(-4,"i"):b.read_shift(4,"i");break;case"L":switch(y.trim().toUpperCase()){case"Y":case"T":r[_][v]=!0;break;case"N":case"F":r[_][v]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+y+"|")}break;case"M":if(!s)throw new Error("DBF Unexpected MEMO for type "+n.toString(16));r[_][v]="##MEMO##"+(l?parseInt(y.trim(),10):b.read_shift(4));break;case"N":y=y.replace(/\u0000/g,"").trim(),y&&"."!=y&&(r[_][v]=+y||0);break;case"@":r[_][v]=new Date(b.read_shift(-8,"f")-621356832e5);break;case"T":r[_][v]=new Date(864e5*(b.read_shift(4)-2440588)+b.read_shift(4));break;case"Y":r[_][v]=b.read_shift(4,"i")/1e4;break;case"O":r[_][v]=-b.read_shift(-8,"f");break;case"B":if(o&&8==p[v].len){r[_][v]=b.read_shift(8,"f");break}case"G":case"P":b.l+=p[v].len;break;case"0":if("_NullFlags"===p[v].name)break;default:throw new Error("DBF Unsupported data type "+p[v].type)}}else i.l+=u;if(2!=n&&i.l<i.length&&26!=i[i.l++])throw new Error("DBF EOF Marker missing "+(i.l-1)+" of "+i.length+" "+i[i.l-1].toString(16));return a&&a.sheetRows&&(r=r.slice(0,a.sheetRows)),r}function i(e,t){var a=t||{};return a.dateNF||(a.dateNF="yyyymmdd"),Ia(r(e,a),a)}function n(e,t){try{return Ta(i(e,t),t)}catch(D_){if(t&&t.WTF)throw D_}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(e,a){var r=a||{};if(+r.codepage>=0&&f(+r.codepage),"string"==r.type)throw new Error("Cannot write DBF to JS string");var i=ra(),n=x_(e,{header:1,raw:!0,cellDates:!0}),o=n[0],c=n.slice(1),d=0,u=0,h=0,p=1;for(d=0;d<o.length;++d)if(null!=d){if(++h,"number"===typeof o[d]&&(o[d]=o[d].toString(10)),"string"!==typeof o[d])throw new Error("DBF Invalid column name "+o[d]+" |"+typeof o[d]+"|");if(o.indexOf(o[d])!==d)for(u=0;u<1024;++u)if(-1==o.indexOf(o[d]+"_"+u)){o[d]+="_"+u;break}}var m=Sa(e["!ref"]),g=[];for(d=0;d<=m.e.c-m.s.c;++d){var _=[];for(u=0;u<c.length;++u)null!=c[u][d]&&_.push(c[u][d]);if(0!=_.length&&null!=o[d]){var v="",b="";for(u=0;u<_.length;++u){switch(typeof _[u]){case"number":b="B";break;case"string":b="C";break;case"boolean":b="L";break;case"object":b=_[u]instanceof Date?"D":"C";break;default:b="C"}if(v=v&&v!=b?"C":b,"C"==v)break}p+=s[v]||0,g[d]=v}else g[d]="?"}var y=i.next(32);for(y.write_shift(4,318902576),y.write_shift(4,c.length),y.write_shift(2,296+32*h),y.write_shift(2,p),d=0;d<4;++d)y.write_shift(4,0);for(y.write_shift(4,0|(+t[l]||3)<<8),d=0,u=0;d<o.length;++d)if(null!=o[d]){var k=i.next(32),x=(o[d].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);k.write_shift(1,x,"sbcs"),k.write_shift(1,"?"==g[d]?"C":g[d],"sbcs"),k.write_shift(4,u),k.write_shift(1,s[g[d]]||0),k.write_shift(1,0),k.write_shift(1,2),k.write_shift(4,0),k.write_shift(1,0),k.write_shift(4,0),k.write_shift(4,0),u+=s[g[d]]||0}var w=i.next(264);for(w.write_shift(4,13),d=0;d<65;++d)w.write_shift(4,0);for(d=0;d<c.length;++d){var S=i.next(p);for(S.write_shift(1,0),u=0;u<o.length;++u)if(null!=o[u])switch(g[u]){case"L":S.write_shift(1,null==c[d][u]?63:c[d][u]?84:70);break;case"B":S.write_shift(8,c[d][u]||0,"f");break;case"D":c[d][u]?(S.write_shift(4,("0000"+c[d][u].getFullYear()).slice(-4),"sbcs"),S.write_shift(2,("00"+(c[d][u].getMonth()+1)).slice(-2),"sbcs"),S.write_shift(2,("00"+c[d][u].getDate()).slice(-2),"sbcs")):S.write_shift(8,"00000000","sbcs");break;case"C":var C=String(c[d][u]||"");for(S.write_shift(1,C,"sbcs"),h=0;h<250-C.length;++h)S.write_shift(1,32);break}}return i.next(1).write_shift(1,26),i.end()}return{versions:a,to_workbook:n,to_sheet:i,from_sheet:o}}(),bo=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("N("+J(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),a=function(t,a){var r=e[a];return"number"==typeof r?k(r):r},r=function(e,t,a){var r=t.charCodeAt(0)-32<<4|a.charCodeAt(0)-48;return 59==r?e:k(r)};function n(e,t){switch(t.type){case"base64":return s(S.decode(e),t);case"binary":return s(e,t);case"buffer":return s(C&&i.isBuffer(e)?e.toString("binary"):M(e),t);case"array":return s(pe(e),t)}throw new Error("Unrecognized type "+t.type)}function s(e,i){var n,s=e.split(/[\n\r]+/),o=-1,l=-1,c=0,d=0,u=[],h=[],p=null,m={},g=[],_=[],v=[],b=0;for(+i.codepage>=0&&f(+i.codepage);c!==s.length;++c){b=0;var y,k=s[c].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,a),x=k.replace(/;;/g,"\0").split(";").map((function(e){return e.replace(/\u0000/g,";")})),w=x[0];if(k.length>0)switch(w){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":"P"==x[1].charAt(0)&&h.push(k.slice(3).replace(/;;/g,";"));break;case"C":var S=!1,C=!1,O=!1,T=!1,j=-1,I=-1;for(d=1;d<x.length;++d)switch(x[d].charAt(0)){case"A":break;case"X":l=parseInt(x[d].slice(1))-1,C=!0;break;case"Y":for(o=parseInt(x[d].slice(1))-1,C||(l=0),n=u.length;n<=o;++n)u[n]=[];break;case"K":y=x[d].slice(1),'"'===y.charAt(0)?y=y.slice(1,y.length-1):"TRUE"===y?y=!0:"FALSE"===y?y=!1:isNaN(ge(y))?isNaN(_e(y).getDate())||(y=he(y)):(y=ge(y),null!==p&&F.is_date(p)&&(y=le(y))),"undefined"!==typeof cptable&&"string"==typeof y&&"string"!=(i||{}).type&&(i||{}).codepage&&(y=cptable.utils.decode(i.codepage,y)),S=!0;break;case"E":T=!0;var A=cd(x[d].slice(1),{r:o,c:l});u[o][l]=[u[o][l],A];break;case"S":O=!0,u[o][l]=[u[o][l],"S5S"];break;case"G":break;case"R":j=parseInt(x[d].slice(1))-1;break;case"C":I=parseInt(x[d].slice(1))-1;break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+k)}if(S&&(u[o][l]&&2==u[o][l].length?u[o][l][0]=y:u[o][l]=y,p=null),O){if(T)throw new Error("SYLK shared formula cannot have own formula");var D=j>-1&&u[j][I];if(!D||!D[1])throw new Error("SYLK shared formula cannot find base");u[o][l][1]=hd(D[1],{r:o-j,c:l-I})}break;case"F":var M=0;for(d=1;d<x.length;++d)switch(x[d].charAt(0)){case"X":l=parseInt(x[d].slice(1))-1,++M;break;case"Y":for(o=parseInt(x[d].slice(1))-1,n=u.length;n<=o;++n)u[n]=[];break;case"M":b=parseInt(x[d].slice(1))/20;break;case"F":break;case"G":break;case"P":p=h[parseInt(x[d].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(v=x[d].slice(1).split(" "),n=parseInt(v[0],10);n<=parseInt(v[1],10);++n)b=parseInt(v[2],10),_[n-1]=0===b?{hidden:!0}:{wch:b},Tl(_[n-1]);break;case"C":l=parseInt(x[d].slice(1))-1,_[l]||(_[l]={});break;case"R":o=parseInt(x[d].slice(1))-1,g[o]||(g[o]={}),b>0?(g[o].hpt=b,g[o].hpx=Dl(b)):0===b&&(g[o].hidden=!0);break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+k)}M<1&&(p=null);break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+k)}}return g.length>0&&(m["!rows"]=g),_.length>0&&(m["!cols"]=_),i&&i.sheetRows&&(u=u.slice(0,i.sheetRows)),[u,m]}function o(e,t){var a=n(e,t),r=a[0],i=a[1],s=Ia(r,t);return J(i).forEach((function(e){s[e]=i[e]})),s}function l(e,t){return Ta(o(e,t),t)}function c(e,t,a,r){var i="C;Y"+(a+1)+";X"+(r+1)+";K";switch(e.t){case"n":i+=e.v||0,e.f&&!e.F&&(i+=";E"+ud(e.f,{r:a,c:r}));break;case"b":i+=e.v?"TRUE":"FALSE";break;case"e":i+=e.w||e.v;break;case"d":i+='"'+(e.w||e.v)+'"';break;case"s":i+='"'+e.v.replace(/"/g,"")+'"';break}return i}function d(e,t){t.forEach((function(t,a){var r="F;W"+(a+1)+" "+(a+1)+" ";t.hidden?r+="0":("number"!=typeof t.width||t.wpx||(t.wpx=xl(t.width)),"number"!=typeof t.wpx||t.wch||(t.wch=wl(t.wpx)),"number"==typeof t.wch&&(r+=Math.round(t.wch)))," "!=r.charAt(r.length-1)&&e.push(r)}))}function u(e,t){t.forEach((function(t,a){var r="F;";t.hidden?r+="M0;":t.hpt?r+="M"+20*t.hpt+";":t.hpx&&(r+="M"+20*Al(t.hpx)+";"),r.length>2&&e.push(r+"R"+(a+1))}))}function h(e,t){var a,r=["ID;PWXL;N;E"],i=[],n=Sa(e["!ref"]),s=Array.isArray(e),o="\r\n";r.push("P;PGeneral"),r.push("F;P0;DG0G8;M255"),e["!cols"]&&d(r,e["!cols"]),e["!rows"]&&u(r,e["!rows"]),r.push("B;Y"+(n.e.r-n.s.r+1)+";X"+(n.e.c-n.s.c+1)+";D"+[n.s.c,n.s.r,n.e.c,n.e.r].join(" "));for(var l=n.s.r;l<=n.e.r;++l)for(var h=n.s.c;h<=n.e.c;++h){var p=ka({r:l,c:h});a=s?(e[l]||[])[h]:e[p],a&&(null!=a.v||a.f&&!a.F)&&i.push(c(a,e,l,h,t))}return r.join(o)+o+i.join(o)+o+"E"+o}return e["|"]=254,{to_workbook:l,to_sheet:o,from_sheet:h}}(),yo=function(){function e(e,a){switch(a.type){case"base64":return t(S.decode(e),a);case"binary":return t(e,a);case"buffer":return t(C&&i.isBuffer(e)?e.toString("binary"):M(e),a);case"array":return t(pe(e),a)}throw new Error("Unrecognized type "+a.type)}function t(e,t){for(var a=e.split("\n"),r=-1,i=-1,n=0,s=[];n!==a.length;++n)if("BOT"!==a[n].trim()){if(!(r<0)){var o=a[n].trim().split(","),l=o[0],c=o[1];++n;var d=a[n]||"";while(1&(d.match(/["]/g)||[]).length&&n<a.length-1)d+="\n"+a[++n];switch(d=d.trim(),+l){case-1:if("BOT"===d){s[++r]=[],i=0;continue}if("EOD"!==d)throw new Error("Unrecognized DIF special command "+d);break;case 0:"TRUE"===d?s[r][i]=!0:"FALSE"===d?s[r][i]=!1:isNaN(ge(c))?isNaN(_e(c).getDate())?s[r][i]=c:s[r][i]=he(c):s[r][i]=ge(c),++i;break;case 1:d=d.slice(1,d.length-1),d=d.replace(/""/g,'"'),w&&d&&d.match(/^=".*"$/)&&(d=d.slice(2,-1)),s[r][i++]=""!==d?d:null;break}if("EOD"===d)break}}else s[++r]=[],i=0;return t&&t.sheetRows&&(s=s.slice(0,t.sheetRows)),s}function a(t,a){return Ia(e(t,a),a)}function r(e,t){return Ta(a(e,t),t)}var n=function(){var e=function(e,t,a,r,i){e.push(t),e.push(a+","+r),e.push('"'+i.replace(/"/g,'""')+'"')},t=function(e,t,a,r){e.push(t+","+a),e.push(1==t?'"'+r.replace(/"/g,'""')+'"':r)};return function(a){var r,i=[],n=Sa(a["!ref"]),s=Array.isArray(a);e(i,"TABLE",0,1,"sheetjs"),e(i,"VECTORS",0,n.e.r-n.s.r+1,""),e(i,"TUPLES",0,n.e.c-n.s.c+1,""),e(i,"DATA",0,0,"");for(var o=n.s.r;o<=n.e.r;++o){t(i,-1,0,"BOT");for(var l=n.s.c;l<=n.e.c;++l){var c=ka({r:o,c:l});if(r=s?(a[o]||[])[l]:a[c],r)switch(r.t){case"n":var d=w?r.w:r.v;d||null==r.v||(d=r.v),null==d?w&&r.f&&!r.F?t(i,1,0,"="+r.f):t(i,1,0,""):t(i,0,d,"V");break;case"b":t(i,0,r.v?1:0,r.v?"TRUE":"FALSE");break;case"s":t(i,1,0,!w||isNaN(r.v)?r.v:'="'+r.v+'"');break;case"d":r.w||(r.w=F.format(r.z||F._table[14],ie(he(r.v)))),w?t(i,0,r.w,"V"):t(i,1,0,r.w);break;default:t(i,1,0,"")}else t(i,1,0,"")}}t(i,-1,0,"EOD");var u="\r\n",h=i.join(u);return h}}();return{to_workbook:r,to_sheet:a,from_sheet:n}}(),ko=function(){function e(e){return e.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function t(e){return e.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function a(t,a){for(var r=t.split("\n"),i=-1,n=-1,s=0,o=[];s!==r.length;++s){var l=r[s].trim().split(":");if("cell"===l[0]){var c=ya(l[1]);if(o.length<=c.r)for(i=o.length;i<=c.r;++i)o[i]||(o[i]=[]);switch(i=c.r,n=c.c,l[2]){case"t":o[i][n]=e(l[3]);break;case"v":o[i][n]=+l[3];break;case"vtf":var d=l[l.length-1];case"vtc":switch(l[3]){case"nl":o[i][n]=!!+l[4];break;default:o[i][n]=+l[4];break}"vtf"==l[2]&&(o[i][n]=[o[i][n],d])}}}return a&&a.sheetRows&&(o=o.slice(0,a.sheetRows)),o}function r(e,t){return Ia(a(e,t),t)}function i(e,t){return Ta(r(e,t),t)}var n=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),l="--SocialCalcSpreadsheetControlSave--";function c(e){if(!e||!e["!ref"])return"";for(var a,r=[],i=[],n="",s=xa(e["!ref"]),o=Array.isArray(e),l=s.s.r;l<=s.e.r;++l)for(var c=s.s.c;c<=s.e.c;++c)if(n=ka({r:l,c:c}),a=o?(e[l]||[])[c]:e[n],a&&null!=a.v&&"z"!==a.t){switch(i=["cell",n,"t"],a.t){case"s":case"str":i.push(t(a.v));break;case"n":a.f?(i[2]="vtf",i[3]="n",i[4]=a.v,i[5]=t(a.f)):(i[2]="v",i[3]=a.v);break;case"b":i[2]="vt"+(a.f?"f":"c"),i[3]="nl",i[4]=a.v?"1":"0",i[5]=t(a.f||(a.v?"TRUE":"FALSE"));break;case"d":var d=ie(he(a.v));i[2]="vtc",i[3]="nd",i[4]=""+d,i[5]=a.w||F.format(a.z||F._table[14],d);break;case"e":continue}r.push(i.join(":"))}return r.push("sheet:c:"+(s.e.c-s.s.c+1)+":r:"+(s.e.r-s.s.r+1)+":tvf:1"),r.push("valueformat:1:text-wiki"),r.join("\n")}function d(e){return[n,s,o,s,c(e),l].join("\n")}return{to_workbook:i,to_sheet:r,from_sheet:d}}(),xo=function(){function e(e,t,a,r,i){i.raw?t[a][r]=e:""===e||("TRUE"===e?t[a][r]=!0:"FALSE"===e?t[a][r]=!1:isNaN(ge(e))?isNaN(_e(e).getDate())?t[a][r]=e:t[a][r]=he(e):t[a][r]=ge(e))}function t(t,a){var r=a||{},i=[];if(!t||0===t.length)return i;var n=t.split(/[\r\n]/),s=n.length-1;while(s>=0&&0===n[s].length)--s;for(var o=10,l=0,c=0;c<=s;++c)l=n[c].indexOf(" "),-1==l?l=n[c].length:l++,o=Math.max(o,l);for(c=0;c<=s;++c){i[c]=[];var d=0;for(e(n[c].slice(0,o).trim(),i,c,d,r),d=1;d<=(n[c].length-o)/10+1;++d)e(n[c].slice(o+10*(d-1),o+10*d).trim(),i,c,d,r)}return r.sheetRows&&(i=i.slice(0,r.sheetRows)),i}var a={44:",",9:"\t",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function n(e){for(var t={},i=!1,n=0,s=0;n<e.length;++n)34==(s=e.charCodeAt(n))?i=!i:!i&&s in a&&(t[s]=(t[s]||0)+1);for(n in s=[],t)Object.prototype.hasOwnProperty.call(t,n)&&s.push([t[n],n]);if(!s.length)for(n in t=r,t)Object.prototype.hasOwnProperty.call(t,n)&&s.push([t[n],n]);return s.sort((function(e,t){return e[0]-t[0]||r[e[1]]-r[t[1]]})),a[s.pop()[1]]||44}function s(e,t){var a=t||{},r="";null!=x&&null==a.dense&&(a.dense=x);var i=a.dense?[]:{},s={s:{c:0,r:0},e:{c:0,r:0}};"sep="==e.slice(0,4)?13==e.charCodeAt(5)&&10==e.charCodeAt(6)?(r=e.charAt(4),e=e.slice(7)):13==e.charCodeAt(5)||10==e.charCodeAt(5)?(r=e.charAt(4),e=e.slice(6)):r=n(e.slice(0,1024)):r=a&&a.FS?a.FS:n(e.slice(0,1024));var o=0,l=0,c=0,d=0,u=0,h=r.charCodeAt(0),p=!1,f=0,m=e.charCodeAt(0);e=e.replace(/\r\n/gm,"\n");var g=null!=a.dateNF?U(a.dateNF):null;function _(){var t=e.slice(d,u),r={};if('"'==t.charAt(0)&&'"'==t.charAt(t.length-1)&&(t=t.slice(1,-1).replace(/""/g,'"')),0===t.length)r.t="z";else if(a.raw)r.t="s",r.v=t;else if(0===t.trim().length)r.t="s",r.v=t;else if(61==t.charCodeAt(0))34==t.charCodeAt(1)&&34==t.charCodeAt(t.length-1)?(r.t="s",r.v=t.slice(2,-1).replace(/""/g,'"')):fd(t)?(r.t="n",r.f=t.slice(1)):(r.t="s",r.v=t);else if("TRUE"==t)r.t="b",r.v=!0;else if("FALSE"==t)r.t="b",r.v=!1;else if(isNaN(c=ge(t)))if(!isNaN(_e(t).getDate())||g&&t.match(g)){r.z=a.dateNF||F._table[14];var n=0;g&&t.match(g)&&(t=H(t,a.dateNF,t.match(g)||[]),n=1),a.cellDates?(r.t="d",r.v=he(t,n)):(r.t="n",r.v=ie(he(t,n))),!1!==a.cellText&&(r.w=F.format(r.z,r.v instanceof Date?ie(r.v):r.v)),a.cellNF||delete r.z}else r.t="s",r.v=t;else r.t="n",!1!==a.cellText&&(r.w=t),r.v=c;if("z"==r.t||(a.dense?(i[o]||(i[o]=[]),i[o][l]=r):i[ka({c:l,r:o})]=r),d=u+1,m=e.charCodeAt(d),s.e.c<l&&(s.e.c=l),s.e.r<o&&(s.e.r=o),f==h)++l;else if(l=0,++o,a.sheetRows&&a.sheetRows<=o)return!0}e:for(;u<e.length;++u)switch(f=e.charCodeAt(u)){case 34:34===m&&(p=!p);break;case h:case 10:case 13:if(!p&&_())break e;break;default:break}return u-d>0&&_(),i["!ref"]=wa(s),i}function o(e,a){return a&&a.PRN?a.FS||"sep="==e.slice(0,4)||e.indexOf("\t")>=0||e.indexOf(",")>=0||e.indexOf(";")>=0?s(e,a):Ia(t(e,a),a):s(e,a)}function l(e,t){var a="",r="string"==t.type?[0,0,0,0]:t_(e,t);switch(t.type){case"base64":a=S.decode(e);break;case"binary":a=e;break;case"buffer":a=65001==t.codepage?e.toString("utf8"):t.codepage&&"undefined"!==typeof cptable?cptable.utils.decode(t.codepage,e):C&&i.isBuffer(e)?e.toString("binary"):M(e);break;case"array":a=pe(e);break;case"string":a=e;break;default:throw new Error("Unrecognized type "+t.type)}return 239==r[0]&&187==r[1]&&191==r[2]?a=Qe(a.slice(3)):"string"!=t.type&&65001==t.codepage?a=Qe(a):"binary"==t.type&&"undefined"!==typeof cptable&&t.codepage&&(a=cptable.utils.decode(t.codepage,cptable.utils.encode(28591,a))),"socialcalc:version:"==a.slice(0,19)?ko.to_sheet("string"==t.type?a:Qe(a),t):o(a,t)}function c(e,t){return Ta(l(e,t),t)}function d(e){for(var t,a=[],r=Sa(e["!ref"]),i=Array.isArray(e),n=r.s.r;n<=r.e.r;++n){for(var s=[],o=r.s.c;o<=r.e.c;++o){var l=ka({r:n,c:o});if(t=i?(e[n]||[])[o]:e[l],t&&null!=t.v){var c=(t.w||(Oa(t),t.w)||"").slice(0,10);while(c.length<10)c+=" ";s.push(c+(0===o?" ":""))}else s.push("          ")}a.push(s.join(""))}return a.join("\n")}return{to_workbook:c,to_sheet:l,from_sheet:d}}();function wo(e,t){var a=t||{},r=!!a.WTF;a.WTF=!0;try{var i=bo.to_workbook(e,a);return a.WTF=r,i}catch(D_){if(a.WTF=r,!D_.message.match(/SYLK bad record ID/)&&r)throw D_;return xo.to_workbook(e,t)}}var So=function(){function e(e,t,a){if(e){Qt(e,e.l||0);var r=a.Enum||z;while(e.l<e.length){var i=e.read_shift(2),n=r[i]||r[65535],s=e.read_shift(2),o=e.l+s,l=n.f&&n.f(e,s,a);if(e.l=o,t(l,n,i))return}}}function t(e,t){switch(t.type){case"base64":return a(A(S.decode(e)),t);case"binary":return a(A(e),t);case"buffer":case"array":return a(e,t)}throw"Unsupported type "+t.type}function a(t,a){if(!t)return t;var r=a||{};null!=x&&null==r.dense&&(r.dense=x);var i=r.dense?[]:{},n="Sheet1",s="",o=0,l={},c=[],d=[],u={s:{r:0,c:0},e:{r:0,c:0}},h=r.sheetRows||0;if(0==t[2]&&(8==t[3]||9==t[3])&&t.length>=16&&5==t[14]&&108===t[15])throw new Error("Unsupported Works 3 for Mac file");if(2==t[2])r.Enum=z,e(t,(function(e,t,a){switch(a){case 0:r.vers=e,e>=4096&&(r.qpro=!0);break;case 6:u=e;break;case 204:e&&(s=e);break;case 222:s=e;break;case 15:case 51:r.qpro||(e[1].v=e[1].v.slice(1));case 13:case 14:case 16:14==a&&112==(112&e[2])&&(15&e[2])>1&&(15&e[2])<15&&(e[1].z=r.dateNF||F._table[14],r.cellDates&&(e[1].t="d",e[1].v=le(e[1].v))),r.qpro&&e[3]>o&&(i["!ref"]=wa(u),l[n]=i,c.push(n),i=r.dense?[]:{},u={s:{r:0,c:0},e:{r:0,c:0}},o=e[3],n=s||"Sheet"+(o+1),s="");var d=r.dense?(i[e[0].r]||[])[e[0].c]:i[ka(e[0])];if(d){d.t=e[1].t,d.v=e[1].v,null!=e[1].z&&(d.z=e[1].z),null!=e[1].f&&(d.f=e[1].f);break}r.dense?(i[e[0].r]||(i[e[0].r]=[]),i[e[0].r][e[0].c]=e[1]):i[ka(e[0])]=e[1];break;default:}}),r);else{if(26!=t[2]&&14!=t[2])throw new Error("Unrecognized LOTUS BOF "+t[2]);r.Enum=V,14==t[2]&&(r.qpro=!0,t.l=0),e(t,(function(e,t,a){switch(a){case 204:n=e;break;case 22:e[1].v=e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(e[3]>o&&(i["!ref"]=wa(u),l[n]=i,c.push(n),i=r.dense?[]:{},u={s:{r:0,c:0},e:{r:0,c:0}},o=e[3],n="Sheet"+(o+1)),h>0&&e[0].r>=h)break;r.dense?(i[e[0].r]||(i[e[0].r]=[]),i[e[0].r][e[0].c]=e[1]):i[ka(e[0])]=e[1],u.e.c<e[0].c&&(u.e.c=e[0].c),u.e.r<e[0].r&&(u.e.r=e[0].r);break;case 27:e[14e3]&&(d[e[14e3][0]]=e[14e3][1]);break;case 1537:d[e[0]]=e[1],e[0]==o&&(n=e[1]);break;default:break}}),r)}if(i["!ref"]=wa(u),l[s||n]=i,c.push(s||n),!d.length)return{SheetNames:c,Sheets:l};for(var p={},f=[],m=0;m<d.length;++m)l[c[m]]?(f.push(d[m]||c[m]),p[d[m]]=l[d[m]]||l[c[m]]):(f.push(d[m]),p[d[m]]={"!ref":"A1"});return{SheetNames:f,Sheets:p}}function r(e,t){var a=t||{};if(+a.codepage>=0&&f(+a.codepage),"string"==a.type)throw new Error("Cannot write WK1 to JS string");var r=ra(),i=Sa(e["!ref"]),s=Array.isArray(e),o=[];ag(r,0,n(1030)),ag(r,6,l(i));for(var c=Math.min(i.e.r,8191),d=i.s.r;d<=c;++d)for(var h=ha(d),m=i.s.c;m<=i.e.c;++m){d===i.s.r&&(o[m]=ga(m));var _=o[m]+h,v=s?(e[d]||[])[m]:e[_];if(v&&"z"!=v.t)if("n"==v.t)(0|v.v)==v.v&&v.v>=-32768&&v.v<=32767?ag(r,13,p(d,m,v.v)):ag(r,14,g(d,m,v.v));else{var b=Oa(v);ag(r,15,u(d,m,b.slice(0,239)))}}return ag(r,1),r.end()}function i(e,t){var a=t||{};if(+a.codepage>=0&&f(+a.codepage),"string"==a.type)throw new Error("Cannot write WK3 to JS string");var r=ra();ag(r,0,s(e));for(var i=0,n=0;i<e.SheetNames.length;++i)(e.Sheets[e.SheetNames[i]]||{})["!ref"]&&ag(r,27,$(e.SheetNames[i],n++));var o=0;for(i=0;i<e.SheetNames.length;++i){var l=e.Sheets[e.SheetNames[i]];if(l&&l["!ref"]){for(var c=Sa(l["!ref"]),d=Array.isArray(l),u=[],h=Math.min(c.e.r,8191),p=c.s.r;p<=h;++p)for(var m=ha(p),g=c.s.c;g<=c.e.c;++g){p===c.s.r&&(u[g]=ga(g));var _=u[g]+m,v=d?(l[p]||[])[g]:l[_];if(v&&"z"!=v.t)if("n"==v.t)ag(r,23,I(p,g,o,v.v));else{var b=Oa(v);ag(r,22,O(p,g,o,b.slice(0,239)))}}++o}}return ag(r,1),r.end()}function n(e){var t=ta(2);return t.write_shift(2,e),t}function s(e){var t=ta(26);t.write_shift(2,4096),t.write_shift(2,4),t.write_shift(4,0);for(var a=0,r=0,i=0,n=0;n<e.SheetNames.length;++n){var s=e.SheetNames[n],o=e.Sheets[s];if(o&&o["!ref"]){++i;var l=xa(o["!ref"]);a<l.e.r&&(a=l.e.r),r<l.e.c&&(r=l.e.c)}}return a>8191&&(a=8191),t.write_shift(2,a),t.write_shift(1,i),t.write_shift(1,r),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,1),t.write_shift(1,2),t.write_shift(4,0),t.write_shift(4,0),t}function o(e,t,a){var r={s:{c:0,r:0},e:{c:0,r:0}};return 8==t&&a.qpro?(r.s.c=e.read_shift(1),e.l++,r.s.r=e.read_shift(2),r.e.c=e.read_shift(1),e.l++,r.e.r=e.read_shift(2),r):(r.s.c=e.read_shift(2),r.s.r=e.read_shift(2),12==t&&a.qpro&&(e.l+=2),r.e.c=e.read_shift(2),r.e.r=e.read_shift(2),12==t&&a.qpro&&(e.l+=2),65535==r.s.c&&(r.s.c=r.e.c=r.s.r=r.e.r=0),r)}function l(e){var t=ta(8);return t.write_shift(2,e.s.c),t.write_shift(2,e.s.r),t.write_shift(2,e.e.c),t.write_shift(2,e.e.r),t}function c(e,t,a){var r=[{c:0,r:0},{t:"n",v:0},0,0];return a.qpro&&20768!=a.vers?(r[0].c=e.read_shift(1),r[3]=e.read_shift(1),r[0].r=e.read_shift(2),e.l+=2):(r[2]=e.read_shift(1),r[0].c=e.read_shift(2),r[0].r=e.read_shift(2)),r}function d(e,t,a){var r=e.l+t,i=c(e,t,a);if(i[1].t="s",20768==a.vers){e.l++;var n=e.read_shift(1);return i[1].v=e.read_shift(n,"utf8"),i}return a.qpro&&e.l++,i[1].v=e.read_shift(r-e.l,"cstr"),i}function u(e,t,a){var r=ta(7+a.length);r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(1,39);for(var i=0;i<r.length;++i){var n=a.charCodeAt(i);r.write_shift(1,n>=128?95:n)}return r.write_shift(1,0),r}function h(e,t,a){var r=c(e,t,a);return r[1].v=e.read_shift(2,"i"),r}function p(e,t,a){var r=ta(7);return r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,a,"i"),r}function m(e,t,a){var r=c(e,t,a);return r[1].v=e.read_shift(8,"f"),r}function g(e,t,a){var r=ta(13);return r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(8,a,"f"),r}function _(e,t,a){var r=e.l+t,i=c(e,t,a);if(i[1].v=e.read_shift(8,"f"),a.qpro)e.l=r;else{var n=e.read_shift(2);k(e.slice(e.l,e.l+n),i),e.l+=n}return i}function v(e,t,a){var r=32768&t;return t&=-32769,t=(r?e:0)+(t>=8192?t-16384:t),(r?"":"$")+(a?ga(t):ha(t))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},y=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function k(e,t){Qt(e,0);var a=[],r=0,i="",n="",s="",o="";while(e.l<e.length){var l=e[e.l++];switch(l){case 0:a.push(e.read_shift(8,"f"));break;case 1:n=v(t[0].c,e.read_shift(2),!0),i=v(t[0].r,e.read_shift(2),!1),a.push(n+i);break;case 2:var c=v(t[0].c,e.read_shift(2),!0),d=v(t[0].r,e.read_shift(2),!1);n=v(t[0].c,e.read_shift(2),!0),i=v(t[0].r,e.read_shift(2),!1),a.push(c+d+":"+n+i);break;case 3:if(e.l<e.length)return void console.error("WK1 premature formula end");break;case 4:a.push("("+a.pop()+")");break;case 5:a.push(e.read_shift(2));break;case 6:var u="";while(l=e[e.l++])u+=String.fromCharCode(l);a.push('"'+u.replace(/"/g,'""')+'"');break;case 8:a.push("-"+a.pop());break;case 23:a.push("+"+a.pop());break;case 22:a.push("NOT("+a.pop()+")");break;case 20:case 21:o=a.pop(),s=a.pop(),a.push(["AND","OR"][l-20]+"("+s+","+o+")");break;default:if(l<32&&y[l])o=a.pop(),s=a.pop(),a.push(s+y[l]+o);else{if(!b[l])return l<=7?console.error("WK1 invalid opcode "+l.toString(16)):l<=24?console.error("WK1 unsupported op "+l.toString(16)):l<=30?console.error("WK1 invalid opcode "+l.toString(16)):l<=115?console.error("WK1 unsupported function opcode "+l.toString(16)):console.error("WK1 unrecognized opcode "+l.toString(16));if(r=b[l][1],69==r&&(r=e[e.l++]),r>a.length)return void console.error("WK1 bad formula parse 0x"+l.toString(16)+":|"+a.join("|")+"|");var h=a.slice(-r);a.length-=r,a.push(b[l][0]+"("+h.join(",")+")")}}}1==a.length?t[1].f=""+a[0]:console.error("WK1 bad formula parse |"+a.join("|")+"|")}function w(e){var t=[{c:0,r:0},{t:"n",v:0},0];return t[0].r=e.read_shift(2),t[3]=e[e.l++],t[0].c=e[e.l++],t}function C(e,t){var a=w(e,t);return a[1].t="s",a[1].v=e.read_shift(t-4,"cstr"),a}function O(e,t,a,r){var i=ta(6+r.length);i.write_shift(2,e),i.write_shift(1,a),i.write_shift(1,t),i.write_shift(1,39);for(var n=0;n<r.length;++n){var s=r.charCodeAt(n);i.write_shift(1,s>=128?95:s)}return i.write_shift(1,0),i}function T(e,t){var a=w(e,t);a[1].v=e.read_shift(2);var r=a[1].v>>1;if(1&a[1].v)switch(7&r){case 0:r=5e3*(r>>3);break;case 1:r=500*(r>>3);break;case 2:r=(r>>3)/20;break;case 3:r=(r>>3)/200;break;case 4:r=(r>>3)/2e3;break;case 5:r=(r>>3)/2e4;break;case 6:r=(r>>3)/16;break;case 7:r=(r>>3)/64;break}return a[1].v=r,a}function j(e,t){var a=w(e,t),r=e.read_shift(4),i=e.read_shift(4),n=e.read_shift(2);if(65535==n)return 0===r&&3221225472===i?(a[1].t="e",a[1].v=15):0===r&&3489660928===i?(a[1].t="e",a[1].v=42):a[1].v=0,a;var s=32768&n;return n=(32767&n)-16446,a[1].v=(1-2*s)*(i*Math.pow(2,n+32)+r*Math.pow(2,n)),a}function I(e,t,a,r){var i=ta(14);if(i.write_shift(2,e),i.write_shift(1,a),i.write_shift(1,t),0==r)return i.write_shift(4,0),i.write_shift(4,0),i.write_shift(2,65535),i;var n=0,s=0,o=0,l=0;return r<0&&(n=1,r=-r),s=0|Math.log2(r),r/=Math.pow(2,s-31),l=r>>>0,0==(2147483648&l)&&(r/=2,++s,l=r>>>0),r-=l,l|=2147483648,l>>>=0,r*=Math.pow(2,32),o=r>>>0,i.write_shift(4,o),i.write_shift(4,l),s+=16383+(n?32768:0),i.write_shift(2,s),i}function D(e,t){var a=j(e,14);return e.l+=t-14,a}function M(e,t){var a=w(e,t),r=e.read_shift(4);return a[1].v=r>>6,a}function E(e,t){var a=w(e,t),r=e.read_shift(8,"f");return a[1].v=r,a}function R(e,t){var a=E(e,14);return e.l+=t-10,a}function B(e,t){return 0==e[e.l+t-1]?e.read_shift(t,"cstr"):""}function P(e,t){var a=e[e.l++];a>t-1&&(a=t-1);var r="";while(r.length<a)r+=String.fromCharCode(e[e.l++]);return r}function L(e,t,a){if(a.qpro&&!(t<21)){var r=e.read_shift(1);e.l+=17;e.read_shift(1);e.l+=2;var i=e.read_shift(t-21,"cstr");return[r,i]}}function N(e,t){var a={},r=e.l+t;while(e.l<r){var i=e.read_shift(2);if(14e3==i){a[i]=[0,""],a[i][0]=e.read_shift(2);while(e[e.l])a[i][1]+=String.fromCharCode(e[e.l]),e.l++;e.l++}}return a}function $(e,t){var a=ta(5+e.length);a.write_shift(2,14e3),a.write_shift(2,t);for(var r=0;r<e.length;++r){var i=e.charCodeAt(r);a[a.l++]=i>127?95:i}return a[a.l++]=0,a}var z={0:{n:"BOF",f:Zi},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:m},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:_},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:B},222:{n:"SHEETNAMELP",f:P},65535:{n:""}},V={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:C},23:{n:"NUMBER17",f:j},24:{n:"NUMBER18",f:T},25:{n:"FORMULA19",f:D},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:N},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:M},38:{n:"??"},39:{n:"NUMBER27",f:E},40:{n:"FORMULA28",f:R},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:B},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:L},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:t}}();function Co(e){var t={},a=e.match(Be),r=0,i=!1;if(a)for(;r!=a.length;++r){var n=Fe(a[r]);switch(n[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!n.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if("1"==n.val)break;t.cp=u[parseInt(n.val,10)];break;case"<outline":if(!n.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=n.val;break;case"<sz":t.sz=n.val;break;case"<strike":if(!n.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!n.val)break;switch(n.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if("0"==n.val)break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if("0"==n.val)break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":n.rgb&&(t.color=n.rgb.slice(2,8));break;case"<family":t.family=n.val;break;case"<vertAlign":t.valign=n.val;break;case"<scheme":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(47!==n[0].charCodeAt(1)&&!i)throw new Error("Unrecognized rich format "+n[0])}}return t}var Oo=function(){var e=it("t"),t=it("rPr");function a(a){var r=a.match(e);if(!r)return{t:"s",v:""};var i={t:"s",v:Ve(r[1])},n=a.match(t);return n&&(i.s=Co(n[1])),i}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(e){return e.replace(r,"").split(i).map(a).filter((function(e){return e.v}))}}(),To=function(){var e=/(\r\n|\n)/g;function t(e,t,a){var r=[];e.u&&r.push("text-decoration: underline;"),e.uval&&r.push("text-underline-style:"+e.uval+";"),e.sz&&r.push("font-size:"+e.sz+"pt;"),e.outline&&r.push("text-effect: outline;"),e.shadow&&r.push("text-shadow: auto;"),t.push('<span style="'+r.join("")+'">'),e.b&&(t.push("<b>"),a.push("</b>")),e.i&&(t.push("<i>"),a.push("</i>")),e.strike&&(t.push("<s>"),a.push("</s>"));var i=e.valign||"";return"superscript"==i||"super"==i?i="sup":"subscript"==i&&(i="sub"),""!=i&&(t.push("<"+i+">"),a.push("</"+i+">")),a.push("</span>"),e}function a(a){var r=[[],a.v,[]];return a.v?(a.s&&t(a.s,r[0],r[2]),r[0].join("")+r[1].replace(e,"<br/>")+r[2].join("")):""}return function(e){return e.map(a).join("")}}(),jo=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Io=/<(?:\w+:)?r>/,Ao=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function Do(e,t){var a=!t||t.cellHTML,r={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=Ve(Qe(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=Qe(e),a&&(r.h=Xe(r.t))):e.match(Io)&&(r.r=Qe(e),r.t=Ve(Qe((e.replace(Ao,"").match(jo)||[]).join("").replace(Be,""))),a&&(r.h=To(Oo(r.r)))),r):{t:""}}var Mo=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Eo=/<(?:\w+:)?(?:si|sstItem)>/g,Ro=/<\/(?:\w+:)?(?:si|sstItem)>/;function Bo(e,t){var a=[],r="";if(!e)return a;var i=e.match(Mo);if(i){r=i[2].replace(Eo,"").split(Ro);for(var n=0;n!=r.length;++n){var s=Do(r[n].trim(),t);null!=s&&(a[a.length]=s)}i=Fe(i[1]),a.Count=i.count,a.Unique=i.uniqueCount}return a}Ur.SST="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings";var Po=/^\s|\s$|[\t\n\r]/;function Lo(e,t){if(!t.bookSST)return"";var a=[Ee];a[a.length]=pt("sst",null,{xmlns:gt.main[0],count:e.Count,uniqueCount:e.Unique});for(var r=0;r!=e.length;++r)if(null!=e[r]){var i=e[r],n="<si>";i.r?n+=i.r:(n+="<t",i.t||(i.t=""),i.t.match(Po)&&(n+=' xml:space="preserve"'),n+=">"+Ge(i.t)+"</t>"),n+="</si>",a[a.length]=n}return a.length>2&&(a[a.length]="</sst>",a[1]=a[1].replace("/>",">")),a.join("")}function Fo(e){return[e.read_shift(4),e.read_shift(4)]}function No(e,t){var a=[],r=!1;return aa(e,(function(e,i,n){switch(n){case 159:a.Count=e[0],a.Unique=e[1];break;case 19:a.push(e);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(i.indexOf("Begin")>0||i.indexOf("End"),!r||t.WTF)throw new Error("Unexpected record "+n+" "+i)}})),a}function $o(e,t){return t||(t=ta(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var zo=Pa;function Vo(e){var t=ra();ia(t,"BrtBeginSst",$o(e));for(var a=0;a<e.length;++a)ia(t,"BrtSSTItem",zo(e[a]));return ia(t,"BrtEndSst"),t.end()}function Uo(e){if("undefined"!==typeof cptable)return cptable.utils.encode(l,e);for(var t=[],a=e.split(""),r=0;r<a.length;++r)t[r]=a[r].charCodeAt(0);return t}function Ho(e,t){var a={};return a.Major=e.read_shift(2),a.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),a}function Go(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Ho(e,4),t.U=Ho(e,4),t.W=Ho(e,4),t}function Wo(e){var t=e.read_shift(4),a=e.l+t-4,r={},i=e.read_shift(4),n=[];while(i-- >0)n.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(r.name=e.read_shift(0,"lpp4"),r.comps=n,e.l!=a)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+a);return r}function qo(e){var t=[];e.l+=4;var a=e.read_shift(4);while(a-- >0)t.push(Wo(e));return t}function Xo(e){var t=[];e.l+=4;var a=e.read_shift(4);while(a-- >0)t.push(e.read_shift(0,"lpp4"));return t}function Yo(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Ho(e,4),t.U=Ho(e,4),t.W=Ho(e,4),t}function Ko(e){var t=Yo(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),4!=e.read_shift(4))throw new Error("Bad !Primary record");return t}function Zo(e,t){var a=e.l+t,r={};r.Flags=63&e.read_shift(4),e.l+=4,r.AlgID=e.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=36==r.Flags;break;case 26625:i=4==r.Flags;break;case 0:i=16==r.Flags||4==r.Flags||36==r.Flags;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=e.read_shift(4),r.KeySize=e.read_shift(4),r.ProviderType=e.read_shift(4),e.l+=8,r.CSPName=e.read_shift(a-e.l>>1,"utf16le"),e.l=a,r}function Jo(e,t){var a={},r=e.l+t;return e.l+=4,a.Salt=e.slice(e.l,e.l+16),e.l+=16,a.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),a.VerifierHash=e.slice(e.l,r),e.l=r,a}function Qo(e){var t=Ho(e);switch(t.Minor){case 2:return[t.Minor,el(e,t)];case 3:return[t.Minor,tl(e,t)];case 4:return[t.Minor,al(e,t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function el(e){var t=e.read_shift(4);if(36!=(63&t))throw new Error("EncryptionInfo mismatch");var a=e.read_shift(4),r=Zo(e,a),i=Jo(e,e.length-e.l);return{t:"Std",h:r,v:i}}function tl(){throw new Error("File is password-protected: ECMA-376 Extensible")}function al(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var a=e.read_shift(e.length-e.l,"utf8"),r={};return a.replace(Be,(function(e){var a=Fe(e);switch(Ne(a[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach((function(e){r[e]=a[e]}));break;case"<dataIntegrity":r.encryptedHmacKey=a.encryptedHmacKey,r.encryptedHmacValue=a.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=a.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(a);break;default:throw a[0]}})),r}function rl(e,t){var a={},r=a.EncryptionVersionInfo=Ho(e,4);if(t-=4,2!=r.Minor)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);a.Flags=e.read_shift(4),t-=4;var i=e.read_shift(4);return t-=4,a.EncryptionHeader=Zo(e,i),t-=i,a.EncryptionVerifier=Jo(e,t),a}function il(e){var t={},a=t.EncryptionVersionInfo=Ho(e,4);if(1!=a.Major||1!=a.Minor)throw"unrecognized version code "+a.Major+" : "+a.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function nl(e){var t,a,r,i,n,s,o=0,l=Uo(e),c=l.length+1;for(t=j(c),t[0]=l.length,a=1;a!=c;++a)t[a]=l[a-1];for(a=c-1;a>=0;--a)r=t[a],i=0===(16384&o)?0:1,n=o<<1&32767,s=i|n,o=s^r;return 52811^o}var sl=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],a=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(e){return 255&(e/2|128*e)},i=function(e,t){return r(e^t)},n=function(e){for(var r=t[e.length-1],i=104,n=e.length-1;n>=0;--n)for(var s=e[n],o=0;7!=o;++o)64&s&&(r^=a[i]),s*=2,--i;return r};return function(t){for(var a,r,s,o=Uo(t),l=n(o),c=o.length,d=j(16),u=0;16!=u;++u)d[u]=0;1===(1&c)&&(a=l>>8,d[c]=i(e[0],a),--c,a=255&l,r=o[o.length-1],d[c]=i(r,a));while(c>0)--c,a=l>>8,d[c]=i(o[c],a),--c,a=255&l,d[c]=i(o[c],a);c=15,s=15-o.length;while(s>0)a=l>>8,d[c]=i(e[s],a),--c,--s,a=255&l,d[c]=i(o[c],a),--c,--s;return d}}(),ol=function(e,t,a,r,i){var n,s;for(i||(i=t),r||(r=sl(e)),n=0;n!=t.length;++n)s=t[n],s^=r[a],s=255&(s>>5|s<<3),i[n]=s,++a;return[i,a,r]},ll=function(e){var t=0,a=sl(e);return function(e){var r=ol("",e,t,a);return t=r[1],r[0]}};function cl(e,t,a,r){var i={key:Zi(e),verificationBytes:Zi(e)};return a.password&&(i.verifier=nl(a.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=ll(a.password)),i}function dl(e,t,a){var r=a||{};return r.Info=e.read_shift(2),e.l-=2,1===r.Info?r.Data=il(e,t):r.Data=rl(e,t),r}function ul(e,t,a){var r={Type:a.biff>=8?e.read_shift(2):0};return r.Type?dl(e,t-2,r):cl(e,a.biff>=8?t:t-2,a,r),r}var hl=function(){function e(e,a){switch(a.type){case"base64":return t(S.decode(e),a);case"binary":return t(e,a);case"buffer":return t(C&&i.isBuffer(e)?e.toString("binary"):M(e),a);case"array":return t(pe(e),a)}throw new Error("Unrecognized type "+a.type)}function t(e,t){var a=t||{},r=a.dense?[]:{},i=e.match(/\\trowd.*?\\row\b/g);if(!i.length)throw new Error("RTF missing table");var n={s:{c:0,r:0},e:{c:0,r:i.length-1}};return i.forEach((function(e,t){Array.isArray(r)&&(r[t]=[]);var a,i=/\\\w+\b/g,s=0,o=-1;while(a=i.exec(e)){switch(a[0]){case"\\cell":var l=e.slice(s,i.lastIndex-a[0].length);if(" "==l[0]&&(l=l.slice(1)),++o,l.length){var c={v:l,t:"s"};Array.isArray(r)?r[t][o]=c:r[ka({r:t,c:o})]=c}break}s=i.lastIndex}o>n.e.c&&(n.e.c=o)})),r["!ref"]=wa(n),r}function a(t,a){return Ta(e(t,a),a)}function r(e){for(var t,a=["{\\rtf1\\ansi"],r=Sa(e["!ref"]),i=Array.isArray(e),n=r.s.r;n<=r.e.r;++n){a.push("\\trowd\\trautofit1");for(var s=r.s.c;s<=r.e.c;++s)a.push("\\cellx"+(s+1));for(a.push("\\pard\\intbl"),s=r.s.c;s<=r.e.c;++s){var o=ka({r:n,c:s});t=i?(e[n]||[])[s]:e[o],t&&(null!=t.v||t.f&&!t.F)&&(a.push(" "+(t.w||(Oa(t),t.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:a,to_sheet:e,from_sheet:r}}();function pl(e){var t=e.slice("#"===e[0]?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function fl(e){for(var t=0,a=1;3!=t;++t)a=256*a+(e[t]>255?255:e[t]<0?0:e[t]);return a.toString(16).toUpperCase().slice(1)}function ml(e){var t=e[0]/255,a=e[1]/255,r=e[2]/255,i=Math.max(t,a,r),n=Math.min(t,a,r),s=i-n;if(0===s)return[0,0,t];var o=0,l=0,c=i+n;switch(l=s/(c>1?2-c:c),i){case t:o=((a-r)/s+6)%6;break;case a:o=(r-t)/s+2;break;case r:o=(t-a)/s+4;break}return[o/6,l,c/2]}function gl(e){var t,a=e[0],r=e[1],i=e[2],n=2*r*(i<.5?i:1-i),s=i-n/2,o=[s,s,s],l=6*a;if(0!==r)switch(0|l){case 0:case 6:t=n*l,o[0]+=n,o[1]+=t;break;case 1:t=n*(2-l),o[0]+=t,o[1]+=n;break;case 2:t=n*(l-2),o[1]+=n,o[2]+=t;break;case 3:t=n*(4-l),o[1]+=t,o[2]+=n;break;case 4:t=n*(l-4),o[2]+=n,o[0]+=t;break;case 5:t=n*(6-l),o[2]+=t,o[0]+=n;break}for(var c=0;3!=c;++c)o[c]=Math.round(255*o[c]);return o}function _l(e,t){if(0===t)return e;var a=ml(pl(e));return a[2]=t<0?a[2]*(1+t):1-(1-a[2])*(1-t),fl(gl(a))}var vl=6,bl=15,yl=1,kl=vl;function xl(e){return Math.floor((e+Math.round(128/kl)/256)*kl)}function wl(e){return Math.floor((e-5)/kl*100+.5)/100}function Sl(e){return Math.round((e*kl+5)/kl*256)/256}function Cl(e){return Sl(wl(xl(e)))}function Ol(e){var t=Math.abs(e-Cl(e)),a=kl;if(t>.005)for(kl=yl;kl<bl;++kl)Math.abs(e-Cl(e))<=t&&(t=Math.abs(e-Cl(e)),a=kl);kl=a}function Tl(e){e.width?(e.wpx=xl(e.width),e.wch=wl(e.wpx),e.MDW=kl):e.wpx?(e.wch=wl(e.wpx),e.width=Sl(e.wch),e.MDW=kl):"number"==typeof e.wch&&(e.width=Sl(e.wch),e.wpx=xl(e.width),e.MDW=kl),e.customWidth&&delete e.customWidth}var jl=96,Il=jl;function Al(e){return 96*e/Il}function Dl(e){return e*Il/96}var Ml={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function El(e,t,a,r){t.Borders=[];var i={},n=!1;(e[0].match(Be)||[]).forEach((function(e){var a=Fe(e);switch(Ne(a[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},a.diagonalUp&&(i.diagonalUp=Je(a.diagonalUp)),a.diagonalDown&&(i.diagonalDown=Je(a.diagonalDown)),t.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(r&&r.WTF&&!n)throw new Error("unrecognized "+a[0]+" in borders")}}))}function Rl(e,t,a,r){t.Fills=[];var i={},n=!1;(e[0].match(Be)||[]).forEach((function(e){var a=Fe(e);switch(Ne(a[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},t.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":a.patternType&&(i.patternType=a.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),a.indexed&&(i.bgColor.indexed=parseInt(a.indexed,10)),a.theme&&(i.bgColor.theme=parseInt(a.theme,10)),a.tint&&(i.bgColor.tint=parseFloat(a.tint)),a.rgb&&(i.bgColor.rgb=a.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),a.theme&&(i.fgColor.theme=parseInt(a.theme,10)),a.tint&&(i.fgColor.tint=parseFloat(a.tint)),null!=a.rgb&&(i.fgColor.rgb=a.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(r&&r.WTF&&!n)throw new Error("unrecognized "+a[0]+" in fills")}}))}function Bl(e,t,a,r){t.Fonts=[];var i={},n=!1;(e[0].match(Be)||[]).forEach((function(e){var s=Fe(e);switch(Ne(s[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(i),i={};break;case"<name":s.val&&(i.name=Qe(s.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=s.val?Je(s.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=s.val?Je(s.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(s.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=s.val?Je(s.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=s.val?Je(s.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=s.val?Je(s.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=s.val?Je(s.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=s.val?Je(s.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":s.val&&(i.sz=+s.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":s.val&&(i.vertAlign=s.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":s.val&&(i.family=parseInt(s.val,10));break;case"<family/>":case"</family>":break;case"<scheme":s.val&&(i.scheme=s.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if("1"==s.val)break;s.codepage=u[parseInt(s.val,10)];break;case"<color":if(i.color||(i.color={}),s.auto&&(i.color.auto=Je(s.auto)),s.rgb)i.color.rgb=s.rgb.slice(-6);else if(s.indexed){i.color.index=parseInt(s.indexed,10);var o=Mr[i.color.index];81==i.color.index&&(o=Mr[1]),o||(o=Mr[1]),i.color.rgb=o[0].toString(16)+o[1].toString(16)+o[2].toString(16)}else s.theme&&(i.color.theme=parseInt(s.theme,10),s.tint&&(i.color.tint=parseFloat(s.tint)),s.theme&&a.themeElements&&a.themeElements.clrScheme&&(i.color.rgb=_l(a.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":n=!0;break;case"</AlternateContent>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(r&&r.WTF&&!n)throw new Error("unrecognized "+s[0]+" in fonts")}}))}function Pl(e,t,a){t.NumberFmt=[];for(var r=J(F._table),i=0;i<r.length;++i)t.NumberFmt[r[i]]=F._table[r[i]];var n=e[0].match(Be);if(n)for(i=0;i<n.length;++i){var s=Fe(n[i]);switch(Ne(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":var o=Ve(Qe(s.formatCode)),l=parseInt(s.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60;--l)if(null==t.NumberFmt[l])break;t.NumberFmt[l]=o}F.load(o,l)}break;case"</numFmt>":break;default:if(a.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}function Ll(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach((function(a){for(var r=a[0];r<=a[1];++r)null!=e[r]&&(t[t.length]=pt("numFmt",null,{numFmtId:r,formatCode:Ge(e[r])}))})),1===t.length?"":(t[t.length]="</numFmts>",t[0]=pt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var Fl=["numFmtId","fillId","fontId","borderId","xfId"],Nl=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function $l(e,t,a){var r;t.CellXf=[];var i=!1;(e[0].match(Be)||[]).forEach((function(e){var n=Fe(e),s=0;switch(Ne(n[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=n,delete r[0],s=0;s<Fl.length;++s)r[Fl[s]]&&(r[Fl[s]]=parseInt(r[Fl[s]],10));for(s=0;s<Nl.length;++s)r[Nl[s]]&&(r[Nl[s]]=Je(r[Nl[s]]));if(t.NumberFmt&&r.numFmtId>392)for(s=392;s>60;--s)if(t.NumberFmt[r.numFmtId]==t.NumberFmt[s]){r.numFmtId=s;break}t.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var o={};n.vertical&&(o.vertical=n.vertical),n.horizontal&&(o.horizontal=n.horizontal),null!=n.textRotation&&(o.textRotation=n.textRotation),n.indent&&(o.indent=n.indent),n.wrapText&&(o.wrapText=Je(n.wrapText)),r.alignment=o;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+n[0]+" in cellXfs")}}))}function zl(e){var t=[];return t[t.length]=pt("cellXfs",null),e.forEach((function(e){t[t.length]=pt("xf",null,e)})),t[t.length]="</cellXfs>",2===t.length?"":(t[0]=pt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var Vl=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,t=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,a=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,r=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(n,s,o){var l,c={};return n?(n=n.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,""),(l=n.match(e))&&Pl(l,c,o),(l=n.match(r))&&Bl(l,c,s,o),(l=n.match(a))&&Rl(l,c,s,o),(l=n.match(i))&&El(l,c,s,o),(l=n.match(t))&&$l(l,c,o),c):c}}(),Ul=pt("styleSheet",null,{xmlns:gt.main[0],"xmlns:vt":gt.vt});function Hl(e,t){var a,r=[Ee,Ul];return e.SSF&&null!=(a=Ll(e.SSF))&&(r[r.length]=a),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(a=zl(t.cellXfs))&&(r[r.length]=a),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Gl(e,t){var a=e.read_shift(2),r=Da(e,t-2);return[a,r]}function Wl(e,t,a){a||(a=ta(6+4*t.length)),a.write_shift(2,e),Ma(t,a);var r=a.length>a.l?a.slice(0,a.l):a;return null==a.l&&(a.l=a.length),r}function ql(e,t,a){var r={};r.sz=e.read_shift(2)/20;var i=sr(e,2,a);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var n=e.read_shift(2);switch(700===n&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var s=e.read_shift(1);0!=s&&(r.underline=s);var o=e.read_shift(1);o>0&&(r.family=o);var l=e.read_shift(1);switch(l>0&&(r.charset=l),e.l++,r.color=ir(e,8),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Da(e,t-21),r}function Xl(e,t){t||(t=ta(153)),t.write_shift(2,20*e.sz),or(e,t),t.write_shift(2,e.bold?700:400);var a=0;"superscript"==e.vertAlign?a=1:"subscript"==e.vertAlign&&(a=2),t.write_shift(2,a),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),nr(e.color,t);var r=0;return"major"==e.scheme&&(r=1),"minor"==e.scheme&&(r=2),t.write_shift(1,r),Ma(e.name,t),t.length>t.l?t.slice(0,t.l):t}Ur.STY="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles";var Yl=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Kl=ee(Yl),Zl=ea;function Jl(e,t){t||(t=ta(84));var a=Kl[e.patternType];null==a&&(a=40),t.write_shift(4,a);var r=0;if(40!=a)for(nr({auto:1},t),nr({auto:1},t);r<12;++r)t.write_shift(4,0);else{for(;r<4;++r)t.write_shift(4,0);for(;r<12;++r)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function Ql(e,t){var a=e.l+t,r=e.read_shift(2),i=e.read_shift(2);return e.l=a,{ixfe:r,numFmtId:i}}function ec(e,t,a){a||(a=ta(16)),a.write_shift(2,t||0),a.write_shift(2,e.numFmtId||0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(1,0),a.write_shift(1,0);var r=0;return a.write_shift(1,r),a.write_shift(1,0),a.write_shift(1,0),a.write_shift(1,0),a}function tc(e,t){return t||(t=ta(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var ac=ea;function rc(e,t){return t||(t=ta(51)),t.write_shift(1,0),tc(null,t),tc(null,t),tc(null,t),tc(null,t),tc(null,t),t.length>t.l?t.slice(0,t.l):t}function ic(e,t){return t||(t=ta(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),Wa(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function nc(e,t,a){var r=ta(2052);return r.write_shift(4,e),Wa(t,r),Wa(a,r),r.length>r.l?r.slice(0,r.l):r}function sc(e,t,a){var r={NumberFmt:[]};for(var i in F._table)r.NumberFmt[i]=F._table[i];r.CellXf=[],r.Fonts=[];var n=[],s=!1;return aa(e,(function(e,i,o){switch(o){case 44:r.NumberFmt[e[0]]=e[1],F.load(e[1],e[0]);break;case 43:r.Fonts.push(e),null!=e.color.theme&&t&&t.themeElements&&t.themeElements.clrScheme&&(e.color.rgb=_l(t.themeElements.clrScheme[e.color.theme].rgb,e.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:"BrtBeginCellXFs"==n[n.length-1]&&r.CellXf.push(e);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:n.push(i),s=!0;break;case 38:n.pop(),s=!1;break;default:if((i||"").indexOf("Begin")>0)n.push(i);else if((i||"").indexOf("End")>0)n.pop();else if(!s||a.WTF&&"BrtACBegin"!=n[n.length-1])throw new Error("Unexpected record "+o+" "+i)}})),r}function oc(e,t){if(t){var a=0;[[5,8],[23,26],[41,44],[50,392]].forEach((function(e){for(var r=e[0];r<=e[1];++r)null!=t[r]&&++a})),0!=a&&(ia(e,"BrtBeginFmts",Aa(a)),[[5,8],[23,26],[41,44],[50,392]].forEach((function(a){for(var r=a[0];r<=a[1];++r)null!=t[r]&&ia(e,"BrtFmt",Wl(r,t[r]))})),ia(e,"BrtEndFmts"))}}function lc(e){var t=1;0!=t&&(ia(e,"BrtBeginFonts",Aa(t)),ia(e,"BrtFont",Xl({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),ia(e,"BrtEndFonts"))}function cc(e){var t=2;0!=t&&(ia(e,"BrtBeginFills",Aa(t)),ia(e,"BrtFill",Jl({patternType:"none"})),ia(e,"BrtFill",Jl({patternType:"gray125"})),ia(e,"BrtEndFills"))}function dc(e){var t=1;0!=t&&(ia(e,"BrtBeginBorders",Aa(t)),ia(e,"BrtBorder",rc({})),ia(e,"BrtEndBorders"))}function uc(e){var t=1;ia(e,"BrtBeginCellStyleXFs",Aa(t)),ia(e,"BrtXF",ec({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),ia(e,"BrtEndCellStyleXFs")}function hc(e,t){ia(e,"BrtBeginCellXFs",Aa(t.length)),t.forEach((function(t){ia(e,"BrtXF",ec(t,0))})),ia(e,"BrtEndCellXFs")}function pc(e){var t=1;ia(e,"BrtBeginStyles",Aa(t)),ia(e,"BrtStyle",ic({xfId:0,builtinId:0,name:"Normal"})),ia(e,"BrtEndStyles")}function fc(e){var t=0;ia(e,"BrtBeginDXFs",Aa(t)),ia(e,"BrtEndDXFs")}function mc(e){var t=0;ia(e,"BrtBeginTableStyles",nc(t,"TableStyleMedium9","PivotStyleMedium4")),ia(e,"BrtEndTableStyles")}function gc(){}function _c(e,t){var a=ra();return ia(a,"BrtBeginStyleSheet"),oc(a,e.SSF),lc(a,e),cc(a,e),dc(a,e),uc(a,e),hc(a,t.cellXfs),pc(a,e),fc(a,e),mc(a,e),gc(a,e),ia(a,"BrtEndStyleSheet"),a.end()}Ur.THEME="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme";var vc=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function bc(e,t,a){t.themeElements.clrScheme=[];var r={};(e[0].match(Be)||[]).forEach((function(e){var i=Fe(e);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=i.val;break;case"<a:sysClr":r.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":"/"===i[0].charAt(1)?(t.themeElements.clrScheme[vc.indexOf(i[0])]=r,r={}):r.name=i[0].slice(3,i[0].length-1);break;default:if(a&&a.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}}))}function yc(){}function kc(){}var xc=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,wc=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Sc=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Cc(e,t,a){var r;t.themeElements={},[["clrScheme",xc,bc],["fontScheme",wc,yc],["fmtScheme",Sc,kc]].forEach((function(i){if(!(r=e.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,t,a)}))}var Oc=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function Tc(e,t){if(!e||0===e.length)return Tc(jc());var a,r={};if(!(a=e.match(Oc)))throw new Error("themeElements not found in theme");return Cc(a[0],r,t),r.raw=e,r}function jc(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&"string"==typeof e.raw)return e.raw;var a=[Ee];return a[a.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',a[a.length]="<a:themeElements>",a[a.length]='<a:clrScheme name="Office">',a[a.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',a[a.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',a[a.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',a[a.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',a[a.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',a[a.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',a[a.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',a[a.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',a[a.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',a[a.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',a[a.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',a[a.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',a[a.length]="</a:clrScheme>",a[a.length]='<a:fontScheme name="Office">',a[a.length]="<a:majorFont>",a[a.length]='<a:latin typeface="Cambria"/>',a[a.length]='<a:ea typeface=""/>',a[a.length]='<a:cs typeface=""/>',a[a.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',a[a.length]='<a:font script="Hang" typeface="맑은 고딕"/>',a[a.length]='<a:font script="Hans" typeface="宋体"/>',a[a.length]='<a:font script="Hant" typeface="新細明體"/>',a[a.length]='<a:font script="Arab" typeface="Times New Roman"/>',a[a.length]='<a:font script="Hebr" typeface="Times New Roman"/>',a[a.length]='<a:font script="Thai" typeface="Tahoma"/>',a[a.length]='<a:font script="Ethi" typeface="Nyala"/>',a[a.length]='<a:font script="Beng" typeface="Vrinda"/>',a[a.length]='<a:font script="Gujr" typeface="Shruti"/>',a[a.length]='<a:font script="Khmr" typeface="MoolBoran"/>',a[a.length]='<a:font script="Knda" typeface="Tunga"/>',a[a.length]='<a:font script="Guru" typeface="Raavi"/>',a[a.length]='<a:font script="Cans" typeface="Euphemia"/>',a[a.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',a[a.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',a[a.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',a[a.length]='<a:font script="Thaa" typeface="MV Boli"/>',a[a.length]='<a:font script="Deva" typeface="Mangal"/>',a[a.length]='<a:font script="Telu" typeface="Gautami"/>',a[a.length]='<a:font script="Taml" typeface="Latha"/>',a[a.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',a[a.length]='<a:font script="Orya" typeface="Kalinga"/>',a[a.length]='<a:font script="Mlym" typeface="Kartika"/>',a[a.length]='<a:font script="Laoo" typeface="DokChampa"/>',a[a.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',a[a.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',a[a.length]='<a:font script="Viet" typeface="Times New Roman"/>',a[a.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',a[a.length]='<a:font script="Geor" typeface="Sylfaen"/>',a[a.length]="</a:majorFont>",a[a.length]="<a:minorFont>",a[a.length]='<a:latin typeface="Calibri"/>',a[a.length]='<a:ea typeface=""/>',a[a.length]='<a:cs typeface=""/>',a[a.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',a[a.length]='<a:font script="Hang" typeface="맑은 고딕"/>',a[a.length]='<a:font script="Hans" typeface="宋体"/>',a[a.length]='<a:font script="Hant" typeface="新細明體"/>',a[a.length]='<a:font script="Arab" typeface="Arial"/>',a[a.length]='<a:font script="Hebr" typeface="Arial"/>',a[a.length]='<a:font script="Thai" typeface="Tahoma"/>',a[a.length]='<a:font script="Ethi" typeface="Nyala"/>',a[a.length]='<a:font script="Beng" typeface="Vrinda"/>',a[a.length]='<a:font script="Gujr" typeface="Shruti"/>',a[a.length]='<a:font script="Khmr" typeface="DaunPenh"/>',a[a.length]='<a:font script="Knda" typeface="Tunga"/>',a[a.length]='<a:font script="Guru" typeface="Raavi"/>',a[a.length]='<a:font script="Cans" typeface="Euphemia"/>',a[a.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',a[a.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',a[a.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',a[a.length]='<a:font script="Thaa" typeface="MV Boli"/>',a[a.length]='<a:font script="Deva" typeface="Mangal"/>',a[a.length]='<a:font script="Telu" typeface="Gautami"/>',a[a.length]='<a:font script="Taml" typeface="Latha"/>',a[a.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',a[a.length]='<a:font script="Orya" typeface="Kalinga"/>',a[a.length]='<a:font script="Mlym" typeface="Kartika"/>',a[a.length]='<a:font script="Laoo" typeface="DokChampa"/>',a[a.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',a[a.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',a[a.length]='<a:font script="Viet" typeface="Arial"/>',a[a.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',a[a.length]='<a:font script="Geor" typeface="Sylfaen"/>',a[a.length]="</a:minorFont>",a[a.length]="</a:fontScheme>",a[a.length]='<a:fmtScheme name="Office">',a[a.length]="<a:fillStyleLst>",a[a.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:lin ang="16200000" scaled="1"/>',a[a.length]="</a:gradFill>",a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:lin ang="16200000" scaled="0"/>',a[a.length]="</a:gradFill>",a[a.length]="</a:fillStyleLst>",a[a.length]="<a:lnStyleLst>",a[a.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',a[a.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',a[a.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',a[a.length]="</a:lnStyleLst>",a[a.length]="<a:effectStyleLst>",a[a.length]="<a:effectStyle>",a[a.length]="<a:effectLst>",a[a.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',a[a.length]="</a:effectLst>",a[a.length]="</a:effectStyle>",a[a.length]="<a:effectStyle>",a[a.length]="<a:effectLst>",a[a.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',a[a.length]="</a:effectLst>",a[a.length]="</a:effectStyle>",a[a.length]="<a:effectStyle>",a[a.length]="<a:effectLst>",a[a.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',a[a.length]="</a:effectLst>",a[a.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',a[a.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',a[a.length]="</a:effectStyle>",a[a.length]="</a:effectStyleLst>",a[a.length]="<a:bgFillStyleLst>",a[a.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',a[a.length]="</a:gradFill>",a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',a[a.length]="</a:gradFill>",a[a.length]="</a:bgFillStyleLst>",a[a.length]="</a:fmtScheme>",a[a.length]="</a:themeElements>",a[a.length]="<a:objectDefaults>",a[a.length]="<a:spDef>",a[a.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',a[a.length]="</a:spDef>",a[a.length]="<a:lnDef>",a[a.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',a[a.length]="</a:lnDef>",a[a.length]="</a:objectDefaults>",a[a.length]="<a:extraClrSchemeLst/>",a[a.length]="</a:theme>",a.join("")}function Ic(e,t,a){var r=e.l+t,i=e.read_shift(4);if(124226!==i)if(a.cellStyles){var n,s=e.slice(e.l);e.l=r;try{n=De(s,{type:"array"})}catch(D_){return}var o=Te(n,"theme/theme/theme1.xml",!0);if(o)return Tc(o,a)}else e.l=r}function Ac(e){return e.read_shift(4)}function Dc(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=Mc(e,4);break;case 2:t.xclrValue=vn(e,4);break;case 3:t.xclrValue=Ac(e,4);break;case 4:e.l+=4;break}return e.l+=8,t}function Mc(e,t){return ea(e,t)}function Ec(e,t){return ea(e,t)}function Rc(e){var t=e.read_shift(2),a=e.read_shift(2)-4,r=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=Dc(e,a);break;case 6:r[1]=Ec(e,a);break;case 14:case 15:r[1]=e.read_shift(1===a?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+a)}return r}function Bc(e,t){var a=e.l+t;e.l+=2;var r=e.read_shift(2);e.l+=2;var i=e.read_shift(2),n=[];while(i-- >0)n.push(Rc(e,a-e.l));return{ixfe:r,ext:n}}function Pc(e,t){t.forEach((function(e){switch(e[0]){case 4:break;case 5:break;case 6:break;case 7:break;case 8:break;case 9:break;case 10:break;case 11:break;case 13:break;case 14:break;case 15:break}}))}function Lc(e){var t=[];if(!e)return t;var a=1;return(e.match(Be)||[]).forEach((function(e){var r=Fe(e);switch(r[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete r[0],r.i?a=r.i:r.i=a,t.push(r);break}})),t}function Fc(e){var t={};t.i=e.read_shift(4);var a={};a.r=e.read_shift(4),a.c=e.read_shift(4),t.r=ka(a);var r=e.read_shift(1);return 2&r&&(t.l="1"),8&r&&(t.a="1"),t}function Nc(e,t,a){var r=[],i=!1;return aa(e,(function(e,t,n){switch(n){case 63:r.push(e);break;default:if((t||"").indexOf("Begin")>0);else if((t||"").indexOf("End")>0);else if(!i||a.WTF)throw new Error("Unexpected record "+n+" "+t)}})),r}function $c(){}function zc(e,t,a,r){if(!e)return e;var i=r||{},n=!1,s=!1;aa(e,(function(e,t,a){if(!s)switch(a){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:n=!0;break;case 36:n=!1;break;default:if((t||"").indexOf("Begin")>0);else if((t||"").indexOf("End")>0);else if(!n||i.WTF)throw new Error("Unexpected record "+a.toString(16)+" "+t)}}),i)}function Vc(e,t){if(!e)return"??";var a=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][a].Target}Ur.IMG="http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Ur.DRAW="http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing";var Uc=1024;function Hc(e,t){var a=[21600,21600],r=["m0,0l0",a[1],a[0],a[1],a[0],"0xe"].join(","),i=[pt("xml",null,{"xmlns:v":_t.v,"xmlns:o":_t.o,"xmlns:x":_t.x,"xmlns:mv":_t.mv}).replace(/\/>/,">"),pt("o:shapelayout",pt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),pt("v:shapetype",[pt("v:stroke",null,{joinstyle:"miter"}),pt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:a.join(","),path:r})];while(Uc<1e3*e)Uc+=1e3;return t.forEach((function(e){var t=ya(e[0]),a={color2:"#BEFF82",type:"gradient"};"gradient"==a.type&&(a.angle="-180");var r="gradient"==a.type?pt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,n=pt("v:fill",r,a),s={on:"t",obscured:"t"};++Uc,i=i.concat(["<v:shape"+ht({id:"_x0000_s"+Uc,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(e[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",n,pt("v:shadow",null,s),pt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ut("x:Anchor",[t.c+1,0,t.r+1,0,t.c+3,20,t.r+5,20].join(",")),ut("x:AutoFill","False"),ut("x:Row",String(t.r)),ut("x:Column",String(t.c)),e[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])})),i.push("</xml>"),i.join("")}function Gc(e,t){var a,r=Array.isArray(e);t.forEach((function(t){var i=ya(t.ref);if(r?(e[i.r]||(e[i.r]=[]),a=e[i.r][i.c]):a=e[t.ref],!a){a={t:"z"},r?e[i.r][i.c]=a:e[t.ref]=a;var n=Sa(e["!ref"]||"BDWGO1000001:A1");n.s.r>i.r&&(n.s.r=i.r),n.e.r<i.r&&(n.e.r=i.r),n.s.c>i.c&&(n.s.c=i.c),n.e.c<i.c&&(n.e.c=i.c);var s=wa(n);s!==e["!ref"]&&(e["!ref"]=s)}a.c||(a.c=[]);var o={a:t.author,t:t.t,r:t.r};t.h&&(o.h=t.h),a.c.push(o)}))}function Wc(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var a=[],r=[],i=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach((function(e){if(""!==e&&""!==e.trim()){var t=e.match(/<(?:\w+:)?author[^>]*>(.*)/);t&&a.push(t[1])}}));var n=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return n&&n[1]&&n[1].split(/<\/\w*:?comment>/).forEach((function(e){if(""!==e&&""!==e.trim()){var i=e.match(/<(?:\w+:)?comment[^>]*>/);if(i){var n=Fe(i[0]),s={author:n.authorId&&a[n.authorId]||"sheetjsghost",ref:n.ref,guid:n.guid},o=ya(n.ref);if(!(t.sheetRows&&t.sheetRows<=o.r)){var l=e.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),c=!!l&&!!l[1]&&Do(l[1])||{r:"",t:"",h:""};s.r=c.r,"<t></t>"==c.r&&(c.t=c.h=""),s.t=(c.t||"").replace(/\r\n/g,"\n").replace(/\r/g,"\n"),t.cellHTML&&(s.h=c.h),r.push(s)}}}})),r}Ur.CMNT="http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments";var qc=pt("comments",null,{xmlns:gt.main[0]});function Xc(e){var t=[Ee,qc],a=[];return t.push("<authors>"),e.forEach((function(e){e[1].forEach((function(e){var r=Ge(e.a);a.indexOf(r)>-1||(a.push(r),t.push("<author>"+r+"</author>"))}))})),t.push("</authors>"),t.push("<commentList>"),e.forEach((function(e){e[1].forEach((function(r){t.push('<comment ref="'+e[0]+'" authorId="'+a.indexOf(Ge(r.a))+'"><text>'),t.push(ut("t",null==r.t?"":Ge(r.t))),t.push("</text></comment>")}))})),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Yc(e){var t={};t.iauthor=e.read_shift(4);var a=er(e,16);return t.rfx=a.s,t.ref=ka(a.s),e.l+=16,t}function Kc(e,t){return null==t&&(t=ta(36)),t.write_shift(4,e[1].iauthor),tr(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var Zc=Da;function Jc(e){return Ma(e.slice(0,54))}function Qc(e,t){var a=[],r=[],i={},n=!1;return aa(e,(function(e,s,o){switch(o){case 632:r.push(e);break;case 635:i=e;break;case 637:i.t=e.t,i.h=e.h,i.r=e.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,t.sheetRows&&i.rfx&&t.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,a.push(i);break;case 3072:break;case 35:n=!0;break;case 36:n=!1;break;case 37:break;case 38:break;default:if((s||"").indexOf("Begin")>0);else if((s||"").indexOf("End")>0);else if(!n||t.WTF)throw new Error("Unexpected record "+o+" "+s)}})),a}function ed(e){var t=ra(),a=[];return ia(t,"BrtBeginComments"),ia(t,"BrtBeginCommentAuthors"),e.forEach((function(e){e[1].forEach((function(e){a.indexOf(e.a)>-1||(a.push(e.a.slice(0,54)),ia(t,"BrtCommentAuthor",Jc(e.a)))}))})),ia(t,"BrtEndCommentAuthors"),ia(t,"BrtBeginCommentList"),e.forEach((function(e){e[1].forEach((function(r){r.iauthor=a.indexOf(r.a);var i={s:ya(e[0]),e:ya(e[0])};ia(t,"BrtBeginComment",Kc([i,r])),r.t&&r.t.length>0&&ia(t,"BrtCommentText",Fa(r)),ia(t,"BrtEndComment"),delete r.iauthor}))})),ia(t,"BrtEndCommentList"),ia(t,"BrtEndComments"),t.end()}var td="application/vnd.ms-office.vbaProject";function ad(e){var t=X.utils.cfb_new({root:"R"});return e.FullPaths.forEach((function(a,r){if("/"!==a.slice(-1)&&a.match(/_VBA_PROJECT_CUR/)){var i=a.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");X.utils.cfb_add(t,i,e.FileIndex[r].content)}})),X.write(t)}function rd(e,t){t.FullPaths.forEach((function(a,r){if(0!=r){var i=a.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==i.slice(-1)&&X.utils.cfb_add(e,i,t.FileIndex[r].content)}}))}var id=["xlsb","xlsm","xlam","biff8","xla"];function nd(){return{"!type":"dialog"}}function sd(){return{"!type":"dialog"}}function od(){return{"!type":"macro"}}function ld(){return{"!type":"macro"}}Ur.DS="http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",Ur.MS="http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet";var cd=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function a(e,a,r,i){var n=!1,s=!1;0==r.length?s=!0:"["==r.charAt(0)&&(s=!0,r=r.slice(1,-1)),0==i.length?n=!0:"["==i.charAt(0)&&(n=!0,i=i.slice(1,-1));var o=r.length>0?0|parseInt(r,10):0,l=i.length>0?0|parseInt(i,10):0;return n?l+=t.c:--l,s?o+=t.r:--o,a+(n?"":"$")+ga(l)+(s?"":"$")+ha(o)}return function(r,i){return t=i,r.replace(e,a)}}(),dd=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,ud=function(){return function(e,t){return e.replace(dd,(function(e,a,r,i,n,s){var o=ma(i)-(r?0:t.c),l=ua(s)-(n?0:t.r),c=0==l?"":n?l+1:"["+l+"]",d=0==o?"":r?o+1:"["+o+"]";return a+"R"+c+"C"+d}))}}();function hd(e,t){return e.replace(dd,(function(e,a,r,i,n,s){return a+("$"==r?r+i:ga(ma(i)+t.c))+("$"==n?n+s:ha(ua(s)+t.r))}))}function pd(e,t,a){var r=xa(t),i=r.s,n=ya(a),s={r:n.r-i.r,c:n.c-i.c};return hd(e,s)}function fd(e){return 1!=e.length}function md(e){return e.replace(/_xlfn\./g,"")}function gd(e){e.l+=1}function _d(e,t){var a=e.read_shift(1==t?1:2);return[16383&a,a>>14&1,a>>15&1]}function vd(e,t,a){var r=2;if(a){if(a.biff>=2&&a.biff<=5)return bd(e,t,a);12==a.biff&&(r=4)}var i=e.read_shift(r),n=e.read_shift(r),s=_d(e,2),o=_d(e,2);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:n,c:o[0],cRel:o[1],rRel:o[2]}}}function bd(e){var t=_d(e,2),a=_d(e,2),r=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:a[0],c:i,cRel:a[1],rRel:a[2]}}}function yd(e,t,a){if(a.biff<8)return bd(e,t,a);var r=e.read_shift(12==a.biff?4:2),i=e.read_shift(12==a.biff?4:2),n=_d(e,2),s=_d(e,2);return{s:{r:r,c:n[0],cRel:n[1],rRel:n[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function kd(e,t,a){if(a&&a.biff>=2&&a.biff<=5)return xd(e,t,a);var r=e.read_shift(a&&12==a.biff?4:2),i=_d(e,2);return{r:r,c:i[0],cRel:i[1],rRel:i[2]}}function xd(e){var t=_d(e,2),a=e.read_shift(1);return{r:t[0],c:a,cRel:t[1],rRel:t[2]}}function wd(e){var t=e.read_shift(2),a=e.read_shift(2);return{r:t,c:255&a,fQuoted:!!(16384&a),cRel:a>>15,rRel:a>>15}}function Sd(e,t,a){var r=a&&a.biff?a.biff:8;if(r>=2&&r<=5)return Cd(e,t,a);var i=e.read_shift(r>=12?4:2),n=e.read_shift(2),s=(16384&n)>>14,o=(32768&n)>>15;if(n&=16383,1==o)while(i>524287)i-=1048576;if(1==s)while(n>8191)n-=16384;return{r:i,c:n,cRel:s,rRel:o}}function Cd(e){var t=e.read_shift(2),a=e.read_shift(1),r=(32768&t)>>15,i=(16384&t)>>14;return t&=16383,1==r&&t>=8192&&(t-=16384),1==i&&a>=128&&(a-=256),{r:t,c:a,cRel:i,rRel:r}}function Od(e,t,a){var r=(96&e[e.l++])>>5,i=vd(e,a.biff>=2&&a.biff<=5?6:8,a);return[r,i]}function Td(e,t,a){var r=(96&e[e.l++])>>5,i=e.read_shift(2,"i"),n=8;if(a)switch(a.biff){case 5:e.l+=12,n=6;break;case 12:n=12;break}var s=vd(e,n,a);return[r,i,s]}function jd(e,t,a){var r=(96&e[e.l++])>>5;return e.l+=a&&a.biff>8?12:a.biff<8?6:8,[r]}function Id(e,t,a){var r=(96&e[e.l++])>>5,i=e.read_shift(2),n=8;if(a)switch(a.biff){case 5:e.l+=12,n=6;break;case 12:n=12;break}return e.l+=n,[r,i]}function Ad(e,t,a){var r=(96&e[e.l++])>>5,i=yd(e,t-1,a);return[r,i]}function Dd(e,t,a){var r=(96&e[e.l++])>>5;return e.l+=2==a.biff?6:12==a.biff?14:7,[r]}function Md(e){var t=1&e[e.l+1],a=1;return e.l+=4,[t,a]}function Ed(e,t,a){e.l+=2;for(var r=e.read_shift(a&&2==a.biff?1:2),i=[],n=0;n<=r;++n)i.push(e.read_shift(a&&2==a.biff?1:2));return i}function Rd(e,t,a){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(a&&2==a.biff?1:2)]}function Bd(e,t,a){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(a&&2==a.biff?1:2)]}function Pd(e){var t=255&e[e.l+1]?1:0;return e.l+=2,[t,e.read_shift(2)]}function Ld(e,t,a){var r=255&e[e.l+1]?1:0;return e.l+=a&&2==a.biff?3:4,[r]}function Fd(e){var t=e.read_shift(1),a=e.read_shift(1);return[t,a]}function Nd(e){return e.read_shift(2),Fd(e,2)}function $d(e){return e.read_shift(2),Fd(e,2)}function zd(e,t,a){var r=(96&e[e.l])>>5;e.l+=1;var i=kd(e,0,a);return[r,i]}function Vd(e,t,a){var r=(96&e[e.l])>>5;e.l+=1;var i=Sd(e,0,a);return[r,i]}function Ud(e,t,a){var r=(96&e[e.l])>>5;e.l+=1;var i=e.read_shift(2);a&&5==a.biff&&(e.l+=12);var n=kd(e,0,a);return[r,i,n]}function Hd(e,t,a){var r=(96&e[e.l])>>5;e.l+=1;var i=e.read_shift(a&&a.biff<=3?1:2);return[oh[i],sh[i],r]}function Gd(e,t,a){var r=e[e.l++],i=e.read_shift(1),n=a&&a.biff<=3?[88==r?-1:0,e.read_shift(1)]:Wd(e);return[i,(0===n[0]?sh:nh)[n[1]]]}function Wd(e){return[e[e.l+1]>>7,32767&e.read_shift(2)]}function qd(e,t,a){e.l+=a&&2==a.biff?3:4}function Xd(e,t,a){if(e.l++,a&&12==a.biff)return[e.read_shift(4,"i"),0];var r=e.read_shift(2),i=e.read_shift(a&&2==a.biff?1:2);return[r,i]}function Yd(e){return e.l++,Er[e.read_shift(1)]}function Kd(e){return e.l++,e.read_shift(2)}function Zd(e){return e.l++,0!==e.read_shift(1)}function Jd(e){return e.l++,ar(e,8)}function Qd(e,t,a){return e.l++,an(e,t-1,a)}function eu(e,t){var a=[e.read_shift(1)];if(12==t)switch(a[0]){case 2:a[0]=4;break;case 4:a[0]=16;break;case 0:a[0]=1;break;case 1:a[0]=2;break}switch(a[0]){case 4:a[1]=Yi(e,1)?"TRUE":"FALSE",12!=t&&(e.l+=7);break;case 37:case 16:a[1]=Er[e[e.l]],e.l+=12==t?4:8;break;case 0:e.l+=8;break;case 1:a[1]=ar(e,8);break;case 2:a[1]=ln(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+a[0])}return a}function tu(e,t,a){for(var r=e.read_shift(12==a.biff?4:2),i=[],n=0;n!=r;++n)i.push((12==a.biff?er:Tn)(e,8));return i}function au(e,t,a){var r=0,i=0;12==a.biff?(r=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),r=1+e.read_shift(2)),a.biff>=2&&a.biff<8&&(--r,0==--i&&(i=256));for(var n=0,s=[];n!=r&&(s[n]=[]);++n)for(var o=0;o!=i;++o)s[n][o]=eu(e,a.biff);return s}function ru(e,t,a){var r=e.read_shift(1)>>>5&3,i=!a||a.biff>=8?4:2,n=e.read_shift(i);switch(a.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[r,0,n]}function iu(e,t,a){if(5==a.biff)return nu(e,t,a);var r=e.read_shift(1)>>>5&3,i=e.read_shift(2),n=e.read_shift(4);return[r,i,n]}function nu(e){var t=e.read_shift(1)>>>5&3,a=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,a,r]}function su(e,t,a){var r=e.read_shift(1)>>>5&3;e.l+=a&&2==a.biff?3:4;var i=e.read_shift(a&&2==a.biff?1:2);return[r,i]}function ou(e,t,a){var r=e.read_shift(1)>>>5&3,i=e.read_shift(a&&2==a.biff?1:2);return[r,i]}function lu(e,t,a){var r=e.read_shift(1)>>>5&3;return e.l+=4,a.biff<8&&e.l--,12==a.biff&&(e.l+=2),[r]}function cu(e,t,a){var r=(96&e[e.l++])>>5,i=e.read_shift(2),n=4;if(a)switch(a.biff){case 5:n=15;break;case 12:n=6;break}return e.l+=n,[r,i]}var du=ea,uu=ea,hu=ea;function pu(e,t,a){return e.l+=2,[wd(e,4,a)]}function fu(e){return e.l+=6,[]}var mu=pu,gu=fu,_u=fu,vu=pu;function bu(e){return e.l+=2,[Zi(e),1&e.read_shift(2)]}var yu=pu,ku=bu,xu=fu,wu=pu,Su=pu,Cu=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Ou(e){e.l+=2;var t=e.read_shift(2),a=e.read_shift(2),r=e.read_shift(4),i=e.read_shift(2),n=e.read_shift(2),s=Cu[a>>2&31];return{ixti:t,coltype:3&a,rt:s,idx:r,c:i,C:n}}function Tu(e){return e.l+=2,[e.read_shift(4)]}function ju(e,t,a){return e.l+=5,e.l+=2,e.l+=2==a.biff?1:4,["PTGSHEET"]}function Iu(e,t,a){return e.l+=2==a.biff?4:5,["PTGENDSHEET"]}function Au(e){var t=e.read_shift(1)>>>5&3,a=e.read_shift(2);return[t,a]}function Du(e){var t=e.read_shift(1)>>>5&3,a=e.read_shift(2);return[t,a]}function Mu(e){return e.l+=4,[0,0]}var Eu={1:{n:"PtgExp",f:Xd},2:{n:"PtgTbl",f:hu},3:{n:"PtgAdd",f:gd},4:{n:"PtgSub",f:gd},5:{n:"PtgMul",f:gd},6:{n:"PtgDiv",f:gd},7:{n:"PtgPower",f:gd},8:{n:"PtgConcat",f:gd},9:{n:"PtgLt",f:gd},10:{n:"PtgLe",f:gd},11:{n:"PtgEq",f:gd},12:{n:"PtgGe",f:gd},13:{n:"PtgGt",f:gd},14:{n:"PtgNe",f:gd},15:{n:"PtgIsect",f:gd},16:{n:"PtgUnion",f:gd},17:{n:"PtgRange",f:gd},18:{n:"PtgUplus",f:gd},19:{n:"PtgUminus",f:gd},20:{n:"PtgPercent",f:gd},21:{n:"PtgParen",f:gd},22:{n:"PtgMissArg",f:gd},23:{n:"PtgStr",f:Qd},26:{n:"PtgSheet",f:ju},27:{n:"PtgEndSheet",f:Iu},28:{n:"PtgErr",f:Yd},29:{n:"PtgBool",f:Zd},30:{n:"PtgInt",f:Kd},31:{n:"PtgNum",f:Jd},32:{n:"PtgArray",f:Dd},33:{n:"PtgFunc",f:Hd},34:{n:"PtgFuncVar",f:Gd},35:{n:"PtgName",f:ru},36:{n:"PtgRef",f:zd},37:{n:"PtgArea",f:Od},38:{n:"PtgMemArea",f:su},39:{n:"PtgMemErr",f:du},40:{n:"PtgMemNoMem",f:uu},41:{n:"PtgMemFunc",f:ou},42:{n:"PtgRefErr",f:lu},43:{n:"PtgAreaErr",f:jd},44:{n:"PtgRefN",f:Vd},45:{n:"PtgAreaN",f:Ad},46:{n:"PtgMemAreaN",f:Au},47:{n:"PtgMemNoMemN",f:Du},57:{n:"PtgNameX",f:iu},58:{n:"PtgRef3d",f:Ud},59:{n:"PtgArea3d",f:Td},60:{n:"PtgRefErr3d",f:cu},61:{n:"PtgAreaErr3d",f:Id},255:{}},Ru={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61};(function(){for(var e in Ru)Eu[e]=Eu[Ru[e]]})();var Bu={1:{n:"PtgElfLel",f:bu},2:{n:"PtgElfRw",f:wu},3:{n:"PtgElfCol",f:mu},6:{n:"PtgElfRwV",f:Su},7:{n:"PtgElfColV",f:vu},10:{n:"PtgElfRadical",f:yu},11:{n:"PtgElfRadicalS",f:xu},13:{n:"PtgElfColS",f:gu},15:{n:"PtgElfColSV",f:_u},16:{n:"PtgElfRadicalLel",f:ku},25:{n:"PtgList",f:Ou},29:{n:"PtgSxName",f:Tu},255:{}},Pu={0:{n:"PtgAttrNoop",f:Mu},1:{n:"PtgAttrSemi",f:Ld},2:{n:"PtgAttrIf",f:Bd},4:{n:"PtgAttrChoose",f:Ed},8:{n:"PtgAttrGoto",f:Rd},16:{n:"PtgAttrSum",f:qd},32:{n:"PtgAttrBaxcel",f:Md},64:{n:"PtgAttrSpace",f:Nd},65:{n:"PtgAttrSpaceSemi",f:$d},128:{n:"PtgAttrIfError",f:Pd},255:{}};function Lu(e,t,a,r){if(r.biff<8)return ea(e,t);for(var i=e.l+t,n=[],s=0;s!==a.length;++s)switch(a[s][0]){case"PtgArray":a[s][1]=au(e,0,r),n.push(a[s][1]);break;case"PtgMemArea":a[s][2]=tu(e,a[s][1],r),n.push(a[s][2]);break;case"PtgExp":r&&12==r.biff&&(a[s][1][1]=e.read_shift(4),n.push(a[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+a[s][0];default:break}return t=i-e.l,0!==t&&n.push(ea(e,t)),n}function Fu(e,t,a){var r,i,n=e.l+t,s=[];while(n!=e.l)t=n-e.l,i=e[e.l],r=Eu[i],24!==i&&25!==i||(r=(24===i?Bu:Pu)[e[e.l+1]]),r&&r.f?s.push([r.n,r.f(e,t,a)]):ea(e,t);return s}function Nu(e){for(var t=[],a=0;a<e.length;++a){for(var r=e[a],i=[],n=0;n<r.length;++n){var s=r[n];if(s)switch(s[0]){case 2:i.push('"'+s[1].replace(/"/g,'""')+'"');break;default:i.push(s[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}Pu[33]=Pu[32];var $u={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"},zu=new RegExp(/[^\w\u4E00-\u9FFF\u3040-\u30FF]/);function Vu(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return zu.test(e)?"'"+e+"'":e}function Uu(e,t,a){if(!e)return"SH33TJSERR0";if(a.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(a.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),0==t?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var i="";if(a.biff>8)switch(e[r[0]][0]){case 357:return i=-1==r[1]?"#REF":e.SheetNames[r[1]],r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 358:return null!=a.SID?e.SheetNames[a.SID]:"SH33TJSSAME"+e[r[0]][0];case 355:default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return i=-1==r[1]?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map((function(e){return e.Name})).join(";;");default:return e[r[0]][0][3]?(i=-1==r[1]?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function Hu(e,t,a){var r=Uu(e,t,a);return"#REF"==r?r:Vu(r,a)}function Gu(e,t,a,r,i){var n,s,o,l,c=i&&i.biff||8,d={s:{c:0,r:0},e:{c:0,r:0}},u=[],h=0,p=0,f="";if(!e[0]||!e[0][0])return"";for(var m=-1,g="",_=0,v=e[0].length;_<v;++_){var b=e[0][_];switch(b[0]){case"PtgUminus":u.push("-"+u.pop());break;case"PtgUplus":u.push("+"+u.pop());break;case"PtgPercent":u.push(u.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(n=u.pop(),s=u.pop(),m>=0){switch(e[0][m][1][0]){case 0:g=me(" ",e[0][m][1][1]);break;case 1:g=me("\r",e[0][m][1][1]);break;default:if(g="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}s+=g,m=-1}u.push(s+$u[b[0]]+n);break;case"PtgIsect":n=u.pop(),s=u.pop(),u.push(s+" "+n);break;case"PtgUnion":n=u.pop(),s=u.pop(),u.push(s+","+n);break;case"PtgRange":n=u.pop(),s=u.pop(),u.push(s+":"+n);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":o=na(b[1][1],d,i),u.push(oa(o,c));break;case"PtgRefN":o=a?na(b[1][1],a,i):b[1][1],u.push(oa(o,c));break;case"PtgRef3d":h=b[1][1],o=na(b[1][2],d,i),f=Hu(r,h,i);u.push(f+"!"+oa(o,c));break;case"PtgFunc":case"PtgFuncVar":var y=b[1][0],k=b[1][1];y||(y=0),y&=127;var x=0==y?[]:u.slice(-y);u.length-=y,"User"===k&&(k=x.shift()),u.push(k+"("+x.join(",")+")");break;case"PtgBool":u.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":u.push(b[1]);break;case"PtgNum":u.push(String(b[1]));break;case"PtgStr":u.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":u.push(b[1]);break;case"PtgAreaN":l=sa(b[1][1],a?{s:a}:d,i),u.push(la(l,i));break;case"PtgArea":l=sa(b[1][1],d,i),u.push(la(l,i));break;case"PtgArea3d":h=b[1][1],l=b[1][2],f=Hu(r,h,i),u.push(f+"!"+la(l,i));break;case"PtgAttrSum":u.push("SUM("+u.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=b[1][2];var w=(r.names||[])[p-1]||(r[0]||[])[p],S=w?w.Name:"SH33TJSNAME"+String(p);S in lh&&(S=lh[S]),u.push(S);break;case"PtgNameX":var C,O=b[1][1];if(p=b[1][2],!(i.biff<=5)){var T="";if(14849==((r[O]||[])[0]||[])[0]||(1025==((r[O]||[])[0]||[])[0]?r[O][p]&&r[O][p].itab>0&&(T=r.SheetNames[r[O][p].itab-1]+"!"):T=r.SheetNames[p-1]+"!"),r[O]&&r[O][p])T+=r[O][p].Name;else if(r[0]&&r[0][p])T+=r[0][p].Name;else{var j=(Uu(r,O,i)||"").split(";;");j[p-1]?T=j[p-1]:T+="SH33TJSERRX"}u.push(T);break}O<0&&(O=-O),r[O]&&(C=r[O][p]),C||(C={Name:"SH33TJSERRY"}),u.push(C.Name);break;case"PtgParen":var I="(",A=")";if(m>=0){switch(g="",e[0][m][1][0]){case 2:I=me(" ",e[0][m][1][1])+I;break;case 3:I=me("\r",e[0][m][1][1])+I;break;case 4:A=me(" ",e[0][m][1][1])+A;break;case 5:A=me("\r",e[0][m][1][1])+A;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}u.push(I+u.pop()+A);break;case"PtgRefErr":u.push("#REF!");break;case"PtgRefErr3d":u.push("#REF!");break;case"PtgExp":o={c:b[1][1],r:b[1][0]};var D={c:a.c,r:a.r};if(r.sharedf[ka(o)]){var M=r.sharedf[ka(o)];u.push(Gu(M,d,D,r,i))}else{var E=!1;for(n=0;n!=r.arrayf.length;++n)if(s=r.arrayf[n],!(o.c<s[0].s.c||o.c>s[0].e.c)&&!(o.r<s[0].s.r||o.r>s[0].e.r)){u.push(Gu(s[1],d,D,r,i)),E=!0;break}E||u.push(b[1])}break;case"PtgArray":u.push("{"+Nu(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=_;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":u.push("");break;case"PtgAreaErr":u.push("#REF!");break;case"PtgAreaErr3d":u.push("#REF!");break;case"PtgList":u.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var R=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(3!=i.biff&&m>=0&&-1==R.indexOf(e[0][_][0])){b=e[0][m];var B=!0;switch(b[1][0]){case 4:B=!1;case 0:g=me(" ",b[1][1]);break;case 5:B=!1;case 1:g=me("\r",b[1][1]);break;default:if(g="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}u.push((B?g:"")+u.pop()+(B?"":g)),m=-1}}if(u.length>1&&i.WTF)throw new Error("bad formula stack");return u[0]}function Wu(e,t,a){var r,i=e.l+t,n=2==a.biff?1:2,s=e.read_shift(n);if(65535==s)return[[],ea(e,t-2)];var o=Fu(e,s,a);return t!==s+n&&(r=Lu(e,t-s-n,o,a)),e.l=i,[o,r]}function qu(e,t,a){var r,i=e.l+t,n=2==a.biff?1:2,s=e.read_shift(n);if(65535==s)return[[],ea(e,t-2)];var o=Fu(e,s,a);return t!==s+n&&(r=Lu(e,t-s-n,o,a)),e.l=i,[o,r]}function Xu(e,t,a,r){var i,n=e.l+t,s=Fu(e,r,a);return n!==e.l&&(i=Lu(e,n-e.l,s,a)),[s,i]}function Yu(e,t,a){var r,i=e.l+t,n=e.read_shift(2),s=Fu(e,n,a);return 65535==n?[[],ea(e,t-2)]:(t!==n+2&&(r=Lu(e,i-n-2,s,a)),[s,r])}function Ku(e){var t;if(65535!==Vt(e,e.l+6))return[ar(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=1===e[e.l+2],e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function Zu(e){if(null==e){var t=ta(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}return rr("number"==typeof e?e:0)}function Ju(e,t,a){var r=e.l+t,i=yn(e,6);2==a.biff&&++e.l;var n=Ku(e,8),s=e.read_shift(1);2!=a.biff&&(e.read_shift(1),a.biff>=5&&e.read_shift(4));var o=qu(e,r-e.l,a);return{cell:i,val:n[0],formula:o,shared:s>>3&1,tt:n[1]}}function Qu(e,t,a,r,i){var n=kn(t,a,i),s=Zu(e.v),o=ta(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var c=ta(e.bf.length),d=0;d<e.bf.length;++d)c[d]=e.bf[d];var u=B([n,s,o,c]);return u}function eh(e,t,a){var r=e.read_shift(4),i=Fu(e,r,a),n=e.read_shift(4),s=n>0?Lu(e,n,i,a):null;return[i,s]}var th=eh,ah=eh,rh=eh,ih=eh,nh={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},sh={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},oh={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0},lh={"_xlfn.ACOT":"ACOT","_xlfn.ACOTH":"ACOTH","_xlfn.AGGREGATE":"AGGREGATE","_xlfn.ARABIC":"ARABIC","_xlfn.AVERAGEIF":"AVERAGEIF","_xlfn.AVERAGEIFS":"AVERAGEIFS","_xlfn.BASE":"BASE","_xlfn.BETA.DIST":"BETA.DIST","_xlfn.BETA.INV":"BETA.INV","_xlfn.BINOM.DIST":"BINOM.DIST","_xlfn.BINOM.DIST.RANGE":"BINOM.DIST.RANGE","_xlfn.BINOM.INV":"BINOM.INV","_xlfn.BITAND":"BITAND","_xlfn.BITLSHIFT":"BITLSHIFT","_xlfn.BITOR":"BITOR","_xlfn.BITRSHIFT":"BITRSHIFT","_xlfn.BITXOR":"BITXOR","_xlfn.CEILING.MATH":"CEILING.MATH","_xlfn.CEILING.PRECISE":"CEILING.PRECISE","_xlfn.CHISQ.DIST":"CHISQ.DIST","_xlfn.CHISQ.DIST.RT":"CHISQ.DIST.RT","_xlfn.CHISQ.INV":"CHISQ.INV","_xlfn.CHISQ.INV.RT":"CHISQ.INV.RT","_xlfn.CHISQ.TEST":"CHISQ.TEST","_xlfn.COMBINA":"COMBINA","_xlfn.CONCAT":"CONCAT","_xlfn.CONFIDENCE.NORM":"CONFIDENCE.NORM","_xlfn.CONFIDENCE.T":"CONFIDENCE.T","_xlfn.COT":"COT","_xlfn.COTH":"COTH","_xlfn.COUNTIFS":"COUNTIFS","_xlfn.COVARIANCE.P":"COVARIANCE.P","_xlfn.COVARIANCE.S":"COVARIANCE.S","_xlfn.CSC":"CSC","_xlfn.CSCH":"CSCH","_xlfn.DAYS":"DAYS","_xlfn.DECIMAL":"DECIMAL","_xlfn.ECMA.CEILING":"ECMA.CEILING","_xlfn.ERF.PRECISE":"ERF.PRECISE","_xlfn.ERFC.PRECISE":"ERFC.PRECISE","_xlfn.EXPON.DIST":"EXPON.DIST","_xlfn.F.DIST":"F.DIST","_xlfn.F.DIST.RT":"F.DIST.RT","_xlfn.F.INV":"F.INV","_xlfn.F.INV.RT":"F.INV.RT","_xlfn.F.TEST":"F.TEST","_xlfn.FILTERXML":"FILTERXML","_xlfn.FLOOR.MATH":"FLOOR.MATH","_xlfn.FLOOR.PRECISE":"FLOOR.PRECISE","_xlfn.FORECAST.ETS":"FORECAST.ETS","_xlfn.FORECAST.ETS.CONFINT":"FORECAST.ETS.CONFINT","_xlfn.FORECAST.ETS.SEASONALITY":"FORECAST.ETS.SEASONALITY","_xlfn.FORECAST.ETS.STAT":"FORECAST.ETS.STAT","_xlfn.FORECAST.LINEAR":"FORECAST.LINEAR","_xlfn.FORMULATEXT":"FORMULATEXT","_xlfn.GAMMA":"GAMMA","_xlfn.GAMMA.DIST":"GAMMA.DIST","_xlfn.GAMMA.INV":"GAMMA.INV","_xlfn.GAMMALN.PRECISE":"GAMMALN.PRECISE","_xlfn.GAUSS":"GAUSS","_xlfn.HYPGEOM.DIST":"HYPGEOM.DIST","_xlfn.IFERROR":"IFERROR","_xlfn.IFNA":"IFNA","_xlfn.IFS":"IFS","_xlfn.IMCOSH":"IMCOSH","_xlfn.IMCOT":"IMCOT","_xlfn.IMCSC":"IMCSC","_xlfn.IMCSCH":"IMCSCH","_xlfn.IMSEC":"IMSEC","_xlfn.IMSECH":"IMSECH","_xlfn.IMSINH":"IMSINH","_xlfn.IMTAN":"IMTAN","_xlfn.ISFORMULA":"ISFORMULA","_xlfn.ISO.CEILING":"ISO.CEILING","_xlfn.ISOWEEKNUM":"ISOWEEKNUM","_xlfn.LOGNORM.DIST":"LOGNORM.DIST","_xlfn.LOGNORM.INV":"LOGNORM.INV","_xlfn.MAXIFS":"MAXIFS","_xlfn.MINIFS":"MINIFS","_xlfn.MODE.MULT":"MODE.MULT","_xlfn.MODE.SNGL":"MODE.SNGL","_xlfn.MUNIT":"MUNIT","_xlfn.NEGBINOM.DIST":"NEGBINOM.DIST","_xlfn.NETWORKDAYS.INTL":"NETWORKDAYS.INTL","_xlfn.NIGBINOM":"NIGBINOM","_xlfn.NORM.DIST":"NORM.DIST","_xlfn.NORM.INV":"NORM.INV","_xlfn.NORM.S.DIST":"NORM.S.DIST","_xlfn.NORM.S.INV":"NORM.S.INV","_xlfn.NUMBERVALUE":"NUMBERVALUE","_xlfn.PDURATION":"PDURATION","_xlfn.PERCENTILE.EXC":"PERCENTILE.EXC","_xlfn.PERCENTILE.INC":"PERCENTILE.INC","_xlfn.PERCENTRANK.EXC":"PERCENTRANK.EXC","_xlfn.PERCENTRANK.INC":"PERCENTRANK.INC","_xlfn.PERMUTATIONA":"PERMUTATIONA","_xlfn.PHI":"PHI","_xlfn.POISSON.DIST":"POISSON.DIST","_xlfn.QUARTILE.EXC":"QUARTILE.EXC","_xlfn.QUARTILE.INC":"QUARTILE.INC","_xlfn.QUERYSTRING":"QUERYSTRING","_xlfn.RANK.AVG":"RANK.AVG","_xlfn.RANK.EQ":"RANK.EQ","_xlfn.RRI":"RRI","_xlfn.SEC":"SEC","_xlfn.SECH":"SECH","_xlfn.SHEET":"SHEET","_xlfn.SHEETS":"SHEETS","_xlfn.SKEW.P":"SKEW.P","_xlfn.STDEV.P":"STDEV.P","_xlfn.STDEV.S":"STDEV.S","_xlfn.SUMIFS":"SUMIFS","_xlfn.SWITCH":"SWITCH","_xlfn.T.DIST":"T.DIST","_xlfn.T.DIST.2T":"T.DIST.2T","_xlfn.T.DIST.RT":"T.DIST.RT","_xlfn.T.INV":"T.INV","_xlfn.T.INV.2T":"T.INV.2T","_xlfn.T.TEST":"T.TEST","_xlfn.TEXTJOIN":"TEXTJOIN","_xlfn.UNICHAR":"UNICHAR","_xlfn.UNICODE":"UNICODE","_xlfn.VAR.P":"VAR.P","_xlfn.VAR.S":"VAR.S","_xlfn.WEBSERVICE":"WEBSERVICE","_xlfn.WEIBULL.DIST":"WEIBULL.DIST","_xlfn.WORKDAY.INTL":"WORKDAY.INTL","_xlfn.XOR":"XOR","_xlfn.Z.TEST":"Z.TEST"};function ch(e){return"of:"==e.slice(0,3)&&(e=e.slice(3)),61==e.charCodeAt(0)&&(e=e.slice(1),61==e.charCodeAt(0)&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,(function(e,t){return t.replace(/\./g,"")})),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function dh(e){var t="of:="+e.replace(dd,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function uh(e){var t=e.split(":"),a=t[0].split(".")[0];return[a,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function hh(e){return e.replace(/\./,"!")}var ph={},fh={};Ur.WS=["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"];var mh="undefined"!==typeof Map;function gh(e,t,a){var r=0,i=e.length;if(a){if(mh?a.has(t):Object.prototype.hasOwnProperty.call(a,t))for(var n=mh?a.get(t):a[t];r<n.length;++r)if(e[n[r]].t===t)return e.Count++,n[r]}else for(;r<i;++r)if(e[r].t===t)return e.Count++,r;return e[i]={t:t},e.Count++,e.Unique++,a&&(mh?(a.has(t)||a.set(t,[]),a.get(t).push(i)):(Object.prototype.hasOwnProperty.call(a,t)||(a[t]=[]),a[t].push(i))),i}function _h(e,t){var a={min:e+1,max:e+1},r=-1;return t.MDW&&(kl=t.MDW),null!=t.width?a.customWidth=1:null!=t.wpx?r=wl(t.wpx):null!=t.wch&&(r=t.wch),r>-1?(a.width=Sl(r),a.customWidth=1):null!=t.width&&(a.width=t.width),t.hidden&&(a.hidden=!0),null!=t.level&&(a.outlineLevel=a.level=t.level),a}function vh(e,t){if(e){var a=[.7,.7,.75,.75,.3,.3];"xlml"==t&&(a=[1,1,1,1,.5,.5]),null==e.left&&(e.left=a[0]),null==e.right&&(e.right=a[1]),null==e.top&&(e.top=a[2]),null==e.bottom&&(e.bottom=a[3]),null==e.header&&(e.header=a[4]),null==e.footer&&(e.footer=a[5])}}function bh(e,t,a){var r=a.revssf[null!=t.z?t.z:"General"],i=60,n=e.length;if(null==r&&a.ssf)for(;i<392;++i)if(null==a.ssf[i]){F.load(t.z,i),a.ssf[i]=t.z,a.revssf[t.z]=r=i;break}for(i=0;i!=n;++i)if(e[i].numFmtId===r)return i;return e[n]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},n}function yh(e,t,a,r,i,n){try{r.cellNF&&(e.z=F._table[t])}catch(D_){if(r.WTF)throw D_}if("z"!==e.t||r.cellStyles){if("d"===e.t&&"string"===typeof e.v&&(e.v=he(e.v)),(!r||!1!==r.cellText)&&"z"!==e.t)try{if(null==F._table[t]&&F.load(z[t]||"General",t),"e"===e.t)e.w=e.w||Er[e.v];else if(0===t)if("n"===e.t)(0|e.v)===e.v?e.w=F._general_int(e.v):e.w=F._general_num(e.v);else if("d"===e.t){var s=ie(e.v);e.w=(0|s)===s?F._general_int(s):F._general_num(s)}else{if(void 0===e.v)return"";e.w=F._general(e.v,fh)}else"d"===e.t?e.w=F.format(t,ie(e.v),fh):e.w=F.format(t,e.v,fh)}catch(D_){if(r.WTF)throw D_}if(r.cellStyles&&null!=a)try{e.s=n.Fills[a],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=_l(i.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),r.WTF&&(e.s.fgColor.raw_rgb=i.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=_l(i.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),r.WTF&&(e.s.bgColor.raw_rgb=i.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(D_){if(r.WTF&&n.Fills)throw D_}}}function kh(e,t,a){if(e&&e["!ref"]){var r=Sa(e["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+a+"): "+e["!ref"])}}function xh(e,t){var a=Sa(t);a.s.r<=a.e.r&&a.s.c<=a.e.c&&a.s.r>=0&&a.s.c>=0&&(e["!ref"]=wa(a))}var wh=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Sh=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Ch=/<(?:\w:)?hyperlink [^>]*>/gm,Oh=/"(\w*:\w*)"/,Th=/<(?:\w:)?col\b[^>]*[\/]?>/g,jh=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Ih=/<(?:\w:)?pageMargins[^>]*\/>/g,Ah=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Dh=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Mh=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Eh(e,t,a,r,i,n,s){if(!e)return e;r||(r={"!id":{}}),null!=x&&null==t.dense&&(t.dense=x);var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",d="",u=e.match(Sh);u?(c=e.slice(0,u.index),d=e.slice(u.index+u[0].length)):c=d=e;var h=c.match(Ah);h?Bh(h[0],o,i,a):(h=c.match(Dh))&&Ph(h[0],h[1]||"",o,i,a,s,n);var p=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var f=c.slice(p,p+50).match(Oh);f&&xh(o,f[1])}var m=c.match(Mh);m&&m[1]&&Yh(m[1],i);var g=[];if(t.cellStyles){var _=c.match(Th);_&&Hh(g,_)}u&&Jh(u[1],o,t,l,n,s);var v=d.match(jh);v&&(o["!autofilter"]=Wh(v[0]));var b=[],y=d.match(wh);if(y)for(p=0;p!=y.length;++p)b[p]=Sa(y[p].slice(y[p].indexOf('"')+1));var k=d.match(Ch);k&&zh(o,k,r);var w=d.match(Ih);if(w&&(o["!margins"]=Vh(Fe(w[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=wa(l)),t.sheetRows>0&&o["!ref"]){var S=Sa(o["!ref"]);t.sheetRows<=+S.e.r&&(S.e.r=t.sheetRows-1,S.e.r>l.e.r&&(S.e.r=l.e.r),S.e.r<S.s.r&&(S.s.r=S.e.r),S.e.c>l.e.c&&(S.e.c=l.e.c),S.e.c<S.s.c&&(S.s.c=S.e.c),o["!fullref"]=o["!ref"],o["!ref"]=wa(S))}return g.length>0&&(o["!cols"]=g),b.length>0&&(o["!merges"]=b),o}function Rh(e){if(0===e.length)return"";for(var t='<mergeCells count="'+e.length+'">',a=0;a!=e.length;++a)t+='<mergeCell ref="'+wa(e[a])+'"/>';return t+"</mergeCells>"}function Bh(e,t,a,r){var i=Fe(e);a.Sheets[r]||(a.Sheets[r]={}),i.codeName&&(a.Sheets[r].CodeName=Ve(Qe(i.codeName)))}function Ph(e,t,a,r,i,n,s){Bh(e.slice(0,e.indexOf(">")),a,r,i)}function Lh(e,t,a,r,i){var n=!1,s={},o=null;if("xlsx"!==r.bookType&&t.vbaraw){var l=t.SheetNames[a];try{t.Workbook&&(l=t.Workbook.Sheets[a].CodeName||l)}catch(D_){}n=!0,s.codeName=et(Ge(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),o=(o||"")+pt("outlinePr",null,c)}(n||o)&&(i[i.length]=pt("sheetPr",o,s))}var Fh=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Nh=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function $h(e){var t={sheet:1};return Fh.forEach((function(a){null!=e[a]&&e[a]&&(t[a]="1")})),Nh.forEach((function(a){null==e[a]||e[a]||(t[a]="0")})),e.password&&(t.password=nl(e.password).toString(16).toUpperCase()),pt("sheetProtection",null,t)}function zh(e,t,a){for(var r=Array.isArray(e),i=0;i!=t.length;++i){var n=Fe(Qe(t[i]),!0);if(!n.ref)return;var s=((a||{})["!id"]||[])[n.id];s?(n.Target=s.Target,n.location&&(n.Target+="#"+Ve(n.location))):(n.Target="#"+Ve(n.location),s={Target:n.Target,TargetMode:"Internal"}),n.Rel=s,n.tooltip&&(n.Tooltip=n.tooltip,delete n.tooltip);for(var o=Sa(n.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var d=ka({c:c,r:l});r?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=n):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=n)}}}function Vh(e){var t={};return["left","right","top","bottom","header","footer"].forEach((function(a){e[a]&&(t[a]=parseFloat(e[a]))})),t}function Uh(e){return vh(e),pt("pageMargins",null,e)}function Hh(e,t){for(var a=!1,r=0;r!=t.length;++r){var i=Fe(t[r],!0);i.hidden&&(i.hidden=Je(i.hidden));var n=parseInt(i.min,10)-1,s=parseInt(i.max,10)-1;i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!a&&i.width&&(a=!0,Ol(i.width)),Tl(i);while(n<=s)e[n++]=fe(i)}}function Gh(e,t){for(var a,r=["<cols>"],i=0;i!=t.length;++i)(a=t[i])&&(r[r.length]=pt("col",null,_h(i,a)));return r[r.length]="</cols>",r.join("")}function Wh(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function qh(e,t,a,r){var i="string"==typeof e.ref?e.ref:wa(e.ref);a.Workbook||(a.Workbook={Sheets:[]}),a.Workbook.Names||(a.Workbook.Names=[]);var n=a.Workbook.Names,s=xa(i);s.s.r==s.e.r&&(s.e.r=xa(t["!ref"]).e.r,i=wa(s));for(var o=0;o<n.length;++o){var l=n[o];if("_xlnm._FilterDatabase"==l.Name&&l.Sheet==r){l.Ref="'"+a.SheetNames[r]+"'!"+i;break}}return o==n.length&&n.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+a.SheetNames[r]+"'!"+i}),pt("autoFilter",null,{ref:i})}var Xh=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Yh(e,t){t.Views||(t.Views=[{}]),(e.match(Xh)||[]).forEach((function(e,a){var r=Fe(e);t.Views[a]||(t.Views[a]={}),+r.zoomScale&&(t.Views[a].zoom=+r.zoomScale),Je(r.rightToLeft)&&(t.Views[a].RTL=!0)}))}function Kh(e,t,a,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),pt("sheetViews",pt("sheetView",null,i),{})}function Zh(e,t,a,r){if(void 0===e.v&&"string"!==typeof e.f||"z"===e.t)return"";var i="",n=e.t,s=e.v;if("z"!==e.t)switch(e.t){case"b":i=e.v?"1":"0";break;case"n":i=""+e.v;break;case"e":i=Er[e.v];break;case"d":r&&r.cellDates?i=he(e.v,-1).toISOString():(e=fe(e),e.t="n",i=""+(e.v=ie(he(e.v)))),"undefined"===typeof e.z&&(e.z=F._table[14]);break;default:i=e.v;break}var o=ut("v",Ge(i)),l={r:t},c=bh(r.cellXfs,e,r);switch(0!==c&&(l.s=c),e.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(null==e.v){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){o=ut("v",""+gh(r.Strings,e.v,r.revStrings)),l.t="s";break}l.t="str";break}if(e.t!=n&&(e.t=n,e.v=s),"string"==typeof e.f&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=pt("f",Ge(e.f),d)+(null!=e.v?o:"")}return e.l&&a["!links"].push([t,e.l]),e.c&&a["!comments"].push([t,e.c]),pt("c",o,l)}var Jh=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,a=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,n=it("v"),s=it("f");return function(o,l,c,d,u,h){for(var p,f,m,g,_,v=0,b="",y=[],k=[],x=0,w=0,S=0,C="",O=0,T=0,j=0,I=0,A=Array.isArray(h.CellXf),D=[],M=[],E=Array.isArray(l),R=[],B={},P=!1,L=!!c.sheetStubs,N=o.split(t),$=0,z=N.length;$!=z;++$){b=N[$].trim();var V=b.length;if(0!==V){var U=0;e:for(v=0;v<V;++v)switch(b[v]){case">":if("/"!=b[v-1]){++v;break e}if(c&&c.cellStyles){if(f=Fe(b.slice(U,v),!0),O=null!=f.r?parseInt(f.r,10):O+1,T=-1,c.sheetRows&&c.sheetRows<O)continue;B={},P=!1,f.ht&&(P=!0,B.hpt=parseFloat(f.ht),B.hpx=Dl(B.hpt)),"1"==f.hidden&&(P=!0,B.hidden=!0),null!=f.outlineLevel&&(P=!0,B.level=+f.outlineLevel),P&&(R[O-1]=B)}break;case"<":U=v;break}if(U>=v)break;if(f=Fe(b.slice(U,v),!0),O=null!=f.r?parseInt(f.r,10):O+1,T=-1,!(c.sheetRows&&c.sheetRows<O)){d.s.r>O-1&&(d.s.r=O-1),d.e.r<O-1&&(d.e.r=O-1),c&&c.cellStyles&&(B={},P=!1,f.ht&&(P=!0,B.hpt=parseFloat(f.ht),B.hpx=Dl(B.hpt)),"1"==f.hidden&&(P=!0,B.hidden=!0),null!=f.outlineLevel&&(P=!0,B.level=+f.outlineLevel),P&&(R[O-1]=B)),y=b.slice(v).split(e);for(var H=0;H!=y.length;++H)if("<"!=y[H].trim().charAt(0))break;for(y=y.slice(H),v=0;v!=y.length;++v)if(b=y[v].trim(),0!==b.length){if(k=b.match(a),x=v,w=0,S=0,b="<c "+("<"==b.slice(0,1)?">":"")+b,null!=k&&2===k.length){for(x=0,C=k[1],w=0;w!=C.length;++w){if((S=C.charCodeAt(w)-64)<1||S>26)break;x=26*x+S}--x,T=x}else++T;for(w=0;w!=b.length;++w)if(62===b.charCodeAt(w))break;if(++w,f=Fe(b.slice(0,w),!0),f.r||(f.r=ka({r:O-1,c:T})),C=b.slice(w),p={t:""},null!=(k=C.match(n))&&""!==k[1]&&(p.v=Ve(k[1])),c.cellFormula){if(null!=(k=C.match(s))&&""!==k[1]){if(p.f=Ve(Qe(k[1])).replace(/\r\n/g,"\n"),c.xlfn||(p.f=md(p.f)),k[0].indexOf('t="array"')>-1)p.F=(C.match(i)||[])[1],p.F.indexOf(":")>-1&&D.push([Sa(p.F),p.F]);else if(k[0].indexOf('t="shared"')>-1){g=Fe(k[0]);var G=Ve(Qe(k[1]));c.xlfn||(G=md(G)),M[parseInt(g.si,10)]=[g,G,f.r]}}else(k=C.match(/<f[^>]*\/>/))&&(g=Fe(k[0]),M[g.si]&&(p.f=pd(M[g.si][1],M[g.si][2],f.r)));var W=ya(f.r);for(w=0;w<D.length;++w)W.r>=D[w][0].s.r&&W.r<=D[w][0].e.r&&W.c>=D[w][0].s.c&&W.c<=D[w][0].e.c&&(p.F=D[w][1])}if(null==f.t&&void 0===p.v)if(p.f||p.F)p.v=0,p.t="n";else{if(!L)continue;p.t="z"}else p.t=f.t||"n";switch(d.s.c>T&&(d.s.c=T),d.e.c<T&&(d.e.c=T),p.t){case"n":if(""==p.v||null==p.v){if(!L)continue;p.t="z"}else p.v=parseFloat(p.v);break;case"s":if("undefined"==typeof p.v){if(!L)continue;p.t="z"}else m=ph[parseInt(p.v,10)],p.v=m.t,p.r=m.r,c.cellHTML&&(p.h=m.h);break;case"str":p.t="s",p.v=null!=p.v?Qe(p.v):"",c.cellHTML&&(p.h=Xe(p.v));break;case"inlineStr":k=C.match(r),p.t="s",null!=k&&(m=Do(k[1]))?(p.v=m.t,c.cellHTML&&(p.h=m.h)):p.v="";break;case"b":p.v=Je(p.v);break;case"d":c.cellDates?p.v=he(p.v,1):(p.v=ie(he(p.v,1)),p.t="n");break;case"e":c&&!1===c.cellText||(p.w=p.v),p.v=Rr[p.v];break}if(j=I=0,_=null,A&&void 0!==f.s&&(_=h.CellXf[f.s],null!=_&&(null!=_.numFmtId&&(j=_.numFmtId),c.cellStyles&&null!=_.fillId&&(I=_.fillId))),yh(p,j,I,c,u,h),c.cellDates&&A&&"n"==p.t&&F.is_date(F._table[j])&&(p.t="d",p.v=le(p.v)),E){var q=ya(f.r);l[q.r]||(l[q.r]=[]),l[q.r][q.c]=p}else l[f.r]=p}}}}R.length>0&&(l["!rows"]=R)}}();function Qh(e,t,a,r){var i,n,s=[],o=[],l=Sa(e["!ref"]),c="",d="",u=[],h=0,p=0,f=e["!rows"],m=Array.isArray(e),g={r:d},_=-1;for(p=l.s.c;p<=l.e.c;++p)u[p]=ga(p);for(h=l.s.r;h<=l.e.r;++h){for(o=[],d=ha(h),p=l.s.c;p<=l.e.c;++p){i=u[p]+d;var v=m?(e[h]||[])[p]:e[i];void 0!==v&&(null!=(c=Zh(v,i,e,t,a,r))&&o.push(c))}(o.length>0||f&&f[h])&&(g={r:d},f&&f[h]&&(n=f[h],n.hidden&&(g.hidden=1),_=-1,n.hpx?_=Al(n.hpx):n.hpt&&(_=n.hpt),_>-1&&(g.ht=_,g.customHeight=1),n.level&&(g.outlineLevel=n.level)),s[s.length]=pt("row",o.join(""),g))}if(f)for(;h<f.length;++h)f&&f[h]&&(g={r:h+1},n=f[h],n.hidden&&(g.hidden=1),_=-1,n.hpx?_=Al(n.hpx):n.hpt&&(_=n.hpt),_>-1&&(g.ht=_,g.customHeight=1),n.level&&(g.outlineLevel=n.level),s[s.length]=pt("row","",g));return s.join("")}var ep=pt("worksheet",null,{xmlns:gt.main[0],"xmlns:r":gt.r});function tp(e,t,a,r){var i=[Ee,ep],n=a.SheetNames[e],s=0,o="",l=a.Sheets[n];null==l&&(l={});var c=l["!ref"]||"A1",d=Sa(c);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),c=wa(d)}r||(r={}),l["!comments"]=[];var u=[];Lh(l,a,e,t,i),i[i.length]=pt("dimension",null,{ref:c}),i[i.length]=Kh(l,t,e,a),t.sheetFormat&&(i[i.length]=pt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),null!=l["!cols"]&&l["!cols"].length>0&&(i[i.length]=Gh(l,l["!cols"])),i[s=i.length]="<sheetData/>",l["!links"]=[],null!=l["!ref"]&&(o=Qh(l,t,e,a,r),o.length>0&&(i[i.length]=o)),i.length>s+1&&(i[i.length]="</sheetData>",i[s]=i[s].replace("/>",">")),l["!protect"]&&(i[i.length]=$h(l["!protect"])),null!=l["!autofilter"]&&(i[i.length]=qh(l["!autofilter"],l,a,e)),null!=l["!merges"]&&l["!merges"].length>0&&(i[i.length]=Rh(l["!merges"]));var h,p=-1,f=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach((function(e){e[1].Target&&(h={ref:e[0]},"#"!=e[1].Target.charAt(0)&&(f=Yr(r,-1,Ge(e[1].Target).replace(/#.*$/,""),Ur.HLINK),h["r:id"]="rId"+f),(p=e[1].Target.indexOf("#"))>-1&&(h.location=Ge(e[1].Target.slice(p+1))),e[1].Tooltip&&(h.tooltip=Ge(e[1].Tooltip)),i[i.length]=pt("hyperlink",null,h))})),i[i.length]="</hyperlinks>"),delete l["!links"],null!=l["!margins"]&&(i[i.length]=Uh(l["!margins"])),t&&!t.ignoreEC&&void 0!=t.ignoreEC||(i[i.length]=ut("ignoredErrors",pt("ignoredError",null,{numberStoredAsText:1,sqref:c}))),u.length>0&&(f=Yr(r,-1,"../drawings/drawing"+(e+1)+".xml",Ur.DRAW),i[i.length]=pt("drawing",null,{"r:id":"rId"+f}),l["!drawing"]=u),l["!comments"].length>0&&(f=Yr(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Ur.VML),i[i.length]=pt("legacyDrawing",null,{"r:id":"rId"+f}),l["!legacy"]=f),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function ap(e,t){var a={},r=e.l+t;a.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var n=e.read_shift(1);return e.l=r,7&n&&(a.level=7&n),16&n&&(a.hidden=!0),32&n&&(a.hpt=i/20),a}function rp(e,t,a){var r=ta(145),i=(a["!rows"]||[])[e]||{};r.write_shift(4,e),r.write_shift(4,0);var n=320;i.hpx?n=20*Al(i.hpx):i.hpt&&(n=20*i.hpt),r.write_shift(2,n),r.write_shift(1,0);var s=0;i.level&&(s|=i.level),i.hidden&&(s|=16),(i.hpx||i.hpt)&&(s|=32),r.write_shift(1,s),r.write_shift(1,0);var o=0,l=r.l;r.l+=4;for(var c={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var u=-1,h=-1,p=d<<10;p<d+1<<10;++p){c.c=p;var f=Array.isArray(a)?(a[c.r]||[])[c.c]:a[ka(c)];f&&(u<0&&(u=p),h=p)}u<0||(++o,r.write_shift(4,u),r.write_shift(4,h))}var m=r.l;return r.l=l,r.write_shift(4,o),r.l=m,r.length>r.l?r.slice(0,r.l):r}function ip(e,t,a,r){var i=rp(r,a,t);(i.length>17||(t["!rows"]||[])[r])&&ia(e,"BrtRowHdr",i)}var np=er,sp=tr;function op(){}function lp(e,t){var a={},r=e[e.l];return++e.l,a.above=!(64&r),a.left=!(128&r),e.l+=18,a.name=Ua(e,t-19),a}function cp(e,t,a){null==a&&(a=ta(84+4*e.length));var r=192;t&&(t.above&&(r&=-65),t.left&&(r&=-129)),a.write_shift(1,r);for(var i=1;i<3;++i)a.write_shift(1,0);return nr({auto:1},a),a.write_shift(-4,-1),a.write_shift(-4,-1),Ha(e,a),a.slice(0,a.l)}function dp(e){var t=Na(e);return[t]}function up(e,t,a){return null==a&&(a=ta(8)),$a(t,a)}function hp(e){var t=za(e);return[t]}function pp(e,t,a){return null==a&&(a=ta(4)),Va(t,a)}function fp(e){var t=Na(e),a=e.read_shift(1);return[t,a,"b"]}function mp(e,t,a){return null==a&&(a=ta(9)),$a(t,a),a.write_shift(1,e.v?1:0),a}function gp(e){var t=za(e),a=e.read_shift(1);return[t,a,"b"]}function _p(e,t,a){return null==a&&(a=ta(5)),Va(t,a),a.write_shift(1,e.v?1:0),a}function vp(e){var t=Na(e),a=e.read_shift(1);return[t,a,"e"]}function bp(e,t,a){return null==a&&(a=ta(9)),$a(t,a),a.write_shift(1,e.v),a}function yp(e){var t=za(e),a=e.read_shift(1);return[t,a,"e"]}function kp(e,t,a){return null==a&&(a=ta(8)),Va(t,a),a.write_shift(1,e.v),a.write_shift(2,0),a.write_shift(1,0),a}function xp(e){var t=Na(e),a=e.read_shift(4);return[t,a,"s"]}function wp(e,t,a){return null==a&&(a=ta(12)),$a(t,a),a.write_shift(4,t.v),a}function Sp(e){var t=za(e),a=e.read_shift(4);return[t,a,"s"]}function Cp(e,t,a){return null==a&&(a=ta(8)),Va(t,a),a.write_shift(4,t.v),a}function Op(e){var t=Na(e),a=ar(e);return[t,a,"n"]}function Tp(e,t,a){return null==a&&(a=ta(16)),$a(t,a),rr(e.v,a),a}function jp(e){var t=za(e),a=ar(e);return[t,a,"n"]}function Ip(e,t,a){return null==a&&(a=ta(12)),Va(t,a),rr(e.v,a),a}function Ap(e){var t=Na(e),a=Ka(e);return[t,a,"n"]}function Dp(e,t,a){return null==a&&(a=ta(12)),$a(t,a),Za(e.v,a),a}function Mp(e){var t=za(e),a=Ka(e);return[t,a,"n"]}function Ep(e,t,a){return null==a&&(a=ta(8)),Va(t,a),Za(e.v,a),a}function Rp(e){var t=Na(e),a=Da(e);return[t,a,"str"]}function Bp(e,t,a){return null==a&&(a=ta(12+4*e.v.length)),$a(t,a),Ma(e.v,a),a.length>a.l?a.slice(0,a.l):a}function Pp(e){var t=za(e),a=Da(e);return[t,a,"str"]}function Lp(e,t,a){return null==a&&(a=ta(8+4*e.v.length)),Va(t,a),Ma(e.v,a),a.length>a.l?a.slice(0,a.l):a}function Fp(e,t,a){var r=e.l+t,i=Na(e);i.r=a["!row"];var n=e.read_shift(1),s=[i,n,"b"];if(a.cellFormula){e.l+=2;var o=ah(e,r-e.l,a);s[3]=Gu(o,null,i,a.supbooks,a)}else e.l=r;return s}function Np(e,t,a){var r=e.l+t,i=Na(e);i.r=a["!row"];var n=e.read_shift(1),s=[i,n,"e"];if(a.cellFormula){e.l+=2;var o=ah(e,r-e.l,a);s[3]=Gu(o,null,i,a.supbooks,a)}else e.l=r;return s}function $p(e,t,a){var r=e.l+t,i=Na(e);i.r=a["!row"];var n=ar(e),s=[i,n,"n"];if(a.cellFormula){e.l+=2;var o=ah(e,r-e.l,a);s[3]=Gu(o,null,i,a.supbooks,a)}else e.l=r;return s}function zp(e,t,a){var r=e.l+t,i=Na(e);i.r=a["!row"];var n=Da(e),s=[i,n,"str"];if(a.cellFormula){e.l+=2;var o=ah(e,r-e.l,a);s[3]=Gu(o,null,i,a.supbooks,a)}else e.l=r;return s}var Vp=er,Up=tr;function Hp(e,t){return null==t&&(t=ta(4)),t.write_shift(4,e),t}function Gp(e,t){var a=e.l+t,r=er(e,16),i=Ga(e),n=Da(e),s=Da(e),o=Da(e);e.l=a;var l={rfx:r,relId:i,loc:n,display:o};return s&&(l.Tooltip=s),l}function Wp(e,t){var a=ta(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));tr({s:ya(e[0]),e:ya(e[0])},a),Ya("rId"+t,a);var r=e[1].Target.indexOf("#"),i=-1==r?"":e[1].Target.slice(r+1);return Ma(i||"",a),Ma(e[1].Tooltip||"",a),Ma("",a),a.slice(0,a.l)}function qp(){}function Xp(e,t,a){var r=e.l+t,i=Ja(e,16),n=e.read_shift(1),s=[i];if(s[2]=n,a.cellFormula){var o=th(e,r-e.l,a);s[1]=o}else e.l=r;return s}function Yp(e,t,a){var r=e.l+t,i=er(e,16),n=[i];if(a.cellFormula){var s=ih(e,r-e.l,a);n[1]=s,e.l=r}else e.l=r;return n}function Kp(e,t,a){null==a&&(a=ta(18));var r=_h(e,t);a.write_shift(-4,e),a.write_shift(-4,e),a.write_shift(4,256*(r.width||10)),a.write_shift(4,0);var i=0;return t.hidden&&(i|=1),"number"==typeof r.width&&(i|=2),t.level&&(i|=t.level<<8),a.write_shift(2,i),a}var Zp=["left","right","top","bottom","header","footer"];function Jp(e){var t={};return Zp.forEach((function(a){t[a]=ar(e,8)})),t}function Qp(e,t){return null==t&&(t=ta(48)),vh(e),Zp.forEach((function(a){rr(e[a],t)})),t}function ef(e){var t=e.read_shift(2);return e.l+=28,{RTL:32&t}}function tf(e,t,a){null==a&&(a=ta(30));var r=924;return(((t||{}).Views||[])[0]||{}).RTL&&(r|=32),a.write_shift(2,r),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(1,0),a.write_shift(1,0),a.write_shift(2,0),a.write_shift(2,100),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(4,0),a}function af(e){var t=ta(24);return t.write_shift(4,4),t.write_shift(4,1),tr(e,t),t}function rf(e,t){return null==t&&(t=ta(66)),t.write_shift(2,e.password?nl(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach((function(a){a[1]?t.write_shift(4,null==e[a[0]]||e[a[0]]?0:1):t.write_shift(4,null!=e[a[0]]&&e[a[0]]?0:1)})),t}function nf(){}function sf(){}function of(e,t,a,r,i,n,s){if(!e)return e;var o=t||{};r||(r={"!id":{}}),null!=x&&null==o.dense&&(o.dense=x);var l,c,d,u,h,p,f,m,g,_,v=o.dense?[]:{},b={s:{r:2e6,c:2e6},e:{r:0,c:0}},y=[],k=!1,w=!1,S=[];o.biff=12,o["!row"]=0;var C=0,O=!1,T=[],j={},I=o.supbooks||i.supbooks||[[]];if(I.sharedf=j,I.arrayf=T,I.SheetNames=i.SheetNames||i.Sheets.map((function(e){return e.name})),!o.supbooks&&(o.supbooks=I,i.Names))for(var A=0;A<i.Names.length;++A)I[0][A+1]=i.Names[A];var D=[],M=[],E=!1;if(Jm[16]={n:"BrtShortReal",f:jp},aa(e,(function(e,t,x){if(!w)switch(x){case 148:l=e;break;case 0:c=e,o.sheetRows&&o.sheetRows<=c.r&&(w=!0),g=ha(h=c.r),o["!row"]=c.r,(e.hidden||e.hpt||null!=e.level)&&(e.hpt&&(e.hpx=Dl(e.hpt)),M[e.r]=e);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:switch(d={t:e[2]},e[2]){case"n":d.v=e[1];break;case"s":m=ph[e[1]],d.v=m.t,d.r=m.r;break;case"b":d.v=!!e[1];break;case"e":d.v=e[1],!1!==o.cellText&&(d.w=Er[d.v]);break;case"str":d.t="s",d.v=e[1];break}if((u=s.CellXf[e[0].iStyleRef])&&yh(d,u.numFmtId,null,o,n,s),p=-1==e[0].c?p+1:e[0].c,o.dense?(v[h]||(v[h]=[]),v[h][p]=d):v[ga(p)+g]=d,o.cellFormula){for(O=!1,C=0;C<T.length;++C){var A=T[C];c.r>=A[0].s.r&&c.r<=A[0].e.r&&p>=A[0].s.c&&p<=A[0].e.c&&(d.F=wa(A[0]),O=!0)}!O&&e.length>3&&(d.f=e[3])}if(b.s.r>c.r&&(b.s.r=c.r),b.s.c>p&&(b.s.c=p),b.e.r<c.r&&(b.e.r=c.r),b.e.c<p&&(b.e.c=p),o.cellDates&&u&&"n"==d.t&&F.is_date(F._table[u.numFmtId])){var R=F.parse_date_code(d.v);R&&(d.t="d",d.v=new Date(R.y,R.m-1,R.d,R.H,R.M,R.S,R.u))}break;case 1:case 12:if(!o.sheetStubs||k)break;d={t:"z",v:void 0},p=-1==e[0].c?p+1:e[0].c,o.dense?(v[h]||(v[h]=[]),v[h][p]=d):v[ga(p)+g]=d,b.s.r>c.r&&(b.s.r=c.r),b.s.c>p&&(b.s.c=p),b.e.r<c.r&&(b.e.r=c.r),b.e.c<p&&(b.e.c=p);break;case 176:S.push(e);break;case 494:var B=r["!id"][e.relId];for(B?(e.Target=B.Target,e.loc&&(e.Target+="#"+e.loc),e.Rel=B):""==e.relId&&(e.Target="#"+e.loc),h=e.rfx.s.r;h<=e.rfx.e.r;++h)for(p=e.rfx.s.c;p<=e.rfx.e.c;++p)o.dense?(v[h]||(v[h]=[]),v[h][p]||(v[h][p]={t:"z",v:void 0}),v[h][p].l=e):(f=ka({c:p,r:h}),v[f]||(v[f]={t:"z",v:void 0}),v[f].l=e);break;case 426:if(!o.cellFormula)break;T.push(e),_=o.dense?v[h][p]:v[ga(p)+g],_.f=Gu(e[1],b,{r:c.r,c:p},I,o),_.F=wa(e[0]);break;case 427:if(!o.cellFormula)break;j[ka(e[0].s)]=e[1],_=o.dense?v[h][p]:v[ga(p)+g],_.f=Gu(e[1],b,{r:c.r,c:p},I,o);break;case 60:if(!o.cellStyles)break;while(e.e>=e.s)D[e.e--]={width:e.w/256,hidden:!!(1&e.flags),level:e.level},E||(E=!0,Ol(e.w/256)),Tl(D[e.e+1]);break;case 161:v["!autofilter"]={ref:wa(e)};break;case 476:v["!margins"]=e;break;case 147:i.Sheets[a]||(i.Sheets[a]={}),e.name&&(i.Sheets[a].CodeName=e.name),(e.above||e.left)&&(v["!outline"]={above:e.above,left:e.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),e.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 49:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:k=!0;break;case 36:k=!1;break;case 37:y.push(t),k=!0;break;case 38:y.pop(),k=!1;break;default:if((t||"").indexOf("Begin")>0);else if((t||"").indexOf("End")>0);else if(!k||o.WTF)throw new Error("Unexpected record "+x+" "+t)}}),o),delete o.supbooks,delete o["!row"],!v["!ref"]&&(b.s.r<2e6||l&&(l.e.r>0||l.e.c>0||l.s.r>0||l.s.c>0))&&(v["!ref"]=wa(l||b)),o.sheetRows&&v["!ref"]){var R=Sa(v["!ref"]);o.sheetRows<=+R.e.r&&(R.e.r=o.sheetRows-1,R.e.r>b.e.r&&(R.e.r=b.e.r),R.e.r<R.s.r&&(R.s.r=R.e.r),R.e.c>b.e.c&&(R.e.c=b.e.c),R.e.c<R.s.c&&(R.s.c=R.e.c),v["!fullref"]=v["!ref"],v["!ref"]=wa(R))}return S.length>0&&(v["!merges"]=S),D.length>0&&(v["!cols"]=D),M.length>0&&(v["!rows"]=M),v}function lf(e,t,a,r,i,n,s){if(void 0===t.v)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=fe(t),t.z=t.z||F._table[14],t.v=ie(he(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var l={r:a,c:r};switch(l.s=bh(i.cellXfs,t,i),t.l&&n["!links"].push([ka(l),t.l]),t.c&&n["!comments"].push([ka(l),t.c]),t.t){case"s":case"str":return i.bookSST?(o=gh(i.Strings,t.v,i.revStrings),l.t="s",l.v=o,s?ia(e,"BrtShortIsst",Cp(t,l)):ia(e,"BrtCellIsst",wp(t,l))):(l.t="str",s?ia(e,"BrtShortSt",Lp(t,l)):ia(e,"BrtCellSt",Bp(t,l))),!0;case"n":return t.v==(0|t.v)&&t.v>-1e3&&t.v<1e3?s?ia(e,"BrtShortRk",Ep(t,l)):ia(e,"BrtCellRk",Dp(t,l)):s?ia(e,"BrtShortReal",Ip(t,l)):ia(e,"BrtCellReal",Tp(t,l)),!0;case"b":return l.t="b",s?ia(e,"BrtShortBool",_p(t,l)):ia(e,"BrtCellBool",mp(t,l)),!0;case"e":return l.t="e",s?ia(e,"BrtShortError",kp(t,l)):ia(e,"BrtCellError",bp(t,l)),!0}return s?ia(e,"BrtShortBlank",pp(t,l)):ia(e,"BrtCellBlank",up(t,l)),!0}function cf(e,t,a,r){var i,n=Sa(t["!ref"]||"A1"),s="",o=[];ia(e,"BrtBeginSheetData");var l=Array.isArray(t),c=n.e.r;t["!rows"]&&(c=Math.max(n.e.r,t["!rows"].length-1));for(var d=n.s.r;d<=c;++d){s=ha(d),ip(e,t,n,d);var u=!1;if(d<=n.e.r)for(var h=n.s.c;h<=n.e.c;++h){d===n.s.r&&(o[h]=ga(h)),i=o[h]+s;var p=l?(t[d]||[])[h]:t[i];p?u=lf(e,p,d,h,r,t,u):u=!1}}ia(e,"BrtEndSheetData")}function df(e,t){t&&t["!merges"]&&(ia(e,"BrtBeginMergeCells",Hp(t["!merges"].length)),t["!merges"].forEach((function(t){ia(e,"BrtMergeCell",Up(t))})),ia(e,"BrtEndMergeCells"))}function uf(e,t){t&&t["!cols"]&&(ia(e,"BrtBeginColInfos"),t["!cols"].forEach((function(t,a){t&&ia(e,"BrtColInfo",Kp(a,t))})),ia(e,"BrtEndColInfos"))}function hf(e,t){t&&t["!ref"]&&(ia(e,"BrtBeginCellIgnoreECs"),ia(e,"BrtCellIgnoreEC",af(Sa(t["!ref"]))),ia(e,"BrtEndCellIgnoreECs"))}function pf(e,t,a){t["!links"].forEach((function(t){if(t[1].Target){var r=Yr(a,-1,t[1].Target.replace(/#.*$/,""),Ur.HLINK);ia(e,"BrtHLink",Wp(t,r))}})),delete t["!links"]}function ff(e,t,a,r){if(t["!comments"].length>0){var i=Yr(r,-1,"../drawings/vmlDrawing"+(a+1)+".vml",Ur.VML);ia(e,"BrtLegacyDrawing",Ya("rId"+i)),t["!legacy"]=i}}function mf(e,t,a,r){if(t["!autofilter"]){var i=t["!autofilter"],n="string"===typeof i.ref?i.ref:wa(i.ref);a.Workbook||(a.Workbook={Sheets:[]}),a.Workbook.Names||(a.Workbook.Names=[]);var s=a.Workbook.Names,o=xa(n);o.s.r==o.e.r&&(o.e.r=xa(t["!ref"]).e.r,n=wa(o));for(var l=0;l<s.length;++l){var c=s[l];if("_xlnm._FilterDatabase"==c.Name&&c.Sheet==r){c.Ref="'"+a.SheetNames[r]+"'!"+n;break}}l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+a.SheetNames[r]+"'!"+n}),ia(e,"BrtBeginAFilter",tr(Sa(n))),ia(e,"BrtEndAFilter")}}function gf(e,t,a){ia(e,"BrtBeginWsViews"),ia(e,"BrtBeginWsView",tf(t,a)),ia(e,"BrtEndWsView"),ia(e,"BrtEndWsViews")}function _f(){}function vf(e,t){t["!protect"]&&ia(e,"BrtSheetProtection",rf(t["!protect"]))}function bf(e,t,a,r){var i=ra(),n=a.SheetNames[e],s=a.Sheets[n]||{},o=n;try{a&&a.Workbook&&(o=a.Workbook.Sheets[e].CodeName||o)}catch(D_){}var l=Sa(s["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],ia(i,"BrtBeginSheet"),(a.vbaraw||s["!outline"])&&ia(i,"BrtWsProp",cp(o,s["!outline"])),ia(i,"BrtWsDim",sp(l)),gf(i,s,a.Workbook),_f(i,s),uf(i,s,e,t,a),cf(i,s,e,t,a),vf(i,s),mf(i,s,a,e),df(i,s),pf(i,s,r),s["!margins"]&&ia(i,"BrtMargins",Qp(s["!margins"])),t&&!t.ignoreEC&&void 0!=t.ignoreEC||hf(i,s),ff(i,s,e,r),ia(i,"BrtEndSheet"),i.end()}function yf(e){var t,a=[],r=e.match(/^<c:numCache>/);(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/gm)||[]).forEach((function(e){var t=e.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);t&&(a[+t[1]]=r?+t[2]:t[2])}));var i=Ve((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/gm)||[]).forEach((function(e){t=e.replace(/<.*?>/g,"")})),[a,i,t]}function kf(e,t,a,r,i,n){var s=n||{"!type":"chart"};if(!e)return n;var o=0,l=0,c="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach((function(e){var t=yf(e);d.s.r=d.s.c=0,d.e.c=o,c=ga(o),t[0].forEach((function(e,a){s[c+ha(a)]={t:"n",v:e,z:t[1]},l=a})),d.e.r<l&&(d.e.r=l),++o})),o>0&&(s["!ref"]=wa(d)),s}Ur.CHART="http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",Ur.CHARTEX="http://schemas.microsoft.com/office/2014/relationships/chartEx",Ur.CS="http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet";pt("chartsheet",null,{xmlns:gt.main[0],"xmlns:r":gt.r});function xf(e,t,a,r,i){if(!e)return e;r||(r={"!id":{}});var n,s={"!type":"chart","!drawel":null,"!rel":""},o=e.match(Ah);return o&&Bh(o[0],s,i,a),(n=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=n[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}function wf(e,t){e.l+=10;var a=Da(e,t-10);return{name:a}}function Sf(e,t,a,r,i){if(!e)return e;r||(r={"!id":{}});var n={"!type":"chart","!drawel":null,"!rel":""},s=[],o=!1;return aa(e,(function(e,r,l){switch(l){case 550:n["!rel"]=e;break;case 651:i.Sheets[a]||(i.Sheets[a]={}),e.name&&(i.Sheets[a].CodeName=e.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:s.push(r);break;case 38:s.pop();break;default:if((r||"").indexOf("Begin")>0)s.push(r);else if((r||"").indexOf("End")>0)s.pop();else if(!o||t.WTF)throw new Error("Unexpected record "+l+" "+r)}}),t),r["!id"][n["!rel"]]&&(n["!drawel"]=r["!id"][n["!rel"]]),n}var Cf=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Of=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Tf=[],jf=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function If(e,t){for(var a=0;a!=e.length;++a)for(var r=e[a],i=0;i!=t.length;++i){var n=t[i];if(null==r[n[0]])r[n[0]]=n[1];else switch(n[2]){case"bool":"string"==typeof r[n[0]]&&(r[n[0]]=Je(r[n[0]]));break;case"int":"string"==typeof r[n[0]]&&(r[n[0]]=parseInt(r[n[0]],10));break}}}function Af(e,t){for(var a=0;a!=t.length;++a){var r=t[a];if(null==e[r[0]])e[r[0]]=r[1];else switch(r[2]){case"bool":"string"==typeof e[r[0]]&&(e[r[0]]=Je(e[r[0]]));break;case"int":"string"==typeof e[r[0]]&&(e[r[0]]=parseInt(e[r[0]],10));break}}}function Df(e){Af(e.WBProps,Cf),Af(e.CalcPr,jf),If(e.WBView,Of),If(e.Sheets,Tf),fh.date1904=Je(e.WBProps.date1904)}function Mf(e){return e.Workbook&&e.Workbook.WBProps&&Je(e.Workbook.WBProps.date1904)?"true":"false"}var Ef="][*?/\\".split("");function Rf(e,t){if(e.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var a=!0;return Ef.forEach((function(r){if(-1!=e.indexOf(r)){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");a=!1}})),a}function Bf(e,t,a){e.forEach((function(r,i){Rf(r);for(var n=0;n<i;++n)if(r==e[n])throw new Error("Duplicate Sheet Name: "+r);if(a){var s=t&&t[i]&&t[i].CodeName||r;if(95==s.charCodeAt(0)&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}}))}function Pf(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];Bf(e.SheetNames,t,!!e.vbaraw);for(var a=0;a<e.SheetNames.length;++a)kh(e.Sheets[e.SheetNames[a]],e.SheetNames[a],a)}var Lf=/<\w+:workbook/;function Ff(e,t){if(!e)throw new Error("Could not find file");var a={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",n={},s=0;if(e.replace(Be,(function(o,l){var c=Fe(o);switch(Ne(c[0])){case"<?xml":break;case"<workbook":o.match(Lf)&&(i="xmlns"+o.match(/<(\w+):/)[1]),a.xmlns=c[i];break;case"</workbook>":break;case"<fileVersion":delete c[0],a.AppVersion=c;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":Cf.forEach((function(e){if(null!=c[e[0]])switch(e[2]){case"bool":a.WBProps[e[0]]=Je(c[e[0]]);break;case"int":a.WBProps[e[0]]=parseInt(c[e[0]],10);break;default:a.WBProps[e[0]]=c[e[0]]}})),c.codeName&&(a.WBProps.CodeName=Qe(c.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete c[0],a.WBView.push(c);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(c.state){case"hidden":c.Hidden=1;break;case"veryHidden":c.Hidden=2;break;default:c.Hidden=0}delete c.state,c.name=Ve(Qe(c.name)),delete c[0],a.Sheets.push(c);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":n={},n.Name=Qe(c.name),c.comment&&(n.Comment=c.comment),c.localSheetId&&(n.Sheet=+c.localSheetId),Je(c.hidden||"0")&&(n.Hidden=!0),s=l+o.length;break;case"</definedName>":n.Ref=Ve(Qe(e.slice(s,l))),a.Names.push(n);break;case"<definedName/>":break;case"<calcPr":delete c[0],a.CalcPr=c;break;case"<calcPr/>":delete c[0],a.CalcPr=c;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&t.WTF)throw new Error("unrecognized "+c[0]+" in workbook")}return o})),-1===gt.main.indexOf(a.xmlns))throw new Error("Unknown Namespace: "+a.xmlns);return Df(a),a}var Nf=pt("workbook",null,{xmlns:gt.main[0],"xmlns:r":gt.r});function $f(e){var t=[Ee];t[t.length]=Nf;var a=e.Workbook&&(e.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(Cf.forEach((function(t){null!=e.Workbook.WBProps[t[0]]&&e.Workbook.WBProps[t[0]]!=t[1]&&(r[t[0]]=e.Workbook.WBProps[t[0]])})),e.Workbook.WBProps.CodeName&&(r.codeName=e.Workbook.WBProps.CodeName,delete r.CodeName)),t[t.length]=pt("workbookPr",null,r);var i=e.Workbook&&e.Workbook.Sheets||[],n=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",n=0;n!=e.SheetNames.length;++n){if(!i[n])break;if(!i[n].Hidden)break}n==e.SheetNames.length&&(n=0),t[t.length]='<workbookView firstSheet="'+n+'" activeTab="'+n+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",n=0;n!=e.SheetNames.length;++n){var s={name:Ge(e.SheetNames[n].slice(0,31))};if(s.sheetId=""+(n+1),s["r:id"]="rId"+(n+1),i[n])switch(i[n].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}t[t.length]=pt("sheet",null,s)}return t[t.length]="</sheets>",a&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach((function(e){var a={name:e.Name};e.Comment&&(a.comment=e.Comment),null!=e.Sheet&&(a.localSheetId=""+e.Sheet),e.Hidden&&(a.hidden="1"),e.Ref&&(t[t.length]=pt("definedName",Ge(e.Ref),a))})),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function zf(e,t){var a={};return a.Hidden=e.read_shift(4),a.iTabID=e.read_shift(4),a.strRelID=Xa(e,t-8),a.name=Da(e),a}function Vf(e,t){return t||(t=ta(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),Ya(e.strRelID,t),Ma(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function Uf(e,t){var a={},r=e.read_shift(4);a.defaultThemeVersion=e.read_shift(4);var i=t>8?Da(e):"";return i.length>0&&(a.CodeName=i),a.autoCompressPictures=!!(65536&r),a.backupFile=!!(64&r),a.checkCompatibility=!!(4096&r),a.date1904=!!(1&r),a.filterPrivacy=!!(8&r),a.hidePivotFieldList=!!(1024&r),a.promptedSolutions=!!(16&r),a.publishItems=!!(2048&r),a.refreshAllConnections=!!(262144&r),a.saveExternalLinkValues=!!(128&r),a.showBorderUnselectedTables=!!(4&r),a.showInkAnnotation=!!(32&r),a.showObjects=["all","placeholders","none"][r>>13&3],a.showPivotChartFilter=!!(32768&r),a.updateLinks=["userSet","never","always"][r>>8&3],a}function Hf(e,t){t||(t=ta(72));var a=0;return e&&e.filterPrivacy&&(a|=8),t.write_shift(4,a),t.write_shift(4,0),Ha(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function Gf(e,t){var a={};return e.read_shift(4),a.ArchID=e.read_shift(4),e.l+=t-8,a}function Wf(e,t,a){var r=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),n=qa(e),s=rh(e,0,a),o=Ga(e);e.l=r;var l={Name:n,Ptg:s};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function qf(e,t){var a={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;t||(t={}),t.biff=12;var n=[],s=[[]];return s.SheetNames=[],s.XTI=[],Jm[16]={n:"BrtFRTArchID$",f:Gf},aa(e,(function(e,o,l){switch(l){case 156:s.SheetNames.push(e.name),a.Sheets.push(e);break;case 153:a.WBProps=e;break;case 39:null!=e.Sheet&&(t.SID=e.Sheet),e.Ref=Gu(e.Ptg,null,null,s,t),delete t.SID,delete e.Ptg,n.push(e);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([l,e]):s[0]=[l,e],s[s.length-1].XTI=[];break;case 362:0===s.length&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(e),s.XTI=s.XTI.concat(e);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(o),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(o),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if((o||"").indexOf("Begin")>0);else if((o||"").indexOf("End")>0);else if(!i||t.WTF&&"BrtACBegin"!=r[r.length-1]&&"BrtFRTBegin"!=r[r.length-1])throw new Error("Unexpected record "+l+" "+o)}}),t),Df(a),a.Names=n,a.supbooks=s,a}function Xf(e,t){ia(e,"BrtBeginBundleShs");for(var a=0;a!=t.SheetNames.length;++a){var r=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[a]&&t.Workbook.Sheets[a].Hidden||0,i={Hidden:r,iTabID:a+1,strRelID:"rId"+(a+1),name:t.SheetNames[a]};ia(e,"BrtBundleSh",Vf(i))}ia(e,"BrtEndBundleShs")}function Yf(e,a){a||(a=ta(127));for(var r=0;4!=r;++r)a.write_shift(4,0);return Ma("SheetJS",a),Ma(t.version,a),Ma(t.version,a),Ma("7262",a),a.length>a.l?a.slice(0,a.l):a}function Kf(e,t){t||(t=ta(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var a=120;return t.write_shift(1,a),t.length>t.l?t.slice(0,t.l):t}function Zf(e,t){if(t.Workbook&&t.Workbook.Sheets){for(var a=t.Workbook.Sheets,r=0,i=-1,n=-1;r<a.length;++r)!a[r]||!a[r].Hidden&&-1==i?i=r:1==a[r].Hidden&&-1==n&&(n=r);n>i||(ia(e,"BrtBeginBookViews"),ia(e,"BrtBookView",Kf(i)),ia(e,"BrtEndBookViews"))}}function Jf(e,t){var a=ra();return ia(a,"BrtBeginBook"),ia(a,"BrtFileVersion",Yf()),ia(a,"BrtWbProp",Hf(e.Workbook&&e.Workbook.WBProps||null)),Zf(a,e,t),Xf(a,e,t),ia(a,"BrtEndBook"),a.end()}function Qf(e,t,a){return".bin"===t.slice(-4)?qf(e,a):Ff(e,a)}function em(e,t,a,r,i,n,s,o){return".bin"===t.slice(-4)?of(e,r,a,i,n,s,o):Eh(e,r,a,i,n,s,o)}function tm(e,t,a,r,i,n,s,o){return".bin"===t.slice(-4)?Sf(e,r,a,i,n,s,o):xf(e,r,a,i,n,s,o)}function am(e,t,a,r,i,n,s,o){return".bin"===t.slice(-4)?od(e,r,a,i,n,s,o):ld(e,r,a,i,n,s,o)}function rm(e,t,a,r,i,n,s,o){return".bin"===t.slice(-4)?nd(e,r,a,i,n,s,o):sd(e,r,a,i,n,s,o)}function im(e,t,a,r){return".bin"===t.slice(-4)?sc(e,a,r):Vl(e,a,r)}function nm(e,t,a){return Tc(e,a)}function sm(e,t,a){return".bin"===t.slice(-4)?No(e,a):Bo(e,a)}function om(e,t,a){return".bin"===t.slice(-4)?Qc(e,a):Wc(e,a)}function lm(e,t,a){return".bin"===t.slice(-4)?Nc(e,t,a):Lc(e,t,a)}function cm(e,t,a,r){return".bin"===a.slice(-4)?zc(e,t,a,r):$c(e,t,a,r)}function dm(e,t,a){return(".bin"===t.slice(-4)?Jf:$f)(e,a)}function um(e,t,a,r,i){return(".bin"===t.slice(-4)?bf:tp)(e,a,r,i)}function hm(e,t,a){return(".bin"===t.slice(-4)?_c:Hl)(e,a)}function pm(e,t,a){return(".bin"===t.slice(-4)?Vo:Lo)(e,a)}function fm(e,t,a){return(".bin"===t.slice(-4)?ed:Xc)(e,a)}var mm=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,gm=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function _m(e,t){var a=e.split(/\s+/),r=[];if(t||(r[0]=a[0]),1===a.length)return r;var i,n,s,o,l=e.match(mm);if(l)for(o=0;o!=l.length;++o)i=l[o].match(gm),-1===(n=i[1].indexOf(":"))?r[i[1]]=i[2].slice(1,i[2].length-1):(s="xmlns:"===i[1].slice(0,6)?"xmlns"+i[1].slice(6):i[1].slice(n+1),r[s]=i[2].slice(1,i[2].length-1));return r}function vm(e){var t=e.split(/\s+/),a={};if(1===t.length)return a;var r,i,n,s,o=e.match(mm);if(o)for(s=0;s!=o.length;++s)r=o[s].match(gm),-1===(i=r[1].indexOf(":"))?a[r[1]]=r[2].slice(1,r[2].length-1):(n="xmlns:"===r[1].slice(0,6)?"xmlns"+r[1].slice(6):r[1].slice(i+1),a[n]=r[2].slice(1,r[2].length-1));return a}function bm(e,t){var a=$[e]||Ve(e);return"General"===a?F._general(t):F.format(a,t)}function ym(e,t,a,r){var i=r;switch((a[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=Je(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=he(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+a[0])}e[Ve(t)]=i}function km(e,t,a){if("z"!==e.t){if(!a||!1!==a.cellText)try{"e"===e.t?e.w=e.w||Er[e.v]:"General"===t?"n"===e.t?(0|e.v)===e.v?e.w=F._general_int(e.v):e.w=F._general_num(e.v):e.w=F._general(e.v):e.w=bm(t||"General",e.v)}catch(D_){if(a.WTF)throw D_}try{var r=$[t]||t||"General";if(a.cellNF&&(e.z=r),a.cellDates&&"n"==e.t&&F.is_date(r)){var i=F.parse_date_code(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(D_){if(a.WTF)throw D_}}}function xm(e,t,a){if(a.cellStyles&&t.Interior){var r=t.Interior;r.Pattern&&(r.patternType=Ml[r.Pattern]||r.Pattern)}e[t.ID]=t}function wm(e,t,a,r,i,n,s,o,l,c){var d="General",u=r.StyleID,h={};c=c||{};var p=[],f=0;void 0===u&&o&&(u=o.StyleID),void 0===u&&s&&(u=s.StyleID);while(void 0!==n[u]){if(n[u].nf&&(d=n[u].nf),n[u].Interior&&p.push(n[u].Interior),!n[u].Parent)break;u=n[u].Parent}switch(a.Type){case"Boolean":r.t="b",r.v=Je(e);break;case"String":r.t="s",r.r=Ke(Ve(e)),r.v=e.indexOf("<")>-1?Ve(t||e).replace(/<.*?>/g,""):r.r;break;case"DateTime":"Z"!=e.slice(-1)&&(e+="Z"),r.v=(he(e)-new Date(Date.UTC(1899,11,30)))/864e5,r.v!==r.v?r.v=Ve(e):r.v<60&&(r.v=r.v-1),d&&"General"!=d||(d="yyyy-mm-dd");case"Number":void 0===r.v&&(r.v=+e),r.t||(r.t="n");break;case"Error":r.t="e",r.v=Rr[e],!1!==c.cellText&&(r.w=e);break;default:""==e&&""==t?r.t="z":(r.t="s",r.v=Ke(t||e));break}if(km(r,d,c),!1!==c.cellFormula)if(r.Formula){var m=Ve(r.Formula);61==m.charCodeAt(0)&&(m=m.slice(1)),r.f=cd(m,i),delete r.Formula,"RC"==r.ArrayRange?r.F=cd("RC:RC",i):r.ArrayRange&&(r.F=cd(r.ArrayRange,i),l.push([Sa(r.F),r.F]))}else for(f=0;f<l.length;++f)i.r>=l[f][0].s.r&&i.r<=l[f][0].e.r&&i.c>=l[f][0].s.c&&i.c<=l[f][0].e.c&&(r.F=l[f][1]);c.cellStyles&&(p.forEach((function(e){!h.patternType&&e.patternType&&(h.patternType=e.patternType)})),r.s=h),void 0!==r.StyleID&&(r.ixfe=r.StyleID)}function Sm(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),e.v=e.w=e.ixfe=void 0}function Cm(e){if(C&&i.isBuffer(e))return e.toString("utf8");if("string"===typeof e)return e;if("undefined"!==typeof Uint8Array&&e instanceof Uint8Array)return Qe(M(R(e)));throw new Error("Bad input format: expected Buffer or string")}var Om=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/gm;function Tm(e,t){var a=t||{};N(F);var r=b(Cm(e));"binary"!=a.type&&"array"!=a.type&&"base64"!=a.type||(r="undefined"!==typeof cptable?cptable.utils.decode(65001,g(r)):Qe(r));var i,n=r.slice(0,1024).toLowerCase(),s=!1;if(n=n.replace(/".*?"/g,""),(1023&n.indexOf(">"))>Math.min(1023&n.indexOf(","),1023&n.indexOf(";"))){var o=fe(a);return o.type="string",xo.to_workbook(r,o)}if(-1==n.indexOf("<?xml")&&["html","table","head","meta","script","style","div"].forEach((function(e){n.indexOf("<"+e)>=0&&(s=!0)})),s)return kg.to_workbook(r,a);var l,c=[];null!=x&&null==a.dense&&(a.dense=x);var d,u={},h=[],p=a.dense?[]:{},f="",m={},_={},v=_m('<Data ss:Type="String">'),y=0,k=0,w=0,S={s:{r:2e6,c:2e6},e:{r:0,c:0}},C={},O={},T="",j=0,I=[],A={},D={},M=0,E=[],R=[],B={},P=[],L=!1,z=[],V=[],U={},H=0,G=0,W={Sheets:[],WBProps:{date1904:!1}},q={};Om.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/gm,"");var X="";while(i=Om.exec(r))switch(i[3]=(X=i[3]).toLowerCase()){case"data":if("data"==X){if("/"===i[1]){if((l=c.pop())[0]!==i[3])throw new Error("Bad state: "+l.join("|"))}else"/"!==i[0].charAt(i[0].length-2)&&c.push([i[3],!0]);break}if(c[c.length-1][1])break;"/"===i[1]?wm(r.slice(y,i.index),T,v,"comment"==c[c.length-1][0]?B:m,{c:k,r:w},C,P[k],_,z,a):(T="",v=_m(i[0]),y=i.index+i[0].length);break;case"cell":if("/"===i[1])if(R.length>0&&(m.c=R),(!a.sheetRows||a.sheetRows>w)&&void 0!==m.v&&(a.dense?(p[w]||(p[w]=[]),p[w][k]=m):p[ga(k)+ha(w)]=m),m.HRef&&(m.l={Target:Ve(m.HRef)},m.HRefScreenTip&&(m.l.Tooltip=m.HRefScreenTip),delete m.HRef,delete m.HRefScreenTip),(m.MergeAcross||m.MergeDown)&&(H=k+(0|parseInt(m.MergeAcross,10)),G=w+(0|parseInt(m.MergeDown,10)),I.push({s:{c:k,r:w},e:{c:H,r:G}})),a.sheetStubs)if(m.MergeAcross||m.MergeDown){for(var Y=k;Y<=H;++Y)for(var K=w;K<=G;++K)(Y>k||K>w)&&(a.dense?(p[K]||(p[K]=[]),p[K][Y]={t:"z"}):p[ga(Y)+ha(K)]={t:"z"});k=H+1}else++k;else m.MergeAcross?k=H+1:++k;else m=vm(i[0]),m.Index&&(k=+m.Index-1),k<S.s.c&&(S.s.c=k),k>S.e.c&&(S.e.c=k),"/>"===i[0].slice(-2)&&++k,R=[];break;case"row":"/"===i[1]||"/>"===i[0].slice(-2)?(w<S.s.r&&(S.s.r=w),w>S.e.r&&(S.e.r=w),"/>"===i[0].slice(-2)&&(_=_m(i[0]),_.Index&&(w=+_.Index-1)),k=0,++w):(_=_m(i[0]),_.Index&&(w=+_.Index-1),U={},("0"==_.AutoFitHeight||_.Height)&&(U.hpx=parseInt(_.Height,10),U.hpt=Al(U.hpx),V[w]=U),"1"==_.Hidden&&(U.hidden=!0,V[w]=U));break;case"worksheet":if("/"===i[1]){if((l=c.pop())[0]!==i[3])throw new Error("Bad state: "+l.join("|"));h.push(f),S.s.r<=S.e.r&&S.s.c<=S.e.c&&(p["!ref"]=wa(S),a.sheetRows&&a.sheetRows<=S.e.r&&(p["!fullref"]=p["!ref"],S.e.r=a.sheetRows-1,p["!ref"]=wa(S))),I.length&&(p["!merges"]=I),P.length>0&&(p["!cols"]=P),V.length>0&&(p["!rows"]=V),u[f]=p}else S={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=k=0,c.push([i[3],!1]),l=_m(i[0]),f=Ve(l.Name),p=a.dense?[]:{},I=[],z=[],V=[],q={name:f,Hidden:0},W.Sheets.push(q);break;case"table":if("/"===i[1]){if((l=c.pop())[0]!==i[3])throw new Error("Bad state: "+l.join("|"))}else{if("/>"==i[0].slice(-2))break;_m(i[0]),c.push([i[3],!1]),P=[],L=!1}break;case"style":"/"===i[1]?xm(C,O,a):O=_m(i[0]);break;case"numberformat":O.nf=Ve(_m(i[0]).Format||"General"),$[O.nf]&&(O.nf=$[O.nf]);for(var Z=0;392!=Z;++Z)if(F._table[Z]==O.nf)break;if(392==Z)for(Z=57;392!=Z;++Z)if(null==F._table[Z]){F.load(O.nf,Z);break}break;case"column":if("table"!==c[c.length-1][0])break;if(d=_m(i[0]),d.Hidden&&(d.hidden=!0,delete d.Hidden),d.Width&&(d.wpx=parseInt(d.Width,10)),!L&&d.wpx>10){L=!0,kl=vl;for(var J=0;J<P.length;++J)P[J]&&Tl(P[J])}L&&Tl(d),P[d.Index-1||P.length]=d;for(var Q=0;Q<+d.Span;++Q)P[P.length]=fe(d);break;case"namedrange":if("/"===i[1])break;W.Names||(W.Names=[]);var ee=Fe(i[0]),te={Name:ee.Name,Ref:cd(ee.RefersTo.slice(1),{r:0,c:0})};W.Sheets.length>0&&(te.Sheet=W.Sheets.length-1),W.Names.push(te);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if("/>"===i[0].slice(-2))break;"/"===i[1]?T+=r.slice(j,i.index):j=i.index+i[0].length;break;case"interior":if(!a.cellStyles)break;O.Interior=_m(i[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if("/>"===i[0].slice(-2))break;"/"===i[1]?ki(A,X,r.slice(M,i.index)):M=i.index+i[0].length;break;case"paragraphs":break;case"styles":case"workbook":if("/"===i[1]){if((l=c.pop())[0]!==i[3])throw new Error("Bad state: "+l.join("|"))}else c.push([i[3],!1]);break;case"comment":if("/"===i[1]){if((l=c.pop())[0]!==i[3])throw new Error("Bad state: "+l.join("|"));Sm(B),R.push(B)}else c.push([i[3],!1]),l=_m(i[0]),B={a:l.Author};break;case"autofilter":if("/"===i[1]){if((l=c.pop())[0]!==i[3])throw new Error("Bad state: "+l.join("|"))}else if("/"!==i[0].charAt(i[0].length-2)){var ae=_m(i[0]);p["!autofilter"]={ref:cd(ae.Range).replace(/\$/g,"")},c.push([i[3],!0])}break;case"name":break;case"datavalidation":if("/"===i[1]){if((l=c.pop())[0]!==i[3])throw new Error("Bad state: "+l.join("|"))}else"/"!==i[0].charAt(i[0].length-2)&&c.push([i[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if("/"===i[1]){if((l=c.pop())[0]!==i[3])throw new Error("Bad state: "+l.join("|"))}else"/"!==i[0].charAt(i[0].length-2)&&c.push([i[3],!0]);break;case"null":break;default:if(0==c.length&&"document"==i[3])return Ig(r,a);if(0==c.length&&"uof"==i[3])return Ig(r,a);var re=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(i[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:re=!1}break;case"componentoptions":switch(i[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:re=!1}break;case"excelworkbook":switch(i[3]){case"date1904":W.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:re=!1}break;case"workbookoptions":switch(i[3]){case"owcversion":break;case"height":break;case"width":break;default:re=!1}break;case"worksheetoptions":switch(i[3]){case"visible":if("/>"===i[0].slice(-2));else if("/"===i[1])switch(r.slice(M,i.index)){case"SheetHidden":q.Hidden=1;break;case"SheetVeryHidden":q.Hidden=2;break}else M=i.index+i[0].length;break;case"header":p["!margins"]||vh(p["!margins"]={},"xlml"),p["!margins"].header=Fe(i[0]).Margin;break;case"footer":p["!margins"]||vh(p["!margins"]={},"xlml"),p["!margins"].footer=Fe(i[0]).Margin;break;case"pagemargins":var ie=Fe(i[0]);p["!margins"]||vh(p["!margins"]={},"xlml"),ie.Top&&(p["!margins"].top=ie.Top),ie.Left&&(p["!margins"].left=ie.Left),ie.Right&&(p["!margins"].right=ie.Right),ie.Bottom&&(p["!margins"].bottom=ie.Bottom);break;case"displayrighttoleft":W.Views||(W.Views=[]),W.Views[0]||(W.Views[0]={}),W.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:re=!1}break;case"pivottable":case"pivotcache":switch(i[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:re=!1}break;case"pagebreaks":switch(i[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:re=!1}break;case"autofilter":switch(i[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:re=!1}break;case"querytable":switch(i[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:re=!1}break;case"datavalidation":switch(i[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:re=!1}break;case"sorting":case"conditionalformatting":switch(i[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:re=!1}break;case"mapinfo":case"schema":case"data":switch(i[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:re=!1}break;case"smarttags":break;default:re=!1;break}if(re)break;if(i[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+i[3]+"|"+c.join("|");if("customdocumentproperties"===c[c.length-1][0]){if("/>"===i[0].slice(-2))break;"/"===i[1]?ym(D,X,E,r.slice(M,i.index)):(E=i,M=i.index+i[0].length);break}if(a.WTF)throw"Unrecognized tag: "+i[3]+"|"+c.join("|")}var ne={};return a.bookSheets||a.bookProps||(ne.Sheets=u),ne.SheetNames=h,ne.Workbook=W,ne.SSF=F.get_table(),ne.Props=A,ne.Custprops=D,ne}function jm(e,t){switch(Wg(t=t||{}),t.type||"base64"){case"base64":return Tm(S.decode(e),t);case"binary":case"buffer":case"file":return Tm(e,t);case"array":return Tm(M(e),t)}}function Im(e,t){var a=[];return e.Props&&a.push(xi(e.Props,t)),e.Custprops&&a.push(wi(e.Props,e.Custprops,t)),a.join("")}function Am(){return""}function Dm(e,t){var a=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach((function(e,t){var r=[];r.push(pt("NumberFormat",null,{"ss:Format":Ge(F._table[e.numFmtId])}));var i={"ss:ID":"s"+(21+t)};a.push(pt("Style",r.join(""),i))})),pt("Styles",a.join(""))}function Mm(e){return pt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+ud(e.Ref,{r:0,c:0})})}function Em(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,a=[],r=0;r<t.length;++r){var i=t[r];null==i.Sheet&&(i.Name.match(/^_xlfn\./)||a.push(Mm(i)))}return pt("Names",a.join(""))}function Rm(e,t,a,r){if(!e)return"";if(!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,n=[],s=0;s<i.length;++s){var o=i[s];o.Sheet==a&&(o.Name.match(/^_xlfn\./)||n.push(Mm(o)))}return n.join("")}function Bm(e,t,a,r){if(!e)return"";var i=[];if(e["!margins"]&&(i.push("<PageSetup>"),e["!margins"].header&&i.push(pt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&i.push(pt("Footer",null,{"x:Margin":e["!margins"].footer})),i.push(pt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[a])if(r.Workbook.Sheets[a].Hidden)i.push(pt("Visible",1==r.Workbook.Sheets[a].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var n=0;n<a;++n)if(r.Workbook.Sheets[n]&&!r.Workbook.Sheets[n].Hidden)break;n==a&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),e["!protect"]&&(i.push(ut("ProtectContents","True")),e["!protect"].objects&&i.push(ut("ProtectObjects","True")),e["!protect"].scenarios&&i.push(ut("ProtectScenarios","True")),null==e["!protect"].selectLockedCells||e["!protect"].selectLockedCells?null==e["!protect"].selectUnlockedCells||e["!protect"].selectUnlockedCells||i.push(ut("EnableSelection","UnlockedCells")):i.push(ut("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach((function(t){e["!protect"][t[0]]&&i.push("<"+t[1]+"/>")}))),0==i.length?"":pt("WorksheetOptions",i.join(""),{xmlns:_t.x})}function Pm(e){return e.map((function(e){var t=Ze(e.t||""),a=pt("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return pt("Comment",a,{"ss:Author":e.a})})).join("")}function Lm(e,t,a,r,i,n,s){if(!e||void 0==e.v&&void 0==e.f)return"";var o={};if(e.f&&(o["ss:Formula"]="="+Ge(ud(e.f,s))),e.F&&e.F.slice(0,t.length)==t){var l=ya(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==s.r?"":"["+(l.r-s.r)+"]")+"C"+(l.c==s.c?"":"["+(l.c-s.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=Ge(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=Ge(e.l.Tooltip))),a["!merges"])for(var c=a["!merges"],d=0;d!=c.length;++d)c[d].s.c==s.c&&c[d].s.r==s.r&&(c[d].e.c>c[d].s.c&&(o["ss:MergeAcross"]=c[d].e.c-c[d].s.c),c[d].e.r>c[d].s.r&&(o["ss:MergeDown"]=c[d].e.r-c[d].s.r));var u="",h="";switch(e.t){case"z":if(!r.sheetStubs)return"";break;case"n":u="Number",h=String(e.v);break;case"b":u="Boolean",h=e.v?"1":"0";break;case"e":u="Error",h=Er[e.v];break;case"d":u="DateTime",h=new Date(e.v).toISOString(),null==e.z&&(e.z=e.z||F._table[14]);break;case"s":u="String",h=Ye(e.v||"");break}var p=bh(r.cellXfs,e,r);o["ss:StyleID"]="s"+(21+p),o["ss:Index"]=s.c+1;var f=null!=e.v?h:"",m="z"==e.t?"":'<Data ss:Type="'+u+'">'+f+"</Data>";return(e.c||[]).length>0&&(m+=Pm(e.c)),pt("Cell",m,o)}function Fm(e,t){var a='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Dl(t.hpt)),t.hpx&&(a+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(a+=' ss:Hidden="1"')),a+">"}function Nm(e,t,a,r){if(!e["!ref"])return"";var i=Sa(e["!ref"]),n=e["!merges"]||[],s=0,o=[];e["!cols"]&&e["!cols"].forEach((function(e,t){Tl(e);var a=!!e.width,r=_h(t,e),i={"ss:Index":t+1};a&&(i["ss:Width"]=xl(r.width)),e.hidden&&(i["ss:Hidden"]="1"),o.push(pt("Column",null,i))}));for(var l=Array.isArray(e),c=i.s.r;c<=i.e.r;++c){for(var d=[Fm(c,(e["!rows"]||[])[c])],u=i.s.c;u<=i.e.c;++u){var h=!1;for(s=0;s!=n.length;++s)if(!(n[s].s.c>u)&&!(n[s].s.r>c)&&!(n[s].e.c<u)&&!(n[s].e.r<c)){n[s].s.c==u&&n[s].s.r==c||(h=!0);break}if(!h){var p={r:c,c:u},f=ka(p),m=l?(e[c]||[])[u]:e[f];d.push(Lm(m,f,e,t,a,r,p))}}d.push("</Row>"),d.length>2&&o.push(d.join(""))}return o.join("")}function $m(e,t,a){var r=[],i=a.SheetNames[e],n=a.Sheets[i],s=n?Rm(n,t,e,a):"";return s.length>0&&r.push("<Names>"+s+"</Names>"),s=n?Nm(n,t,e,a):"",s.length>0&&r.push("<Table>"+s+"</Table>"),r.push(Bm(n,t,e,a)),r.join("")}function zm(e,t){t||(t={}),e.SSF||(e.SSF=F.get_table()),e.SSF&&(N(F),F.load_table(e.SSF),t.revssf=te(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],bh(t.cellXfs,{},{revssf:{General:0}}));var a=[];a.push(Im(e,t)),a.push(Am(e,t)),a.push(""),a.push("");for(var r=0;r<e.SheetNames.length;++r)a.push(pt("Worksheet",$m(r,t,e),{"ss:Name":Ge(e.SheetNames[r])}));return a[2]=Dm(e,t),a[3]=Em(e,t),Ee+pt("Workbook",a.join(""),{xmlns:_t.ss,"xmlns:o":_t.o,"xmlns:x":_t.x,"xmlns:ss":_t.ss,"xmlns:dt":_t.dt,"xmlns:html":_t.html})}function Vm(e){var t={},a=e.content;if(a.l=28,t.AnsiUserType=a.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=cr(a),a.length-a.l<=4)return t;var r=a.read_shift(4);return 0==r||r>40?t:(a.l-=4,t.Reserved1=a.read_shift(0,"lpstr-ansi"),a.length-a.l<=4?t:(r=a.read_shift(4),1907505652!==r?t:(t.UnicodeClipboardFormat=dr(a),r=a.read_shift(4),0==r||r>40?t:(a.l-=4,void(t.Reserved2=a.read_shift(0,"lpwstr"))))))}function Um(e,t,a,r){var i=a,n=[],s=t.slice(t.l,t.l+i);if(r&&r.enc&&r.enc.insitu&&s.length>0)switch(e.n){case"BOF":case"FilePass":case"FileLock":case"InterfaceHdr":case"RRDInfo":case"RRDHead":case"UsrExcl":case"EOF":break;case"BoundSheet8":break;default:r.enc.insitu(s)}n.push(s),t.l+=i;var o=eg[Vt(t,t.l)],l=0;while(null!=o&&"Continue"===o.n.slice(0,8))i=Vt(t,t.l+2),l=t.l+4,"ContinueFrt"==o.n?l+=4:"ContinueFrt"==o.n.slice(0,11)&&(l+=12),s=t.slice(l,t.l+4+i),n.push(s),t.l+=4+i,o=eg[Vt(t,t.l)];var c=B(n);Qt(c,0);var d=0;c.lens=[];for(var u=0;u<n.length;++u)c.lens.push(d),d+=n[u].length;if(c.length<a)throw"XLS Record "+(e&&e.n||"??")+" Truncated: "+c.length+" < "+a;return e.f(c,c.length,r)}function Hm(e,t,a){if("z"!==e.t&&e.XF){var r=0;try{r=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=F._table[r])}catch(D_){if(t.WTF)throw D_}if(!t||!1!==t.cellText)try{"e"===e.t?e.w=e.w||Er[e.v]:0===r||"General"==r?"n"===e.t?(0|e.v)===e.v?e.w=F._general_int(e.v):e.w=F._general_num(e.v):e.w=F._general(e.v):e.w=F.format(r,e.v,{date1904:!!a,dateNF:t&&t.dateNF})}catch(D_){if(t.WTF)throw D_}if(t.cellDates&&r&&"n"==e.t&&F.is_date(F._table[r]||String(r))){var i=F.parse_date_code(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function Gm(e,t,a){return{v:e,ixfe:t,t:a}}function Wm(e,t){var a={opts:{}},r={};null!=x&&null==t.dense&&(t.dense=x);var i,n,s,o,l,c,d,u,h=t.dense?[]:{},p={},m={},g=null,_=[],v="",b={},y="",k={},w=[],S=[],C=[],O={Sheets:[],WBProps:{date1904:!1},Views:[{}]},T={},j=function(e){return e<8?Mr[e]:e<64&&C[e-8]||Mr[e]},I=function(e,t,a){var r,i=t.XF.data;i&&i.patternType&&a&&a.cellStyles&&(t.s={},t.s.patternType=i.patternType,(r=fl(j(i.icvFore)))&&(t.s.fgColor={rgb:r}),(r=fl(j(i.icvBack)))&&(t.s.bgColor={rgb:r}))},A=function(e,t,a){if(!(z>1)&&!(a.sheetRows&&e.r>=a.sheetRows)){if(a.cellStyles&&t.XF&&t.XF.data&&I(e,t,a),delete t.ixfe,delete t.XF,i=e,y=ka(e),m&&m.s&&m.e||(m={s:{r:0,c:0},e:{r:0,c:0}}),e.r<m.s.r&&(m.s.r=e.r),e.c<m.s.c&&(m.s.c=e.c),e.r+1>m.e.r&&(m.e.r=e.r+1),e.c+1>m.e.c&&(m.e.c=e.c+1),a.cellFormula&&t.f)for(var r=0;r<w.length;++r)if(!(w[r][0].s.c>e.c||w[r][0].s.r>e.r)&&!(w[r][0].e.c<e.c||w[r][0].e.r<e.r)){t.F=wa(w[r][0]),w[r][0].s.c==e.c&&w[r][0].s.r==e.r||delete t.f,t.f&&(t.f=""+Gu(w[r][1],m,e,L,D));break}a.dense?(h[e.r]||(h[e.r]=[]),h[e.r][e.c]=t):h[y]=t}},D={enc:!1,sbcch:0,snames:[],sharedf:k,arrayf:w,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(D.password=t.password);var M=[],E=[],R=[],B=[],P=!1,L=[];L.SheetNames=D.snames,L.sharedf=D.sharedf,L.arrayf=D.arrayf,L.names=[],L.XTI=[];var N,$="",z=0,V=0,U=[],H=[];D.codepage=1200,f(1200);var G=!1;while(e.l<e.length-1){var W=e.l,q=e.read_shift(2);if(0===q&&"EOF"===$)break;var X=e.l===e.length?0:e.read_shift(2),Y=eg[q];if(Y&&Y.f){if(t.bookSheets&&"BoundSheet8"===$&&"BoundSheet8"!==Y.n)break;if($=Y.n,2===Y.r||12==Y.r){var K=e.read_shift(2);if(X-=2,!D.enc&&K!==q&&((255&K)<<8|K>>8)!==q)throw new Error("rt mismatch: "+K+"!="+q);12==Y.r&&(e.l+=10,X-=10)}var Z={};Z="EOF"===Y.n?Y.f(e,X,D):Um(Y,e,X,D);var Q=Y.n;if(0==z&&"BOF"!=Q)continue;switch(Q){case"Date1904":a.opts.Date1904=O.WBProps.date1904=Z;break;case"WriteProtect":a.opts.WriteProtect=!0;break;case"FilePass":if(D.enc||(e.l=0),D.enc=Z,!t.password)throw new Error("File is password-protected");if(null==Z.valid)throw new Error("Encryption scheme unsupported");if(!Z.valid)throw new Error("Password is incorrect");break;case"WriteAccess":D.lastuser=Z;break;case"FileSharing":break;case"CodePage":var ee=Number(Z);switch(ee){case 21010:ee=1200;break;case 32768:ee=1e4;break;case 32769:ee=1252;break}f(D.codepage=ee),G=!0;break;case"RRTabId":D.rrtabid=Z;break;case"WinProtect":D.winlocked=Z;break;case"Template":break;case"BookBool":break;case"UsesELFs":break;case"MTRSettings":break;case"RefreshAll":case"CalcCount":case"CalcDelta":case"CalcIter":case"CalcMode":case"CalcPrecision":case"CalcSaveRecalc":a.opts[Q]=Z;break;case"CalcRefMode":D.CalcRefMode=Z;break;case"Uncalced":break;case"ForceFullCalculation":a.opts.FullCalc=Z;break;case"WsBool":Z.fDialog&&(h["!type"]="dialog"),Z.fBelow||((h["!outline"]||(h["!outline"]={})).above=!0),Z.fRight||((h["!outline"]||(h["!outline"]={})).left=!0);break;case"XF":S.push(Z);break;case"ExtSST":break;case"BookExt":break;case"RichTextStream":break;case"BkHim":break;case"SupBook":L.push([Z]),L[L.length-1].XTI=[];break;case"ExternName":L[L.length-1].push(Z);break;case"Index":break;case"Lbl":N={Name:Z.Name,Ref:Gu(Z.rgce,m,null,L,D)},Z.itab>0&&(N.Sheet=Z.itab-1),L.names.push(N),L[0]||(L[0]=[],L[0].XTI=[]),L[L.length-1].push(Z),"_xlnm._FilterDatabase"==Z.Name&&Z.itab>0&&Z.rgce&&Z.rgce[0]&&Z.rgce[0][0]&&"PtgArea3d"==Z.rgce[0][0][0]&&(H[Z.itab-1]={ref:wa(Z.rgce[0][0][1][2])});break;case"ExternCount":D.ExternCount=Z;break;case"ExternSheet":0==L.length&&(L[0]=[],L[0].XTI=[]),L[L.length-1].XTI=L[L.length-1].XTI.concat(Z),L.XTI=L.XTI.concat(Z);break;case"NameCmt":if(D.biff<8)break;null!=N&&(N.Comment=Z[1]);break;case"Protect":h["!protect"]=Z;break;case"Password":0!==Z&&D.WTF&&console.error("Password verifier: "+Z);break;case"Prot4Rev":case"Prot4RevPass":break;case"BoundSheet8":p[Z.pos]=Z,D.snames.push(Z.name);break;case"EOF":if(--z)break;if(m.e){if(m.e.r>0&&m.e.c>0){if(m.e.r--,m.e.c--,h["!ref"]=wa(m),t.sheetRows&&t.sheetRows<=m.e.r){var te=m.e.r;m.e.r=t.sheetRows-1,h["!fullref"]=h["!ref"],h["!ref"]=wa(m),m.e.r=te}m.e.r++,m.e.c++}M.length>0&&(h["!merges"]=M),E.length>0&&(h["!objects"]=E),R.length>0&&(h["!cols"]=R),B.length>0&&(h["!rows"]=B),O.Sheets.push(T)}""===v?b=h:r[v]=h,h=t.dense?[]:{};break;case"BOF":if(8===D.biff&&(D.biff={9:2,521:3,1033:4}[q]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[Z.BIFFVer]||8),D.biffguess=0==Z.BIFFVer,0==Z.BIFFVer&&4096==Z.dt&&(D.biff=5,G=!0,f(D.codepage=28591)),8==D.biff&&0==Z.BIFFVer&&16==Z.dt&&(D.biff=2),z++)break;if(h=t.dense?[]:{},D.biff<8&&!G&&(G=!0,f(D.codepage=t.codepage||1252)),D.biff<5||0==Z.BIFFVer&&4096==Z.dt){""===v&&(v="Sheet1"),m={s:{r:0,c:0},e:{r:0,c:0}};var ae={pos:e.l-X,name:v};p[ae.pos]=ae,D.snames.push(v)}else v=(p[W]||{name:""}).name;32==Z.dt&&(h["!type"]="chart"),64==Z.dt&&(h["!type"]="macro"),M=[],E=[],D.arrayf=w=[],R=[],B=[],0,P=!1,T={Hidden:(p[W]||{hs:0}).hs,name:v};break;case"Number":case"BIFF2NUM":case"BIFF2INT":"chart"==h["!type"]&&(t.dense?(h[Z.r]||[])[Z.c]:h[ka({c:Z.c,r:Z.r})])&&++Z.c,c={ixfe:Z.ixfe,XF:S[Z.ixfe]||{},v:Z.val,t:"n"},V>0&&(c.z=U[c.ixfe>>8&63]),Hm(c,t,a.opts.Date1904),A({c:Z.c,r:Z.r},c,t);break;case"BoolErr":c={ixfe:Z.ixfe,XF:S[Z.ixfe],v:Z.val,t:Z.t},V>0&&(c.z=U[c.ixfe>>8&63]),Hm(c,t,a.opts.Date1904),A({c:Z.c,r:Z.r},c,t);break;case"RK":c={ixfe:Z.ixfe,XF:S[Z.ixfe],v:Z.rknum,t:"n"},V>0&&(c.z=U[c.ixfe>>8&63]),Hm(c,t,a.opts.Date1904),A({c:Z.c,r:Z.r},c,t);break;case"MulRk":for(var re=Z.c;re<=Z.C;++re){var ie=Z.rkrec[re-Z.c][0];c={ixfe:ie,XF:S[ie],v:Z.rkrec[re-Z.c][1],t:"n"},V>0&&(c.z=U[c.ixfe>>8&63]),Hm(c,t,a.opts.Date1904),A({c:re,r:Z.r},c,t)}break;case"Formula":if("String"==Z.val){g=Z;break}if(c=Gm(Z.val,Z.cell.ixfe,Z.tt),c.XF=S[c.ixfe],t.cellFormula){var ne=Z.formula;if(ne&&ne[0]&&ne[0][0]&&"PtgExp"==ne[0][0][0]){var se=ne[0][0][1][0],oe=ne[0][0][1][1],le=ka({r:se,c:oe});k[le]?c.f=""+Gu(Z.formula,m,Z.cell,L,D):c.F=((t.dense?(h[se]||[])[oe]:h[le])||{}).F}else c.f=""+Gu(Z.formula,m,Z.cell,L,D)}V>0&&(c.z=U[c.ixfe>>8&63]),Hm(c,t,a.opts.Date1904),A(Z.cell,c,t),g=Z;break;case"String":if(!g)throw new Error("String record expects Formula");g.val=Z,c=Gm(Z,g.cell.ixfe,"s"),c.XF=S[c.ixfe],t.cellFormula&&(c.f=""+Gu(g.formula,m,g.cell,L,D)),V>0&&(c.z=U[c.ixfe>>8&63]),Hm(c,t,a.opts.Date1904),A(g.cell,c,t),g=null;break;case"Array":w.push(Z);var ce=ka(Z[0].s);if(n=t.dense?(h[Z[0].s.r]||[])[Z[0].s.c]:h[ce],t.cellFormula&&n){if(!g)break;if(!ce||!n)break;n.f=""+Gu(Z[1],m,Z[0],L,D),n.F=wa(Z[0])}break;case"ShrFmla":if(!t.cellFormula)break;if(y){if(!g)break;k[ka(g.cell)]=Z[0],n=t.dense?(h[g.cell.r]||[])[g.cell.c]:h[ka(g.cell)],(n||{}).f=""+Gu(Z[0],m,i,L,D)}break;case"LabelSst":c=Gm(_[Z.isst].t,Z.ixfe,"s"),_[Z.isst].h&&(c.h=_[Z.isst].h),c.XF=S[c.ixfe],V>0&&(c.z=U[c.ixfe>>8&63]),Hm(c,t,a.opts.Date1904),A({c:Z.c,r:Z.r},c,t);break;case"Blank":t.sheetStubs&&(c={ixfe:Z.ixfe,XF:S[Z.ixfe],t:"z"},V>0&&(c.z=U[c.ixfe>>8&63]),Hm(c,t,a.opts.Date1904),A({c:Z.c,r:Z.r},c,t));break;case"MulBlank":if(t.sheetStubs)for(var de=Z.c;de<=Z.C;++de){var ue=Z.ixfe[de-Z.c];c={ixfe:ue,XF:S[ue],t:"z"},V>0&&(c.z=U[c.ixfe>>8&63]),Hm(c,t,a.opts.Date1904),A({c:de,r:Z.r},c,t)}break;case"RString":case"Label":case"BIFF2STR":c=Gm(Z.val,Z.ixfe,"s"),c.XF=S[c.ixfe],V>0&&(c.z=U[c.ixfe>>8&63]),Hm(c,t,a.opts.Date1904),A({c:Z.c,r:Z.r},c,t);break;case"Dimensions":1===z&&(m=Z);break;case"SST":_=Z;break;case"Format":if(4==D.biff){U[V++]=Z[1];for(var he=0;he<V+163;++he)if(F._table[he]==Z[1])break;he>=163&&F.load(Z[1],V+163)}else F.load(Z[1],Z[0]);break;case"BIFF2FORMAT":U[V++]=Z;for(var pe=0;pe<V+163;++pe)if(F._table[pe]==Z)break;pe>=163&&F.load(Z,V+163);break;case"MergeCells":M=M.concat(Z);break;case"Obj":E[Z.cmo[0]]=D.lastobj=Z;break;case"TxO":D.lastobj.TxO=Z;break;case"ImData":D.lastobj.ImData=Z;break;case"HLink":for(l=Z[0].s.r;l<=Z[0].e.r;++l)for(o=Z[0].s.c;o<=Z[0].e.c;++o)n=t.dense?(h[l]||[])[o]:h[ka({c:o,r:l})],n&&(n.l=Z[1]);break;case"HLinkTooltip":for(l=Z[0].s.r;l<=Z[0].e.r;++l)for(o=Z[0].s.c;o<=Z[0].e.c;++o)n=t.dense?(h[l]||[])[o]:h[ka({c:o,r:l})],n&&n.l&&(n.l.Tooltip=Z[1]);break;case"Note":if(D.biff<=5&&D.biff>=2)break;n=t.dense?(h[Z[0].r]||[])[Z[0].c]:h[ka(Z[0])];var fe=E[Z[2]];n||(t.dense?(h[Z[0].r]||(h[Z[0].r]=[]),n=h[Z[0].r][Z[0].c]={t:"z"}):n=h[ka(Z[0])]={t:"z"},m.e.r=Math.max(m.e.r,Z[0].r),m.s.r=Math.min(m.s.r,Z[0].r),m.e.c=Math.max(m.e.c,Z[0].c),m.s.c=Math.min(m.s.c,Z[0].c)),n.c||(n.c=[]),s={a:Z[1],t:fe.TxO.t},n.c.push(s);break;default:switch(Y.n){case"ClrtClient":break;case"XFExt":Pc(S[Z.ixfe],Z.ext);break;case"DefColWidth":Z;break;case"DefaultRowHeight":Z[1];break;case"ColInfo":if(!D.cellStyles)break;while(Z.e>=Z.s)R[Z.e--]={width:Z.w/256,level:Z.level||0,hidden:!!(1&Z.flags)},P||(P=!0,Ol(Z.w/256)),Tl(R[Z.e+1]);break;case"Row":var me={};null!=Z.level&&(B[Z.r]=me,me.level=Z.level),Z.hidden&&(B[Z.r]=me,me.hidden=!0),Z.hpt&&(B[Z.r]=me,me.hpt=Z.hpt,me.hpx=Dl(Z.hpt));break;case"LeftMargin":case"RightMargin":case"TopMargin":case"BottomMargin":h["!margins"]||vh(h["!margins"]={}),h["!margins"][Q.slice(0,-6).toLowerCase()]=Z;break;case"Selection":break;case"Setup":h["!margins"]||vh(h["!margins"]={}),h["!margins"].header=Z.header,h["!margins"].footer=Z.footer;break;case"Window2":Z.RTL&&(O.Views[0].RTL=!0);break;case"Header":break;case"Footer":break;case"HCenter":break;case"VCenter":break;case"Pls":break;case"GCW":break;case"LHRecord":break;case"DBCell":break;case"EntExU2":break;case"SxView":break;case"Sxvd":break;case"SXVI":break;case"SXVDEx":break;case"SxIvd":break;case"SXString":break;case"Sync":break;case"Addin":break;case"SXDI":break;case"SXLI":break;case"SXEx":break;case"QsiSXTag":break;case"Feat":break;case"FeatHdr":case"FeatHdr11":break;case"Feature11":case"Feature12":case"List12":break;case"Country":d=Z;break;case"RecalcId":break;case"DxGCol":break;case"Fbi":case"Fbi2":case"GelFrame":break;case"Font":break;case"XFCRC":break;case"Style":break;case"StyleExt":break;case"Palette":C=Z;break;case"Theme":u=Z;break;case"ScenarioProtect":break;case"ObjProtect":break;case"CondFmt12":break;case"Table":break;case"TableStyles":break;case"TableStyle":break;case"TableStyleElement":break;case"SXStreamID":break;case"SXVS":break;case"DConRef":break;case"SXAddl":break;case"DConBin":break;case"DConName":break;case"SXPI":break;case"SxFormat":break;case"SxSelect":break;case"SxRule":break;case"SxFilt":break;case"SxItm":break;case"SxDXF":break;case"ScenMan":break;case"DCon":break;case"CellWatch":break;case"PrintRowCol":break;case"PrintGrid":break;case"PrintSize":break;case"XCT":break;case"CRN":break;case"Scl":break;case"SheetExt":break;case"SheetExtOptional":break;case"ObNoMacros":break;case"ObProj":break;case"CodeName":v?T.CodeName=Z||T.name:O.WBProps.CodeName=Z||"ThisWorkbook";break;case"GUIDTypeLib":break;case"WOpt":break;case"PhoneticInfo":break;case"OleObjectSize":break;case"DXF":case"DXFN":case"DXFN12":case"DXFN12List":case"DXFN12NoCB":break;case"Dv":case"DVal":break;case"BRAI":case"Series":case"SeriesText":break;case"DConn":break;case"DbOrParamQry":break;case"DBQueryExt":break;case"OleDbConn":break;case"ExtString":break;case"IFmtRecord":break;case"CondFmt":case"CF":case"CF12":case"CFEx":break;case"Excel9File":break;case"Units":break;case"InterfaceHdr":case"Mms":case"InterfaceEnd":case"DSF":break;case"BuiltInFnGroupCount":break;case"Window1":case"HideObj":case"GridSet":case"Guts":case"UserBView":case"UserSViewBegin":case"UserSViewEnd":break;case"Pane":break;default:switch(Y.n){case"Dat":case"Begin":case"End":case"StartBlock":case"EndBlock":case"Frame":case"Area":case"Axis":case"AxisLine":case"Tick":break;case"AxesUsed":case"CrtLayout12":case"CrtLayout12A":case"CrtLink":case"CrtLine":case"CrtMlFrt":case"CrtMlFrtContinue":break;case"LineFormat":case"AreaFormat":case"Chart":case"Chart3d":case"Chart3DBarShape":case"ChartFormat":case"ChartFrtInfo":break;case"PlotArea":case"PlotGrowth":break;case"SeriesList":case"SerParent":case"SerAuxTrend":break;case"DataFormat":case"SerToCrt":case"FontX":break;case"CatSerRange":case"AxcExt":case"SerFmt":break;case"ShtProps":break;case"DefaultText":case"Text":case"CatLab":break;case"DataLabExtContents":break;case"Legend":case"LegendException":break;case"Pie":case"Scatter":break;case"PieFormat":case"MarkerFormat":break;case"StartObject":case"EndObject":break;case"AlRuns":case"ObjectLink":break;case"SIIndex":break;case"AttachedLabel":case"YMult":break;case"Line":case"Bar":break;case"Surf":break;case"AxisParent":break;case"Pos":break;case"ValueRange":break;case"SXViewEx9":break;case"SXViewLink":break;case"PivotChartBits":break;case"SBaseRef":break;case"TextPropsStream":break;case"LnExt":break;case"MkrExt":break;case"CrtCoopt":break;case"Qsi":case"Qsif":case"Qsir":case"QsiSXTag":break;case"TxtQry":break;case"FilterMode":break;case"AutoFilter":case"AutoFilterInfo":break;case"AutoFilter12":break;case"DropDownObjIds":break;case"Sort":break;case"SortData":break;case"ShapePropsStream":break;case"MsoDrawing":case"MsoDrawingGroup":case"MsoDrawingSelection":break;case"WebPub":case"AutoWebPub":break;case"HeaderFooter":case"HFPicture":case"PLV":case"HorizontalPageBreaks":case"VerticalPageBreaks":break;case"Backup":case"CompressPictures":case"Compat12":break;case"Continue":case"ContinueFrt12":break;case"FrtFontList":case"FrtWrapper":break;default:switch(Y.n){case"TabIdConf":case"Radar":case"RadarArea":case"DropBar":case"Intl":case"CoordList":case"SerAuxErrBar":break;case"BIFF2FONTCLR":case"BIFF2FMTCNT":case"BIFF2FONTXTRA":break;case"BIFF2XF":case"BIFF3XF":case"BIFF4XF":break;case"BIFF2XFINDEX":break;case"BIFF4FMTCNT":case"BIFF2ROW":case"BIFF2WINDOW2":break;case"SCENARIO":case"DConBin":case"PicF":case"DataLabExt":case"Lel":case"BopPop":case"BopPopCustom":case"RealTimeData":case"Name":break;case"LHNGraph":case"FnGroupName":case"AddMenu":case"LPr":break;case"ListObj":case"ListField":break;case"RRSort":break;case"BigName":break;case"ToolbarHdr":case"ToolbarEnd":break;case"DDEObjName":break;case"FRTArchId$":break;default:if(t.WTF)throw"Unrecognized Record "+Y.n}}}}}else e.l+=X}return a.SheetNames=J(p).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return p[e].name})),t.bookSheets||(a.Sheets=r),!a.SheetNames.length&&b["!ref"]?(a.SheetNames.push("Sheet1"),a.Sheets&&(a.Sheets["Sheet1"]=b)):a.Preamble=b,a.Sheets&&H.forEach((function(e,t){a.Sheets[a.SheetNames[t]]["!autofilter"]=e})),a.Strings=_,a.SSF=F.get_table(),D.enc&&(a.Encryption=D.enc),u&&(a.Themes=u),a.Metadata={},void 0!==d&&(a.Metadata.Country=d),L.names.length>0&&(O.Names=L.names),a.Workbook=O,a}var qm={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Xm(e,t,a){var r=X.find(e,"!DocumentSummaryInformation");if(r&&r.size>0)try{var i=Hi(r,Sr,qm.DSI);for(var n in i)t[n]=i[n]}catch(D_){if(a.WTF)throw D_}var s=X.find(e,"!SummaryInformation");if(s&&s.size>0)try{var o=Hi(s,Cr,qm.SI);for(var l in o)null==t[l]&&(t[l]=o[l])}catch(D_){if(a.WTF)throw D_}t.HeadingPairs&&t.TitlesOfParts&&(ui(t.HeadingPairs,t.TitlesOfParts,t,a),delete t.HeadingPairs,delete t.TitlesOfParts)}function Ym(e,t){var a,r=[],i=[],n=[],s=0;if(e.Props)for(a=J(e.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(Or,a[s])?r:Object.prototype.hasOwnProperty.call(Tr,a[s])?i:n).push([a[s],e.Props[a[s]]]);if(e.Custprops)for(a=J(e.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(Or,a[s])?r:Object.prototype.hasOwnProperty.call(Tr,a[s])?i:n).push([a[s],e.Custprops[a[s]]]);var o=[];for(s=0;s<n.length;++s)zi.indexOf(n[s][0])>-1||null!=n[s][1]&&o.push(n[s]);i.length&&X.utils.cfb_add(t,"/SummaryInformation",Gi(i,qm.SI,Tr,Cr)),(r.length||o.length)&&X.utils.cfb_add(t,"/DocumentSummaryInformation",Gi(r,qm.DSI,Or,Sr,o.length?o:null,qm.UDI))}function Km(e,t){var a,r,i,n;if(t||(t={}),Wg(t),m(),t.codepage&&h(t.codepage),e.FullPaths){if(X.find(e,"/encryption"))throw new Error("File is password-protected");a=X.find(e,"!CompObj"),r=X.find(e,"/Workbook")||X.find(e,"/Book")}else{switch(t.type){case"base64":e=A(S.decode(e));break;case"binary":e=A(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Qt(e,0),r={content:e}}if(a&&Vm(a),t.bookProps&&!t.bookSheets)i={};else{var s=C?"buffer":"array";if(r&&r.content)i=Wm(r.content,t);else if((n=X.find(e,"PerfectOffice_MAIN"))&&n.content)i=So.to_workbook(n.content,(t.type=s,t));else{if(!(n=X.find(e,"NativeContent_MAIN"))||!n.content)throw(n=X.find(e,"MN0"))&&n.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");i=So.to_workbook(n.content,(t.type=s,t))}t.bookVBA&&e.FullPaths&&X.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=ad(e))}var o={};return e.FullPaths&&Xm(e,o,t),i.Props=i.Custprops=o,t.bookFiles&&(i.cfb=e),i}function Zm(e,t){var a=t||{},r=X.utils.cfb_new({root:"R"}),i="/Workbook";switch(a.bookType||"xls"){case"xls":a.bookType="biff8";case"xla":a.bookType||(a.bookType="xla");case"biff8":i="/Workbook",a.biff=8;break;case"biff5":i="/Book",a.biff=5;break;default:throw new Error("invalid type "+a.bookType+" for XLS CFB")}return X.utils.cfb_add(r,i,yg(e,a)),8==a.biff&&(e.Props||e.Custprops)&&Ym(e,r),8==a.biff&&e.vbaraw&&rd(r,X.read(e.vbaraw,{type:"string"==typeof e.vbaraw?"binary":"buffer"})),r}var Jm={0:{n:"BrtRowHdr",f:ap},1:{n:"BrtCellBlank",f:dp},2:{n:"BrtCellRk",f:Ap},3:{n:"BrtCellError",f:vp},4:{n:"BrtCellBool",f:fp},5:{n:"BrtCellReal",f:Op},6:{n:"BrtCellSt",f:Rp},7:{n:"BrtCellIsst",f:xp},8:{n:"BrtFmlaString",f:zp},9:{n:"BrtFmlaNum",f:$p},10:{n:"BrtFmlaBool",f:Fp},11:{n:"BrtFmlaError",f:Np},12:{n:"BrtShortBlank",f:hp},13:{n:"BrtShortRk",f:Mp},14:{n:"BrtShortError",f:yp},15:{n:"BrtShortBool",f:gp},16:{n:"BrtShortReal",f:jp},17:{n:"BrtShortSt",f:Pp},18:{n:"BrtShortIsst",f:Sp},19:{n:"BrtSSTItem",f:Ba},20:{n:"BrtPCDIMissing"},21:{n:"BrtPCDINumber"},22:{n:"BrtPCDIBoolean"},23:{n:"BrtPCDIError"},24:{n:"BrtPCDIString"},25:{n:"BrtPCDIDatetime"},26:{n:"BrtPCDIIndex"},27:{n:"BrtPCDIAMissing"},28:{n:"BrtPCDIANumber"},29:{n:"BrtPCDIABoolean"},30:{n:"BrtPCDIAError"},31:{n:"BrtPCDIAString"},32:{n:"BrtPCDIADatetime"},33:{n:"BrtPCRRecord"},34:{n:"BrtPCRRecordDt"},35:{n:"BrtFRTBegin"},36:{n:"BrtFRTEnd"},37:{n:"BrtACBegin"},38:{n:"BrtACEnd"},39:{n:"BrtName",f:Wf},40:{n:"BrtIndexRowBlock"},42:{n:"BrtIndexBlock"},43:{n:"BrtFont",f:ql},44:{n:"BrtFmt",f:Gl},45:{n:"BrtFill",f:Zl},46:{n:"BrtBorder",f:ac},47:{n:"BrtXF",f:Ql},48:{n:"BrtStyle"},49:{n:"BrtCellMeta"},50:{n:"BrtValueMeta"},51:{n:"BrtMdb"},52:{n:"BrtBeginFmd"},53:{n:"BrtEndFmd"},54:{n:"BrtBeginMdx"},55:{n:"BrtEndMdx"},56:{n:"BrtBeginMdxTuple"},57:{n:"BrtEndMdxTuple"},58:{n:"BrtMdxMbrIstr"},59:{n:"BrtStr"},60:{n:"BrtColInfo",f:eo},62:{n:"BrtCellRString"},63:{n:"BrtCalcChainItem$",f:Fc},64:{n:"BrtDVal",f:nf},65:{n:"BrtSxvcellNum"},66:{n:"BrtSxvcellStr"},67:{n:"BrtSxvcellBool"},68:{n:"BrtSxvcellErr"},69:{n:"BrtSxvcellDate"},70:{n:"BrtSxvcellNil"},128:{n:"BrtFileVersion"},129:{n:"BrtBeginSheet"},130:{n:"BrtEndSheet"},131:{n:"BrtBeginBook",f:ea,p:0},132:{n:"BrtEndBook"},133:{n:"BrtBeginWsViews"},134:{n:"BrtEndWsViews"},135:{n:"BrtBeginBookViews"},136:{n:"BrtEndBookViews"},137:{n:"BrtBeginWsView",f:ef},138:{n:"BrtEndWsView"},139:{n:"BrtBeginCsViews"},140:{n:"BrtEndCsViews"},141:{n:"BrtBeginCsView"},142:{n:"BrtEndCsView"},143:{n:"BrtBeginBundleShs"},144:{n:"BrtEndBundleShs"},145:{n:"BrtBeginSheetData"},146:{n:"BrtEndSheetData"},147:{n:"BrtWsProp",f:lp},148:{n:"BrtWsDim",f:np,p:16},151:{n:"BrtPane",f:qp},152:{n:"BrtSel"},153:{n:"BrtWbProp",f:Uf},154:{n:"BrtWbFactoid"},155:{n:"BrtFileRecover"},156:{n:"BrtBundleSh",f:zf},157:{n:"BrtCalcProp"},158:{n:"BrtBookView"},159:{n:"BrtBeginSst",f:Fo},160:{n:"BrtEndSst"},161:{n:"BrtBeginAFilter",f:er},162:{n:"BrtEndAFilter"},163:{n:"BrtBeginFilterColumn"},164:{n:"BrtEndFilterColumn"},165:{n:"BrtBeginFilters"},166:{n:"BrtEndFilters"},167:{n:"BrtFilter"},168:{n:"BrtColorFilter"},169:{n:"BrtIconFilter"},170:{n:"BrtTop10Filter"},171:{n:"BrtDynamicFilter"},172:{n:"BrtBeginCustomFilters"},173:{n:"BrtEndCustomFilters"},174:{n:"BrtCustomFilter"},175:{n:"BrtAFilterDateGroupItem"},176:{n:"BrtMergeCell",f:Vp},177:{n:"BrtBeginMergeCells"},178:{n:"BrtEndMergeCells"},179:{n:"BrtBeginPivotCacheDef"},180:{n:"BrtEndPivotCacheDef"},181:{n:"BrtBeginPCDFields"},182:{n:"BrtEndPCDFields"},183:{n:"BrtBeginPCDField"},184:{n:"BrtEndPCDField"},185:{n:"BrtBeginPCDSource"},186:{n:"BrtEndPCDSource"},187:{n:"BrtBeginPCDSRange"},188:{n:"BrtEndPCDSRange"},189:{n:"BrtBeginPCDFAtbl"},190:{n:"BrtEndPCDFAtbl"},191:{n:"BrtBeginPCDIRun"},192:{n:"BrtEndPCDIRun"},193:{n:"BrtBeginPivotCacheRecords"},194:{n:"BrtEndPivotCacheRecords"},195:{n:"BrtBeginPCDHierarchies"},196:{n:"BrtEndPCDHierarchies"},197:{n:"BrtBeginPCDHierarchy"},198:{n:"BrtEndPCDHierarchy"},199:{n:"BrtBeginPCDHFieldsUsage"},200:{n:"BrtEndPCDHFieldsUsage"},201:{n:"BrtBeginExtConnection"},202:{n:"BrtEndExtConnection"},203:{n:"BrtBeginECDbProps"},204:{n:"BrtEndECDbProps"},205:{n:"BrtBeginECOlapProps"},206:{n:"BrtEndECOlapProps"},207:{n:"BrtBeginPCDSConsol"},208:{n:"BrtEndPCDSConsol"},209:{n:"BrtBeginPCDSCPages"},210:{n:"BrtEndPCDSCPages"},211:{n:"BrtBeginPCDSCPage"},212:{n:"BrtEndPCDSCPage"},213:{n:"BrtBeginPCDSCPItem"},214:{n:"BrtEndPCDSCPItem"},215:{n:"BrtBeginPCDSCSets"},216:{n:"BrtEndPCDSCSets"},217:{n:"BrtBeginPCDSCSet"},218:{n:"BrtEndPCDSCSet"},219:{n:"BrtBeginPCDFGroup"},220:{n:"BrtEndPCDFGroup"},221:{n:"BrtBeginPCDFGItems"},222:{n:"BrtEndPCDFGItems"},223:{n:"BrtBeginPCDFGRange"},224:{n:"BrtEndPCDFGRange"},225:{n:"BrtBeginPCDFGDiscrete"},226:{n:"BrtEndPCDFGDiscrete"},227:{n:"BrtBeginPCDSDTupleCache"},228:{n:"BrtEndPCDSDTupleCache"},229:{n:"BrtBeginPCDSDTCEntries"},230:{n:"BrtEndPCDSDTCEntries"},231:{n:"BrtBeginPCDSDTCEMembers"},232:{n:"BrtEndPCDSDTCEMembers"},233:{n:"BrtBeginPCDSDTCEMember"},234:{n:"BrtEndPCDSDTCEMember"},235:{n:"BrtBeginPCDSDTCQueries"},236:{n:"BrtEndPCDSDTCQueries"},237:{n:"BrtBeginPCDSDTCQuery"},238:{n:"BrtEndPCDSDTCQuery"},239:{n:"BrtBeginPCDSDTCSets"},240:{n:"BrtEndPCDSDTCSets"},241:{n:"BrtBeginPCDSDTCSet"},242:{n:"BrtEndPCDSDTCSet"},243:{n:"BrtBeginPCDCalcItems"},244:{n:"BrtEndPCDCalcItems"},245:{n:"BrtBeginPCDCalcItem"},246:{n:"BrtEndPCDCalcItem"},247:{n:"BrtBeginPRule"},248:{n:"BrtEndPRule"},249:{n:"BrtBeginPRFilters"},250:{n:"BrtEndPRFilters"},251:{n:"BrtBeginPRFilter"},252:{n:"BrtEndPRFilter"},253:{n:"BrtBeginPNames"},254:{n:"BrtEndPNames"},255:{n:"BrtBeginPName"},256:{n:"BrtEndPName"},257:{n:"BrtBeginPNPairs"},258:{n:"BrtEndPNPairs"},259:{n:"BrtBeginPNPair"},260:{n:"BrtEndPNPair"},261:{n:"BrtBeginECWebProps"},262:{n:"BrtEndECWebProps"},263:{n:"BrtBeginEcWpTables"},264:{n:"BrtEndECWPTables"},265:{n:"BrtBeginECParams"},266:{n:"BrtEndECParams"},267:{n:"BrtBeginECParam"},268:{n:"BrtEndECParam"},269:{n:"BrtBeginPCDKPIs"},270:{n:"BrtEndPCDKPIs"},271:{n:"BrtBeginPCDKPI"},272:{n:"BrtEndPCDKPI"},273:{n:"BrtBeginDims"},274:{n:"BrtEndDims"},275:{n:"BrtBeginDim"},276:{n:"BrtEndDim"},277:{n:"BrtIndexPartEnd"},278:{n:"BrtBeginStyleSheet"},279:{n:"BrtEndStyleSheet"},280:{n:"BrtBeginSXView"},281:{n:"BrtEndSXVI"},282:{n:"BrtBeginSXVI"},283:{n:"BrtBeginSXVIs"},284:{n:"BrtEndSXVIs"},285:{n:"BrtBeginSXVD"},286:{n:"BrtEndSXVD"},287:{n:"BrtBeginSXVDs"},288:{n:"BrtEndSXVDs"},289:{n:"BrtBeginSXPI"},290:{n:"BrtEndSXPI"},291:{n:"BrtBeginSXPIs"},292:{n:"BrtEndSXPIs"},293:{n:"BrtBeginSXDI"},294:{n:"BrtEndSXDI"},295:{n:"BrtBeginSXDIs"},296:{n:"BrtEndSXDIs"},297:{n:"BrtBeginSXLI"},298:{n:"BrtEndSXLI"},299:{n:"BrtBeginSXLIRws"},300:{n:"BrtEndSXLIRws"},301:{n:"BrtBeginSXLICols"},302:{n:"BrtEndSXLICols"},303:{n:"BrtBeginSXFormat"},304:{n:"BrtEndSXFormat"},305:{n:"BrtBeginSXFormats"},306:{n:"BrtEndSxFormats"},307:{n:"BrtBeginSxSelect"},308:{n:"BrtEndSxSelect"},309:{n:"BrtBeginISXVDRws"},310:{n:"BrtEndISXVDRws"},311:{n:"BrtBeginISXVDCols"},312:{n:"BrtEndISXVDCols"},313:{n:"BrtEndSXLocation"},314:{n:"BrtBeginSXLocation"},315:{n:"BrtEndSXView"},316:{n:"BrtBeginSXTHs"},317:{n:"BrtEndSXTHs"},318:{n:"BrtBeginSXTH"},319:{n:"BrtEndSXTH"},320:{n:"BrtBeginISXTHRws"},321:{n:"BrtEndISXTHRws"},322:{n:"BrtBeginISXTHCols"},323:{n:"BrtEndISXTHCols"},324:{n:"BrtBeginSXTDMPS"},325:{n:"BrtEndSXTDMPs"},326:{n:"BrtBeginSXTDMP"},327:{n:"BrtEndSXTDMP"},328:{n:"BrtBeginSXTHItems"},329:{n:"BrtEndSXTHItems"},330:{n:"BrtBeginSXTHItem"},331:{n:"BrtEndSXTHItem"},332:{n:"BrtBeginMetadata"},333:{n:"BrtEndMetadata"},334:{n:"BrtBeginEsmdtinfo"},335:{n:"BrtMdtinfo"},336:{n:"BrtEndEsmdtinfo"},337:{n:"BrtBeginEsmdb"},338:{n:"BrtEndEsmdb"},339:{n:"BrtBeginEsfmd"},340:{n:"BrtEndEsfmd"},341:{n:"BrtBeginSingleCells"},342:{n:"BrtEndSingleCells"},343:{n:"BrtBeginList"},344:{n:"BrtEndList"},345:{n:"BrtBeginListCols"},346:{n:"BrtEndListCols"},347:{n:"BrtBeginListCol"},348:{n:"BrtEndListCol"},349:{n:"BrtBeginListXmlCPr"},350:{n:"BrtEndListXmlCPr"},351:{n:"BrtListCCFmla"},352:{n:"BrtListTrFmla"},353:{n:"BrtBeginExternals"},354:{n:"BrtEndExternals"},355:{n:"BrtSupBookSrc",f:Xa},357:{n:"BrtSupSelf"},358:{n:"BrtSupSame"},359:{n:"BrtSupTabs"},360:{n:"BrtBeginSupBook"},361:{n:"BrtPlaceholderName"},362:{n:"BrtExternSheet",f:Ds},363:{n:"BrtExternTableStart"},364:{n:"BrtExternTableEnd"},366:{n:"BrtExternRowHdr"},367:{n:"BrtExternCellBlank"},368:{n:"BrtExternCellReal"},369:{n:"BrtExternCellBool"},370:{n:"BrtExternCellError"},371:{n:"BrtExternCellString"},372:{n:"BrtBeginEsmdx"},373:{n:"BrtEndEsmdx"},374:{n:"BrtBeginMdxSet"},375:{n:"BrtEndMdxSet"},376:{n:"BrtBeginMdxMbrProp"},377:{n:"BrtEndMdxMbrProp"},378:{n:"BrtBeginMdxKPI"},379:{n:"BrtEndMdxKPI"},380:{n:"BrtBeginEsstr"},381:{n:"BrtEndEsstr"},382:{n:"BrtBeginPRFItem"},383:{n:"BrtEndPRFItem"},384:{n:"BrtBeginPivotCacheIDs"},385:{n:"BrtEndPivotCacheIDs"},386:{n:"BrtBeginPivotCacheID"},387:{n:"BrtEndPivotCacheID"},388:{n:"BrtBeginISXVIs"},389:{n:"BrtEndISXVIs"},390:{n:"BrtBeginColInfos"},391:{n:"BrtEndColInfos"},392:{n:"BrtBeginRwBrk"},393:{n:"BrtEndRwBrk"},394:{n:"BrtBeginColBrk"},395:{n:"BrtEndColBrk"},396:{n:"BrtBrk"},397:{n:"BrtUserBookView"},398:{n:"BrtInfo"},399:{n:"BrtCUsr"},400:{n:"BrtUsr"},401:{n:"BrtBeginUsers"},403:{n:"BrtEOF"},404:{n:"BrtUCR"},405:{n:"BrtRRInsDel"},406:{n:"BrtRREndInsDel"},407:{n:"BrtRRMove"},408:{n:"BrtRREndMove"},409:{n:"BrtRRChgCell"},410:{n:"BrtRREndChgCell"},411:{n:"BrtRRHeader"},412:{n:"BrtRRUserView"},413:{n:"BrtRRRenSheet"},414:{n:"BrtRRInsertSh"},415:{n:"BrtRRDefName"},416:{n:"BrtRRNote"},417:{n:"BrtRRConflict"},418:{n:"BrtRRTQSIF"},419:{n:"BrtRRFormat"},420:{n:"BrtRREndFormat"},421:{n:"BrtRRAutoFmt"},422:{n:"BrtBeginUserShViews"},423:{n:"BrtBeginUserShView"},424:{n:"BrtEndUserShView"},425:{n:"BrtEndUserShViews"},426:{n:"BrtArrFmla",f:Xp},427:{n:"BrtShrFmla",f:Yp},428:{n:"BrtTable"},429:{n:"BrtBeginExtConnections"},430:{n:"BrtEndExtConnections"},431:{n:"BrtBeginPCDCalcMems"},432:{n:"BrtEndPCDCalcMems"},433:{n:"BrtBeginPCDCalcMem"},434:{n:"BrtEndPCDCalcMem"},435:{n:"BrtBeginPCDHGLevels"},436:{n:"BrtEndPCDHGLevels"},437:{n:"BrtBeginPCDHGLevel"},438:{n:"BrtEndPCDHGLevel"},439:{n:"BrtBeginPCDHGLGroups"},440:{n:"BrtEndPCDHGLGroups"},441:{n:"BrtBeginPCDHGLGroup"},442:{n:"BrtEndPCDHGLGroup"},443:{n:"BrtBeginPCDHGLGMembers"},444:{n:"BrtEndPCDHGLGMembers"},445:{n:"BrtBeginPCDHGLGMember"},446:{n:"BrtEndPCDHGLGMember"},447:{n:"BrtBeginQSI"},448:{n:"BrtEndQSI"},449:{n:"BrtBeginQSIR"},450:{n:"BrtEndQSIR"},451:{n:"BrtBeginDeletedNames"},452:{n:"BrtEndDeletedNames"},453:{n:"BrtBeginDeletedName"},454:{n:"BrtEndDeletedName"},455:{n:"BrtBeginQSIFs"},456:{n:"BrtEndQSIFs"},457:{n:"BrtBeginQSIF"},458:{n:"BrtEndQSIF"},459:{n:"BrtBeginAutoSortScope"},460:{n:"BrtEndAutoSortScope"},461:{n:"BrtBeginConditionalFormatting"},462:{n:"BrtEndConditionalFormatting"},463:{n:"BrtBeginCFRule"},464:{n:"BrtEndCFRule"},465:{n:"BrtBeginIconSet"},466:{n:"BrtEndIconSet"},467:{n:"BrtBeginDatabar"},468:{n:"BrtEndDatabar"},469:{n:"BrtBeginColorScale"},470:{n:"BrtEndColorScale"},471:{n:"BrtCFVO"},472:{n:"BrtExternValueMeta"},473:{n:"BrtBeginColorPalette"},474:{n:"BrtEndColorPalette"},475:{n:"BrtIndexedColor"},476:{n:"BrtMargins",f:Jp},477:{n:"BrtPrintOptions"},478:{n:"BrtPageSetup"},479:{n:"BrtBeginHeaderFooter"},480:{n:"BrtEndHeaderFooter"},481:{n:"BrtBeginSXCrtFormat"},482:{n:"BrtEndSXCrtFormat"},483:{n:"BrtBeginSXCrtFormats"},484:{n:"BrtEndSXCrtFormats"},485:{n:"BrtWsFmtInfo",f:op},486:{n:"BrtBeginMgs"},487:{n:"BrtEndMGs"},488:{n:"BrtBeginMGMaps"},489:{n:"BrtEndMGMaps"},490:{n:"BrtBeginMG"},491:{n:"BrtEndMG"},492:{n:"BrtBeginMap"},493:{n:"BrtEndMap"},494:{n:"BrtHLink",f:Gp},495:{n:"BrtBeginDCon"},496:{n:"BrtEndDCon"},497:{n:"BrtBeginDRefs"},498:{n:"BrtEndDRefs"},499:{n:"BrtDRef"},500:{n:"BrtBeginScenMan"},501:{n:"BrtEndScenMan"},502:{n:"BrtBeginSct"},503:{n:"BrtEndSct"},504:{n:"BrtSlc"},505:{n:"BrtBeginDXFs"},506:{n:"BrtEndDXFs"},507:{n:"BrtDXF"},508:{n:"BrtBeginTableStyles"},509:{n:"BrtEndTableStyles"},510:{n:"BrtBeginTableStyle"},511:{n:"BrtEndTableStyle"},512:{n:"BrtTableStyleElement"},513:{n:"BrtTableStyleClient"},514:{n:"BrtBeginVolDeps"},515:{n:"BrtEndVolDeps"},516:{n:"BrtBeginVolType"},517:{n:"BrtEndVolType"},518:{n:"BrtBeginVolMain"},519:{n:"BrtEndVolMain"},520:{n:"BrtBeginVolTopic"},521:{n:"BrtEndVolTopic"},522:{n:"BrtVolSubtopic"},523:{n:"BrtVolRef"},524:{n:"BrtVolNum"},525:{n:"BrtVolErr"},526:{n:"BrtVolStr"},527:{n:"BrtVolBool"},528:{n:"BrtBeginCalcChain$"},529:{n:"BrtEndCalcChain$"},530:{n:"BrtBeginSortState"},531:{n:"BrtEndSortState"},532:{n:"BrtBeginSortCond"},533:{n:"BrtEndSortCond"},534:{n:"BrtBookProtection"},535:{n:"BrtSheetProtection"},536:{n:"BrtRangeProtection"},537:{n:"BrtPhoneticInfo"},538:{n:"BrtBeginECTxtWiz"},539:{n:"BrtEndECTxtWiz"},540:{n:"BrtBeginECTWFldInfoLst"},541:{n:"BrtEndECTWFldInfoLst"},542:{n:"BrtBeginECTwFldInfo"},548:{n:"BrtFileSharing"},549:{n:"BrtOleSize"},550:{n:"BrtDrawing",f:Xa},551:{n:"BrtLegacyDrawing"},552:{n:"BrtLegacyDrawingHF"},553:{n:"BrtWebOpt"},554:{n:"BrtBeginWebPubItems"},555:{n:"BrtEndWebPubItems"},556:{n:"BrtBeginWebPubItem"},557:{n:"BrtEndWebPubItem"},558:{n:"BrtBeginSXCondFmt"},559:{n:"BrtEndSXCondFmt"},560:{n:"BrtBeginSXCondFmts"},561:{n:"BrtEndSXCondFmts"},562:{n:"BrtBkHim"},564:{n:"BrtColor"},565:{n:"BrtBeginIndexedColors"},566:{n:"BrtEndIndexedColors"},569:{n:"BrtBeginMRUColors"},570:{n:"BrtEndMRUColors"},572:{n:"BrtMRUColor"},573:{n:"BrtBeginDVals"},574:{n:"BrtEndDVals"},577:{n:"BrtSupNameStart"},578:{n:"BrtSupNameValueStart"},579:{n:"BrtSupNameValueEnd"},580:{n:"BrtSupNameNum"},581:{n:"BrtSupNameErr"},582:{n:"BrtSupNameSt"},583:{n:"BrtSupNameNil"},584:{n:"BrtSupNameBool"},585:{n:"BrtSupNameFmla"},586:{n:"BrtSupNameBits"},587:{n:"BrtSupNameEnd"},588:{n:"BrtEndSupBook"},589:{n:"BrtCellSmartTagProperty"},590:{n:"BrtBeginCellSmartTag"},591:{n:"BrtEndCellSmartTag"},592:{n:"BrtBeginCellSmartTags"},593:{n:"BrtEndCellSmartTags"},594:{n:"BrtBeginSmartTags"},595:{n:"BrtEndSmartTags"},596:{n:"BrtSmartTagType"},597:{n:"BrtBeginSmartTagTypes"},598:{n:"BrtEndSmartTagTypes"},599:{n:"BrtBeginSXFilters"},600:{n:"BrtEndSXFilters"},601:{n:"BrtBeginSXFILTER"},602:{n:"BrtEndSXFilter"},603:{n:"BrtBeginFills"},604:{n:"BrtEndFills"},605:{n:"BrtBeginCellWatches"},606:{n:"BrtEndCellWatches"},607:{n:"BrtCellWatch"},608:{n:"BrtBeginCRErrs"},609:{n:"BrtEndCRErrs"},610:{n:"BrtCrashRecErr"},611:{n:"BrtBeginFonts"},612:{n:"BrtEndFonts"},613:{n:"BrtBeginBorders"},614:{n:"BrtEndBorders"},615:{n:"BrtBeginFmts"},616:{n:"BrtEndFmts"},617:{n:"BrtBeginCellXFs"},618:{n:"BrtEndCellXFs"},619:{n:"BrtBeginStyles"},620:{n:"BrtEndStyles"},625:{n:"BrtBigName"},626:{n:"BrtBeginCellStyleXFs"},627:{n:"BrtEndCellStyleXFs"},628:{n:"BrtBeginComments"},629:{n:"BrtEndComments"},630:{n:"BrtBeginCommentAuthors"},631:{n:"BrtEndCommentAuthors"},632:{n:"BrtCommentAuthor",f:Zc},633:{n:"BrtBeginCommentList"},634:{n:"BrtEndCommentList"},635:{n:"BrtBeginComment",f:Yc},636:{n:"BrtEndComment"},637:{n:"BrtCommentText",f:La},638:{n:"BrtBeginOleObjects"},639:{n:"BrtOleObject"},640:{n:"BrtEndOleObjects"},641:{n:"BrtBeginSxrules"},642:{n:"BrtEndSxRules"},643:{n:"BrtBeginActiveXControls"},644:{n:"BrtActiveX"},645:{n:"BrtEndActiveXControls"},646:{n:"BrtBeginPCDSDTCEMembersSortBy"},648:{n:"BrtBeginCellIgnoreECs"},649:{n:"BrtCellIgnoreEC"},650:{n:"BrtEndCellIgnoreECs"},651:{n:"BrtCsProp",f:wf},652:{n:"BrtCsPageSetup"},653:{n:"BrtBeginUserCsViews"},654:{n:"BrtEndUserCsViews"},655:{n:"BrtBeginUserCsView"},656:{n:"BrtEndUserCsView"},657:{n:"BrtBeginPcdSFCIEntries"},658:{n:"BrtEndPCDSFCIEntries"},659:{n:"BrtPCDSFCIEntry"},660:{n:"BrtBeginListParts"},661:{n:"BrtListPart"},662:{n:"BrtEndListParts"},663:{n:"BrtSheetCalcProp"},664:{n:"BrtBeginFnGroup"},665:{n:"BrtFnGroup"},666:{n:"BrtEndFnGroup"},667:{n:"BrtSupAddin"},668:{n:"BrtSXTDMPOrder"},669:{n:"BrtCsProtection"},671:{n:"BrtBeginWsSortMap"},672:{n:"BrtEndWsSortMap"},673:{n:"BrtBeginRRSort"},674:{n:"BrtEndRRSort"},675:{n:"BrtRRSortItem"},676:{n:"BrtFileSharingIso"},677:{n:"BrtBookProtectionIso"},678:{n:"BrtSheetProtectionIso"},679:{n:"BrtCsProtectionIso"},680:{n:"BrtRangeProtectionIso"},681:{n:"BrtDValList"},1024:{n:"BrtRwDescent"},1025:{n:"BrtKnownFonts"},1026:{n:"BrtBeginSXTupleSet"},1027:{n:"BrtEndSXTupleSet"},1028:{n:"BrtBeginSXTupleSetHeader"},1029:{n:"BrtEndSXTupleSetHeader"},1030:{n:"BrtSXTupleSetHeaderItem"},1031:{n:"BrtBeginSXTupleSetData"},1032:{n:"BrtEndSXTupleSetData"},1033:{n:"BrtBeginSXTupleSetRow"},1034:{n:"BrtEndSXTupleSetRow"},1035:{n:"BrtSXTupleSetRowItem"},1036:{n:"BrtNameExt"},1037:{n:"BrtPCDH14"},1038:{n:"BrtBeginPCDCalcMem14"},1039:{n:"BrtEndPCDCalcMem14"},1040:{n:"BrtSXTH14"},1041:{n:"BrtBeginSparklineGroup"},1042:{n:"BrtEndSparklineGroup"},1043:{n:"BrtSparkline"},1044:{n:"BrtSXDI14"},1045:{n:"BrtWsFmtInfoEx14"},1046:{n:"BrtBeginConditionalFormatting14"},1047:{n:"BrtEndConditionalFormatting14"},1048:{n:"BrtBeginCFRule14"},1049:{n:"BrtEndCFRule14"},1050:{n:"BrtCFVO14"},1051:{n:"BrtBeginDatabar14"},1052:{n:"BrtBeginIconSet14"},1053:{n:"BrtDVal14",f:sf},1054:{n:"BrtBeginDVals14"},1055:{n:"BrtColor14"},1056:{n:"BrtBeginSparklines"},1057:{n:"BrtEndSparklines"},1058:{n:"BrtBeginSparklineGroups"},1059:{n:"BrtEndSparklineGroups"},1061:{n:"BrtSXVD14"},1062:{n:"BrtBeginSXView14"},1063:{n:"BrtEndSXView14"},1064:{n:"BrtBeginSXView16"},1065:{n:"BrtEndSXView16"},1066:{n:"BrtBeginPCD14"},1067:{n:"BrtEndPCD14"},1068:{n:"BrtBeginExtConn14"},1069:{n:"BrtEndExtConn14"},1070:{n:"BrtBeginSlicerCacheIDs"},1071:{n:"BrtEndSlicerCacheIDs"},1072:{n:"BrtBeginSlicerCacheID"},1073:{n:"BrtEndSlicerCacheID"},1075:{n:"BrtBeginSlicerCache"},1076:{n:"BrtEndSlicerCache"},1077:{n:"BrtBeginSlicerCacheDef"},1078:{n:"BrtEndSlicerCacheDef"},1079:{n:"BrtBeginSlicersEx"},1080:{n:"BrtEndSlicersEx"},1081:{n:"BrtBeginSlicerEx"},1082:{n:"BrtEndSlicerEx"},1083:{n:"BrtBeginSlicer"},1084:{n:"BrtEndSlicer"},1085:{n:"BrtSlicerCachePivotTables"},1086:{n:"BrtBeginSlicerCacheOlapImpl"},1087:{n:"BrtEndSlicerCacheOlapImpl"},1088:{n:"BrtBeginSlicerCacheLevelsData"},1089:{n:"BrtEndSlicerCacheLevelsData"},1090:{n:"BrtBeginSlicerCacheLevelData"},1091:{n:"BrtEndSlicerCacheLevelData"},1092:{n:"BrtBeginSlicerCacheSiRanges"},1093:{n:"BrtEndSlicerCacheSiRanges"},1094:{n:"BrtBeginSlicerCacheSiRange"},1095:{n:"BrtEndSlicerCacheSiRange"},1096:{n:"BrtSlicerCacheOlapItem"},1097:{n:"BrtBeginSlicerCacheSelections"},1098:{n:"BrtSlicerCacheSelection"},1099:{n:"BrtEndSlicerCacheSelections"},1100:{n:"BrtBeginSlicerCacheNative"},1101:{n:"BrtEndSlicerCacheNative"},1102:{n:"BrtSlicerCacheNativeItem"},1103:{n:"BrtRangeProtection14"},1104:{n:"BrtRangeProtectionIso14"},1105:{n:"BrtCellIgnoreEC14"},1111:{n:"BrtList14"},1112:{n:"BrtCFIcon"},1113:{n:"BrtBeginSlicerCachesPivotCacheIDs"},1114:{n:"BrtEndSlicerCachesPivotCacheIDs"},1115:{n:"BrtBeginSlicers"},1116:{n:"BrtEndSlicers"},1117:{n:"BrtWbProp14"},1118:{n:"BrtBeginSXEdit"},1119:{n:"BrtEndSXEdit"},1120:{n:"BrtBeginSXEdits"},1121:{n:"BrtEndSXEdits"},1122:{n:"BrtBeginSXChange"},1123:{n:"BrtEndSXChange"},1124:{n:"BrtBeginSXChanges"},1125:{n:"BrtEndSXChanges"},1126:{n:"BrtSXTupleItems"},1128:{n:"BrtBeginSlicerStyle"},1129:{n:"BrtEndSlicerStyle"},1130:{n:"BrtSlicerStyleElement"},1131:{n:"BrtBeginStyleSheetExt14"},1132:{n:"BrtEndStyleSheetExt14"},1133:{n:"BrtBeginSlicerCachesPivotCacheID"},1134:{n:"BrtEndSlicerCachesPivotCacheID"},1135:{n:"BrtBeginConditionalFormattings"},1136:{n:"BrtEndConditionalFormattings"},1137:{n:"BrtBeginPCDCalcMemExt"},1138:{n:"BrtEndPCDCalcMemExt"},1139:{n:"BrtBeginPCDCalcMemsExt"},1140:{n:"BrtEndPCDCalcMemsExt"},1141:{n:"BrtPCDField14"},1142:{n:"BrtBeginSlicerStyles"},1143:{n:"BrtEndSlicerStyles"},1144:{n:"BrtBeginSlicerStyleElements"},1145:{n:"BrtEndSlicerStyleElements"},1146:{n:"BrtCFRuleExt"},1147:{n:"BrtBeginSXCondFmt14"},1148:{n:"BrtEndSXCondFmt14"},1149:{n:"BrtBeginSXCondFmts14"},1150:{n:"BrtEndSXCondFmts14"},1152:{n:"BrtBeginSortCond14"},1153:{n:"BrtEndSortCond14"},1154:{n:"BrtEndDVals14"},1155:{n:"BrtEndIconSet14"},1156:{n:"BrtEndDatabar14"},1157:{n:"BrtBeginColorScale14"},1158:{n:"BrtEndColorScale14"},1159:{n:"BrtBeginSxrules14"},1160:{n:"BrtEndSxrules14"},1161:{n:"BrtBeginPRule14"},1162:{n:"BrtEndPRule14"},1163:{n:"BrtBeginPRFilters14"},1164:{n:"BrtEndPRFilters14"},1165:{n:"BrtBeginPRFilter14"},1166:{n:"BrtEndPRFilter14"},1167:{n:"BrtBeginPRFItem14"},1168:{n:"BrtEndPRFItem14"},1169:{n:"BrtBeginCellIgnoreECs14"},1170:{n:"BrtEndCellIgnoreECs14"},1171:{n:"BrtDxf14"},1172:{n:"BrtBeginDxF14s"},1173:{n:"BrtEndDxf14s"},1177:{n:"BrtFilter14"},1178:{n:"BrtBeginCustomFilters14"},1180:{n:"BrtCustomFilter14"},1181:{n:"BrtIconFilter14"},1182:{n:"BrtPivotCacheConnectionName"},2048:{n:"BrtBeginDecoupledPivotCacheIDs"},2049:{n:"BrtEndDecoupledPivotCacheIDs"},2050:{n:"BrtDecoupledPivotCacheID"},2051:{n:"BrtBeginPivotTableRefs"},2052:{n:"BrtEndPivotTableRefs"},2053:{n:"BrtPivotTableRef"},2054:{n:"BrtSlicerCacheBookPivotTables"},2055:{n:"BrtBeginSxvcells"},2056:{n:"BrtEndSxvcells"},2057:{n:"BrtBeginSxRow"},2058:{n:"BrtEndSxRow"},2060:{n:"BrtPcdCalcMem15"},2067:{n:"BrtQsi15"},2068:{n:"BrtBeginWebExtensions"},2069:{n:"BrtEndWebExtensions"},2070:{n:"BrtWebExtension"},2071:{n:"BrtAbsPath15"},2072:{n:"BrtBeginPivotTableUISettings"},2073:{n:"BrtEndPivotTableUISettings"},2075:{n:"BrtTableSlicerCacheIDs"},2076:{n:"BrtTableSlicerCacheID"},2077:{n:"BrtBeginTableSlicerCache"},2078:{n:"BrtEndTableSlicerCache"},2079:{n:"BrtSxFilter15"},2080:{n:"BrtBeginTimelineCachePivotCacheIDs"},2081:{n:"BrtEndTimelineCachePivotCacheIDs"},2082:{n:"BrtTimelineCachePivotCacheID"},2083:{n:"BrtBeginTimelineCacheIDs"},2084:{n:"BrtEndTimelineCacheIDs"},2085:{n:"BrtBeginTimelineCacheID"},2086:{n:"BrtEndTimelineCacheID"},2087:{n:"BrtBeginTimelinesEx"},2088:{n:"BrtEndTimelinesEx"},2089:{n:"BrtBeginTimelineEx"},2090:{n:"BrtEndTimelineEx"},2091:{n:"BrtWorkBookPr15"},2092:{n:"BrtPCDH15"},2093:{n:"BrtBeginTimelineStyle"},2094:{n:"BrtEndTimelineStyle"},2095:{n:"BrtTimelineStyleElement"},2096:{n:"BrtBeginTimelineStylesheetExt15"},2097:{n:"BrtEndTimelineStylesheetExt15"},2098:{n:"BrtBeginTimelineStyles"},2099:{n:"BrtEndTimelineStyles"},2100:{n:"BrtBeginTimelineStyleElements"},2101:{n:"BrtEndTimelineStyleElements"},2102:{n:"BrtDxf15"},2103:{n:"BrtBeginDxfs15"},2104:{n:"brtEndDxfs15"},2105:{n:"BrtSlicerCacheHideItemsWithNoData"},2106:{n:"BrtBeginItemUniqueNames"},2107:{n:"BrtEndItemUniqueNames"},2108:{n:"BrtItemUniqueName"},2109:{n:"BrtBeginExtConn15"},2110:{n:"BrtEndExtConn15"},2111:{n:"BrtBeginOledbPr15"},2112:{n:"BrtEndOledbPr15"},2113:{n:"BrtBeginDataFeedPr15"},2114:{n:"BrtEndDataFeedPr15"},2115:{n:"BrtTextPr15"},2116:{n:"BrtRangePr15"},2117:{n:"BrtDbCommand15"},2118:{n:"BrtBeginDbTables15"},2119:{n:"BrtEndDbTables15"},2120:{n:"BrtDbTable15"},2121:{n:"BrtBeginDataModel"},2122:{n:"BrtEndDataModel"},2123:{n:"BrtBeginModelTables"},2124:{n:"BrtEndModelTables"},2125:{n:"BrtModelTable"},2126:{n:"BrtBeginModelRelationships"},2127:{n:"BrtEndModelRelationships"},2128:{n:"BrtModelRelationship"},2129:{n:"BrtBeginECTxtWiz15"},2130:{n:"BrtEndECTxtWiz15"},2131:{n:"BrtBeginECTWFldInfoLst15"},2132:{n:"BrtEndECTWFldInfoLst15"},2133:{n:"BrtBeginECTWFldInfo15"},2134:{n:"BrtFieldListActiveItem"},2135:{n:"BrtPivotCacheIdVersion"},2136:{n:"BrtSXDI15"},2137:{n:"BrtBeginModelTimeGroupings"},2138:{n:"BrtEndModelTimeGroupings"},2139:{n:"BrtBeginModelTimeGrouping"},2140:{n:"BrtEndModelTimeGrouping"},2141:{n:"BrtModelTimeGroupingCalcCol"},3072:{n:"BrtUid"},3073:{n:"BrtRevisionPtr"},5095:{n:"BrtBeginCalcFeatures"},5096:{n:"BrtEndCalcFeatures"},5097:{n:"BrtCalcFeature"},65535:{n:""}},Qm=Q(Jm,"n");Qm["BrtFRTArchID$"]=16;var eg={6:{n:"Formula",f:Ju},10:{n:"EOF",f:Wi},12:{n:"CalcCount",f:Zi},13:{n:"CalcMode",f:Zi},14:{n:"CalcPrecision",f:Yi},15:{n:"CalcRefMode",f:Yi},16:{n:"CalcDelta",f:ar},17:{n:"CalcIter",f:Yi},18:{n:"Protect",f:Yi},19:{n:"Password",f:Zi},20:{n:"Header",f:Os},21:{n:"Footer",f:Os},23:{n:"ExternSheet",f:Ds},24:{n:"Lbl",f:As},25:{n:"WinProtect",f:Yi},26:{n:"VerticalPageBreaks"},27:{n:"HorizontalPageBreaks"},28:{n:"Note",f:Fs},29:{n:"Selection"},34:{n:"Date1904",f:Yi},35:{n:"ExternName",f:js},38:{n:"LeftMargin",f:ar},39:{n:"RightMargin",f:ar},40:{n:"TopMargin",f:ar},41:{n:"BottomMargin",f:ar},42:{n:"PrintRowCol",f:Yi},43:{n:"PrintGrid",f:Yi},47:{n:"FilePass",f:ul},49:{n:"Font",f:rs},51:{n:"PrintSize",f:Zi},60:{n:"Continue"},61:{n:"Window1",f:Jn},64:{n:"Backup",f:Yi},65:{n:"Pane",f:as},66:{n:"CodePage",f:Zi},77:{n:"Pls"},80:{n:"DCon"},81:{n:"DConRef"},82:{n:"DConName"},85:{n:"DefColWidth",f:Zi},89:{n:"XCT"},90:{n:"CRN"},91:{n:"FileSharing"},92:{n:"WriteAccess",f:$n},93:{n:"Obj",f:zs},94:{n:"Uncalced"},95:{n:"CalcSaveRecalc",f:Yi},96:{n:"Template"},97:{n:"Intl"},99:{n:"ObjProtect",f:Yi},125:{n:"ColInfo",f:eo},128:{n:"Guts",f:ys},129:{n:"WsBool",f:Vn},130:{n:"GridSet",f:Zi},131:{n:"HCenter",f:Yi},132:{n:"VCenter",f:Yi},133:{n:"BoundSheet8",f:Un},134:{n:"WriteProtect"},140:{n:"Country",f:Ys},141:{n:"HideObj",f:Zi},144:{n:"Sort"},146:{n:"Palette",f:Js},151:{n:"Sync"},152:{n:"LPr"},153:{n:"DxGCol"},154:{n:"FnGroupName"},155:{n:"FilterMode"},156:{n:"BuiltInFnGroupCount",f:Zi},157:{n:"AutoFilterInfo"},158:{n:"AutoFilter"},160:{n:"Scl",f:so},161:{n:"Setup",f:ao},174:{n:"ScenMan"},175:{n:"SCENARIO"},176:{n:"SxView"},177:{n:"Sxvd"},178:{n:"SXVI"},180:{n:"SxIvd"},181:{n:"SXLI"},182:{n:"SXPI"},184:{n:"DocRoute"},185:{n:"RecipName"},189:{n:"MulRk",f:ms},190:{n:"MulBlank",f:gs},193:{n:"Mms",f:Wi},197:{n:"SXDI"},198:{n:"SXDB"},199:{n:"SXFDB"},200:{n:"SXDBB"},201:{n:"SXNum"},202:{n:"SxBool",f:Yi},203:{n:"SxErr"},204:{n:"SXInt"},205:{n:"SXString"},206:{n:"SXDtr"},207:{n:"SxNil"},208:{n:"SXTbl"},209:{n:"SXTBRGIITM"},210:{n:"SxTbpg"},211:{n:"ObProj"},213:{n:"SXStreamID"},215:{n:"DBCell"},216:{n:"SXRng"},217:{n:"SxIsxoper"},218:{n:"BookBool",f:Zi},220:{n:"DbOrParamQry"},221:{n:"ScenarioProtect",f:Yi},222:{n:"OleObjectSize"},224:{n:"XF",f:vs},225:{n:"InterfaceHdr",f:Nn},226:{n:"InterfaceEnd",f:Wi},227:{n:"SXVS"},229:{n:"MergeCells",f:Ns},233:{n:"BkHim"},235:{n:"MsoDrawingGroup"},236:{n:"MsoDrawing"},237:{n:"MsoDrawingSelection"},239:{n:"PhoneticInfo"},240:{n:"SxRule"},241:{n:"SXEx"},242:{n:"SxFilt"},244:{n:"SxDXF"},245:{n:"SxItm"},246:{n:"SxName"},247:{n:"SxSelect"},248:{n:"SXPair"},249:{n:"SxFmla"},251:{n:"SxFormat"},252:{n:"SST",f:Gn},253:{n:"LabelSst",f:ns},255:{n:"ExtSST",f:qn},256:{n:"SXVDEx"},259:{n:"SXFormula"},290:{n:"SXDBEx"},311:{n:"RRDInsDel"},312:{n:"RRDHead"},315:{n:"RRDChgCell"},317:{n:"RRTabId",f:Qi},318:{n:"RRDRenSheet"},319:{n:"RRSort"},320:{n:"RRDMove"},330:{n:"RRFormat"},331:{n:"RRAutoFmt"},333:{n:"RRInsertSh"},334:{n:"RRDMoveBegin"},335:{n:"RRDMoveEnd"},336:{n:"RRDInsDelBegin"},337:{n:"RRDInsDelEnd"},338:{n:"RRDConflict"},339:{n:"RRDDefName"},340:{n:"RRDRstEtxp"},351:{n:"LRng"},352:{n:"UsesELFs",f:Yi},353:{n:"DSF",f:Wi},401:{n:"CUsr"},402:{n:"CbUsr"},403:{n:"UsrInfo"},404:{n:"UsrExcl"},405:{n:"FileLock"},406:{n:"RRDInfo"},407:{n:"BCUsrs"},408:{n:"UsrChk"},425:{n:"UserBView"},426:{n:"UserSViewBegin"},427:{n:"UserSViewEnd"},428:{n:"RRDUserView"},429:{n:"Qsi"},430:{n:"SupBook",f:Ts},431:{n:"Prot4Rev",f:Yi},432:{n:"CondFmt"},433:{n:"CF"},434:{n:"DVal"},437:{n:"DConBin"},438:{n:"TxO",f:Hs},439:{n:"RefreshAll",f:Yi},440:{n:"HLink",f:Gs},441:{n:"Lel"},442:{n:"CodeName",f:on},443:{n:"SXFDBType"},444:{n:"Prot4RevPass",f:Zi},445:{n:"ObNoMacros"},446:{n:"Dv"},448:{n:"Excel9File",f:Wi},449:{n:"RecalcId",f:Kn,r:2},450:{n:"EntExU2",f:Wi},512:{n:"Dimensions",f:hs},513:{n:"Blank",f:no},515:{n:"Number",f:Ss},516:{n:"Label",f:os},517:{n:"BoolErr",f:xs},519:{n:"String",f:oo},520:{n:"Row",f:Xn},523:{n:"Index"},545:{n:"Array",f:Bs},549:{n:"DefaultRowHeight",f:Zn},566:{n:"Table"},574:{n:"Window2",f:es},638:{n:"RK",f:fs},659:{n:"Style"},1048:{n:"BigName"},1054:{n:"Format",f:cs},1084:{n:"ContinueBigName"},1212:{n:"ShrFmla",f:Rs},2048:{n:"HLinkTooltip",f:qs},2049:{n:"WebPub"},2050:{n:"QsiSXTag"},2051:{n:"DBQueryExt"},2052:{n:"ExtString"},2053:{n:"TxtQry"},2054:{n:"Qsir"},2055:{n:"Qsif"},2056:{n:"RRDTQSIF"},2057:{n:"BOF",f:Ln},2058:{n:"OleDbConn"},2059:{n:"WOpt"},2060:{n:"SXViewEx"},2061:{n:"SXTH"},2062:{n:"SXPIEx"},2063:{n:"SXVDTEx"},2064:{n:"SXViewEx9"},2066:{n:"ContinueFrt"},2067:{n:"RealTimeData"},2128:{n:"ChartFrtInfo"},2129:{n:"FrtWrapper"},2130:{n:"StartBlock"},2131:{n:"EndBlock"},2132:{n:"StartObject"},2133:{n:"EndObject"},2134:{n:"CatLab"},2135:{n:"YMult"},2136:{n:"SXViewLink"},2137:{n:"PivotChartBits"},2138:{n:"FrtFontList"},2146:{n:"SheetExt"},2147:{n:"BookExt",r:12},2148:{n:"SXAddl"},2149:{n:"CrErr"},2150:{n:"HFPicture"},2151:{n:"FeatHdr",f:Wi},2152:{n:"Feat"},2154:{n:"DataLabExt"},2155:{n:"DataLabExtContents"},2156:{n:"CellWatch"},2161:{n:"FeatHdr11"},2162:{n:"Feature11"},2164:{n:"DropDownObjIds"},2165:{n:"ContinueFrt11"},2166:{n:"DConn"},2167:{n:"List12"},2168:{n:"Feature12"},2169:{n:"CondFmt12"},2170:{n:"CF12"},2171:{n:"CFEx"},2172:{n:"XFCRC",f:Qs,r:12},2173:{n:"XFExt",f:Bc,r:12},2174:{n:"AutoFilter12"},2175:{n:"ContinueFrt12"},2180:{n:"MDTInfo"},2181:{n:"MDXStr"},2182:{n:"MDXTuple"},2183:{n:"MDXSet"},2184:{n:"MDXProp"},2185:{n:"MDXKPI"},2186:{n:"MDB"},2187:{n:"PLV"},2188:{n:"Compat12",f:Yi,r:12},2189:{n:"DXF"},2190:{n:"TableStyles",r:12},2191:{n:"TableStyle"},2192:{n:"TableStyleElement"},2194:{n:"StyleExt"},2195:{n:"NamePublish"},2196:{n:"NameCmt",f:Es,r:12},2197:{n:"SortData"},2198:{n:"Theme",f:Ic,r:12},2199:{n:"GUIDTypeLib"},2200:{n:"FnGrp12"},2201:{n:"NameFnGrp12"},2202:{n:"MTRSettings",f:Ps,r:12},2203:{n:"CompressPictures",f:Wi},2204:{n:"HeaderFooter"},2205:{n:"CrtLayout12"},2206:{n:"CrtMlFrt"},2207:{n:"CrtMlFrtContinue"},2211:{n:"ForceFullCalculation",f:Yn},2212:{n:"ShapePropsStream"},2213:{n:"TextPropsStream"},2214:{n:"RichTextStream"},2215:{n:"CrtLayout12A"},4097:{n:"Units"},4098:{n:"Chart"},4099:{n:"Series"},4102:{n:"DataFormat"},4103:{n:"LineFormat"},4105:{n:"MarkerFormat"},4106:{n:"AreaFormat"},4107:{n:"PieFormat"},4108:{n:"AttachedLabel"},4109:{n:"SeriesText"},4116:{n:"ChartFormat"},4117:{n:"Legend"},4118:{n:"SeriesList"},4119:{n:"Bar"},4120:{n:"Line"},4121:{n:"Pie"},4122:{n:"Area"},4123:{n:"Scatter"},4124:{n:"CrtLine"},4125:{n:"Axis"},4126:{n:"Tick"},4127:{n:"ValueRange"},4128:{n:"CatSerRange"},4129:{n:"AxisLine"},4130:{n:"CrtLink"},4132:{n:"DefaultText"},4133:{n:"Text"},4134:{n:"FontX",f:Zi},4135:{n:"ObjectLink"},4146:{n:"Frame"},4147:{n:"Begin"},4148:{n:"End"},4149:{n:"PlotArea"},4154:{n:"Chart3d"},4156:{n:"PicF"},4157:{n:"DropBar"},4158:{n:"Radar"},4159:{n:"Surf"},4160:{n:"RadarArea"},4161:{n:"AxisParent"},4163:{n:"LegendException"},4164:{n:"ShtProps",f:ro},4165:{n:"SerToCrt"},4166:{n:"AxesUsed"},4168:{n:"SBaseRef"},4170:{n:"SerParent"},4171:{n:"SerAuxTrend"},4174:{n:"IFmtRecord"},4175:{n:"Pos"},4176:{n:"AlRuns"},4177:{n:"BRAI"},4187:{n:"SerAuxErrBar"},4188:{n:"ClrtClient",f:Zs},4189:{n:"SerFmt"},4191:{n:"Chart3DBarShape"},4192:{n:"Fbi"},4193:{n:"BopPop"},4194:{n:"AxcExt"},4195:{n:"Dat"},4196:{n:"PlotGrowth"},4197:{n:"SIIndex"},4198:{n:"GelFrame"},4199:{n:"BopPopCustom"},4200:{n:"Fbi2"},0:{n:"Dimensions",f:hs},1:{n:"BIFF2BLANK"},2:{n:"BIFF2INT",f:po},3:{n:"BIFF2NUM",f:uo},4:{n:"BIFF2STR",f:co},5:{n:"BoolErr",f:xs},7:{n:"String",f:mo},8:{n:"BIFF2ROW"},9:{n:"BOF",f:Ln},11:{n:"Index"},22:{n:"ExternCount",f:Zi},30:{n:"BIFF2FORMAT",f:us},31:{n:"BIFF2FMTCNT"},32:{n:"BIFF2COLINFO"},33:{n:"Array",f:Bs},36:{n:"COLWIDTH"},37:{n:"DefaultRowHeight",f:Zn},50:{n:"BIFF2FONTXTRA",f:go},62:{n:"BIFF2WINDOW2"},52:{n:"DDEObjName"},67:{n:"BIFF2XF"},68:{n:"BIFF2XFINDEX",f:Zi},69:{n:"BIFF2FONTCLR"},86:{n:"BIFF4FMTCNT"},126:{n:"RK"},127:{n:"ImData",f:lo},135:{n:"Addin"},136:{n:"Edg"},137:{n:"Pub"},145:{n:"Sub"},148:{n:"LHRecord"},149:{n:"LHNGraph"},150:{n:"Sound"},169:{n:"CoordList"},171:{n:"GCW"},188:{n:"ShrFmla"},191:{n:"ToolbarHdr"},192:{n:"ToolbarEnd"},194:{n:"AddMenu"},195:{n:"DelMenu"},214:{n:"RString",f:_o},223:{n:"UDDesc"},234:{n:"TabIdConf"},354:{n:"XL5Modify"},421:{n:"FileSharing2"},518:{n:"Formula",f:Ju},521:{n:"BOF",f:Ln},536:{n:"Lbl",f:As},547:{n:"ExternName",f:js},561:{n:"Font"},579:{n:"BIFF3XF"},1030:{n:"Formula",f:Ju},1033:{n:"BOF",f:Ln},1091:{n:"BIFF4XF"},2157:{n:"FeatInfo"},2163:{n:"FeatInfo11"},2177:{n:"SXAddl12"},2240:{n:"AutoWebPub"},2241:{n:"ListObj"},2242:{n:"ListField"},2243:{n:"ListDV"},2244:{n:"ListCondFmt"},2245:{n:"ListCF"},2246:{n:"FMQry"},2247:{n:"FMSQry"},2248:{n:"PLV"},2249:{n:"LnExt"},2250:{n:"MkrExt"},2251:{n:"CrtCoopt"},2262:{n:"FRTArchId$",r:12},29282:{}},tg=Q(eg,"n");function ag(e,t,a,r){var i="number"==typeof t?t:+t||+tg[t];if(!isNaN(i)){var n=r||(a||[]).length||0,s=e.next(4);s.write_shift(2,i),s.write_shift(2,n),n>0&&$t(a)&&e.push(a)}}function rg(e,t,a,r){var i=r||(a||[]).length||0;if(i<=8224)return ag(e,t,a,i);var n=+t||+tg[t];if(!isNaN(n)){var s=a.parts||[],o=0,l=0,c=0;while(c+(s[o]||8224)<=8224)c+=s[o]||8224,o++;var d=e.next(4);d.write_shift(2,n),d.write_shift(2,c),e.push(a.slice(l,l+c)),l+=c;while(l<i){d=e.next(4),d.write_shift(2,60),c=0;while(c+(s[o]||8224)<=8224)c+=s[o]||8224,o++;d.write_shift(2,c),e.push(a.slice(l,l+c)),l+=c}}}function ig(e,t,a){return e||(e=ta(7)),e.write_shift(2,t),e.write_shift(2,a),e.write_shift(2,0),e.write_shift(1,0),e}function ng(e,t,a,r){var i=ta(9);return ig(i,e,t),tn(a,r||"b",i),i}function sg(e,t,a){var r=ta(8+2*a.length);return ig(r,e,t),r.write_shift(1,a.length),r.write_shift(a.length,a,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function og(e,t,a,r){if(null!=t.v)switch(t.t){case"d":case"n":var i="d"==t.t?ie(he(t.v)):t.v;return void(i==(0|i)&&i>=0&&i<65536?ag(e,2,fo(a,r,i)):ag(e,3,ho(a,r,i)));case"b":case"e":return void ag(e,5,ng(a,r,t.v,t.t));case"s":case"str":return void ag(e,4,sg(a,r,(t.v||"").slice(0,255)))}ag(e,1,ig(null,a,r))}function lg(e,t,a,r){var i,n=Array.isArray(t),s=Sa(t["!ref"]||"A1"),o="",l=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),i=wa(s)}for(var c=s.s.r;c<=s.e.r;++c){o=ha(c);for(var d=s.s.c;d<=s.e.c;++d){c===s.s.r&&(l[d]=ga(d)),i=l[d]+o;var u=n?(t[c]||[])[d]:t[i];u&&og(e,u,c,d,r)}}}function cg(e,t){var a=t||{};null!=x&&null==a.dense&&(a.dense=x);for(var r=ra(),i=0,n=0;n<e.SheetNames.length;++n)e.SheetNames[n]==a.sheet&&(i=n);if(0==i&&a.sheet&&e.SheetNames[0]!=a.sheet)throw new Error("Sheet not found: "+a.sheet);return ag(r,4==a.biff?1033:3==a.biff?521:9,Fn(e,16,a)),lg(r,e.Sheets[e.SheetNames[i]],i,a,e),ag(r,10),r.end()}function dg(e,t,a){ag(e,"Font",is({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},a))}function ug(e,t,a){t&&[[5,8],[23,26],[41,44],[50,392]].forEach((function(r){for(var i=r[0];i<=r[1];++i)null!=t[i]&&ag(e,"Format",ds(i,t[i],a))}))}function hg(e,t){var a=ta(19);a.write_shift(4,2151),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(2,3),a.write_shift(1,1),a.write_shift(4,0),ag(e,"FeatHdr",a),a=ta(39),a.write_shift(4,2152),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(2,3),a.write_shift(1,0),a.write_shift(4,0),a.write_shift(2,1),a.write_shift(4,4),a.write_shift(2,0),jn(Sa(t["!ref"]||"A1"),a),a.write_shift(4,4),ag(e,"Feat",a)}function pg(e,t){for(var a=0;a<16;++a)ag(e,"XF",bs({numFmtId:0,style:!0},0,t));t.cellXfs.forEach((function(a){ag(e,"XF",bs(a,0,t))}))}function fg(e,t){for(var a=0;a<t["!links"].length;++a){var r=t["!links"][a];ag(e,"HLink",Ws(r)),r[1].Tooltip&&ag(e,"HLinkTooltip",Xs(r))}delete t["!links"]}function mg(e,t,a){if(t){var r=0;t.forEach((function(t,a){++r<=256&&t&&ag(e,"ColInfo",to(_h(a,t),a))}))}}function gg(e,t,a,r,i){var n=16+bh(i.cellXfs,t,i);if(null!=t.v||t.bf)if(t.bf)ag(e,"Formula",Qu(t,a,r,i,n));else switch(t.t){case"d":case"n":var s="d"==t.t?ie(he(t.v)):t.v;ag(e,"Number",Cs(a,r,s,n,i));break;case"b":case"e":ag(e,517,ws(a,r,t.v,n,i,t.t));break;case"s":case"str":if(i.bookSST){var o=gh(i.Strings,t.v,i.revStrings);ag(e,"LabelSst",ss(a,r,o,n,i))}else ag(e,"Label",ls(a,r,(t.v||"").slice(0,255),n,i));break;default:ag(e,"Blank",kn(a,r,n))}else ag(e,"Blank",kn(a,r,n))}function _g(e,t,a){var r,i=ra(),n=a.SheetNames[e],s=a.Sheets[n]||{},o=(a||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(s),d=8==t.biff,u="",h=[],p=Sa(s["!ref"]||"A1"),f=d?65536:16384;if(p.e.c>255||p.e.r>=f){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,f-1)}ag(i,2057,Fn(a,16,t)),ag(i,"CalcMode",Ji(1)),ag(i,"CalcCount",Ji(100)),ag(i,"CalcRefMode",Ki(!0)),ag(i,"CalcIter",Ki(!1)),ag(i,"CalcDelta",rr(.001)),ag(i,"CalcSaveRecalc",Ki(!0)),ag(i,"PrintRowCol",Ki(!1)),ag(i,"PrintGrid",Ki(!1)),ag(i,"GridSet",Ji(1)),ag(i,"Guts",ks([0,0])),ag(i,"HCenter",Ki(!1)),ag(i,"VCenter",Ki(!1)),d&&mg(i,s["!cols"],s),ag(i,512,ps(p,t)),d&&(s["!links"]=[]);for(var m=p.s.r;m<=p.e.r;++m){u=ha(m);for(var g=p.s.c;g<=p.e.c;++g){m===p.s.r&&(h[g]=ga(g)),r=h[g]+u;var _=c?(s[m]||[])[g]:s[r];_&&(gg(i,_,m,g,t),d&&_.l&&s["!links"].push([r,_.l]))}}var v=l.CodeName||l.name||n;return d&&ag(i,"Window2",ts((o.Views||[])[0])),d&&(s["!merges"]||[]).length&&ag(i,"MergeCells",$s(s["!merges"])),d&&fg(i,s),ag(i,"CodeName",cn(v,t)),d&&hg(i,s),ag(i,"EOF"),i.end()}function vg(e,t,a){var r=ra(),i=(e||{}).Workbook||{},n=i.Sheets||[],s=i.WBProps||{},o=8==a.biff,l=5==a.biff;if(ag(r,2057,Fn(e,5,a)),"xla"==a.bookType&&ag(r,"Addin"),ag(r,"InterfaceHdr",o?Ji(1200):null),ag(r,"Mms",qi(2)),l&&ag(r,"ToolbarHdr"),l&&ag(r,"ToolbarEnd"),ag(r,"InterfaceEnd"),ag(r,"WriteAccess",zn("SheetJS",a)),ag(r,"CodePage",Ji(o?1200:1252)),o&&ag(r,"DSF",Ji(0)),o&&ag(r,"Excel9File"),ag(r,"RRTabId",io(e.SheetNames.length)),o&&e.vbaraw&&ag(r,"ObProj"),o&&e.vbaraw){var c=s.CodeName||"ThisWorkbook";ag(r,"CodeName",cn(c,a))}ag(r,"BuiltInFnGroupCount",Ji(17)),ag(r,"WinProtect",Ki(!1)),ag(r,"Protect",Ki(!1)),ag(r,"Password",Ji(0)),o&&ag(r,"Prot4Rev",Ki(!1)),o&&ag(r,"Prot4RevPass",Ji(0)),ag(r,"Window1",Qn(a)),ag(r,"Backup",Ki(!1)),ag(r,"HideObj",Ji(0)),ag(r,"Date1904",Ki("true"==Mf(e))),ag(r,"CalcPrecision",Ki(!0)),o&&ag(r,"RefreshAll",Ki(!1)),ag(r,"BookBool",Ji(0)),dg(r,e,a),ug(r,e.SSF,a),pg(r,a),o&&ag(r,"UsesELFs",Ki(!1));var d=r.end(),u=ra();o&&ag(u,"Country",Ks()),o&&a.Strings&&rg(u,"SST",Wn(a.Strings,a)),ag(u,"EOF");var h=u.end(),p=ra(),f=0,m=0;for(m=0;m<e.SheetNames.length;++m)f+=(o?12:11)+(o?2:1)*e.SheetNames[m].length;var g=d.length+f+h.length;for(m=0;m<e.SheetNames.length;++m){var _=n[m]||{};ag(p,"BoundSheet8",Hn({pos:g,hs:_.Hidden||0,dt:0,name:e.SheetNames[m]},a)),g+=t[m].length}var v=p.end();if(f!=v.length)throw new Error("BS8 "+f+" != "+v.length);var b=[];return d.length&&b.push(d),v.length&&b.push(v),h.length&&b.push(h),xt([b])}function bg(e,t){var a=t||{},r=[];e&&!e.SSF&&(e.SSF=F.get_table()),e&&e.SSF&&(N(F),F.load_table(e.SSF),a.revssf=te(e.SSF),a.revssf[e.SSF[65535]]=0,a.ssf=e.SSF),a.Strings=[],a.Strings.Count=0,a.Strings.Unique=0,qg(a),a.cellXfs=[],bh(a.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var i=0;i<e.SheetNames.length;++i)r[r.length]=_g(i,a,e);return r.unshift(vg(e,r,a)),xt([r])}function yg(e,t){for(var a=0;a<=e.SheetNames.length;++a){var r=e.Sheets[e.SheetNames[a]];if(r&&r["!ref"]){var i=xa(r["!ref"]);i.e.c>255&&console.error("Worksheet '"+e.SheetNames[a]+"' extends beyond column IV (255).  Data may be lost.")}}var n=t||{};switch(n.biff||2){case 8:case 5:return bg(e,t);case 4:case 3:case 2:return cg(e,t)}throw new Error("invalid type "+n.bookType+" for BIFF")}var kg=function(){function e(e,t){var a=t||{};null!=x&&null==a.dense&&(a.dense=x);var r=a.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var i=e.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var n=e.match(/<\/table/i),s=i.index,o=n&&n.index||e.length,l=ye(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,d=0,u=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},f=[];for(s=0;s<l.length;++s){var m=l[s].trim(),g=m.slice(0,3).toLowerCase();if("<tr"!=g){if("<td"==g||"<th"==g){var _=m.split(/<\/t[dh]>/i);for(o=0;o<_.length;++o){var v=_[o].trim();if(v.match(/<t[dh]/i)){var b=v,y=0;while("<"==b.charAt(0)&&(y=b.indexOf(">"))>-1)b=b.slice(y+1);for(var k=0;k<f.length;++k){var w=f[k];w.s.c==d&&w.s.r<c&&c<=w.e.r&&(d=w.e.c+1,k=-1)}var S=Fe(v.slice(0,v.indexOf(">")));h=S.colspan?+S.colspan:1,((u=+S.rowspan)>1||h>1)&&f.push({s:{r:c,c:d},e:{r:c+(u||1)-1,c:d+h-1}});var C=S.t||S["data-t"]||"";if(b.length){if(b=nt(b),p.s.r>c&&(p.s.r=c),p.e.r<c&&(p.e.r=c),p.s.c>d&&(p.s.c=d),p.e.c<d&&(p.e.c=d),b.length){var O={t:"s",v:b};a.raw||!b.trim().length||"s"==C||("TRUE"===b?O={t:"b",v:!0}:"FALSE"===b?O={t:"b",v:!1}:isNaN(ge(b))?isNaN(_e(b).getDate())||(O={t:"d",v:he(b)},a.cellDates||(O={t:"n",v:ie(O.v)}),O.z=a.dateNF||F._table[14]):O={t:"n",v:ge(b)}),a.dense?(r[c]||(r[c]=[]),r[c][d]=O):r[ka({r:c,c:d})]=O,d+=h}}else d+=h}}}}else{if(++c,a.sheetRows&&a.sheetRows<=c){--c;break}d=0}}return r["!ref"]=wa(p),f.length&&(r["!merges"]=f),r}function t(t,a){var r=t.match(/<table.*?>[\s\S]*?<\/table>/gi);if(!r||0==r.length)throw new Error("Invalid HTML: could not find <table>");if(1==r.length)return Ta(e(r[0],a),a);var i=A_.book_new();return r.forEach((function(t,r){A_.book_append_sheet(i,e(t,a),"Sheet"+(r+1))})),i}function a(e,t,a,r){for(var i=e["!merges"]||[],n=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>a||i[c].s.c>s)&&!(i[c].e.r<a||i[c].e.c<s)){if(i[c].s.r<a||i[c].s.c<s){o=-1;break}o=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(o<0)){var d=ka({r:a,c:s}),u=r.dense?(e[a]||[])[s]:e[d],h=u&&null!=u.v&&(u.h||Xe(u.w||(Oa(u),u.w)||""))||"",p={};o>1&&(p.rowspan=o),l>1&&(p.colspan=l),r.editable?h='<span contenteditable="true">'+h+"</span>":u&&(p["data-t"]=u&&u.t||"z",null!=u.v&&(p["data-v"]=u.v),null!=u.z&&(p["data-z"]=u.z),u.l&&"#"!=(u.l.Target||"#").charAt(0)&&(h='<a href="'+u.l.Target+'">'+h+"</a>")),p.id=(r.id||"sjs")+"-"+d,n.push(pt("td",h,p))}}var f="<tr>";return f+n.join("")+"</tr>"}function r(e,t,a){var r=[];return r.join("")+"<table"+(a&&a.id?' id="'+a.id+'"':"")+">"}var i='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',n="</body></html>";function s(e,t){var s=t||{},o=null!=s.header?s.header:i,l=null!=s.footer?s.footer:n,c=[o],d=xa(e["!ref"]);s.dense=Array.isArray(e),c.push(r(e,d,s));for(var u=d.s.r;u<=d.e.r;++u)c.push(a(e,d,u,s));return c.push("</table>"+l),c.join("")}return{to_workbook:t,to_sheet:e,_row:a,BEGIN:i,END:n,_preamble:r,from_sheet:s}}();function xg(e,t,a){var r=a||{};null!=x&&(r.dense=x);var i=0,n=0;if(null!=r.origin)if("number"==typeof r.origin)i=r.origin;else{var s="string"==typeof r.origin?ya(r.origin):r.origin;i=s.r,n=s.c}var o=t.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:i,c:n}};if(e["!ref"]){var d=xa(e["!ref"]);c.s.r=Math.min(c.s.r,d.s.r),c.s.c=Math.min(c.s.c,d.s.c),c.e.r=Math.max(c.e.r,d.e.r),c.e.c=Math.max(c.e.c,d.e.c),-1==i&&(c.e.r=i=d.e.r+1)}var u=[],h=0,p=e["!rows"]||(e["!rows"]=[]),f=0,m=0,g=0,_=0,v=0,b=0;for(e["!cols"]||(e["!cols"]=[]);f<o.length&&m<l;++f){var y=o[f];if(Cg(y)){if(r.display)continue;p[m]={hidden:!0}}var k=y.children;for(g=_=0;g<k.length;++g){var w=k[g];if(!r.display||!Cg(w)){var S=w.hasAttribute("data-v")?w.getAttribute("data-v"):w.hasAttribute("v")?w.getAttribute("v"):nt(w.innerHTML),C=w.getAttribute("data-z")||w.getAttribute("z");for(h=0;h<u.length;++h){var O=u[h];O.s.c==_+n&&O.s.r<m+i&&m+i<=O.e.r&&(_=O.e.c+1-n,h=-1)}b=+w.getAttribute("colspan")||1,((v=+w.getAttribute("rowspan")||1)>1||b>1)&&u.push({s:{r:m+i,c:_+n},e:{r:m+i+(v||1)-1,c:_+n+(b||1)-1}});var T={t:"s",v:S},j=w.getAttribute("data-t")||w.getAttribute("t")||"";null!=S&&(0==S.length?T.t=j||"z":r.raw||0==S.trim().length||"s"==j||("TRUE"===S?T={t:"b",v:!0}:"FALSE"===S?T={t:"b",v:!1}:isNaN(ge(S))?isNaN(_e(S).getDate())||(T={t:"d",v:he(S)},r.cellDates||(T={t:"n",v:ie(T.v)}),T.z=r.dateNF||F._table[14]):T={t:"n",v:ge(S)})),void 0===T.z&&null!=C&&(T.z=C);var I="",A=w.getElementsByTagName("A");if(A&&A.length)for(var D=0;D<A.length;++D)if(A[D].hasAttribute("href")&&(I=A[D].getAttribute("href"),"#"!=I.charAt(0)))break;I&&"#"!=I.charAt(0)&&(T.l={Target:I}),r.dense?(e[m+i]||(e[m+i]=[]),e[m+i][_+n]=T):e[ka({c:_+n,r:m+i})]=T,c.e.c<_+n&&(c.e.c=_+n),_+=b}}++m}return u.length&&(e["!merges"]=(e["!merges"]||[]).concat(u)),c.e.r=Math.max(c.e.r,m-1+i),e["!ref"]=wa(c),m>=l&&(e["!fullref"]=wa((c.e.r=o.length-f+m-1+i,c))),e}function wg(e,t){var a=t||{},r=a.dense?[]:{};return xg(r,e,t)}function Sg(e,t){return Ta(wg(e,t),t)}function Cg(e){var t="",a=Og(e);return a&&(t=a(e).getPropertyValue("display")),t||(t=e.style.display),"none"===t}function Og(e){return e.ownerDocument.defaultView&&"function"===typeof e.ownerDocument.defaultView.getComputedStyle?e.ownerDocument.defaultView.getComputedStyle:"function"===typeof getComputedStyle?getComputedStyle:null}var Tg=function(){var e=function(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,(function(e,t){return Array(parseInt(t,10)+1).join(" ")})).replace(/<text:tab[^>]*\/>/g,"\t").replace(/<text:line-break\/>/g,"\n"),a=Ve(t.replace(/<[^>]*>/g,""));return[a]},t={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};return function(a,r){var i=r||{};null!=x&&null==i.dense&&(i.dense=x);var n,s,o,l,c,d,u,h=Cm(a),p=[],f={name:""},m="",g=0,_={},v=[],b=i.dense?[]:{},y={value:""},k="",w=0,S=[],C=-1,O=-1,T={s:{r:1e6,c:1e7},e:{r:0,c:0}},j=0,I={},A=[],D={},M=0,E=0,R=[],B=1,P=1,L=[],F={Names:[]},N={},$=["",""],z=[],V={},U="",H=0,G=!1,W=!1,q=0;Om.lastIndex=0,h=h.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");while(c=Om.exec(h))switch(c[3]=c[3].replace(/_.*$/,"")){case"table":case"工作表":"/"===c[1]?(T.e.c>=T.s.c&&T.e.r>=T.s.r?b["!ref"]=wa(T):b["!ref"]="A1:A1",i.sheetRows>0&&i.sheetRows<=T.e.r&&(b["!fullref"]=b["!ref"],T.e.r=i.sheetRows-1,b["!ref"]=wa(T)),A.length&&(b["!merges"]=A),R.length&&(b["!rows"]=R),o.name=o["名称"]||o.name,"undefined"!==typeof JSON&&JSON.stringify(o),v.push(o.name),_[o.name]=b,W=!1):"/"!==c[0].charAt(c[0].length-2)&&(o=Fe(c[0],!1),C=O=-1,T.s.r=T.s.c=1e7,T.e.r=T.e.c=0,b=i.dense?[]:{},A=[],R=[],W=!0);break;case"table-row-group":"/"===c[1]?--j:++j;break;case"table-row":case"行":if("/"===c[1]){C+=B,B=1;break}if(l=Fe(c[0],!1),l["行号"]?C=l["行号"]-1:-1==C&&(C=0),B=+l["number-rows-repeated"]||1,B<10)for(q=0;q<B;++q)j>0&&(R[C+q]={level:j});O=-1;break;case"covered-table-cell":"/"!==c[1]&&++O,i.sheetStubs&&(i.dense?(b[C]||(b[C]=[]),b[C][O]={t:"z"}):b[ka({r:C,c:O})]={t:"z"}),k="",S=[];break;case"table-cell":case"数据":if("/"===c[0].charAt(c[0].length-2))++O,y=Fe(c[0],!1),P=parseInt(y["number-columns-repeated"]||"1",10),d={t:"z",v:null},y.formula&&0!=i.cellFormula&&(d.f=ch(Ve(y.formula))),"string"==(y["数据类型"]||y["value-type"])&&(d.t="s",d.v=Ve(y["string-value"]||""),i.dense?(b[C]||(b[C]=[]),b[C][O]=d):b[ka({r:C,c:O})]=d),O+=P-1;else if("/"!==c[1]){++O,k="",w=0,S=[],P=1;var X=B?C+B-1:C;if(O>T.e.c&&(T.e.c=O),O<T.s.c&&(T.s.c=O),C<T.s.r&&(T.s.r=C),X>T.e.r&&(T.e.r=X),y=Fe(c[0],!1),z=[],V={},d={t:y["数据类型"]||y["value-type"],v:null},i.cellFormula)if(y.formula&&(y.formula=Ve(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(M=parseInt(y["number-matrix-rows-spanned"],10)||0,E=parseInt(y["number-matrix-columns-spanned"],10)||0,D={s:{r:C,c:O},e:{r:C+M-1,c:O+E-1}},d.F=wa(D),L.push([D,d.F])),y.formula)d.f=ch(y.formula);else for(q=0;q<L.length;++q)C>=L[q][0].s.r&&C<=L[q][0].e.r&&O>=L[q][0].s.c&&O<=L[q][0].e.c&&(d.F=L[q][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(M=parseInt(y["number-rows-spanned"],10)||0,E=parseInt(y["number-columns-spanned"],10)||0,D={s:{r:C,c:O},e:{r:C+M-1,c:O+E-1}},A.push(D)),y["number-columns-repeated"]&&(P=parseInt(y["number-columns-repeated"],10)),d.t){case"boolean":d.t="b",d.v=Je(y["boolean-value"]);break;case"float":d.t="n",d.v=parseFloat(y.value);break;case"percentage":d.t="n",d.v=parseFloat(y.value);break;case"currency":d.t="n",d.v=parseFloat(y.value);break;case"date":d.t="d",d.v=he(y["date-value"]),i.cellDates||(d.t="n",d.v=ie(d.v)),d.z="m/d/yy";break;case"time":d.t="n",d.v=ce(y["time-value"])/86400,i.cellDates&&(d.t="d",d.v=le(d.v)),d.z="HH:MM:SS";break;case"number":d.t="n",d.v=parseFloat(y["数据数值"]);break;default:if("string"!==d.t&&"text"!==d.t&&d.t)throw new Error("Unsupported value type "+d.t);d.t="s",null!=y["string-value"]&&(k=Ve(y["string-value"]),S=[])}}else{if(G=!1,"s"===d.t&&(d.v=k||"",S.length&&(d.R=S),G=0==w),N.Target&&(d.l=N),z.length>0&&(d.c=z,z=[]),k&&!1!==i.cellText&&(d.w=k),G&&(d.t="z",delete d.v),(!G||i.sheetStubs)&&!(i.sheetRows&&i.sheetRows<=C))for(var Y=0;Y<B;++Y){if(P=parseInt(y["number-columns-repeated"]||"1",10),i.dense){b[C+Y]||(b[C+Y]=[]),b[C+Y][O]=0==Y?d:fe(d);while(--P>0)b[C+Y][O+P]=fe(d)}else{b[ka({r:C+Y,c:O})]=d;while(--P>0)b[ka({r:C+Y,c:O+P})]=fe(d)}T.e.c<=O&&(T.e.c=O)}P=parseInt(y["number-columns-repeated"]||"1",10),O+=P-1,P=0,d={},k="",S=[]}N={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if("/"===c[1]){if((n=p.pop())[0]!==c[3])throw"Bad state: "+n}else"/"!==c[0].charAt(c[0].length-2)&&p.push([c[3],!0]);break;case"annotation":if("/"===c[1]){if((n=p.pop())[0]!==c[3])throw"Bad state: "+n;V.t=k,S.length&&(V.R=S),V.a=U,z.push(V)}else"/"!==c[0].charAt(c[0].length-2)&&p.push([c[3],!1]);U="",H=0,k="",w=0,S=[];break;case"creator":"/"===c[1]?U=h.slice(H,c.index):H=c.index+c[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if("/"===c[1]){if((n=p.pop())[0]!==c[3])throw"Bad state: "+n}else"/"!==c[0].charAt(c[0].length-2)&&p.push([c[3],!1]);k="",w=0,S=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if("/"===c[1]){if(I[f.name]=m,(n=p.pop())[0]!==c[3])throw"Bad state: "+n}else"/"!==c[0].charAt(c[0].length-2)&&(m="",f=Fe(c[0],!1),p.push([c[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(p[p.length-1][0]){case"time-style":case"date-style":s=Fe(c[0],!1),m+=t[c[3]]["long"===s.style?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(p[p.length-1][0]){case"time-style":case"date-style":s=Fe(c[0],!1),m+=t[c[3]]["long"===s.style?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if("/>"===c[0].slice(-2))break;if("/"===c[1])switch(p[p.length-1][0]){case"number-style":case"date-style":case"time-style":m+=h.slice(g,c.index);break}else g=c.index+c[0].length;break;case"named-range":s=Fe(c[0],!1),$=uh(s["cell-range-address"]);var K={Name:s.name,Ref:$[0]+"!"+$[1]};W&&(K.Sheet=v.length),F.Names.push(K);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(p[p.length-1][0])>-1)break;if("/"!==c[1]||y&&y["string-value"])u=Fe(c[0],!1),w=c.index+c[0].length;else{var Z=e(h.slice(w,c.index),u);k=(k.length>0?k+"\n":"")+Z[0]}break;case"s":break;case"database-range":if("/"===c[1])break;try{$=uh(Fe(c[0])["target-range-address"]),_[$[0]]["!autofilter"]={ref:$[1]}}catch(D_){}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if("/"!==c[1]){if(N=Fe(c[0],!1),!N.href)break;N.Target=Ve(N.href),delete N.href,"#"==N.Target.charAt(0)&&N.Target.indexOf(".")>-1?($=uh(N.Target.slice(1)),N.Target="#"+$[0]+"!"+$[1]):N.Target.match(/^\.\.[\\\/]/)&&(N.Target=N.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(c[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(i.WTF)throw new Error(c)}}var J={Sheets:_,SheetNames:v,Workbook:F};return i.bookSheets&&delete J.Sheets,J}}();function jg(e,t){t=t||{},Se(e,"META-INF/manifest.xml")&&Zr(Oe(e,"META-INF/manifest.xml"),t);var a=Te(e,"content.xml");if(!a)throw new Error("Missing content.xml in ODS / UOF file");var r=Tg(Qe(a),t);return Se(e,"meta.xml")&&(r.Props=ni(Oe(e,"meta.xml"))),r}function Ig(e,t){return Tg(e,t)}var Ag=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+ht({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Ee+t}}(),Dg=function(){var e=function(e){return Ge(e).replace(/  +/g,(function(e){return'<text:s text:c="'+e.length+'"/>'})).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t="          <table:table-cell />\n",a="          <table:covered-table-cell/>\n",r=function(r,i,n){var s=[];s.push('      <table:table table:name="'+Ge(i.SheetNames[n])+'" table:style-name="ta1">\n');var o=0,l=0,c=xa(r["!ref"]||"A1"),d=r["!merges"]||[],u=0,h=Array.isArray(r);if(r["!cols"])for(l=0;l<=c.e.c;++l)s.push("        <table:table-column"+(r["!cols"][l]?' table:style-name="co'+r["!cols"][l].ods+'"':"")+"></table:table-column>\n");var p="",f=r["!rows"]||[];for(o=0;o<c.s.r;++o)p=f[o]?' table:style-name="ro'+f[o].ods+'"':"",s.push("        <table:table-row"+p+"></table:table-row>\n");for(;o<=c.e.r;++o){for(p=f[o]?' table:style-name="ro'+f[o].ods+'"':"",s.push("        <table:table-row"+p+">\n"),l=0;l<c.s.c;++l)s.push(t);for(;l<=c.e.c;++l){var m=!1,g={},_="";for(u=0;u!=d.length;++u)if(!(d[u].s.c>l)&&!(d[u].s.r>o)&&!(d[u].e.c<l)&&!(d[u].e.r<o)){d[u].s.c==l&&d[u].s.r==o||(m=!0),g["table:number-columns-spanned"]=d[u].e.c-d[u].s.c+1,g["table:number-rows-spanned"]=d[u].e.r-d[u].s.r+1;break}if(m)s.push(a);else{var v=ka({r:o,c:l}),b=h?(r[o]||[])[l]:r[v];if(b&&b.f&&(g["table:formula"]=Ge(dh(b.f)),b.F&&b.F.slice(0,v.length)==v)){var y=xa(b.F);g["table:number-matrix-columns-spanned"]=y.e.c-y.s.c+1,g["table:number-matrix-rows-spanned"]=y.e.r-y.s.r+1}if(b){switch(b.t){case"b":_=b.v?"TRUE":"FALSE",g["office:value-type"]="boolean",g["office:boolean-value"]=b.v?"true":"false";break;case"n":_=b.w||String(b.v||0),g["office:value-type"]="float",g["office:value"]=b.v||0;break;case"s":case"str":_=null==b.v?"":b.v,g["office:value-type"]="string";break;case"d":_=b.w||he(b.v).toISOString(),g["office:value-type"]="date",g["office:date-value"]=he(b.v).toISOString(),g["table:style-name"]="ce1";break;default:s.push(t);continue}var k=e(_);if(b.l&&b.l.Target){var x=b.l.Target;x="#"==x.charAt(0)?"#"+hh(x.slice(1)):x,"#"==x.charAt(0)||x.match(/^\w+:/)||(x="../"+x),k=pt("text:a",k,{"xlink:href":x.replace(/&/g,"&amp;")})}s.push("          "+pt("table:table-cell",pt("text:p",k,{}),g)+"\n")}else s.push(t)}}s.push("        </table:table-row>\n")}return s.push("      </table:table>\n"),s.join("")},i=function(e,t){e.push(" <office:automatic-styles>\n"),e.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),e.push('   <number:month number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push('   <number:day number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push("   <number:year/>\n"),e.push("  </number:date-style>\n");var a=0;t.SheetNames.map((function(e){return t.Sheets[e]})).forEach((function(t){if(t&&t["!cols"])for(var r=0;r<t["!cols"].length;++r)if(t["!cols"][r]){var i=t["!cols"][r];if(null==i.width&&null==i.wpx&&null==i.wch)continue;Tl(i),i.ods=a;var n=t["!cols"][r].wpx+"px";e.push('  <style:style style:name="co'+a+'" style:family="table-column">\n'),e.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+n+'"/>\n'),e.push("  </style:style>\n"),++a}}));var r=0;t.SheetNames.map((function(e){return t.Sheets[e]})).forEach((function(t){if(t&&t["!rows"])for(var a=0;a<t["!rows"].length;++a)if(t["!rows"][a]){t["!rows"][a].ods=r;var i=t["!rows"][a].hpx+"px";e.push('  <style:style style:name="ro'+r+'" style:family="table-row">\n'),e.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+i+'"/>\n'),e.push("  </style:style>\n"),++r}})),e.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),e.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),e.push("  </style:style>\n"),e.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),e.push(" </office:automatic-styles>\n")};return function(e,t){var a=[Ee],n=ht({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),s=ht({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==t.bookType?(a.push("<office:document"+n+s+">\n"),a.push(ai().replace(/office:document-meta/g,"office:meta"))):a.push("<office:document-content"+n+">\n"),i(a,e),a.push("  <office:body>\n"),a.push("    <office:spreadsheet>\n");for(var o=0;o!=e.SheetNames.length;++o)a.push(r(e.Sheets[e.SheetNames[o]],e,o,t));return a.push("    </office:spreadsheet>\n"),a.push("  </office:body>\n"),"fods"==t.bookType?a.push("</office:document>"):a.push("</office:document-content>"),a.join("")}}();function Mg(e,t){if("fods"==t.bookType)return Dg(e,t);var a=Ae(),r="",i=[],n=[];return r="mimetype",Ie(a,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",Ie(a,r,Dg(e,t)),i.push([r,"text/xml"]),n.push([r,"ContentFile"]),r="styles.xml",Ie(a,r,Ag(e,t)),i.push([r,"text/xml"]),n.push([r,"StylesFile"]),r="meta.xml",Ie(a,r,Ee+ai()),i.push([r,"text/xml"]),n.push([r,"MetadataFile"]),r="manifest.rdf",Ie(a,r,ti(n)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",Ie(a,r,Jr(i)),a}function Eg(e,t){if(!t)return 0;var a=e.SheetNames.indexOf(t);if(-1==a)throw new Error("Sheet not found: "+t);return a}function Rg(e){return function(t,a){var r=Eg(t,a.sheet);return e.from_sheet(t.Sheets[t.SheetNames[r]],a,t)}}var Bg=Rg(kg),Pg=Rg({from_sheet:C_}),Lg=Rg("undefined"!==typeof bo?bo:{}),Fg=Rg("undefined"!==typeof yo?yo:{}),Ng=Rg("undefined"!==typeof xo?xo:{}),$g=Rg("undefined"!==typeof hl?hl:{}),zg=Rg({from_sheet:O_}),Vg=Rg("undefined"!==typeof vo?vo:{}),Ug=Rg("undefined"!==typeof ko?ko:{}),Hg=Rg("undefined"!==typeof So?{from_sheet:So.sheet_to_wk1}:{});function Gg(e){return function(t){for(var a=0;a!=e.length;++a){var r=e[a];void 0===t[r[0]]&&(t[r[0]]=r[1]),"n"===r[2]&&(t[r[0]]=Number(t[r[0]]))}}}var Wg=function(e){Gg([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)},qg=Gg([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]]);function Xg(e){return Ur.WS.indexOf(e)>-1?"sheet":Ur.CS&&e==Ur.CS?"chart":Ur.DS&&e==Ur.DS?"dialog":Ur.MS&&e==Ur.MS?"macro":e&&e.length?e:"sheet"}function Yg(e,t){if(!e)return 0;try{e=t.map((function(t){return t.id||(t.id=t.strRelID),[t.name,e["!id"][t.id].Target,Xg(e["!id"][t.id].Type)]}))}catch(D_){return null}return e&&0!==e.length?e:null}function Kg(e,t,a,r,i,n,s,o,l,c,d,u){try{n[r]=Gr(Te(e,a,!0),t);var h,p=Oe(e,t);switch(o){case"sheet":h=em(p,t,i,l,n[r],c,d,u);break;case"chart":if(h=tm(p,t,i,l,n[r],c,d,u),!h||!h["!drawel"])break;var f=Me(h["!drawel"].Target,t),m=Hr(f),g=Vc(Te(e,f,!0),Gr(Te(e,m,!0),f)),_=Me(g,f),v=Hr(_);h=kf(Te(e,_,!0),_,l,Gr(Te(e,v,!0),_),c,h);break;case"macro":h=am(p,t,i,l,n[r],c,d,u);break;case"dialog":h=rm(p,t,i,l,n[r],c,d,u);break;default:throw new Error("Unrecognized sheet type "+o)}s[r]=h;var b=[];n&&n[r]&&J(n[r]).forEach((function(a){if(n[r][a].Type==Ur.CMNT){var i=Me(n[r][a].Target,t);if(b=om(Oe(e,i,!0),i,l),!b||!b.length)return;Gc(h,b)}}))}catch(D_){if(l.WTF)throw D_}}function Zg(e){return"/"==e.charAt(0)?e.slice(1):e}function Jg(e,t){if(N(F),t=t||{},Wg(t),Se(e,"META-INF/manifest.xml"))return jg(e,t);if(Se(e,"objectdata.xml"))return jg(e,t);if(Se(e,"Index/Document.iwa"))throw new Error("Unsupported NUMBERS file");if(!Se(e,"[Content_Types].xml")){if(Se(e,"index.xml.gz"))throw new Error("Unsupported NUMBERS 08 file");if(Se(e,"index.xml"))throw new Error("Unsupported NUMBERS 09 file");throw new Error("Unsupported ZIP file")}var a,r,i=je(e),n=Nr(Te(e,"[Content_Types].xml")),s=!1;if(0===n.workbooks.length&&(r="xl/workbook.xml",Oe(e,r,!0)&&n.workbooks.push(r)),0===n.workbooks.length){if(r="xl/workbook.bin",!Oe(e,r,!0))throw new Error("Could not find workbook");n.workbooks.push(r),s=!0}"bin"==n.workbooks[0].slice(-3)&&(s=!0);var o={},l={};if(!t.bookSheets&&!t.bookProps){if(ph=[],n.sst)try{ph=sm(Oe(e,Zg(n.sst)),n.sst,t)}catch(D_){if(t.WTF)throw D_}t.cellStyles&&n.themes.length&&(o=nm(Te(e,n.themes[0].replace(/^\//,""),!0)||"",n.themes[0],t)),n.style&&(l=im(Oe(e,Zg(n.style)),n.style,o,t))}n.links.map((function(a){try{var r=Gr(Te(e,Hr(Zg(a))),a);return cm(Oe(e,Zg(a)),r,a,t)}catch(D_){}}));var c=Qf(Oe(e,Zg(n.workbooks[0])),n.workbooks[0],t),d={},u="";n.coreprops.length&&(u=Oe(e,Zg(n.coreprops[0]),!0),u&&(d=ni(u)),0!==n.extprops.length&&(u=Oe(e,Zg(n.extprops[0]),!0),u&&hi(u,d,t)));var h={};t.bookSheets&&!t.bookProps||0!==n.custprops.length&&(u=Te(e,Zg(n.custprops[0]),!0),u&&(h=gi(u,t)));var p={};if((t.bookSheets||t.bookProps)&&(c.Sheets?a=c.Sheets.map((function(e){return e.name})):d.Worksheets&&d.SheetNames.length>0&&(a=d.SheetNames),t.bookProps&&(p.Props=d,p.Custprops=h),t.bookSheets&&"undefined"!==typeof a&&(p.SheetNames=a),t.bookSheets?p.SheetNames:t.bookProps))return p;a={};var f={};t.bookDeps&&n.calcchain&&(f=lm(Oe(e,Zg(n.calcchain)),n.calcchain,t));var m,g,_=0,v={},b=c.Sheets;d.Worksheets=b.length,d.SheetNames=[];for(var y=0;y!=b.length;++y)d.SheetNames[y]=b[y].name;var k=s?"bin":"xml",x=n.workbooks[0].lastIndexOf("/"),w=(n.workbooks[0].slice(0,x+1)+"_rels/"+n.workbooks[0].slice(x+1)+".rels").replace(/^\//,"");Se(e,w)||(w="xl/_rels/workbook."+k+".rels");var S=Gr(Te(e,w,!0),w);S&&(S=Yg(S,c.Sheets));var C=Oe(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(_=0;_!=d.Worksheets;++_){var O="sheet";if(S&&S[_]?(m="xl/"+S[_][1].replace(/[\/]?xl\//,""),Se(e,m)||(m=S[_][1]),Se(e,m)||(m=w.replace(/_rels\/.*$/,"")+S[_][1]),O=S[_][2]):(m="xl/worksheets/sheet"+(_+1-C)+"."+k,m=m.replace(/sheet0\./,"sheet.")),g=m.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&null!=t.sheets)switch(typeof t.sheets){case"number":if(_!=t.sheets)continue e;break;case"string":if(d.SheetNames[_].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var T=!1,j=0;j!=t.sheets.length;++j)"number"==typeof t.sheets[j]&&t.sheets[j]==_&&(T=1),"string"==typeof t.sheets[j]&&t.sheets[j].toLowerCase()==d.SheetNames[_].toLowerCase()&&(T=1);if(!T)continue e}}Kg(e,m,g,d.SheetNames[_],_,v,a,O,t,c,o,l)}return p={Directory:n,Workbook:c,Props:d,Custprops:h,Deps:f,Sheets:a,SheetNames:d.SheetNames,Strings:ph,Styles:l,Themes:o,SSF:F.get_table()},t&&t.bookFiles&&(e.files?(p.keys=i,p.files=e.files):(p.keys=[],p.files={},e.FullPaths.forEach((function(t,a){t=t.replace(/^Root Entry[\/]/,""),p.keys.push(t),p.files[t]=e.FileIndex[a]})))),t&&t.bookVBA&&(n.vba.length>0?p.vbaraw=Oe(e,Zg(n.vba[0]),!0):n.defaults&&n.defaults.bin===td&&(p.vbaraw=Oe(e,"xl/vbaProject.bin",!0))),p}function Qg(e,t){var a=t||{},r="Workbook",i=X.find(e,r);try{if(r="/!DataSpaces/Version",i=X.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(Go(i.content),r="/!DataSpaces/DataSpaceMap",i=X.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var n=qo(i.content);if(1!==n.length||1!==n[0].comps.length||0!==n[0].comps[0].t||"StrongEncryptionDataSpace"!==n[0].name||"EncryptedPackage"!==n[0].comps[0].v)throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=X.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=Xo(i.content);if(1!=s.length||"StrongEncryptionTransform"!=s[0])throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=X.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);Ko(i.content)}catch(D_){}if(r="/EncryptionInfo",i=X.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=Qo(i.content);if(r="/EncryptedPackage",i=X.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(4==o[0]&&"undefined"!==typeof decrypt_agile)return decrypt_agile(o[1],i.content,a.password||"",a);if(2==o[0]&&"undefined"!==typeof decrypt_std76)return decrypt_std76(o[1],i.content,a.password||"",a);throw new Error("File is password-protected")}function e_(e,t){if(Uc=1024,"ods"==t.bookType)return Mg(e,t);e&&!e.SSF&&(e.SSF=F.get_table()),e&&e.SSF&&(N(F),F.load_table(e.SSF),t.revssf=te(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,mh?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var a="xlsb"==t.bookType?"bin":"xml",r=id.indexOf(t.bookType)>-1,i=Fr();qg(t=t||{});var n=Ae(),s="",o=0;if(t.cellXfs=[],bh(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",Ie(n,s,li(e.Props,t)),i.coreprops.push(s),Yr(t.rels,2,s,Ur.CORE_PROPS),s="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;for(e.Props.Worksheets=e.Props.SheetNames.length,Ie(n,s,fi(e.Props,t)),i.extprops.push(s),Yr(t.rels,3,s,Ur.EXT_PROPS),e.Custprops!==e.Props&&J(e.Custprops||{}).length>0&&(s="docProps/custom.xml",Ie(n,s,vi(e.Custprops,t)),i.custprops.push(s),Yr(t.rels,4,s,Ur.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var d={"!id":{}},u=e.Sheets[e.SheetNames[o-1]],h=(u||{})["!type"]||"sheet";switch(h){case"chart":default:s="xl/worksheets/sheet"+o+"."+a,Ie(n,s,um(o-1,s,t,e,d)),i.sheets.push(s),Yr(t.wbrels,-1,"worksheets/sheet"+o+"."+a,Ur.WS[0])}if(u){var p=u["!comments"],f=!1;if(p&&p.length>0){var m="xl/comments"+o+"."+a;Ie(n,m,fm(p,m,t)),i.comments.push(m),Yr(d,-1,"../comments"+o+"."+a,Ur.CMNT),f=!0}u["!legacy"]&&f&&Ie(n,"xl/drawings/vmlDrawing"+o+".vml",Hc(o,u["!comments"])),delete u["!comments"],delete u["!legacy"]}d["!id"].rId1&&Ie(n,Hr(s),qr(d))}return null!=t.Strings&&t.Strings.length>0&&(s="xl/sharedStrings."+a,Ie(n,s,pm(t.Strings,s,t)),i.strs.push(s),Yr(t.wbrels,-1,"sharedStrings."+a,Ur.SST)),s="xl/workbook."+a,Ie(n,s,dm(e,s,t)),i.workbooks.push(s),Yr(t.rels,1,s,Ur.WB),s="xl/theme/theme1.xml",Ie(n,s,jc(e.Themes,t)),i.themes.push(s),Yr(t.wbrels,-1,"theme/theme1.xml",Ur.THEME),s="xl/styles."+a,Ie(n,s,hm(e,s,t)),i.styles.push(s),Yr(t.wbrels,-1,"styles."+a,Ur.STY),e.vbaraw&&r&&(s="xl/vbaProject.bin",Ie(n,s,e.vbaraw),i.vba.push(s),Yr(t.wbrels,-1,"vbaProject.bin",Ur.VBA)),Ie(n,"[Content_Types].xml",Vr(i,t)),Ie(n,"_rels/.rels",qr(t.rels)),Ie(n,"xl/_rels/workbook."+a+".rels",qr(t.wbrels)),delete t.revssf,delete t.ssf,n}function t_(e,t){var a="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":a=S.decode(e.slice(0,12));break;case"binary":a=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2),a.charCodeAt(3),a.charCodeAt(4),a.charCodeAt(5),a.charCodeAt(6),a.charCodeAt(7)]}function a_(e,t){return X.find(e,"EncryptedPackage")?Qg(e,t):Km(e,t)}function r_(e,t){var a,r=e,n=t||{};return n.type||(n.type=C&&i.isBuffer(e)?"buffer":"base64"),a=De(r,n),Jg(a,n)}function i_(e,t){var a=0;e:while(a<e.length)switch(e.charCodeAt(a)){case 10:case 13:case 32:++a;break;case 60:return jm(e.slice(a),t);default:break e}return xo.to_workbook(e,t)}function n_(e,t){var a="",r=t_(e,t);switch(t.type){case"base64":a=S.decode(e);break;case"binary":a=e;break;case"buffer":a=e.toString("binary");break;case"array":a=pe(e);break;default:throw new Error("Unrecognized type "+t.type)}return 239==r[0]&&187==r[1]&&191==r[2]&&(a=Qe(a)),i_(a,t)}function s_(e,t){var a=e;return"base64"==t.type&&(a=S.decode(a)),a=cptable.utils.decode(1200,a.slice(2),"str"),t.type="binary",i_(a,t)}function o_(e){return e.match(/[^\x00-\x7F]/)?et(e):e}function l_(e,t,a,r){return r?(a.type="string",xo.to_workbook(e,a)):xo.to_workbook(t,a)}function c_(e,t){m();var a=t||{};if("undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer)return c_(new Uint8Array(e),(a=fe(a),a.type="array",a));var r=e,n=[0,0,0,0],s=!1;if(a.cellStyles&&(a.cellNF=!0,a.sheetStubs=!0),fh={},a.dateNF&&(fh.dateNF=a.dateNF),a.type||(a.type=C&&i.isBuffer(e)?"buffer":"base64"),"file"==a.type&&(a.type=C?"buffer":"binary",r=Z(e)),"string"==a.type&&(s=!0,a.type="binary",a.codepage=65001,r=o_(e)),"array"==a.type&&"undefined"!==typeof Uint8Array&&e instanceof Uint8Array&&"undefined"!==typeof ArrayBuffer){var o=new ArrayBuffer(3),l=new Uint8Array(o);if(l.foo="bar",!l.foo)return a=fe(a),a.type="array",c_(R(r),a)}switch((n=t_(r,a))[0]){case 208:if(207===n[1]&&17===n[2]&&224===n[3]&&161===n[4]&&177===n[5]&&26===n[6]&&225===n[7])return a_(X.read(r,a),a);break;case 9:if(n[1]<=8)return Km(r,a);break;case 60:return jm(r,a);case 73:if(73===n[1]&&42===n[2]&&0===n[3])throw new Error("TIFF Image File is not a spreadsheet");if(68===n[1])return wo(r,a);break;case 84:if(65===n[1]&&66===n[2]&&76===n[3])return yo.to_workbook(r,a);break;case 80:return 75===n[1]&&n[2]<9&&n[3]<9?r_(r,a):l_(e,r,a,s);case 239:return 60===n[3]?jm(r,a):l_(e,r,a,s);case 255:if(254===n[1])return s_(r,a);if(0===n[1]&&2===n[2]&&0===n[3])return So.to_workbook(r,a);break;case 0:if(0===n[1]){if(n[2]>=2&&0===n[3])return So.to_workbook(r,a);if(0===n[2]&&(8===n[3]||9===n[3]))return So.to_workbook(r,a)}break;case 3:case 131:case 139:case 140:return vo.to_workbook(r,a);case 123:if(92===n[1]&&114===n[2]&&116===n[3])return hl.to_workbook(r,a);break;case 10:case 13:case 32:return n_(r,a);case 137:if(80===n[1]&&78===n[2]&&71===n[3])throw new Error("PNG Image File is not a spreadsheet");break}return vo.versions.indexOf(n[0])>-1&&n[2]<=12&&n[3]<=31?vo.to_workbook(r,a):l_(e,r,a,s)}function d_(e,t){var a=t||{};return a.type="file",c_(e,a)}function u_(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return K(t.file,X.write(e,{type:C?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return X.write(e,t)}function h_(e,t){var a=fe(t||{}),r=e_(e,a),i={};if(a.compression&&(i.compression="DEFLATE"),a.password)i.type=C?"nodebuffer":"string";else switch(a.type){case"base64":i.type="base64";break;case"binary":i.type="string";break;case"string":throw new Error("'string' output type invalid for '"+a.bookType+"' files");case"buffer":case"file":i.type=C?"nodebuffer":"string";break;default:throw new Error("Unrecognized type "+a.type)}var n=r.FullPaths?X.write(r,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[i.type]||i.type}):r.generate(i);return a.password&&"undefined"!==typeof encrypt_agile?u_(encrypt_agile(n,a.password),a):"file"===a.type?K(a.file,n):"string"==a.type?Qe(n):n}function p_(e,t){var a=t||{},r=Zm(e,a);return u_(r,a)}function f_(e,t,a){a||(a="");var r=a+e;switch(t.type){case"base64":return S.encode(et(r));case"binary":return et(r);case"string":return e;case"file":return K(t.file,r,"utf8");case"buffer":return C?O(r,"utf8"):f_(r,{type:"binary"}).split("").map((function(e){return e.charCodeAt(0)}))}throw new Error("Unrecognized type "+t.type)}function m_(e,t){switch(t.type){case"base64":return S.encode(e);case"binary":return e;case"string":return e;case"file":return K(t.file,e,"binary");case"buffer":return C?O(e,"binary"):e.split("").map((function(e){return e.charCodeAt(0)}))}throw new Error("Unrecognized type "+t.type)}function g_(e,t){switch(t.type){case"string":case"base64":case"binary":for(var a="",r=0;r<e.length;++r)a+=String.fromCharCode(e[r]);return"base64"==t.type?S.encode(a):"string"==t.type?Qe(a):a;case"file":return K(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function __(e,t){m(),Pf(e);var a=fe(t||{});if(a.cellStyles&&(a.cellNF=!0,a.sheetStubs=!0),"array"==a.type){a.type="binary";var r=__(e,a);return a.type="array",D(r)}switch(a.bookType||"xlsb"){case"xml":case"xlml":return f_(zm(e,a),a);case"slk":case"sylk":return f_(Lg(e,a),a);case"htm":case"html":return f_(Bg(e,a),a);case"txt":return m_(zg(e,a),a);case"csv":return f_(Pg(e,a),a,"\ufeff");case"dif":return f_(Fg(e,a),a);case"dbf":return g_(Vg(e,a),a);case"prn":return f_(Ng(e,a),a);case"rtf":return f_($g(e,a),a);case"eth":return f_(Ug(e,a),a);case"fods":return f_(Mg(e,a),a);case"wk1":return g_(Hg(e,a),a);case"wk3":return g_(So.book_to_wk3(e,a),a);case"biff2":a.biff||(a.biff=2);case"biff3":a.biff||(a.biff=3);case"biff4":return a.biff||(a.biff=4),g_(yg(e,a),a);case"biff5":a.biff||(a.biff=5);case"biff8":case"xla":case"xls":return a.biff||(a.biff=8),p_(e,a);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"ods":return h_(e,a);default:throw new Error("Unrecognized bookType |"+a.bookType+"|")}}function v_(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},a=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();a.match(/^\.[a-z]+$/)&&(e.bookType=a.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function b_(e,t,a){var r=a||{};return r.type="file",r.file=t,v_(r),__(e,r)}function y_(e,t,a,r){var i=a||{};i.type="file",i.file=e,v_(i),i.type="buffer";var n=r;return n instanceof Function||(n=a),q.writeFile(e,__(t,i),n)}function k_(e,t,a,r,i,n,s,o){var l=ha(a),c=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),u=!0,h=1===i?[]:{};if(1!==i)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:a,enumerable:!1})}catch(D_){h.__rowNum__=a}else h.__rowNum__=a;if(!s||e[a])for(var p=t.s.c;p<=t.e.c;++p){var f=s?e[a][p]:e[r[p]+l];if(void 0!==f&&void 0!==f.t){var m=f.v;switch(f.t){case"z":if(null==m)break;continue;case"e":m=0==m?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+f.t)}if(null!=n[p]){if(null==m)if("e"==f.t&&null===m)h[n[p]]=null;else if(void 0!==c)h[n[p]]=c;else{if(!d||null!==m)continue;h[n[p]]=null}else h[n[p]]=d||o.rawNumbers&&"n"==f.t?m:Oa(f,m,o);null!=m&&(u=!1)}}else{if(void 0===c)continue;null!=n[p]&&(h[n[p]]=c)}}return{row:h,isempty:u}}function x_(e,t){if(null==e||null==e["!ref"])return[];var a={t:"n",v:0},r=0,i=1,n=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},d=null!=c.range?c.range:e["!ref"];switch(1===c.header?r=1:"A"===c.header?r=2:Array.isArray(c.header)?r=3:null==c.header&&(r=0),typeof d){case"string":l=Sa(d);break;case"number":l=Sa(e["!ref"]),l.s.r=d;break;default:l=d}r>0&&(i=0);var u=ha(l.s.r),h=[],p=[],f=0,m=0,g=Array.isArray(e),_=l.s.r,v=0,b=0;for(g&&!e[_]&&(e[_]=[]),v=l.s.c;v<=l.e.c;++v)switch(h[v]=ga(v),a=g?e[_][v]:e[h[v]+u],r){case 1:n[v]=v-l.s.c;break;case 2:n[v]=h[v];break;case 3:n[v]=c.header[v-l.s.c];break;default:for(null==a&&(a={w:"__EMPTY",t:"s"}),o=s=Oa(a,null,c),m=0,b=0;b<n.length;++b)n[b]==o&&(o=s+"_"+ ++m);n[v]=o}for(_=l.s.r+i;_<=l.e.r;++_){var y=k_(e,l,_,h,r,n,g,c);(!1===y.isempty||(1===r?!1!==c.blankrows:c.blankrows))&&(p[f++]=y.row)}return p.length=f,p}var w_=/"/g;function S_(e,t,a,r,i,n,s,o){for(var l=!0,c=[],d="",u=ha(a),h=t.s.c;h<=t.e.c;++h)if(r[h]){var p=o.dense?(e[a]||[])[h]:e[r[h]+u];if(null==p)d="";else if(null!=p.v){l=!1,d=""+(o.rawNumbers&&"n"==p.t?p.v:Oa(p,null,o));for(var f=0,m=0;f!==d.length;++f)if((m=d.charCodeAt(f))===i||m===n||34===m||o.forceQuotes){d='"'+d.replace(w_,'""')+'"';break}"ID"==d&&(d='"ID"')}else null==p.f||p.F?d="":(l=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace(w_,'""')+'"'));c.push(d)}return!1===o.blankrows&&l?null:c.join(s)}function C_(e,t){var a=[],r=null==t?{}:t;if(null==e||null==e["!ref"])return"";var i=Sa(e["!ref"]),n=void 0!==r.FS?r.FS:",",s=n.charCodeAt(0),o=void 0!==r.RS?r.RS:"\n",l=o.charCodeAt(0),c=new RegExp(("|"==n?"\\|":n)+"+$"),d="",u=[];r.dense=Array.isArray(e);for(var h=r.skipHidden&&e["!cols"]||[],p=r.skipHidden&&e["!rows"]||[],f=i.s.c;f<=i.e.c;++f)(h[f]||{}).hidden||(u[f]=ga(f));for(var m=i.s.r;m<=i.e.r;++m)(p[m]||{}).hidden||(d=S_(e,i,m,u,s,l,n,r),null!=d&&(r.strip&&(d=d.replace(c,"")),a.push(d+o)));return delete r.dense,a.join("")}function O_(e,t){t||(t={}),t.FS="\t",t.RS="\n";var a=C_(e,t);if("undefined"==typeof cptable||"string"==t.type)return a;var r=cptable.utils.encode(1200,a,"str");return String.fromCharCode(255)+String.fromCharCode(254)+r}function T_(e){var t,a="",r="";if(null==e||null==e["!ref"])return[];var i,n=Sa(e["!ref"]),s="",o=[],l=[],c=Array.isArray(e);for(i=n.s.c;i<=n.e.c;++i)o[i]=ga(i);for(var d=n.s.r;d<=n.e.r;++d)for(s=ha(d),i=n.s.c;i<=n.e.c;++i)if(a=o[i]+s,t=c?(e[d]||[])[i]:e[a],r="",void 0!==t){if(null!=t.F){if(a=t.F,!t.f)continue;r=t.f,-1==a.indexOf(":")&&(a=a+":"+a)}if(null!=t.f)r=t.f;else{if("z"==t.t)continue;if("n"==t.t&&null!=t.v)r=""+t.v;else if("b"==t.t)r=t.v?"TRUE":"FALSE";else if(void 0!==t.w)r="'"+t.w;else{if(void 0===t.v)continue;r="s"==t.t?"'"+t.v:""+t.v}}l[l.length]=a+"="+r}return l}function j_(e,t,a){var r,i=a||{},n=+!i.skipHeader,s=e||{},o=0,l=0;if(s&&null!=i.origin)if("number"==typeof i.origin)o=i.origin;else{var c="string"==typeof i.origin?ya(i.origin):i.origin;o=c.r,l=c.c}var d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+n}};if(s["!ref"]){var u=Sa(s["!ref"]);d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),-1==o&&(o=u.e.r+1,d.e.r=o+t.length-1+n)}else-1==o&&(o=0,d.e.r=t.length-1+n);var h=i.header||[],p=0;t.forEach((function(e,t){J(e).forEach((function(a){-1==(p=h.indexOf(a))&&(h[p=h.length]=a);var c=e[a],d="z",u="",f=ka({c:l+p,r:o+t+n});r=A_.sheet_get_cell(s,f),!c||"object"!==typeof c||c instanceof Date?("number"==typeof c?d="n":"boolean"==typeof c?d="b":"string"==typeof c?d="s":c instanceof Date?(d="d",i.cellDates||(d="n",c=ie(c)),u=i.dateNF||F._table[14]):null===c&&i.nullError&&(d="e",c=0),r?(r.t=d,r.v=c,delete r.w,delete r.R,u&&(r.z=u)):s[f]=r={t:d,v:c},u&&(r.z=u)):s[f]=c}))})),d.e.c=Math.max(d.e.c,l+h.length-1);var f=ha(o);if(n)for(p=0;p<h.length;++p)s[ga(p+l)+f]={t:"s",v:h[p]};return s["!ref"]=wa(d),s}function I_(e,t){return j_(null,e,t)}var A_={encode_col:ga,encode_row:ha,encode_cell:ka,encode_range:wa,decode_col:ma,decode_row:ua,split_cell:ba,decode_cell:ya,decode_range:xa,format_cell:Oa,get_formulae:T_,make_csv:C_,make_json:x_,make_formulae:T_,sheet_add_aoa:ja,sheet_add_json:j_,sheet_add_dom:xg,aoa_to_sheet:Ia,json_to_sheet:I_,table_to_sheet:wg,table_to_book:Sg,sheet_to_csv:C_,sheet_to_txt:O_,sheet_to_json:x_,sheet_to_html:kg.from_sheet,sheet_to_formulae:T_,sheet_to_row_object_array:x_};(function(e){function t(t){t.forEach((function(t){e.consts[t[0]]=t[1]}))}function a(e,t,a){return null!=e[t]?e[t]:e[t]=a}function r(e,t,a){if("string"==typeof t){if(Array.isArray(e)){var i=ya(t);return e[i.r]||(e[i.r]=[]),e[i.r][i.c]||(e[i.r][i.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return r(e,ka("number"!=typeof t?t:{r:t,c:a||0}))}function i(e,t){if("number"==typeof t){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}if("string"==typeof t){var a=e.SheetNames.indexOf(t);if(a>-1)return a;throw new Error("Cannot find sheet name |"+t+"|")}throw new Error("Cannot find sheet |"+t+"|")}e.consts=e.consts||{},e.sheet_get_cell=r,e.book_new=function(){return{SheetNames:[],Sheets:{}}},e.book_append_sheet=function(e,t,a){if(!a)for(var r=1;r<=65535;++r,a=void 0)if(-1==e.SheetNames.indexOf(a="Sheet"+r))break;if(!a||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(Rf(a),e.SheetNames.indexOf(a)>=0)throw new Error("Worksheet with name |"+a+"| already exists!");e.SheetNames.push(a),e.Sheets[a]=t},e.book_set_sheet_visibility=function(e,t,r){a(e,"Workbook",{}),a(e.Workbook,"Sheets",[]);var n=i(e,t);switch(a(e.Workbook.Sheets,n,{}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r},t([["SHEET_VISIBLE",0],["SHEET_HIDDEN",1],["SHEET_VERY_HIDDEN",2]]),e.cell_set_number_format=function(e,t){return e.z=t,e},e.cell_set_hyperlink=function(e,t,a){return t?(e.l={Target:t},a&&(e.l.Tooltip=a)):delete e.l,e},e.cell_set_internal_link=function(t,a,r){return e.cell_set_hyperlink(t,"#"+a,r)},e.cell_add_comment=function(e,t,a){e.c||(e.c=[]),e.c.push({t:t,a:a||"SheetJS"})},e.sheet_set_array_formula=function(e,t,a){for(var i="string"!=typeof t?t:Sa(t),n="string"==typeof t?t:wa(t),s=i.s.r;s<=i.e.r;++s)for(var o=i.s.c;o<=i.e.c;++o){var l=r(e,s,o);l.t="n",l.F=n,delete l.v,s==i.s.r&&o==i.s.c&&(l.f=a)}return e}})(A_),C&&function(){var e=a(10);if(e){var r=e.Readable;if(r){var i=function(e,t){var a=r(),i=null==t?{}:t;if(null==e||null==e["!ref"])return a.push(null),a;var n=Sa(e["!ref"]),s=void 0!==i.FS?i.FS:",",o=s.charCodeAt(0),l=void 0!==i.RS?i.RS:"\n",c=l.charCodeAt(0),d=new RegExp(("|"==s?"\\|":s)+"+$"),u="",h=[];i.dense=Array.isArray(e);for(var p=i.skipHidden&&e["!cols"]||[],f=i.skipHidden&&e["!rows"]||[],m=n.s.c;m<=n.e.c;++m)(p[m]||{}).hidden||(h[m]=ga(m));var g=n.s.r,_=!1;return a._read=function(){if(!_)return _=!0,a.push("\ufeff");while(g<=n.e.r)if(++g,!(f[g-1]||{}).hidden&&(u=S_(e,n,g-1,h,o,c,s,i),null!=u)){i.strip&&(u=u.replace(d,"")),a.push(u+l);break}return g>n.e.r?a.push(null):void 0},a},n=function(e,t){var a=r(),i=t||{},n=null!=i.header?i.header:kg.BEGIN,s=null!=i.footer?i.footer:kg.END;a.push(n);var o=xa(e["!ref"]);i.dense=Array.isArray(e),a.push(kg._preamble(e,o,i));var l=o.s.r,c=!1;return a._read=function(){if(l>o.e.r)return c||(c=!0,a.push("</table>"+s)),a.push(null);while(l<=o.e.r){a.push(kg._row(e,o,l,i)),++l;break}},a},s=function(e,t){var a=r({objectMode:!0});if(null==e||null==e["!ref"])return a.push(null),a;var i={t:"n",v:0},n=0,s=1,o=[],l=0,c="",d={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},h=null!=u.range?u.range:e["!ref"];switch(1===u.header?n=1:"A"===u.header?n=2:Array.isArray(u.header)&&(n=3),typeof h){case"string":d=Sa(h);break;case"number":d=Sa(e["!ref"]),d.s.r=h;break;default:d=h}n>0&&(s=0);var p=ha(d.s.r),f=[],m=0,g=Array.isArray(e),_=d.s.r,v=0,b=0;for(g&&!e[_]&&(e[_]=[]),v=d.s.c;v<=d.e.c;++v)switch(f[v]=ga(v),i=g?e[_][v]:e[f[v]+p],n){case 1:o[v]=v-d.s.c;break;case 2:o[v]=f[v];break;case 3:o[v]=u.header[v-d.s.c];break;default:for(null==i&&(i={w:"__EMPTY",t:"s"}),c=l=Oa(i,null,u),m=0,b=0;b<o.length;++b)o[b]==c&&(c=l+"_"+ ++m);o[v]=c}return _=d.s.r+s,a._read=function(){if(_>d.e.r)return a.push(null);while(_<=d.e.r){var t=k_(e,d,_,f,n,o,g,u);if(++_,!1===t.isempty||(1===n?!1!==u.blankrows:u.blankrows)){a.push(t.row);break}}},a};t.stream={to_json:s,to_html:n,to_csv:i}}}}(),"undefined"!==typeof Km&&(t.parse_xlscfb=Km),t.parse_zip=Jg,t.read=c_,t.readFile=d_,t.readFileSync=d_,t.write=__,t.writeFile=b_,t.writeFileSync=b_,t.writeFileAsync=y_,t.utils=A_,t.SSF=F,"undefined"!==typeof X&&(t.CFB=X)}if(l(t),"undefined"!==typeof window&&!window.XLSX)try{window.XLSX=o}catch(c){}}).call(this,a("7d15"),a("1a62").Buffer,a("07d9"),a("1adc"))}}]);