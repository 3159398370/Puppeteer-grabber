import{h as ct,d as It,u as Mt,i as Rt,j as Ot,k as St,l as At,r as _t,o as tt,c as et,m as ft,f as H,t as Lt,a as Dt,w as Pt,n as xt,p as Ut,b as Nt,q as it,M as Z,s as Tt,e as jt,C as yt}from"./index.442f1cf4.js";import{u as kt}from"./index.es.fe64ca59.js";import{_ as Vt}from"./plugin-vue_export-helper.21dcd24c.js";var qt="data:image/png;base64,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",zt={isDomain(t,o){return t.some(e=>e===o)},isSubDomain(t,o){return t.some(e=>!!(typeof e=="string"&&e.trim()!==""&&(e===o||o.endsWith(`.${e}`))))},isSubDomainRegex(t,o){return t.some(e=>RegExp(e).test(o))},checkHostname(t){return/^(?=^.{3,255}$)[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+$/.test(t)}},$={},lt={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(t,o){(function(e){var h=o&&!o.nodeType&&o,a=t&&!t.nodeType&&t,p=typeof ct=="object"&&ct;(p.global===p||p.window===p||p.self===p)&&(e=p);var c,s=2147483647,d=36,m=1,v=26,M=38,g=700,u=72,w=128,l="-",A=/^xn--/,F=/[^\x20-\x7E]/,n=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},R=d-m,C=Math.floor,B=String.fromCharCode,z;function O(r){throw RangeError(x[r])}function L(r,i){for(var f=r.length,y=[];f--;)y[f]=i(r[f]);return y}function V(r,i){var f=r.split("@"),y="";f.length>1&&(y=f[0]+"@",r=f[1]),r=r.replace(n,".");var b=r.split("."),_=L(b,i).join(".");return y+_}function Y(r){for(var i=[],f=0,y=r.length,b,_;f<y;)b=r.charCodeAt(f++),b>=55296&&b<=56319&&f<y?(_=r.charCodeAt(f++),(_&64512)==56320?i.push(((b&1023)<<10)+(_&1023)+65536):(i.push(b),f--)):i.push(b);return i}function nt(r){return L(r,function(i){var f="";return i>65535&&(i-=65536,f+=B(i>>>10&1023|55296),i=56320|i&1023),f+=B(i),f}).join("")}function G(r){return r-48<10?r-22:r-65<26?r-65:r-97<26?r-97:d}function K(r,i){return r+22+75*(r<26)-((i!=0)<<5)}function X(r,i,f){var y=0;for(r=f?C(r/g):r>>1,r+=C(r/i);r>R*v>>1;y+=d)r=C(r/R);return C(y+(R+1)*r/(r+M))}function W(r){var i=[],f=r.length,y,b=0,_=w,I=u,D,N,j,q,S,P,T,E,J;for(D=r.lastIndexOf(l),D<0&&(D=0),N=0;N<D;++N)r.charCodeAt(N)>=128&&O("not-basic"),i.push(r.charCodeAt(N));for(j=D>0?D+1:0;j<f;){for(q=b,S=1,P=d;j>=f&&O("invalid-input"),T=G(r.charCodeAt(j++)),(T>=d||T>C((s-b)/S))&&O("overflow"),b+=T*S,E=P<=I?m:P>=I+v?v:P-I,!(T<E);P+=d)J=d-E,S>C(s/J)&&O("overflow"),S*=J;y=i.length+1,I=X(b-q,y,q==0),C(b/y)>s-_&&O("overflow"),_+=C(b/y),b%=y,i.splice(b++,0,_)}return nt(i)}function at(r){var i,f,y,b,_,I,D,N,j,q,S,P=[],T,E,J,ut;for(r=Y(r),T=r.length,i=w,f=0,_=u,I=0;I<T;++I)S=r[I],S<128&&P.push(B(S));for(y=b=P.length,b&&P.push(l);y<T;){for(D=s,I=0;I<T;++I)S=r[I],S>=i&&S<D&&(D=S);for(E=y+1,D-i>C((s-f)/E)&&O("overflow"),f+=(D-i)*E,i=D,I=0;I<T;++I)if(S=r[I],S<i&&++f>s&&O("overflow"),S==i){for(N=f,j=d;q=j<=_?m:j>=_+v?v:j-_,!(N<q);j+=d)ut=N-q,J=d-q,P.push(B(K(q+ut%J,0))),N=C(ut/J);P.push(B(K(N,0))),_=X(f,E,y==b),f=0,++y}++f,++i}return P.join("")}function Ft(r){return V(r,function(i){return A.test(i)?W(i.slice(4).toLowerCase()):i})}function Bt(r){return V(r,function(i){return F.test(i)?"xn--"+at(i):i})}if(c={version:"1.3.2",ucs2:{decode:Y,encode:nt},decode:W,encode:at,toASCII:Bt,toUnicode:Ft},h&&a)if(t.exports==h)a.exports=c;else for(z in c)c.hasOwnProperty(z)&&(h[z]=c[z]);else e.punycode=c})(ct)})(lt,lt.exports);var Et={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},ot={};function Zt(t,o){return Object.prototype.hasOwnProperty.call(t,o)}var Gt=function(t,o,e,h){o=o||"&",e=e||"=";var a={};if(typeof t!="string"||t.length===0)return a;var p=/\+/g;t=t.split(o);var c=1e3;h&&typeof h.maxKeys=="number"&&(c=h.maxKeys);var s=t.length;c>0&&s>c&&(s=c);for(var d=0;d<s;++d){var m=t[d].replace(p,"%20"),v=m.indexOf(e),M,g,u,w;v>=0?(M=m.substr(0,v),g=m.substr(v+1)):(M=m,g=""),u=decodeURIComponent(M),w=decodeURIComponent(g),Zt(a,u)?Array.isArray(a[u])?a[u].push(w):a[u]=[a[u],w]:a[u]=w}return a},st=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},Wt=function(t,o,e,h){return o=o||"&",e=e||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(a){var p=encodeURIComponent(st(a))+e;return Array.isArray(t[a])?t[a].map(function(c){return p+encodeURIComponent(st(c))}).join(o):p+encodeURIComponent(st(t[a]))}).join(o):h?encodeURIComponent(st(h))+e+encodeURIComponent(st(t)):""};ot.decode=ot.parse=Gt;ot.encode=ot.stringify=Wt;var Jt=lt.exports,k=Et;$.parse=rt;$.resolve=oe;$.resolveObject=re;$.format=se;$.Url=U;function U(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Yt=/^([a-z0-9.+-]+:)/i,Kt=/:[0-9]*$/,Xt=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Ht=["<",">",'"',"`"," ","\r",`
`,"	"],Qt=["{","}","|","\\","^","`"].concat(Ht),pt=["'"].concat(Qt),vt=["%","/","?",";","#"].concat(pt),Ct=["/","?","#"],$t=255,bt=/^[+a-z0-9A-Z_-]{0,63}$/,te=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ee={javascript:!0,"javascript:":!0},mt={javascript:!0,"javascript:":!0},Q={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},dt=ot;function rt(t,o,e){if(t&&k.isObject(t)&&t instanceof U)return t;var h=new U;return h.parse(t,o,e),h}U.prototype.parse=function(t,o,e){if(!k.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var h=t.indexOf("?"),a=h!==-1&&h<t.indexOf("#")?"?":"#",p=t.split(a),c=/\\/g;p[0]=p[0].replace(c,"/"),t=p.join(a);var s=t;if(s=s.trim(),!e&&t.split("#").length===1){var d=Xt.exec(s);if(d)return this.path=s,this.href=s,this.pathname=d[1],d[2]?(this.search=d[2],o?this.query=dt.parse(this.search.substr(1)):this.query=this.search.substr(1)):o&&(this.search="",this.query={}),this}var m=Yt.exec(s);if(m){m=m[0];var v=m.toLowerCase();this.protocol=v,s=s.substr(m.length)}if(e||m||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var M=s.substr(0,2)==="//";M&&!(m&&mt[m])&&(s=s.substr(2),this.slashes=!0)}if(!mt[m]&&(M||m&&!Q[m])){for(var g=-1,u=0;u<Ct.length;u++){var w=s.indexOf(Ct[u]);w!==-1&&(g===-1||w<g)&&(g=w)}var l,A;g===-1?A=s.lastIndexOf("@"):A=s.lastIndexOf("@",g),A!==-1&&(l=s.slice(0,A),s=s.slice(A+1),this.auth=decodeURIComponent(l)),g=-1;for(var u=0;u<vt.length;u++){var w=s.indexOf(vt[u]);w!==-1&&(g===-1||w<g)&&(g=w)}g===-1&&(g=s.length),this.host=s.slice(0,g),s=s.slice(g),this.parseHost(),this.hostname=this.hostname||"";var F=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!F)for(var n=this.hostname.split(/\./),u=0,x=n.length;u<x;u++){var R=n[u];if(!!R&&!R.match(bt)){for(var C="",B=0,z=R.length;B<z;B++)R.charCodeAt(B)>127?C+="x":C+=R[B];if(!C.match(bt)){var O=n.slice(0,u),L=n.slice(u+1),V=R.match(te);V&&(O.push(V[1]),L.unshift(V[2])),L.length&&(s="/"+L.join(".")+s),this.hostname=O.join(".");break}}}this.hostname.length>$t?this.hostname="":this.hostname=this.hostname.toLowerCase(),F||(this.hostname=Jt.toASCII(this.hostname));var Y=this.port?":"+this.port:"",nt=this.hostname||"";this.host=nt+Y,this.href+=this.host,F&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!ee[v])for(var u=0,x=pt.length;u<x;u++){var G=pt[u];if(s.indexOf(G)!==-1){var K=encodeURIComponent(G);K===G&&(K=escape(G)),s=s.split(G).join(K)}}var X=s.indexOf("#");X!==-1&&(this.hash=s.substr(X),s=s.slice(0,X));var W=s.indexOf("?");if(W!==-1?(this.search=s.substr(W),this.query=s.substr(W+1),o&&(this.query=dt.parse(this.query)),s=s.slice(0,W)):o&&(this.search="",this.query={}),s&&(this.pathname=s),Q[v]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Y=this.pathname||"",at=this.search||"";this.path=Y+at}return this.href=this.format(),this};function se(t){return k.isString(t)&&(t=rt(t)),t instanceof U?t.format():U.prototype.format.call(t)}U.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var o=this.protocol||"",e=this.pathname||"",h=this.hash||"",a=!1,p="";this.host?a=t+this.host:this.hostname&&(a=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&k.isObject(this.query)&&Object.keys(this.query).length&&(p=dt.stringify(this.query));var c=this.search||p&&"?"+p||"";return o&&o.substr(-1)!==":"&&(o+=":"),this.slashes||(!o||Q[o])&&a!==!1?(a="//"+(a||""),e&&e.charAt(0)!=="/"&&(e="/"+e)):a||(a=""),h&&h.charAt(0)!=="#"&&(h="#"+h),c&&c.charAt(0)!=="?"&&(c="?"+c),e=e.replace(/[?#]/g,function(s){return encodeURIComponent(s)}),c=c.replace("#","%23"),o+a+e+c+h};function oe(t,o){return rt(t,!1,!0).resolve(o)}U.prototype.resolve=function(t){return this.resolveObject(rt(t,!1,!0)).format()};function re(t,o){return t?rt(t,!1,!0).resolveObject(o):o}U.prototype.resolveObject=function(t){if(k.isString(t)){var o=new U;o.parse(t,!1,!0),t=o}for(var e=new U,h=Object.keys(this),a=0;a<h.length;a++){var p=h[a];e[p]=this[p]}if(e.hash=t.hash,t.href==="")return e.href=e.format(),e;if(t.slashes&&!t.protocol){for(var c=Object.keys(t),s=0;s<c.length;s++){var d=c[s];d!=="protocol"&&(e[d]=t[d])}return Q[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(t.protocol&&t.protocol!==e.protocol){if(!Q[t.protocol]){for(var m=Object.keys(t),v=0;v<m.length;v++){var M=m[v];e[M]=t[M]}return e.href=e.format(),e}if(e.protocol=t.protocol,!t.host&&!mt[t.protocol]){for(var x=(t.pathname||"").split("/");x.length&&!(t.host=x.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),x[0]!==""&&x.unshift(""),x.length<2&&x.unshift(""),e.pathname=x.join("/")}else e.pathname=t.pathname;if(e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,e.pathname||e.search){var g=e.pathname||"",u=e.search||"";e.path=g+u}return e.slashes=e.slashes||t.slashes,e.href=e.format(),e}var w=e.pathname&&e.pathname.charAt(0)==="/",l=t.host||t.pathname&&t.pathname.charAt(0)==="/",A=l||w||e.host&&t.pathname,F=A,n=e.pathname&&e.pathname.split("/")||[],x=t.pathname&&t.pathname.split("/")||[],R=e.protocol&&!Q[e.protocol];if(R&&(e.hostname="",e.port=null,e.host&&(n[0]===""?n[0]=e.host:n.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(x[0]===""?x[0]=t.host:x.unshift(t.host)),t.host=null),A=A&&(x[0]===""||n[0]==="")),l)e.host=t.host||t.host===""?t.host:e.host,e.hostname=t.hostname||t.hostname===""?t.hostname:e.hostname,e.search=t.search,e.query=t.query,n=x;else if(x.length)n||(n=[]),n.pop(),n=n.concat(x),e.search=t.search,e.query=t.query;else if(!k.isNullOrUndefined(t.search)){if(R){e.hostname=e.host=n.shift();var C=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;C&&(e.auth=C.shift(),e.host=e.hostname=C.shift())}return e.search=t.search,e.query=t.query,(!k.isNull(e.pathname)||!k.isNull(e.search))&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e}if(!n.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var B=n.slice(-1)[0],z=(e.host||t.host||n.length>1)&&(B==="."||B==="..")||B==="",O=0,L=n.length;L>=0;L--)B=n[L],B==="."?n.splice(L,1):B===".."?(n.splice(L,1),O++):O&&(n.splice(L,1),O--);if(!A&&!F)for(;O--;O)n.unshift("..");A&&n[0]!==""&&(!n[0]||n[0].charAt(0)!=="/")&&n.unshift(""),z&&n.join("/").substr(-1)!=="/"&&n.push("");var V=n[0]===""||n[0]&&n[0].charAt(0)==="/";if(R){e.hostname=e.host=V?"":n.length?n.shift():"";var C=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;C&&(e.auth=C.shift(),e.host=e.hostname=C.shift())}return A=A||e.host&&n.length,A&&!V&&n.unshift(""),n.length?e.pathname=n.join("/"):(e.pathname=null,e.path=null),(!k.isNull(e.pathname)||!k.isNull(e.search))&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e};U.prototype.parseHost=function(){var t=this.host,o=Kt.exec(t);o&&(o=o[0],o!==":"&&(this.port=o.substr(1)),t=t.substr(0,t.length-o.length)),t&&(this.hostname=t)};const ht=zt,ne=$,ae=["equal","subhost","regex"],ie={equal:ht.isDomain,regex:ht.isSubDomainRegex,subhost:ht.isSubDomain};var he=(t,o={})=>{try{const{schemes:e,rules:h,mode:a}=o;let p=["http","https"],c=[],s="subhost";if(Array.isArray(e)&&(p=[...e]),Array.isArray(h)&&(c=[...h]),ae.includes(a)&&(s=a),t.startsWith("/"))return!0;const d=new URL(t),{hostname:m}=d,v=ne.parse(t);if(m!==v.hostname||!ht.checkHostname(m)||(p=p.map(g=>`${g}:`),!p.includes(d.protocol)))return!1;const M=ie[s];if(M)return M(c,m)}catch(e){console.error("checkUrl catch error",e.toString())}return!1},wt=he;const gt=t=>(Ut("data-v-4a0a3866"),t=t(),Nt(),t),ue={class:"entry-content-box"},ce={key:0,class:"login-container"},fe=gt(()=>H("div",{class:"title"},[H("img",{src:qt}),H("span",null,"iOA\u767B\u5F55")],-1)),le={class:"staff-name"},pe=["src"],me={key:1,class:"avatar-skeleton avatar"},de=jt("iOA\u5FEB\u901F\u767B\u5F55"),ge={key:1,class:"login-container"},Ae=gt(()=>H("div",{class:"title",style:{"margin-bottom":"20px"}},"\u5FAE\u4FE1\u767B\u5F55",-1)),xe=gt(()=>H("div",{id:"login_container"},null,-1)),ye=[Ae,xe],ve=It({__name:"login",setup(t){const o=Mt(),e=Rt(),h=Ot(),a=St({avatarUrl:"",staffName:""});console.log("\u91CD\u5B9A\u5411\u5730\u5740\u6821\u9A8C\u7ED3\u679C",h.query.redirect,wt(decodeURIComponent(h.query.redirect||"/personal-center/my-company"))),(async()=>{await it({method:"get",url:"passport/rio-info"}).then(l=>{l.data.result&&l.data.result.staffname!==null&&(a.avatarUrl=`https://rhrc.woa.com/photo/150/${l.data.result.staffname}.png`,a.staffName=l.data.result.staffname)}).catch(l=>{Z.error("\u5185\u90E8\u9519\u8BEF\uFF0C\u8BF7\u5237\u65B0"),console.log(l)})})();const c=()=>it({method:"get",url:"passport/rio-login"}),{loading:s,run:d}=kt(c,{onSuccess:l=>{l.data.result&&v(),l.data.error&&Z.error(`\u767B\u5F55\u5931\u8D25\uFF1A${l.data.error.message}`)},onError:l=>{Z.error(`\u767B\u5F55\u5931\u8D25\uFF1A${l.message}`)},manual:!0}),m=()=>{d()},v=async()=>{await it({method:"get",url:"passport/profile"}).then(l=>{var x;const A=l.data.result;o.commit("setUserInfo",A);const F=decodeURIComponent(h.query.redirect||"/personal-center/my-company"),n=wt(F);console.log("\u91CD\u5B9A\u5411\u5730\u5740\u6821\u9A8C\u7ED3\u679C",n),n?(Z.success("\u767B\u5F55\u6210\u529F"),(x=A.user)!=null&&x.user_id?window.location.replace(`${window.location.origin}${F}`):e.push({path:F}).catch(R=>{console.log(R)})):Z.error("\u767B\u5F55\u5931\u8D25\uFF1A\u91CD\u5B9A\u5411\u5730\u5740\u6821\u9A8C\u5931\u8D25")}).catch(l=>{Z.error("\u5185\u90E8\u9519\u8BEF\uFF0C\u8BF7\u5237\u65B0"),console.log(l)})},M=()=>{const{wx_app_id:l}=o.getters.config,A=`${window.location.origin}/v2/wx-callback`;Tt(()=>{new WxLogin({self_redirect:!0,id:"login_container",appid:l,scope:"snsapi_login",redirect_uri:encodeURIComponent(A),state:Math.ceil(Math.random()*1e3),style:"black",href:"data:text/css;base64,LmltcG93ZXJCb3ggLnFyY29kZSB7d2lkdGg6IDIwMHB4O30NCi5pbXBvd2VyQm94IC50aXRsZSB7ZGlzcGxheTogbm9uZTt9DQouaW1wb3dlckJveCAuaW5mbyB7d2lkdGg6IDIwMHB4O30NCi5zdGF0dXNfaWNvbiB7ZGlzcGxheTpub25lfQ0KLmltcG93ZXJCb3ggLnN0YXR1cyB7dGV4dC1hbGlnbjogY2VudGVyO30="})})},g=({code:l,state:A})=>{it({method:"get",url:"passport/wx-login",params:{code:l,state:A}}).then(F=>{F.data.result&&v(),F.data.error&&Z.error(`\u767B\u5F55\u5931\u8D25\uFF1A${F.data.error.message}`)}).catch(F=>{Z.error("\u767B\u5F55\u5931\u8D25"),console.log(F)})},u=At(()=>yt.PASSPORT_WX_ENABLED);u.value&&(window.login=g,M());const w=At(()=>yt.PASSPORT_OA_ENABLED);return(l,A)=>{const F=_t("t-button");return tt(),et("div",ue,[ft(w)?(tt(),et("div",ce,[fe,H("p",le,"\u68C0\u6D4B\u5230\u5F53\u524D\u5DF2\u767B\u5F55\u8D26\u53F7 "+Lt(a.staffName),1),a.avatarUrl?(tt(),et("img",{key:0,class:"avatar",src:a.avatarUrl},null,8,pe)):(tt(),et("div",me)),Dt(F,{onClick:m,theme:"primary",block:"",loading:ft(s)},{default:Pt(()=>[de]),_:1},8,["loading"])])):xt("",!0),ft(u)?(tt(),et("div",ge,ye)):xt("",!0)])}}});var Fe=Vt(ve,[["__scopeId","data-v-4a0a3866"]]);export{Fe as default};
